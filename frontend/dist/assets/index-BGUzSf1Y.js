(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Qq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Y2={exports:{}},x1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function QC(){if(_b)return x1;_b=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:a}}return x1.Fragment=e,x1.jsx=t,x1.jsxs=t,x1}var bb;function ZC(){return bb||(bb=1,Y2.exports=QC()),Y2.exports}var w=ZC(),K2={exports:{}},an={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function JC(){if(wb)return an;wb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=p&&Y[p]||Y["@@iterator"],typeof Y=="function"?Y:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function I(Y,me,G){this.props=Y,this.context=me,this.refs=b,this.updater=G||m}I.prototype.isReactComponent={},I.prototype.setState=function(Y,me){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,me,"setState")},I.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function C(){}C.prototype=I.prototype;function P(Y,me,G){this.props=Y,this.context=me,this.refs=b,this.updater=G||m}var j=P.prototype=new C;j.constructor=P,x(j,I.prototype),j.isPureReactComponent=!0;var z=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function D(Y,me,G,Z,ne,oe){return G=oe.ref,{$$typeof:n,type:Y,key:me,ref:G!==void 0?G:null,props:oe}}function E(Y,me){return D(Y.type,me,void 0,void 0,void 0,Y.props)}function T(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function M(Y){var me={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(G){return me[G]})}var R=/\/+/g;function L(Y,me){return typeof Y=="object"&&Y!==null&&Y.key!=null?M(""+Y.key):me.toString(36)}function B(){}function q(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(B,B):(Y.status="pending",Y.then(function(me){Y.status==="pending"&&(Y.status="fulfilled",Y.value=me)},function(me){Y.status==="pending"&&(Y.status="rejected",Y.reason=me)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function te(Y,me,G,Z,ne){var oe=typeof Y;(oe==="undefined"||oe==="boolean")&&(Y=null);var ge=!1;if(Y===null)ge=!0;else switch(oe){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(Y.$$typeof){case n:case e:ge=!0;break;case h:return ge=Y._init,te(ge(Y._payload),me,G,Z,ne)}}if(ge)return ne=ne(Y),ge=Z===""?"."+L(Y,0):Z,z(ne)?(G="",ge!=null&&(G=ge.replace(R,"$&/")+"/"),te(ne,me,G,"",function(Ie){return Ie})):ne!=null&&(T(ne)&&(ne=E(ne,G+(ne.key==null||Y&&Y.key===ne.key?"":(""+ne.key).replace(R,"$&/")+"/")+ge)),me.push(ne)),1;ge=0;var Ee=Z===""?".":Z+":";if(z(Y))for(var we=0;we<Y.length;we++)Z=Y[we],oe=Ee+L(Z,we),ge+=te(Z,me,G,oe,ne);else if(we=g(Y),typeof we=="function")for(Y=we.call(Y),we=0;!(Z=Y.next()).done;)Z=Z.value,oe=Ee+L(Z,we++),ge+=te(Z,me,G,oe,ne);else if(oe==="object"){if(typeof Y.then=="function")return te(q(Y),me,G,Z,ne);throw me=String(Y),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return ge}function V(Y,me,G){if(Y==null)return Y;var Z=[],ne=0;return te(Y,Z,"","",function(oe){return me.call(G,oe,ne++)}),Z}function U(Y){if(Y._status===-1){var me=Y._result;me=me(),me.then(function(G){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=G)},function(G){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=G)}),Y._status===-1&&(Y._status=0,Y._result=me)}if(Y._status===1)return Y._result.default;throw Y._result}var Q=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function ae(){}return an.Children={map:V,forEach:function(Y,me,G){V(Y,function(){me.apply(this,arguments)},G)},count:function(Y){var me=0;return V(Y,function(){me++}),me},toArray:function(Y){return V(Y,function(me){return me})||[]},only:function(Y){if(!T(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},an.Component=I,an.Fragment=t,an.Profiler=i,an.PureComponent=P,an.StrictMode=r,an.Suspense=u,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,an.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return X.H.useMemoCache(Y)}},an.cache=function(Y){return function(){return Y.apply(null,arguments)}},an.cloneElement=function(Y,me,G){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Z=x({},Y.props),ne=Y.key,oe=void 0;if(me!=null)for(ge in me.ref!==void 0&&(oe=void 0),me.key!==void 0&&(ne=""+me.key),me)!H.call(me,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&me.ref===void 0||(Z[ge]=me[ge]);var ge=arguments.length-2;if(ge===1)Z.children=G;else if(1<ge){for(var Ee=Array(ge),we=0;we<ge;we++)Ee[we]=arguments[we+2];Z.children=Ee}return D(Y.type,ne,void 0,void 0,oe,Z)},an.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},an.createElement=function(Y,me,G){var Z,ne={},oe=null;if(me!=null)for(Z in me.key!==void 0&&(oe=""+me.key),me)H.call(me,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ne[Z]=me[Z]);var ge=arguments.length-2;if(ge===1)ne.children=G;else if(1<ge){for(var Ee=Array(ge),we=0;we<ge;we++)Ee[we]=arguments[we+2];ne.children=Ee}if(Y&&Y.defaultProps)for(Z in ge=Y.defaultProps,ge)ne[Z]===void 0&&(ne[Z]=ge[Z]);return D(Y,oe,void 0,void 0,null,ne)},an.createRef=function(){return{current:null}},an.forwardRef=function(Y){return{$$typeof:s,render:Y}},an.isValidElement=T,an.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:U}},an.memo=function(Y,me){return{$$typeof:f,type:Y,compare:me===void 0?null:me}},an.startTransition=function(Y){var me=X.T,G={};X.T=G;try{var Z=Y(),ne=X.S;ne!==null&&ne(G,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ae,Q)}catch(oe){Q(oe)}finally{X.T=me}},an.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},an.use=function(Y){return X.H.use(Y)},an.useActionState=function(Y,me,G){return X.H.useActionState(Y,me,G)},an.useCallback=function(Y,me){return X.H.useCallback(Y,me)},an.useContext=function(Y){return X.H.useContext(Y)},an.useDebugValue=function(){},an.useDeferredValue=function(Y,me){return X.H.useDeferredValue(Y,me)},an.useEffect=function(Y,me,G){var Z=X.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(Y,me)},an.useId=function(){return X.H.useId()},an.useImperativeHandle=function(Y,me,G){return X.H.useImperativeHandle(Y,me,G)},an.useInsertionEffect=function(Y,me){return X.H.useInsertionEffect(Y,me)},an.useLayoutEffect=function(Y,me){return X.H.useLayoutEffect(Y,me)},an.useMemo=function(Y,me){return X.H.useMemo(Y,me)},an.useOptimistic=function(Y,me){return X.H.useOptimistic(Y,me)},an.useReducer=function(Y,me,G){return X.H.useReducer(Y,me,G)},an.useRef=function(Y){return X.H.useRef(Y)},an.useState=function(Y){return X.H.useState(Y)},an.useSyncExternalStore=function(Y,me,G){return X.H.useSyncExternalStore(Y,me,G)},an.useTransition=function(){return X.H.useTransition()},an.version="19.1.0",an}var Ab;function Kg(){return Ab||(Ab=1,K2.exports=JC()),K2.exports}var pe=Kg();const kn=K4(pe);var Q2={exports:{}},_1={},Z2={exports:{}},J2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function eI(){return Eb||(Eb=1,function(n){function e(V,U){var Q=V.length;V.push(U);e:for(;0<Q;){var ae=Q-1>>>1,Y=V[ae];if(0<i(Y,U))V[ae]=U,V[Q]=Y,Q=ae;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],Q=V.pop();if(Q!==U){V[0]=Q;e:for(var ae=0,Y=V.length,me=Y>>>1;ae<me;){var G=2*(ae+1)-1,Z=V[G],ne=G+1,oe=V[ne];if(0>i(Z,Q))ne<Y&&0>i(oe,Z)?(V[ae]=oe,V[ne]=Q,ae=ne):(V[ae]=Z,V[G]=Q,ae=G);else if(ne<Y&&0>i(oe,Q))V[ae]=oe,V[ne]=Q,ae=ne;else break e}}return U}function i(V,U){var Q=V.sortIndex-U.sortIndex;return Q!==0?Q:V.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var u=[],f=[],h=1,p=null,g=3,m=!1,x=!1,b=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function z(V){for(var U=t(f);U!==null;){if(U.callback===null)r(f);else if(U.startTime<=V)r(f),U.sortIndex=U.expirationTime,e(u,U);else break;U=t(f)}}function X(V){if(b=!1,z(V),!x)if(t(u)!==null)x=!0,H||(H=!0,L());else{var U=t(f);U!==null&&te(X,U.startTime-V)}}var H=!1,D=-1,E=5,T=-1;function M(){return I?!0:!(n.unstable_now()-T<E)}function R(){if(I=!1,H){var V=n.unstable_now();T=V;var U=!0;try{e:{x=!1,b&&(b=!1,P(D),D=-1),m=!0;var Q=g;try{t:{for(z(V),p=t(u);p!==null&&!(p.expirationTime>V&&M());){var ae=p.callback;if(typeof ae=="function"){p.callback=null,g=p.priorityLevel;var Y=ae(p.expirationTime<=V);if(V=n.unstable_now(),typeof Y=="function"){p.callback=Y,z(V),U=!0;break t}p===t(u)&&r(u),z(V)}else r(u);p=t(u)}if(p!==null)U=!0;else{var me=t(f);me!==null&&te(X,me.startTime-V),U=!1}}break e}finally{p=null,g=Q,m=!1}U=void 0}}finally{U?L():H=!1}}}var L;if(typeof j=="function")L=function(){j(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=R,L=function(){q.postMessage(null)}}else L=function(){C(R,0)};function te(V,U){D=C(function(){V(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(V){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var Q=g;g=U;try{return V()}finally{g=Q}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=g;g=V;try{return U()}finally{g=Q}},n.unstable_scheduleCallback=function(V,U,Q){var ae=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ae+Q:ae):Q=ae,V){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,V={id:h++,callback:U,priorityLevel:V,startTime:Q,expirationTime:Y,sortIndex:-1},Q>ae?(V.sortIndex=Q,e(f,V),t(u)===null&&V===t(f)&&(b?(P(D),D=-1):b=!0,te(X,Q-ae))):(V.sortIndex=Y,e(u,V),x||m||(x=!0,H||(H=!0,L()))),V},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(V){var U=g;return function(){var Q=g;g=U;try{return V.apply(this,arguments)}finally{g=Q}}}}(J2)),J2}var Sb;function tI(){return Sb||(Sb=1,Z2.exports=eI()),Z2.exports}var ev={exports:{}},Ca={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function nI(){if(Cb)return Ca;Cb=1;var n=Kg();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ca.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ca.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,h)},Ca.flushSync=function(u){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=h,r.d.f()}},Ca.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Ca.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ca.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=s(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ca.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=s(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Ca.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=s(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ca.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=s(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Ca.requestFormReset=function(u){r.d.r(u)},Ca.unstable_batchedUpdates=function(u,f){return u(f)},Ca.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},Ca.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ca.version="19.1.0",Ca}var Ib;function rI(){if(Ib)return ev.exports;Ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ev.exports=nI(),ev.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function iI(){if(Tb)return _1;Tb=1;var n=tI(),e=Kg(),t=rI();function r(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var c=l,d=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(d=c.return),l=c.return;while(l)}return c.tag===3?d:null}function o(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function s(l){if(a(l)!==l)throw Error(r(188))}function u(l){var c=l.alternate;if(!c){if(c=a(l),c===null)throw Error(r(188));return c!==l?null:l}for(var d=l,v=c;;){var A=d.return;if(A===null)break;var N=A.alternate;if(N===null){if(v=A.return,v!==null){d=v;continue}break}if(A.child===N.child){for(N=A.child;N;){if(N===d)return s(A),l;if(N===v)return s(A),c;N=N.sibling}throw Error(r(188))}if(d.return!==v.return)d=A,v=N;else{for(var K=!1,ue=A.child;ue;){if(ue===d){K=!0,d=A,v=N;break}if(ue===v){K=!0,v=A,d=N;break}ue=ue.sibling}if(!K){for(ue=N.child;ue;){if(ue===d){K=!0,d=N,v=A;break}if(ue===v){K=!0,v=N,d=A;break}ue=ue.sibling}if(!K)throw Error(r(189))}}if(d.alternate!==v)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?l:c}function f(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=f(l),c!==null)return c;l=l.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function L(l){return l===null||typeof l!="object"?null:(l=R&&l[R]||l["@@iterator"],typeof l=="function"?l:null)}var B=Symbol.for("react.client.reference");function q(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===B?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case x:return"Fragment";case I:return"Profiler";case b:return"StrictMode";case X:return"Suspense";case H:return"SuspenseList";case T:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case m:return"Portal";case j:return(l.displayName||"Context")+".Provider";case P:return(l._context.displayName||"Context")+".Consumer";case z:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case D:return c=l.displayName||null,c!==null?c:q(l.type)||"Memo";case E:c=l._payload,l=l._init;try{return q(l(c))}catch{}}return null}var te=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ae=[],Y=-1;function me(l){return{current:l}}function G(l){0>Y||(l.current=ae[Y],ae[Y]=null,Y--)}function Z(l,c){Y++,ae[Y]=l.current,l.current=c}var ne=me(null),oe=me(null),ge=me(null),Ee=me(null);function we(l,c){switch(Z(ge,c),Z(oe,l),Z(ne,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?X_(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=X_(c),l=Y_(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}G(ne),Z(ne,l)}function Ie(){G(ne),G(oe),G(ge)}function Ge(l){l.memoizedState!==null&&Z(Ee,l);var c=ne.current,d=Y_(c,l.type);c!==d&&(Z(oe,l),Z(ne,d))}function We(l){oe.current===l&&(G(ne),G(oe)),Ee.current===l&&(G(Ee),p1._currentValue=Q)}var st=Object.prototype.hasOwnProperty,ut=n.unstable_scheduleCallback,qe=n.unstable_cancelCallback,De=n.unstable_shouldYield,de=n.unstable_requestPaint,ft=n.unstable_now,Ke=n.unstable_getCurrentPriorityLevel,ze=n.unstable_ImmediatePriority,nt=n.unstable_UserBlockingPriority,it=n.unstable_NormalPriority,lt=n.unstable_LowPriority,ht=n.unstable_IdlePriority,vt=n.log,Rt=n.unstable_setDisableYieldValue,bt=null,wt=null;function Nt(l){if(typeof vt=="function"&&Rt(l),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(bt,l)}catch{}}var _t=Math.clz32?Math.clz32:vn,Dt=Math.log,ct=Math.LN2;function vn(l){return l>>>=0,l===0?32:31-(Dt(l)/ct|0)|0}var zt=256,Yn=4194304;function Kt(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function An(l,c,d){var v=l.pendingLanes;if(v===0)return 0;var A=0,N=l.suspendedLanes,K=l.pingedLanes;l=l.warmLanes;var ue=v&134217727;return ue!==0?(v=ue&~N,v!==0?A=Kt(v):(K&=ue,K!==0?A=Kt(K):d||(d=ue&~l,d!==0&&(A=Kt(d))))):(ue=v&~N,ue!==0?A=Kt(ue):K!==0?A=Kt(K):d||(d=v&~l,d!==0&&(A=Kt(d)))),A===0?0:c!==0&&c!==A&&(c&N)===0&&(N=A&-A,d=c&-c,N>=d||N===32&&(d&4194048)!==0)?c:A}function pi(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function on(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pa(){var l=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),l}function Cn(){var l=Yn;return Yn<<=1,(Yn&62914560)===0&&(Yn=4194304),l}function Mr(l){for(var c=[],d=0;31>d;d++)c.push(l);return c}function sr(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function yn(l,c,d,v,A,N){var K=l.pendingLanes;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=d,l.entangledLanes&=d,l.errorRecoveryDisabledLanes&=d,l.shellSuspendCounter=0;var ue=l.entanglements,ye=l.expirationTimes,Me=l.hiddenUpdates;for(d=K&~d;0<d;){var Xe=31-_t(d),et=1<<Xe;ue[Xe]=0,ye[Xe]=-1;var Be=Me[Xe];if(Be!==null)for(Me[Xe]=null,Xe=0;Xe<Be.length;Xe++){var Fe=Be[Xe];Fe!==null&&(Fe.lane&=-536870913)}d&=~et}v!==0&&It(l,v,0),N!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=N&~(K&~c))}function It(l,c,d){l.pendingLanes|=c,l.suspendedLanes&=~c;var v=31-_t(c);l.entangledLanes|=c,l.entanglements[v]=l.entanglements[v]|1073741824|d&4194090}function nn(l,c){var d=l.entangledLanes|=c;for(l=l.entanglements;d;){var v=31-_t(d),A=1<<v;A&c|l[v]&c&&(l[v]|=c),d&=~A}}function Si(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Mn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function pr(){var l=U.p;return l!==0?l:(l=window.event,l===void 0?32:pb(l.type))}function Ua(l,c){var d=U.p;try{return U.p=l,c()}finally{U.p=d}}var yt=Math.random().toString(36).slice(2),Wn="__reactFiber$"+yt,Gn="__reactProps$"+yt,gr="__reactContainer$"+yt,Er="__reactEvents$"+yt,Nr="__reactListeners$"+yt,Gr="__reactHandles$"+yt,Is="__reactResources$"+yt,Ji="__reactMarker$"+yt;function gi(l){delete l[Wn],delete l[Gn],delete l[Er],delete l[Nr],delete l[Gr]}function ti(l){var c=l[Wn];if(c)return c;for(var d=l.parentNode;d;){if(c=d[gr]||d[Wn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(l=J_(l);l!==null;){if(d=l[Wn])return d;l=J_(l)}return c}l=d,d=l.parentNode}return null}function $r(l){if(l=l[Wn]||l[gr]){var c=l.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return l}return null}function ni(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(r(33))}function lr(l){var c=l[Is];return c||(c=l[Is]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function jn(l){l[Ji]=!0}var So=new Set,Co={};function Bi(l,c){ga(l,c),ga(l+"Capture",c)}function ga(l,c){for(Co[l]=c,l=0;l<c.length;l++)So.add(c[l])}var Ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lu={},Rs={};function ac(l){return st.call(Rs,l)?!0:st.call(lu,l)?!1:Ts.test(l)?Rs[l]=!0:(lu[l]=!0,!1)}function Va(l,c,d){if(ac(c))if(d===null)l.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+d)}}function za(l,c,d){if(d===null)l.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+d)}}function ri(l,c,d,v){if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttributeNS(c,d,""+v)}}var Io,oc;function Za(l){if(Io===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);Io=c&&c[1]||"",oc=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Io+l+oc}var pl=!1;function To(l,c){if(!l||pl)return"";pl=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Fe){var Be=Fe}Reflect.construct(l,[],et)}else{try{et.call()}catch(Fe){Be=Fe}l.call(et.prototype)}}else{try{throw Error()}catch(Fe){Be=Fe}(et=l())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Fe){if(Fe&&Be&&typeof Fe.stack=="string")return[Fe.stack,Be.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=v.DetermineComponentFrameRoot(),K=N[0],ue=N[1];if(K&&ue){var ye=K.split(`
`),Me=ue.split(`
`);for(A=v=0;v<ye.length&&!ye[v].includes("DetermineComponentFrameRoot");)v++;for(;A<Me.length&&!Me[A].includes("DetermineComponentFrameRoot");)A++;if(v===ye.length||A===Me.length)for(v=ye.length-1,A=Me.length-1;1<=v&&0<=A&&ye[v]!==Me[A];)A--;for(;1<=v&&0<=A;v--,A--)if(ye[v]!==Me[A]){if(v!==1||A!==1)do if(v--,A--,0>A||ye[v]!==Me[A]){var Xe=`
`+ye[v].replace(" at new "," at ");return l.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",l.displayName)),Xe}while(1<=v&&0<=A);break}}}finally{pl=!1,Error.prepareStackTrace=d}return(d=l?l.displayName||l.name:"")?Za(d):""}function uu(l){switch(l.tag){case 26:case 27:case 5:return Za(l.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 15:return To(l.type,!1);case 11:return To(l.type.render,!1);case 1:return To(l.type,!0);case 31:return Za("Activity");default:return""}}function ur(l){try{var c="";do c+=uu(l),l=l.return;while(l);return c}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function mi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function gl(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function sc(l){var c=gl(l)?"checked":"value",d=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),v=""+l[c];if(!l.hasOwnProperty(c)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var A=d.get,N=d.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return A.call(this)},set:function(K){v=""+K,N.call(this,K)}}),Object.defineProperty(l,c,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function(K){v=""+K},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Qo(l){l._valueTracker||(l._valueTracker=sc(l))}function cu(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var d=c.getValue(),v="";return l&&(v=gl(l)?l.checked?"true":"false":l.value),l=v,l!==d?(c.setValue(l),!0):!1}function Ci(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ml=/[\n"\\]/g;function En(l){return l.replace(ml,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ii(l,c,d,v,A,N,K,ue){l.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?l.type=K:l.removeAttribute("type"),c!=null?K==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+mi(c)):l.value!==""+mi(c)&&(l.value=""+mi(c)):K!=="submit"&&K!=="reset"||l.removeAttribute("value"),c!=null?Jo(l,K,mi(c)):d!=null?Jo(l,K,mi(d)):v!=null&&l.removeAttribute("value"),A==null&&N!=null&&(l.defaultChecked=!!N),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?l.name=""+mi(ue):l.removeAttribute("name")}function Zo(l,c,d,v,A,N,K,ue){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),c!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||c!=null))return;d=d!=null?""+mi(d):"",c=c!=null?""+mi(c):d,ue||c===l.value||(l.value=c),l.defaultValue=c}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=ue?l.checked:!!v,l.defaultChecked=!!v,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(l.name=K)}function Jo(l,c,d){c==="number"&&Ci(l.ownerDocument)===l||l.defaultValue===""+d||(l.defaultValue=""+d)}function Ja(l,c,d,v){if(l=l.options,c){c={};for(var A=0;A<d.length;A++)c["$"+d[A]]=!0;for(d=0;d<l.length;d++)A=c.hasOwnProperty("$"+l[d].value),l[d].selected!==A&&(l[d].selected=A),A&&v&&(l[d].defaultSelected=!0)}else{for(d=""+mi(d),c=null,A=0;A<l.length;A++){if(l[A].value===d){l[A].selected=!0,v&&(l[A].defaultSelected=!0);return}c!==null||l[A].disabled||(c=l[A])}c!==null&&(c.selected=!0)}}function Bn(l,c,d){if(c!=null&&(c=""+mi(c),c!==l.value&&(l.value=c),d==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=d!=null?""+mi(d):""}function es(l,c,d,v){if(c==null){if(v!=null){if(d!=null)throw Error(r(92));if(te(v)){if(1<v.length)throw Error(r(93));v=v[0]}d=v}d==null&&(d=""),c=d}d=mi(c),l.defaultValue=d,v=l.textContent,v===d&&v!==""&&v!==null&&(l.value=v)}function ma(l,c){if(c){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=c;return}}l.textContent=c}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lc(l,c,d){var v=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":v?l.setProperty(c,d):typeof d!="number"||d===0||Ro.has(c)?c==="float"?l.cssFloat=d:l[c]=(""+d).trim():l[c]=d+"px"}function fu(l,c,d){if(c!=null&&typeof c!="object")throw Error(r(62));if(l=l.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var A in c)v=c[A],c.hasOwnProperty(A)&&d[A]!==v&&lc(l,A,v)}else for(var N in c)c.hasOwnProperty(N)&&lc(l,N,c[N])}function hu(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Do(l){return vl.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var eo=null;function er(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Oo=null,to=null;function Ft(l){var c=$r(l);if(c&&(l=c.stateNode)){var d=l[Gn]||null;e:switch(l=c.stateNode,c.type){case"input":if(Ii(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+En(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var v=d[c];if(v!==l&&v.form===l.form){var A=v[Gn]||null;if(!A)throw Error(r(90));Ii(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<d.length;c++)v=d[c],v.form===l.form&&cu(v)}break e;case"textarea":Bn(l,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Ja(l,!!d.multiple,c,!1)}}}var no=!1;function uc(l,c,d){if(no)return l(c,d);no=!0;try{var v=l(c);return v}finally{if(no=!1,(Oo!==null||to!==null)&&(sp(),Oo&&(c=Oo,l=to,to=Oo=null,Ft(c),l)))for(c=0;c<l.length;c++)Ft(l[c])}}function Fi(l,c){var d=l.stateNode;if(d===null)return null;var v=d[Gn]||null;if(v===null)return null;d=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(r(231,c,typeof d));return d}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=!1;if(va)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){ea=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{ea=!1}var ya=null,ts=null,Po=null;function du(){if(Po)return Po;var l,c=ts,d=c.length,v,A="value"in ya?ya.value:ya.textContent,N=A.length;for(l=0;l<d&&c[l]===A[l];l++);var K=d-l;for(v=1;v<=K&&c[d-v]===A[N-v];v++);return Po=A.slice(l,1<v?1-v:void 0)}function xa(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Ui(){return!0}function io(){return!1}function Xr(l){function c(d,v,A,N,K){this._reactName=d,this._targetInst=A,this.type=v,this.nativeEvent=N,this.target=K,this.currentTarget=null;for(var ue in l)l.hasOwnProperty(ue)&&(d=l[ue],this[ue]=d?d(N):N[ue]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ui:io,this.isPropagationStopped=io,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),c}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=Xr(hn),ao=h({},hn,{view:0,detail:0}),pu=Xr(ao),Ns,Ds,qa,Vi=h({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==qa&&(qa&&l.type==="mousemove"?(Ns=l.screenX-qa.screenX,Ds=l.screenY-qa.screenY):Ds=Ns=0,qa=l),Ns)},movementY:function(l){return"movementY"in l?l.movementY:Ds}}),Yr=Xr(Vi),cc=h({},Vi,{dataTransfer:0}),rs=Xr(cc),Ti=h({},ao,{relatedTarget:0}),is=Xr(Ti),Lo=h({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),yl=Xr(Lo),Os=h({},hn,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),xl=Xr(Os),gu=h({},hn,{data:0}),Ps=Xr(gu),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ls={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ks(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=_l[l])?!!c[l]:!1}function os(){return ks}var fc=h({},ao,{key:function(l){if(l.key){var c=as[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=xa(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Ls[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(l){return l.type==="keypress"?xa(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?xa(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),ko=Xr(fc),ss=h({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ms=Xr(ss),zi=h({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),bl=Xr(zi),O=h({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=Xr(O),ve=h({},Vi,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=Xr(ve),Te=h({},hn,{newState:0,oldState:0}),Ve=Xr(Te),at=[9,13,27,32],pt=va&&"CompositionEvent"in window,_=null;va&&"documentMode"in document&&(_=document.documentMode);var F=va&&"TextEvent"in window&&!_,$=va&&(!pt||_&&8<_&&11>=_),le=" ",Ce=!1;function ke(l,c){switch(l){case"keyup":return at.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ut=!1;function dn(l,c){switch(l){case"compositionend":return ot(c);case"keypress":return c.which!==32?null:(Ce=!0,le);case"textInput":return l=c.data,l===le&&Ce?null:l;default:return null}}function Qt(l,c){if(Ut)return l==="compositionend"||!pt&&ke(l,c)?(l=du(),Po=ts=ya=null,Ut=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return $&&c.locale!=="ko"?null:c.data;default:return null}}var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!Fn[l.type]:c==="textarea"}function oo(l,c,d,v){Oo?to?to.push(v):to=[v]:Oo=v,c=dp(c,"onChange"),0<c.length&&(d=new ns("onChange","change",null,d,v),l.push({event:d,listeners:c}))}var jr=null,_a=null;function ls(l){q_(l,0)}function wl(l){var c=ni(l);if(cu(c))return l}function hc(l,c){if(l==="change")return c}var mu=!1;if(va){var ii;if(va){var Al="oninput"in document;if(!Al){var vu=document.createElement("div");vu.setAttribute("oninput","return;"),Al=typeof vu.oninput=="function"}ii=Al}else ii=!1;mu=ii&&(!document.documentMode||9<document.documentMode)}function yu(){jr&&(jr.detachEvent("onpropertychange",dc),_a=jr=null)}function dc(l){if(l.propertyName==="value"&&wl(_a)){var c=[];oo(c,_a,l,er(l)),uc(ls,c)}}function ba(l,c,d){l==="focusin"?(yu(),jr=c,_a=d,jr.attachEvent("onpropertychange",dc)):l==="focusout"&&yu()}function kd(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return wl(_a)}function _f(l,c){if(l==="click")return wl(c)}function mh(l,c){if(l==="input"||l==="change")return wl(c)}function so(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var vi=typeof Object.is=="function"?Object.is:so;function El(l,c){if(vi(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var d=Object.keys(l),v=Object.keys(c);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var A=d[v];if(!st.call(c,A)||!vi(l[A],c[A]))return!1}return!0}function bf(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function js(l,c){var d=bf(l);l=0;for(var v;d;){if(d.nodeType===3){if(v=l+d.textContent.length,l<=c&&v>=c)return{node:d,offset:c-l};l=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=bf(d)}}function Sl(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?Sl(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function ta(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=Ci(l.document);c instanceof l.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)l=c.contentWindow;else break;c=Ci(l.document)}return c}function Ri(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var Cl=va&&"documentMode"in document&&11>=document.documentMode,wa=null,Mo=null,us=null,jo=!1;function Dr(l,c,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;jo||wa==null||wa!==Ci(v)||(v=wa,"selectionStart"in v&&Ri(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),us&&El(us,v)||(us=v,v=dp(Mo,"onSelect"),0<v.length&&(c=new ns("onSelect","select",null,c,d),l.push({event:c,listeners:v}),c.target=wa)))}function Bo(l,c){var d={};return d[l.toLowerCase()]=c.toLowerCase(),d["Webkit"+l]="webkit"+c,d["Moz"+l]="moz"+c,d}var Kr={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionrun:Bo("Transition","TransitionRun"),transitionstart:Bo("Transition","TransitionStart"),transitioncancel:Bo("Transition","TransitionCancel"),transitionend:Bo("Transition","TransitionEnd")},Aa={},xu={};va&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function cs(l){if(Aa[l])return Aa[l];if(!Kr[l])return l;var c=Kr[l],d;for(d in c)if(c.hasOwnProperty(d)&&d in xu)return Aa[l]=c[d];return l}var pc=cs("animationend"),Il=cs("animationiteration"),Tl=cs("animationstart"),Rl=cs("transitionrun"),_u=cs("transitionstart"),gc=cs("transitioncancel"),Nl=cs("transitionend"),Bs=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function Or(l,c){Bs.set(l,c),Bi(c,[l])}var Ha=new WeakMap;function ln(l,c){if(typeof l=="object"&&l!==null){var d=Ha.get(l);return d!==void 0?d:(c={value:l,source:c,stack:ur(c)},Ha.set(l,c),c)}return{value:l,source:c,stack:ur(c)}}var un=[],cr=0,Br=0;function lo(){for(var l=cr,c=Br=cr=0;c<l;){var d=un[c];un[c++]=null;var v=un[c];un[c++]=null;var A=un[c];un[c++]=null;var N=un[c];if(un[c++]=null,v!==null&&A!==null){var K=v.pending;K===null?A.next=A:(A.next=K.next,K.next=A),v.pending=A}N!==0&&vh(d,A,N)}}function Dl(l,c,d,v){un[cr++]=l,un[cr++]=c,un[cr++]=d,un[cr++]=v,Br|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function Ol(l,c,d,v){return Dl(l,c,d,v),wu(l)}function Fs(l,c){return Dl(l,null,null,c),wu(l)}function vh(l,c,d){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d);for(var A=!1,N=l.return;N!==null;)N.childLanes|=d,v=N.alternate,v!==null&&(v.childLanes|=d),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(A=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,A&&c!==null&&(A=31-_t(d),l=N.hiddenUpdates,v=l[A],v===null?l[A]=[c]:v.push(c),c.lane=d|536870912),N):null}function wu(l){if(50<o1)throw o1=0,x2=null,Error(r(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var yi={};function uo(l,c,d,v){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(l,c,d,v){return new uo(l,c,d,v)}function mc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function fs(l,c){var d=l.alternate;return d===null?(d=qi(l.tag,c,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=c,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&65011712,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,c=l.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d.refCleanup=l.refCleanup,d}function wf(l,c){l.flags&=65011714;var d=l.alternate;return d===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,c=d.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function Au(l,c,d,v,A,N){var K=0;if(v=l,typeof l=="function")mc(l)&&(K=1);else if(typeof l=="string")K=BC(l,d,ne.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case T:return l=qi(31,d,c,A),l.elementType=T,l.lanes=N,l;case x:return Us(d.children,A,N,c);case b:K=8,A|=24;break;case I:return l=qi(12,d,c,A|2),l.elementType=I,l.lanes=N,l;case X:return l=qi(13,d,c,A),l.elementType=X,l.lanes=N,l;case H:return l=qi(19,d,c,A),l.elementType=H,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case C:case j:K=10;break e;case P:K=9;break e;case z:K=11;break e;case D:K=14;break e;case E:K=16,v=null;break e}K=29,d=Error(r(130,l===null?"null":typeof l,"")),v=null}return c=qi(K,d,c,A),c.elementType=l,c.type=v,c.lanes=N,c}function Us(l,c,d,v){return l=qi(7,l,v,c),l.lanes=d,l}function yh(l,c,d){return l=qi(6,l,null,c),l.lanes=d,l}function Af(l,c,d){return c=qi(4,l.children!==null?l.children:[],l.key,c),c.lanes=d,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var Pl=[],Vs=0,vc=null,xh=0,co=[],Wa=0,Eu=null,zs=1,qs="";function Su(l,c){Pl[Vs++]=xh,Pl[Vs++]=vc,vc=l,xh=c}function D0(l,c,d){co[Wa++]=zs,co[Wa++]=qs,co[Wa++]=Eu,Eu=l;var v=zs;l=qs;var A=32-_t(v)-1;v&=~(1<<A),d+=1;var N=32-_t(c)+A;if(30<N){var K=A-A%5;N=(v&(1<<K)-1).toString(32),v>>=K,A-=K,zs=1<<32-_t(c)+A|d<<A|v,qs=N+l}else zs=1<<N|d<<A|v,qs=l}function Ef(l){l.return!==null&&(Su(l,1),D0(l,1,0))}function Sf(l){for(;l===vc;)vc=Pl[--Vs],Pl[Vs]=null,xh=Pl[--Vs],Pl[Vs]=null;for(;l===Eu;)Eu=co[--Wa],co[Wa]=null,qs=co[--Wa],co[Wa]=null,zs=co[--Wa],co[Wa]=null}var ai=null,Pr=null,Pn=!1,Ll=null,hs=!1,Md=Error(r(519));function Cu(l){var c=Error(r(418,""));throw yc(ln(c,l)),Md}function O0(l){var c=l.stateNode,d=l.type,v=l.memoizedProps;switch(c[Wn]=l,c[Gn]=v,d){case"dialog":_n("cancel",c),_n("close",c);break;case"iframe":case"object":case"embed":_n("load",c);break;case"video":case"audio":for(d=0;d<l1.length;d++)_n(l1[d],c);break;case"source":_n("error",c);break;case"img":case"image":case"link":_n("error",c),_n("load",c);break;case"details":_n("toggle",c);break;case"input":_n("invalid",c),Zo(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Qo(c);break;case"select":_n("invalid",c);break;case"textarea":_n("invalid",c),es(c,v.value,v.defaultValue,v.children),Qo(c)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||v.suppressHydrationWarning===!0||$_(c.textContent,d)?(v.popover!=null&&(_n("beforetoggle",c),_n("toggle",c)),v.onScroll!=null&&_n("scroll",c),v.onScrollEnd!=null&&_n("scrollend",c),v.onClick!=null&&(c.onclick=pp),c=!0):c=!1,c||Cu(l)}function Hs(l){for(ai=l.return;ai;)switch(ai.tag){case 5:case 13:hs=!1;return;case 27:case 3:hs=!0;return;default:ai=ai.return}}function na(l){if(l!==ai)return!1;if(!Pn)return Hs(l),Pn=!0,!1;var c=l.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=l.type,d=!(d!=="form"&&d!=="button")||k2(l.type,l.memoizedProps)),d=!d),d&&Pr&&Cu(l),Hs(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8)if(d=l.data,d==="/$"){if(c===0){Pr=Zs(l.nextSibling);break e}c--}else d!=="$"&&d!=="$!"&&d!=="$?"||c++;l=l.nextSibling}Pr=null}}else c===27?(c=Pr,kc(l.type)?(l=F2,F2=null,Pr=l):Pr=c):Pr=ai?Zs(l.stateNode.nextSibling):null;return!0}function Ga(){Pr=ai=null,Pn=!1}function P0(){var l=Ll;return l!==null&&(po===null?po=l:po.push.apply(po,l),Ll=null),l}function yc(l){Ll===null?Ll=[l]:Ll.push(l)}var ds=me(null),xi=null,Ws=null;function kl(l,c,d){Z(ds,c._currentValue),c._currentValue=d}function ps(l){l._currentValue=ds.current,G(ds)}function _h(l,c,d){for(;l!==null;){var v=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),l===d)break;l=l.return}}function bh(l,c,d,v){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var N=A.dependencies;if(N!==null){var K=A.child;N=N.firstContext;e:for(;N!==null;){var ue=N;N=A;for(var ye=0;ye<c.length;ye++)if(ue.context===c[ye]){N.lanes|=d,ue=N.alternate,ue!==null&&(ue.lanes|=d),_h(N.return,d,l),v||(K=null);break e}N=ue.next}}else if(A.tag===18){if(K=A.return,K===null)throw Error(r(341));K.lanes|=d,N=K.alternate,N!==null&&(N.lanes|=d),_h(K,d,l),K=null}else K=A.child;if(K!==null)K.return=A;else for(K=A;K!==null;){if(K===l){K=null;break}if(A=K.sibling,A!==null){A.return=K.return,K=A;break}K=K.return}A=K}}function xc(l,c,d,v){l=null;for(var A=c,N=!1;A!==null;){if(!N){if((A.flags&524288)!==0)N=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var K=A.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var ue=A.type;vi(A.pendingProps.value,K.value)||(l!==null?l.push(ue):l=[ue])}}else if(A===Ee.current){if(K=A.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(p1):l=[p1])}A=A.return}l!==null&&bh(c,l,d,v),c.flags|=262144}function wh(l){for(l=l.firstContext;l!==null;){if(!vi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function gs(l){xi=l,Ws=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function oi(l){return Ah(xi,l)}function Ml(l,c){return xi===null&&gs(l),Ah(l,c)}function Ah(l,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},Ws===null){if(l===null)throw Error(r(308));Ws=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else Ws=Ws.next=c;return d}var Hm=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(d,v){l.push(v)}};this.abort=function(){c.aborted=!0,l.forEach(function(d){return d()})}},L0=n.unstable_scheduleCallback,Wm=n.unstable_NormalPriority,si={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jd(){return{controller:new Hm,data:new Map,refCount:0}}function Cf(l){l.refCount--,l.refCount===0&&L0(Wm,function(){l.controller.abort()})}var If=null,Bd=0,Iu=0,Gs=null;function Gm(l,c){if(If===null){var d=If=[];Bd=0,Iu=C2(),Gs={status:"pending",value:void 0,then:function(v){d.push(v)}}}return Bd++,c.then(k0,k0),c}function k0(){if(--Bd===0&&If!==null){Gs!==null&&(Gs.status="fulfilled");var l=If;If=null,Iu=0,Gs=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function M0(l,c){var d=[],v={status:"pending",value:null,reason:null,then:function(A){d.push(A)}};return l.then(function(){v.status="fulfilled",v.value=c;for(var A=0;A<d.length;A++)(0,d[A])(c)},function(A){for(v.status="rejected",v.reason=A,A=0;A<d.length;A++)(0,d[A])(void 0)}),v}var y=V.S;V.S=function(l,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Gm(l,c),y!==null&&y(l,c)};var S=me(null);function k(){var l=S.current;return l!==null?l:_r.pooledCache}function W(l,c){c===null?Z(S,S.current):Z(S,c.pool)}function J(){var l=k();return l===null?null:{parent:si._currentValue,pool:l}}var re=Error(r(460)),ie=Error(r(474)),se=Error(r(542)),ce={then:function(){}};function he(l){return l=l.status,l==="fulfilled"||l==="rejected"}function _e(){}function Le(l,c,d){switch(d=l[d],d===void 0?l.push(c):d!==c&&(c.then(_e,_e),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,Ze(l),l;default:if(typeof c.status=="string")c.then(_e,_e);else{if(l=_r,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=c,l.status="pending",l.then(function(v){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=v}},function(v){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,Ze(l),l}throw Oe=c,re}}var Oe=null;function Re(){if(Oe===null)throw Error(r(459));var l=Oe;return Oe=null,l}function Ze(l){if(l===re||l===se)throw Error(r(483))}var Ue=!1;function be(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Se(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function $e(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Je(l,c,d){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(nr&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,c=wu(l),vh(l,null,d),c}return Dl(l,v,c,d),wu(l)}function Ye(l,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var v=c.lanes;v&=l.pendingLanes,d|=v,c.lanes=d,nn(l,d)}}function xt(l,c){var d=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var A=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var K={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?A=N=K:N=N.next=K,d=d.next}while(d!==null);N===null?A=N=c:N=N.next=c}else A=N=c;d={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:N,shared:v.shared,callbacks:v.callbacks},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=c}var dt=!1;function Ot(){if(dt){var l=Gs;if(l!==null)throw l}}function gt(l,c,d,v){dt=!1;var A=l.updateQueue;Ue=!1;var N=A.firstBaseUpdate,K=A.lastBaseUpdate,ue=A.shared.pending;if(ue!==null){A.shared.pending=null;var ye=ue,Me=ye.next;ye.next=null,K===null?N=Me:K.next=Me,K=ye;var Xe=l.alternate;Xe!==null&&(Xe=Xe.updateQueue,ue=Xe.lastBaseUpdate,ue!==K&&(ue===null?Xe.firstBaseUpdate=Me:ue.next=Me,Xe.lastBaseUpdate=ye))}if(N!==null){var et=A.baseState;K=0,Xe=Me=ye=null,ue=N;do{var Be=ue.lane&-536870913,Fe=Be!==ue.lane;if(Fe?(Rn&Be)===Be:(v&Be)===Be){Be!==0&&Be===Iu&&(dt=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Yt=l,Vt=ue;Be=c;var hr=d;switch(Vt.tag){case 1:if(Yt=Vt.payload,typeof Yt=="function"){et=Yt.call(hr,et,Be);break e}et=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Vt.payload,Be=typeof Yt=="function"?Yt.call(hr,et,Be):Yt,Be==null)break e;et=h({},et,Be);break e;case 2:Ue=!0}}Be=ue.callback,Be!==null&&(l.flags|=64,Fe&&(l.flags|=8192),Fe=A.callbacks,Fe===null?A.callbacks=[Be]:Fe.push(Be))}else Fe={lane:Be,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},Xe===null?(Me=Xe=Fe,ye=et):Xe=Xe.next=Fe,K|=Be;if(ue=ue.next,ue===null){if(ue=A.shared.pending,ue===null)break;Fe=ue,ue=Fe.next,Fe.next=null,A.lastBaseUpdate=Fe,A.shared.pending=null}}while(!0);Xe===null&&(ye=et),A.baseState=ye,A.firstBaseUpdate=Me,A.lastBaseUpdate=Xe,N===null&&(A.shared.lanes=0),Dc|=K,l.lanes=K,l.memoizedState=et}}function In(l,c){if(typeof l!="function")throw Error(r(191,l));l.call(c)}function Un(l,c){var d=l.callbacks;if(d!==null)for(l.callbacks=null,l=0;l<d.length;l++)In(d[l],c)}var sn=me(null),rn=me(0);function Qn(l,c){l=ju,Z(rn,l),Z(sn,c),ju=l|c.baseLanes}function Vn(){Z(rn,ju),Z(sn,sn.current)}function Zt(){ju=rn.current,G(sn),G(rn)}var tr=0,Lt=null,Ht=null,Sn=null,Tn=!1,_i=!1,li=!1,Fr=0,Ur=0,Qr=null,fo=0;function zn(){throw Error(r(321))}function Zr(l,c){if(c===null)return!1;for(var d=0;d<c.length&&d<l.length;d++)if(!vi(l[d],c[d]))return!1;return!0}function Fo(l,c,d,v,A,N){return tr=N,Lt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=l===null||l.memoizedState===null?Ix:Tx,li=!1,N=d(v,A),li=!1,_i&&(N=Tu(c,d,v,A)),jl(l),N}function jl(l){V.H=X0;var c=Ht!==null&&Ht.next!==null;if(tr=0,Sn=Ht=Lt=null,Tn=!1,Ur=0,Qr=null,c)throw Error(r(300));l===null||Hi||(l=l.dependencies,l!==null&&wh(l)&&(Hi=!0))}function Tu(l,c,d,v){Lt=l;var A=0;do{if(_i&&(Qr=null),Ur=0,_i=!1,25<=A)throw Error(r(301));if(A+=1,Sn=Ht=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}V.H=Y8,N=c(d,v)}while(_i);return N}function Bl(){var l=V.H,c=l.useState()[0];return c=typeof c.then=="function"?Fl(c):c,l=l.useState()[0],(Ht!==null?Ht.memoizedState:null)!==l&&(Lt.flags|=1024),c}function xr(){var l=Fr!==0;return Fr=0,l}function Tf(l,c,d){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~d}function Eh(l){if(Tn){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Tn=!1}tr=0,Sn=Ht=Lt=null,_i=!1,Ur=Fr=0,Qr=null}function ra(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Lt.memoizedState=Sn=l:Sn=Sn.next=l,Sn}function Sr(){if(Ht===null){var l=Lt.alternate;l=l!==null?l.memoizedState:null}else l=Ht.next;var c=Sn===null?Lt.memoizedState:Sn.next;if(c!==null)Sn=c,Ht=l;else{if(l===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));Ht=l,l={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Sn===null?Lt.memoizedState=Sn=l:Sn=Sn.next=l}return Sn}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(l){var c=Ur;return Ur+=1,Qr===null&&(Qr=[]),l=Le(Qr,l,c),c=Lt,(Sn===null?c.memoizedState:Sn.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?Ix:Tx),l}function Ea(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Fl(l);if(l.$$typeof===j)return oi(l)}throw Error(r(438,String(l)))}function Ul(l){var c=null,d=Lt.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var v=Lt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=Ru(),Lt.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(l),v=0;v<l;v++)d[v]=M;return c.index++,d}function Sa(l,c){return typeof c=="function"?c(l):c}function Rf(l){var c=Sr();return _c(c,Ht,l)}function _c(l,c,d){var v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=d;var A=l.baseQueue,N=v.pending;if(N!==null){if(A!==null){var K=A.next;A.next=N.next,N.next=K}c.baseQueue=A=N,v.pending=null}if(N=l.baseState,A===null)l.memoizedState=N;else{c=A.next;var ue=K=null,ye=null,Me=c,Xe=!1;do{var et=Me.lane&-536870913;if(et!==Me.lane?(Rn&et)===et:(tr&et)===et){var Be=Me.revertLane;if(Be===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),et===Iu&&(Xe=!0);else if((tr&Be)===Be){Me=Me.next,Be===Iu&&(Xe=!0);continue}else et={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},ye===null?(ue=ye=et,K=N):ye=ye.next=et,Lt.lanes|=Be,Dc|=Be;et=Me.action,li&&d(N,et),N=Me.hasEagerState?Me.eagerState:d(N,et)}else Be={lane:et,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},ye===null?(ue=ye=Be,K=N):ye=ye.next=Be,Lt.lanes|=et,Dc|=et;Me=Me.next}while(Me!==null&&Me!==c);if(ye===null?K=N:ye.next=ue,!vi(N,l.memoizedState)&&(Hi=!0,Xe&&(d=Gs,d!==null)))throw d;l.memoizedState=N,l.baseState=K,l.baseQueue=ye,v.lastRenderedState=N}return A===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function Sh(l){var c=Sr(),d=c.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var v=d.dispatch,A=d.pending,N=c.memoizedState;if(A!==null){d.pending=null;var K=A=A.next;do N=l(N,K.action),K=K.next;while(K!==A);vi(N,c.memoizedState)||(Hi=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),d.lastRenderedState=N}return[N,v]}function Nf(l,c,d){var v=Lt,A=Sr(),N=Pn;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=c();var K=!vi((Ht||A).memoizedState,d);K&&(A.memoizedState=d,Hi=!0),A=A.queue;var ue=bc.bind(null,v,A,l);if(Ec(2048,8,ue,[l]),A.getSnapshot!==c||K||Sn!==null&&Sn.memoizedState.tag&1){if(v.flags|=2048,Xs(9,Lf(),Df.bind(null,v,A,d,c),null),_r===null)throw Error(r(349));N||(tr&124)!==0||Ch(v,c,d)}return d}function Ch(l,c,d){l.flags|=16384,l={getSnapshot:c,value:d},c=Lt.updateQueue,c===null?(c=Ru(),Lt.updateQueue=c,c.stores=[l]):(d=c.stores,d===null?c.stores=[l]:d.push(l))}function Df(l,c,d,v){c.value=d,c.getSnapshot=v,j0(c)&&B0(l)}function bc(l,c,d){return d(function(){j0(c)&&B0(l)})}function j0(l){var c=l.getSnapshot;l=l.value;try{var d=c();return!vi(l,d)}catch{return!0}}function B0(l){var c=Fs(l,2);c!==null&&Wo(c,l,2)}function Of(l){var c=ra();if(typeof l=="function"){var d=l;if(l=d(),li){Nt(!0);try{d()}finally{Nt(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:l},c}function $s(l,c,d,v){return l.baseState=d,_c(l,Ht,typeof v=="function"?v:Sa)}function $m(l,c,d,v,A){if($0(l))throw Error(r(485));if(l=c.action,l!==null){var N={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){N.listeners.push(K)}};V.T!==null?d(!0):N.isTransition=!1,v(N),d=c.pending,d===null?(N.next=c.pending=N,F0(c,N)):(N.next=d.next,c.pending=d.next=N)}}function F0(l,c){var d=c.action,v=c.payload,A=l.state;if(c.isTransition){var N=V.T,K={};V.T=K;try{var ue=d(A,v),ye=V.S;ye!==null&&ye(K,ue),U0(l,c,ue)}catch(Me){wc(l,c,Me)}finally{V.T=N}}else try{N=d(A,v),U0(l,c,N)}catch(Me){wc(l,c,Me)}}function U0(l,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){Fd(l,c,v)},function(v){return wc(l,c,v)}):Fd(l,c,d)}function Fd(l,c,d){c.status="fulfilled",c.value=d,Ud(c),l.state=d,c=l.pending,c!==null&&(d=c.next,d===c?l.pending=null:(d=d.next,c.next=d,F0(l,d)))}function wc(l,c,d){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=d,Ud(c),c=c.next;while(c!==v)}l.action=null}function Ud(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function Vd(l,c){return c}function Pf(l,c){if(Pn){var d=_r.formState;if(d!==null){e:{var v=Lt;if(Pn){if(Pr){t:{for(var A=Pr,N=hs;A.nodeType!==8;){if(!N){A=null;break t}if(A=Zs(A.nextSibling),A===null){A=null;break t}}N=A.data,A=N==="F!"||N==="F"?A:null}if(A){Pr=Zs(A.nextSibling),v=A.data==="F!";break e}}Cu(v)}v=!1}v&&(c=d[0])}}return d=ra(),d.memoizedState=d.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:c},d.queue=v,d=Ex.bind(null,Lt,v),v.dispatch=d,v=Of(!1),N=Xm.bind(null,Lt,!1,v.queue),v=ra(),A={state:c,dispatch:null,action:l,pending:null},v.queue=A,d=$m.bind(null,Lt,A,N,d),A.dispatch=d,v.memoizedState=l,[c,d,!1]}function Ih(l){var c=Sr();return Ac(c,Ht,l)}function Ac(l,c,d){if(c=_c(l,c,Vd)[0],l=Rf(Sa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Fl(c)}catch(K){throw K===re?se:K}else v=c;c=Sr();var A=c.queue,N=A.dispatch;return d!==c.memoizedState&&(Lt.flags|=2048,Xs(9,Lf(),V0.bind(null,A,d),null)),[v,N,l]}function V0(l,c){l.action=c}function z0(l){var c=Sr(),d=Ht;if(d!==null)return Ac(c,d,l);Sr(),c=c.memoizedState,d=Sr();var v=d.queue.dispatch;return d.memoizedState=l,[c,v,!1]}function Xs(l,c,d,v){return l={tag:l,create:d,deps:v,inst:c,next:null},c=Lt.updateQueue,c===null&&(c=Ru(),Lt.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=l.next=l:(v=d.next,d.next=l,l.next=v,c.lastEffect=l),l}function Lf(){return{destroy:void 0,resource:void 0}}function Th(){return Sr().memoizedState}function Uo(l,c,d,v){var A=ra();v=v===void 0?null:v,Lt.flags|=l,A.memoizedState=Xs(1|c,Lf(),d,v)}function Ec(l,c,d,v){var A=Sr();v=v===void 0?null:v;var N=A.memoizedState.inst;Ht!==null&&v!==null&&Zr(v,Ht.memoizedState.deps)?A.memoizedState=Xs(c,N,d,v):(Lt.flags|=l,A.memoizedState=Xs(1|c,N,d,v))}function zd(l,c){Uo(8390656,8,l,c)}function q0(l,c){Ec(2048,8,l,c)}function qd(l,c){return Ec(4,2,l,c)}function Nu(l,c){return Ec(4,4,l,c)}function H0(l,c){if(typeof c=="function"){l=l();var d=c(l);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Hd(l,c,d){d=d!=null?d.concat([l]):null,Ec(4,4,H0.bind(null,c,l),d)}function Wd(){}function Gd(l,c){var d=Sr();c=c===void 0?null:c;var v=d.memoizedState;return c!==null&&Zr(c,v[1])?v[0]:(d.memoizedState=[l,c],l)}function W0(l,c){var d=Sr();c=c===void 0?null:c;var v=d.memoizedState;if(c!==null&&Zr(c,v[1]))return v[0];if(v=l(),li){Nt(!0);try{l()}finally{Nt(!1)}}return d.memoizedState=[v,c],v}function Du(l,c,d){return d===void 0||(tr&1073741824)!==0?l.memoizedState=c:(l.memoizedState=d,l=__(),Lt.lanes|=l,Dc|=l,d)}function Rh(l,c,d,v){return vi(d,c)?d:sn.current!==null?(l=Du(l,d,v),vi(l,c)||(Hi=!0),l):(tr&42)===0?(Hi=!0,l.memoizedState=d):(l=__(),Lt.lanes|=l,Dc|=l,c)}function kf(l,c,d,v,A){var N=U.p;U.p=N!==0&&8>N?N:8;var K=V.T,ue={};V.T=ue,Xm(l,!1,c,d);try{var ye=A(),Me=V.S;if(Me!==null&&Me(ue,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Xe=M0(ye,v);Kd(l,c,Xe,Ho(l))}else Kd(l,c,v,Ho(l))}catch(et){Kd(l,c,{then:function(){},status:"rejected",reason:et},Ho())}finally{U.p=N,V.T=K}}function Ys(){}function ms(l,c,d,v){if(l.tag!==5)throw Error(r(476));var A=Ks(l).queue;kf(l,A,c,Q,d===null?Ys:function(){return Mf(l),d(v)})}function Ks(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:Q},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:d},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function Mf(l){var c=Ks(l).next.queue;Kd(l,c,{},Ho())}function jf(){return oi(p1)}function $d(){return Sr().memoizedState}function G0(){return Sr().memoizedState}function Xd(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var d=Ho();l=$e(d);var v=Je(c,l,d);v!==null&&(Wo(v,c,d),Ye(v,c,d)),c={cache:jd()},l.payload=c;return}c=c.return}}function Yd(l,c,d){var v=Ho();d={lane:v,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},$0(l)?Sx(c,d):(d=Ol(l,c,d,v),d!==null&&(Wo(d,l,v),Cx(d,c,v)))}function Ex(l,c,d){var v=Ho();Kd(l,c,d,v)}function Kd(l,c,d,v){var A={lane:v,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if($0(l))Sx(c,A);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var K=c.lastRenderedState,ue=N(K,d);if(A.hasEagerState=!0,A.eagerState=ue,vi(ue,K))return Dl(l,c,A,0),_r===null&&lo(),!1}catch{}finally{}if(d=Ol(l,c,A,v),d!==null)return Wo(d,l,v),Cx(d,c,v),!0}return!1}function Xm(l,c,d,v){if(v={lane:2,revertLane:C2(),action:v,hasEagerState:!1,eagerState:null,next:null},$0(l)){if(c)throw Error(r(479))}else c=Ol(l,d,v,2),c!==null&&Wo(c,l,2)}function $0(l){var c=l.alternate;return l===Lt||c!==null&&c===Lt}function Sx(l,c){_i=Tn=!0;var d=l.pending;d===null?c.next=c:(c.next=d.next,d.next=c),l.pending=c}function Cx(l,c,d){if((d&4194048)!==0){var v=c.lanes;v&=l.pendingLanes,d|=v,c.lanes=d,nn(l,d)}}var X0={readContext:oi,use:Ea,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn},Ix={readContext:oi,use:Ea,useCallback:function(l,c){return ra().memoizedState=[l,c===void 0?null:c],l},useContext:oi,useEffect:zd,useImperativeHandle:function(l,c,d){d=d!=null?d.concat([l]):null,Uo(4194308,4,H0.bind(null,c,l),d)},useLayoutEffect:function(l,c){return Uo(4194308,4,l,c)},useInsertionEffect:function(l,c){Uo(4,2,l,c)},useMemo:function(l,c){var d=ra();c=c===void 0?null:c;var v=l();if(li){Nt(!0);try{l()}finally{Nt(!1)}}return d.memoizedState=[v,c],v},useReducer:function(l,c,d){var v=ra();if(d!==void 0){var A=d(c);if(li){Nt(!0);try{d(c)}finally{Nt(!1)}}}else A=c;return v.memoizedState=v.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},v.queue=l,l=l.dispatch=Yd.bind(null,Lt,l),[v.memoizedState,l]},useRef:function(l){var c=ra();return l={current:l},c.memoizedState=l},useState:function(l){l=Of(l);var c=l.queue,d=Ex.bind(null,Lt,c);return c.dispatch=d,[l.memoizedState,d]},useDebugValue:Wd,useDeferredValue:function(l,c){var d=ra();return Du(d,l,c)},useTransition:function(){var l=Of(!1);return l=kf.bind(null,Lt,l.queue,!0,!1),ra().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,d){var v=Lt,A=ra();if(Pn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=c(),_r===null)throw Error(r(349));(Rn&124)!==0||Ch(v,c,d)}A.memoizedState=d;var N={value:d,getSnapshot:c};return A.queue=N,zd(bc.bind(null,v,N,l),[l]),v.flags|=2048,Xs(9,Lf(),Df.bind(null,v,N,d,c),null),d},useId:function(){var l=ra(),c=_r.identifierPrefix;if(Pn){var d=qs,v=zs;d=(v&~(1<<32-_t(v)-1)).toString(32)+d,c="«"+c+"R"+d,d=Fr++,0<d&&(c+="H"+d.toString(32)),c+="»"}else d=fo++,c="«"+c+"r"+d.toString(32)+"»";return l.memoizedState=c},useHostTransitionStatus:jf,useFormState:Pf,useActionState:Pf,useOptimistic:function(l){var c=ra();c.memoizedState=c.baseState=l;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=Xm.bind(null,Lt,!0,d),d.dispatch=c,[l,c]},useMemoCache:Ul,useCacheRefresh:function(){return ra().memoizedState=Xd.bind(null,Lt)}},Tx={readContext:oi,use:Ea,useCallback:Gd,useContext:oi,useEffect:q0,useImperativeHandle:Hd,useInsertionEffect:qd,useLayoutEffect:Nu,useMemo:W0,useReducer:Rf,useRef:Th,useState:function(){return Rf(Sa)},useDebugValue:Wd,useDeferredValue:function(l,c){var d=Sr();return Rh(d,Ht.memoizedState,l,c)},useTransition:function(){var l=Rf(Sa)[0],c=Sr().memoizedState;return[typeof l=="boolean"?l:Fl(l),c]},useSyncExternalStore:Nf,useId:$d,useHostTransitionStatus:jf,useFormState:Ih,useActionState:Ih,useOptimistic:function(l,c){var d=Sr();return $s(d,Ht,l,c)},useMemoCache:Ul,useCacheRefresh:G0},Y8={readContext:oi,use:Ea,useCallback:Gd,useContext:oi,useEffect:q0,useImperativeHandle:Hd,useInsertionEffect:qd,useLayoutEffect:Nu,useMemo:W0,useReducer:Sh,useRef:Th,useState:function(){return Sh(Sa)},useDebugValue:Wd,useDeferredValue:function(l,c){var d=Sr();return Ht===null?Du(d,l,c):Rh(d,Ht.memoizedState,l,c)},useTransition:function(){var l=Sh(Sa)[0],c=Sr().memoizedState;return[typeof l=="boolean"?l:Fl(l),c]},useSyncExternalStore:Nf,useId:$d,useHostTransitionStatus:jf,useFormState:z0,useActionState:z0,useOptimistic:function(l,c){var d=Sr();return Ht!==null?$s(d,Ht,l,c):(d.baseState=l,[l,d.queue.dispatch])},useMemoCache:Ul,useCacheRefresh:G0},Nh=null,Qd=0;function Y0(l){var c=Qd;return Qd+=1,Nh===null&&(Nh=[]),Le(Nh,l,c)}function Zd(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function K0(l,c){throw c.$$typeof===p?Error(r(525)):(l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function Rx(l){var c=l._init;return c(l._payload)}function Nx(l){function c(Ne,Ae){if(l){var Pe=Ne.deletions;Pe===null?(Ne.deletions=[Ae],Ne.flags|=16):Pe.push(Ae)}}function d(Ne,Ae){if(!l)return null;for(;Ae!==null;)c(Ne,Ae),Ae=Ae.sibling;return null}function v(Ne){for(var Ae=new Map;Ne!==null;)Ne.key!==null?Ae.set(Ne.key,Ne):Ae.set(Ne.index,Ne),Ne=Ne.sibling;return Ae}function A(Ne,Ae){return Ne=fs(Ne,Ae),Ne.index=0,Ne.sibling=null,Ne}function N(Ne,Ae,Pe){return Ne.index=Pe,l?(Pe=Ne.alternate,Pe!==null?(Pe=Pe.index,Pe<Ae?(Ne.flags|=67108866,Ae):Pe):(Ne.flags|=67108866,Ae)):(Ne.flags|=1048576,Ae)}function K(Ne){return l&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function ue(Ne,Ae,Pe,Qe){return Ae===null||Ae.tag!==6?(Ae=yh(Pe,Ne.mode,Qe),Ae.return=Ne,Ae):(Ae=A(Ae,Pe),Ae.return=Ne,Ae)}function ye(Ne,Ae,Pe,Qe){var St=Pe.type;return St===x?Xe(Ne,Ae,Pe.props.children,Qe,Pe.key):Ae!==null&&(Ae.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===E&&Rx(St)===Ae.type)?(Ae=A(Ae,Pe.props),Zd(Ae,Pe),Ae.return=Ne,Ae):(Ae=Au(Pe.type,Pe.key,Pe.props,null,Ne.mode,Qe),Zd(Ae,Pe),Ae.return=Ne,Ae)}function Me(Ne,Ae,Pe,Qe){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Pe.containerInfo||Ae.stateNode.implementation!==Pe.implementation?(Ae=Af(Pe,Ne.mode,Qe),Ae.return=Ne,Ae):(Ae=A(Ae,Pe.children||[]),Ae.return=Ne,Ae)}function Xe(Ne,Ae,Pe,Qe,St){return Ae===null||Ae.tag!==7?(Ae=Us(Pe,Ne.mode,Qe,St),Ae.return=Ne,Ae):(Ae=A(Ae,Pe),Ae.return=Ne,Ae)}function et(Ne,Ae,Pe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=yh(""+Ae,Ne.mode,Pe),Ae.return=Ne,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case g:return Pe=Au(Ae.type,Ae.key,Ae.props,null,Ne.mode,Pe),Zd(Pe,Ae),Pe.return=Ne,Pe;case m:return Ae=Af(Ae,Ne.mode,Pe),Ae.return=Ne,Ae;case E:var Qe=Ae._init;return Ae=Qe(Ae._payload),et(Ne,Ae,Pe)}if(te(Ae)||L(Ae))return Ae=Us(Ae,Ne.mode,Pe,null),Ae.return=Ne,Ae;if(typeof Ae.then=="function")return et(Ne,Y0(Ae),Pe);if(Ae.$$typeof===j)return et(Ne,Ml(Ne,Ae),Pe);K0(Ne,Ae)}return null}function Be(Ne,Ae,Pe,Qe){var St=Ae!==null?Ae.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return St!==null?null:ue(Ne,Ae,""+Pe,Qe);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case g:return Pe.key===St?ye(Ne,Ae,Pe,Qe):null;case m:return Pe.key===St?Me(Ne,Ae,Pe,Qe):null;case E:return St=Pe._init,Pe=St(Pe._payload),Be(Ne,Ae,Pe,Qe)}if(te(Pe)||L(Pe))return St!==null?null:Xe(Ne,Ae,Pe,Qe,null);if(typeof Pe.then=="function")return Be(Ne,Ae,Y0(Pe),Qe);if(Pe.$$typeof===j)return Be(Ne,Ae,Ml(Ne,Pe),Qe);K0(Ne,Pe)}return null}function Fe(Ne,Ae,Pe,Qe,St){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Ne=Ne.get(Pe)||null,ue(Ae,Ne,""+Qe,St);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case g:return Ne=Ne.get(Qe.key===null?Pe:Qe.key)||null,ye(Ae,Ne,Qe,St);case m:return Ne=Ne.get(Qe.key===null?Pe:Qe.key)||null,Me(Ae,Ne,Qe,St);case E:var pn=Qe._init;return Qe=pn(Qe._payload),Fe(Ne,Ae,Pe,Qe,St)}if(te(Qe)||L(Qe))return Ne=Ne.get(Pe)||null,Xe(Ae,Ne,Qe,St,null);if(typeof Qe.then=="function")return Fe(Ne,Ae,Pe,Y0(Qe),St);if(Qe.$$typeof===j)return Fe(Ne,Ae,Pe,Ml(Ae,Qe),St);K0(Ae,Qe)}return null}function Yt(Ne,Ae,Pe,Qe){for(var St=null,pn=null,Pt=Ae,qt=Ae=0,Gi=null;Pt!==null&&qt<Pe.length;qt++){Pt.index>qt?(Gi=Pt,Pt=null):Gi=Pt.sibling;var qn=Be(Ne,Pt,Pe[qt],Qe);if(qn===null){Pt===null&&(Pt=Gi);break}l&&Pt&&qn.alternate===null&&c(Ne,Pt),Ae=N(qn,Ae,qt),pn===null?St=qn:pn.sibling=qn,pn=qn,Pt=Gi}if(qt===Pe.length)return d(Ne,Pt),Pn&&Su(Ne,qt),St;if(Pt===null){for(;qt<Pe.length;qt++)Pt=et(Ne,Pe[qt],Qe),Pt!==null&&(Ae=N(Pt,Ae,qt),pn===null?St=Pt:pn.sibling=Pt,pn=Pt);return Pn&&Su(Ne,qt),St}for(Pt=v(Pt);qt<Pe.length;qt++)Gi=Fe(Pt,Ne,qt,Pe[qt],Qe),Gi!==null&&(l&&Gi.alternate!==null&&Pt.delete(Gi.key===null?qt:Gi.key),Ae=N(Gi,Ae,qt),pn===null?St=Gi:pn.sibling=Gi,pn=Gi);return l&&Pt.forEach(function(Uc){return c(Ne,Uc)}),Pn&&Su(Ne,qt),St}function Vt(Ne,Ae,Pe,Qe){if(Pe==null)throw Error(r(151));for(var St=null,pn=null,Pt=Ae,qt=Ae=0,Gi=null,qn=Pe.next();Pt!==null&&!qn.done;qt++,qn=Pe.next()){Pt.index>qt?(Gi=Pt,Pt=null):Gi=Pt.sibling;var Uc=Be(Ne,Pt,qn.value,Qe);if(Uc===null){Pt===null&&(Pt=Gi);break}l&&Pt&&Uc.alternate===null&&c(Ne,Pt),Ae=N(Uc,Ae,qt),pn===null?St=Uc:pn.sibling=Uc,pn=Uc,Pt=Gi}if(qn.done)return d(Ne,Pt),Pn&&Su(Ne,qt),St;if(Pt===null){for(;!qn.done;qt++,qn=Pe.next())qn=et(Ne,qn.value,Qe),qn!==null&&(Ae=N(qn,Ae,qt),pn===null?St=qn:pn.sibling=qn,pn=qn);return Pn&&Su(Ne,qt),St}for(Pt=v(Pt);!qn.done;qt++,qn=Pe.next())qn=Fe(Pt,Ne,qt,qn.value,Qe),qn!==null&&(l&&qn.alternate!==null&&Pt.delete(qn.key===null?qt:qn.key),Ae=N(qn,Ae,qt),pn===null?St=qn:pn.sibling=qn,pn=qn);return l&&Pt.forEach(function(KC){return c(Ne,KC)}),Pn&&Su(Ne,qt),St}function hr(Ne,Ae,Pe,Qe){if(typeof Pe=="object"&&Pe!==null&&Pe.type===x&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case g:e:{for(var St=Pe.key;Ae!==null;){if(Ae.key===St){if(St=Pe.type,St===x){if(Ae.tag===7){d(Ne,Ae.sibling),Qe=A(Ae,Pe.props.children),Qe.return=Ne,Ne=Qe;break e}}else if(Ae.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===E&&Rx(St)===Ae.type){d(Ne,Ae.sibling),Qe=A(Ae,Pe.props),Zd(Qe,Pe),Qe.return=Ne,Ne=Qe;break e}d(Ne,Ae);break}else c(Ne,Ae);Ae=Ae.sibling}Pe.type===x?(Qe=Us(Pe.props.children,Ne.mode,Qe,Pe.key),Qe.return=Ne,Ne=Qe):(Qe=Au(Pe.type,Pe.key,Pe.props,null,Ne.mode,Qe),Zd(Qe,Pe),Qe.return=Ne,Ne=Qe)}return K(Ne);case m:e:{for(St=Pe.key;Ae!==null;){if(Ae.key===St)if(Ae.tag===4&&Ae.stateNode.containerInfo===Pe.containerInfo&&Ae.stateNode.implementation===Pe.implementation){d(Ne,Ae.sibling),Qe=A(Ae,Pe.children||[]),Qe.return=Ne,Ne=Qe;break e}else{d(Ne,Ae);break}else c(Ne,Ae);Ae=Ae.sibling}Qe=Af(Pe,Ne.mode,Qe),Qe.return=Ne,Ne=Qe}return K(Ne);case E:return St=Pe._init,Pe=St(Pe._payload),hr(Ne,Ae,Pe,Qe)}if(te(Pe))return Yt(Ne,Ae,Pe,Qe);if(L(Pe)){if(St=L(Pe),typeof St!="function")throw Error(r(150));return Pe=St.call(Pe),Vt(Ne,Ae,Pe,Qe)}if(typeof Pe.then=="function")return hr(Ne,Ae,Y0(Pe),Qe);if(Pe.$$typeof===j)return hr(Ne,Ae,Ml(Ne,Pe),Qe);K0(Ne,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,Ae!==null&&Ae.tag===6?(d(Ne,Ae.sibling),Qe=A(Ae,Pe),Qe.return=Ne,Ne=Qe):(d(Ne,Ae),Qe=yh(Pe,Ne.mode,Qe),Qe.return=Ne,Ne=Qe),K(Ne)):d(Ne,Ae)}return function(Ne,Ae,Pe,Qe){try{Qd=0;var St=hr(Ne,Ae,Pe,Qe);return Nh=null,St}catch(Pt){if(Pt===re||Pt===se)throw Pt;var pn=qi(29,Pt,null,Ne.mode);return pn.lanes=Qe,pn.return=Ne,pn}finally{}}}var Dh=Nx(!0),Dx=Nx(!1),vs=me(null),Vl=null;function Sc(l){var c=l.alternate;Z(Ni,Ni.current&1),Z(vs,l),Vl===null&&(c===null||sn.current!==null||c.memoizedState!==null)&&(Vl=l)}function Ox(l){if(l.tag===22){if(Z(Ni,Ni.current),Z(vs,l),Vl===null){var c=l.alternate;c!==null&&c.memoizedState!==null&&(Vl=l)}}else Cc()}function Cc(){Z(Ni,Ni.current),Z(vs,vs.current)}function Ou(l){G(vs),Vl===l&&(Vl=null),G(Ni)}var Ni=me(0);function Q0(l){for(var c=l;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||B2(d)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Ym(l,c,d,v){c=l.memoizedState,d=d(v,c),d=d==null?c:h({},c,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var Km={enqueueSetState:function(l,c,d){l=l._reactInternals;var v=Ho(),A=$e(v);A.payload=c,d!=null&&(A.callback=d),c=Je(l,A,v),c!==null&&(Wo(c,l,v),Ye(c,l,v))},enqueueReplaceState:function(l,c,d){l=l._reactInternals;var v=Ho(),A=$e(v);A.tag=1,A.payload=c,d!=null&&(A.callback=d),c=Je(l,A,v),c!==null&&(Wo(c,l,v),Ye(c,l,v))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var d=Ho(),v=$e(d);v.tag=2,c!=null&&(v.callback=c),c=Je(l,v,d),c!==null&&(Wo(c,l,d),Ye(c,l,d))}};function Px(l,c,d,v,A,N,K){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,N,K):c.prototype&&c.prototype.isPureReactComponent?!El(d,v)||!El(A,N):!0}function Lx(l,c,d,v){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,v),c.state!==l&&Km.enqueueReplaceState(c,c.state,null)}function Bf(l,c){var d=c;if("ref"in c){d={};for(var v in c)v!=="ref"&&(d[v]=c[v])}if(l=l.defaultProps){d===c&&(d=h({},d));for(var A in l)d[A]===void 0&&(d[A]=l[A])}return d}var Z0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function kx(l){Z0(l)}function Mx(l){console.error(l)}function jx(l){Z0(l)}function J0(l,c){try{var d=l.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function Bx(l,c,d){try{var v=l.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Qm(l,c,d){return d=$e(d),d.tag=3,d.payload={element:null},d.callback=function(){J0(l,c)},d}function Fx(l){return l=$e(l),l.tag=3,l}function Ux(l,c,d,v){var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var N=v.value;l.payload=function(){return A(N)},l.callback=function(){Bx(c,d,v)}}var K=d.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(l.callback=function(){Bx(c,d,v),typeof A!="function"&&(Oc===null?Oc=new Set([this]):Oc.add(this));var ue=v.stack;this.componentDidCatch(v.value,{componentStack:ue!==null?ue:""})})}function K8(l,c,d,v,A){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=d.alternate,c!==null&&xc(c,d,A,!0),d=vs.current,d!==null){switch(d.tag){case 13:return Vl===null?b2():d.alternate===null&&Jr===0&&(Jr=3),d.flags&=-257,d.flags|=65536,d.lanes=A,v===ce?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([v]):c.add(v),A2(l,v,A)),!1;case 22:return d.flags|=65536,v===ce?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([v]):d.add(v)),A2(l,v,A)),!1}throw Error(r(435,d.tag))}return A2(l,v,A),b2(),!1}if(Pn)return c=vs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,v!==Md&&(l=Error(r(422),{cause:v}),yc(ln(l,d)))):(v!==Md&&(c=Error(r(423),{cause:v}),yc(ln(c,d))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,v=ln(v,d),A=Qm(l.stateNode,v,A),xt(l,A),Jr!==4&&(Jr=2)),!1;var N=Error(r(520),{cause:v});if(N=ln(N,d),a1===null?a1=[N]:a1.push(N),Jr!==4&&(Jr=2),c===null)return!0;v=ln(v,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,l=A&-A,d.lanes|=l,l=Qm(d.stateNode,v,l),xt(d,l),!1;case 1:if(c=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Oc===null||!Oc.has(N))))return d.flags|=65536,A&=-A,d.lanes|=A,A=Fx(A),Ux(A,l,d,v),xt(d,A),!1}d=d.return}while(d!==null);return!1}var Vx=Error(r(461)),Hi=!1;function ia(l,c,d,v){c.child=l===null?Dx(c,null,d,v):Dh(c,l.child,d,v)}function zx(l,c,d,v,A){d=d.render;var N=c.ref;if("ref"in v){var K={};for(var ue in v)ue!=="ref"&&(K[ue]=v[ue])}else K=v;return gs(c),v=Fo(l,c,d,K,N,A),ue=xr(),l!==null&&!Hi?(Tf(l,c,A),Pu(l,c,A)):(Pn&&ue&&Ef(c),c.flags|=1,ia(l,c,v,A),c.child)}function qx(l,c,d,v,A){if(l===null){var N=d.type;return typeof N=="function"&&!mc(N)&&N.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=N,Hx(l,c,N,v,A)):(l=Au(d.type,null,v,c,c.mode,A),l.ref=c.ref,l.return=c,c.child=l)}if(N=l.child,!a2(l,A)){var K=N.memoizedProps;if(d=d.compare,d=d!==null?d:El,d(K,v)&&l.ref===c.ref)return Pu(l,c,A)}return c.flags|=1,l=fs(N,v),l.ref=c.ref,l.return=c,c.child=l}function Hx(l,c,d,v,A){if(l!==null){var N=l.memoizedProps;if(El(N,v)&&l.ref===c.ref)if(Hi=!1,c.pendingProps=v=N,a2(l,A))(l.flags&131072)!==0&&(Hi=!0);else return c.lanes=l.lanes,Pu(l,c,A)}return Zm(l,c,d,v,A)}function Wx(l,c,d){var v=c.pendingProps,A=v.children,N=l!==null?l.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=N!==null?N.baseLanes|d:d,l!==null){for(A=c.child=l.child,N=0;A!==null;)N=N|A.lanes|A.childLanes,A=A.sibling;c.childLanes=N&~v}else c.childLanes=0,c.child=null;return Gx(l,c,v,d)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&W(c,N!==null?N.cachePool:null),N!==null?Qn(c,N):Vn(),Ox(c);else return c.lanes=c.childLanes=536870912,Gx(l,c,N!==null?N.baseLanes|d:d,d)}else N!==null?(W(c,N.cachePool),Qn(c,N),Cc(),c.memoizedState=null):(l!==null&&W(c,null),Vn(),Cc());return ia(l,c,A,d),c.child}function Gx(l,c,d,v){var A=k();return A=A===null?null:{parent:si._currentValue,pool:A},c.memoizedState={baseLanes:d,cachePool:A},l!==null&&W(c,null),Vn(),Ox(c),l!==null&&xc(l,c,v,!0),null}function ep(l,c){var d=c.ref;if(d===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(l===null||l.ref!==d)&&(c.flags|=4194816)}}function Zm(l,c,d,v,A){return gs(c),d=Fo(l,c,d,v,void 0,A),v=xr(),l!==null&&!Hi?(Tf(l,c,A),Pu(l,c,A)):(Pn&&v&&Ef(c),c.flags|=1,ia(l,c,d,A),c.child)}function $x(l,c,d,v,A,N){return gs(c),c.updateQueue=null,d=Tu(c,v,d,A),jl(l),v=xr(),l!==null&&!Hi?(Tf(l,c,N),Pu(l,c,N)):(Pn&&v&&Ef(c),c.flags|=1,ia(l,c,d,N),c.child)}function Xx(l,c,d,v,A){if(gs(c),c.stateNode===null){var N=yi,K=d.contextType;typeof K=="object"&&K!==null&&(N=oi(K)),N=new d(v,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Km,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=v,N.state=c.memoizedState,N.refs={},be(c),K=d.contextType,N.context=typeof K=="object"&&K!==null?oi(K):yi,N.state=c.memoizedState,K=d.getDerivedStateFromProps,typeof K=="function"&&(Ym(c,d,K,v),N.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(K=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),K!==N.state&&Km.enqueueReplaceState(N,N.state,null),gt(c,v,N,A),Ot(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(l===null){N=c.stateNode;var ue=c.memoizedProps,ye=Bf(d,ue);N.props=ye;var Me=N.context,Xe=d.contextType;K=yi,typeof Xe=="object"&&Xe!==null&&(K=oi(Xe));var et=d.getDerivedStateFromProps;Xe=typeof et=="function"||typeof N.getSnapshotBeforeUpdate=="function",ue=c.pendingProps!==ue,Xe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ue||Me!==K)&&Lx(c,N,v,K),Ue=!1;var Be=c.memoizedState;N.state=Be,gt(c,v,N,A),Ot(),Me=c.memoizedState,ue||Be!==Me||Ue?(typeof et=="function"&&(Ym(c,d,et,v),Me=c.memoizedState),(ye=Ue||Px(c,d,ye,v,Be,Me,K))?(Xe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Me),N.props=v,N.state=Me,N.context=K,v=ye):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{N=c.stateNode,Se(l,c),K=c.memoizedProps,Xe=Bf(d,K),N.props=Xe,et=c.pendingProps,Be=N.context,Me=d.contextType,ye=yi,typeof Me=="object"&&Me!==null&&(ye=oi(Me)),ue=d.getDerivedStateFromProps,(Me=typeof ue=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K!==et||Be!==ye)&&Lx(c,N,v,ye),Ue=!1,Be=c.memoizedState,N.state=Be,gt(c,v,N,A),Ot();var Fe=c.memoizedState;K!==et||Be!==Fe||Ue||l!==null&&l.dependencies!==null&&wh(l.dependencies)?(typeof ue=="function"&&(Ym(c,d,ue,v),Fe=c.memoizedState),(Xe=Ue||Px(c,d,Xe,v,Be,Fe,ye)||l!==null&&l.dependencies!==null&&wh(l.dependencies))?(Me||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(v,Fe,ye),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(v,Fe,ye)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||K===l.memoizedProps&&Be===l.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Be===l.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Fe),N.props=v,N.state=Fe,N.context=ye,v=Xe):(typeof N.componentDidUpdate!="function"||K===l.memoizedProps&&Be===l.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Be===l.memoizedState||(c.flags|=1024),v=!1)}return N=v,ep(l,c),v=(c.flags&128)!==0,N||v?(N=c.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,l!==null&&v?(c.child=Dh(c,l.child,null,A),c.child=Dh(c,null,d,A)):ia(l,c,d,A),c.memoizedState=N.state,l=c.child):l=Pu(l,c,A),l}function Yx(l,c,d,v){return Ga(),c.flags|=256,ia(l,c,d,v),c.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e2(l){return{baseLanes:l,cachePool:J()}}function t2(l,c,d){return l=l!==null?l.childLanes&~d:0,c&&(l|=ys),l}function Kx(l,c,d){var v=c.pendingProps,A=!1,N=(c.flags&128)!==0,K;if((K=N)||(K=l!==null&&l.memoizedState===null?!1:(Ni.current&2)!==0),K&&(A=!0,c.flags&=-129),K=(c.flags&32)!==0,c.flags&=-33,l===null){if(Pn){if(A?Sc(c):Cc(),Pn){var ue=Pr,ye;if(ye=ue){e:{for(ye=ue,ue=hs;ye.nodeType!==8;){if(!ue){ue=null;break e}if(ye=Zs(ye.nextSibling),ye===null){ue=null;break e}}ue=ye}ue!==null?(c.memoizedState={dehydrated:ue,treeContext:Eu!==null?{id:zs,overflow:qs}:null,retryLane:536870912,hydrationErrors:null},ye=qi(18,null,null,0),ye.stateNode=ue,ye.return=c,c.child=ye,ai=c,Pr=null,ye=!0):ye=!1}ye||Cu(c)}if(ue=c.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return B2(ue)?c.lanes=32:c.lanes=536870912,null;Ou(c)}return ue=v.children,v=v.fallback,A?(Cc(),A=c.mode,ue=tp({mode:"hidden",children:ue},A),v=Us(v,A,d,null),ue.return=c,v.return=c,ue.sibling=v,c.child=ue,A=c.child,A.memoizedState=e2(d),A.childLanes=t2(l,K,d),c.memoizedState=Jm,v):(Sc(c),n2(c,ue))}if(ye=l.memoizedState,ye!==null&&(ue=ye.dehydrated,ue!==null)){if(N)c.flags&256?(Sc(c),c.flags&=-257,c=r2(l,c,d)):c.memoizedState!==null?(Cc(),c.child=l.child,c.flags|=128,c=null):(Cc(),A=v.fallback,ue=c.mode,v=tp({mode:"visible",children:v.children},ue),A=Us(A,ue,d,null),A.flags|=2,v.return=c,A.return=c,v.sibling=A,c.child=v,Dh(c,l.child,null,d),v=c.child,v.memoizedState=e2(d),v.childLanes=t2(l,K,d),c.memoizedState=Jm,c=A);else if(Sc(c),B2(ue)){if(K=ue.nextSibling&&ue.nextSibling.dataset,K)var Me=K.dgst;K=Me,v=Error(r(419)),v.stack="",v.digest=K,yc({value:v,source:null,stack:null}),c=r2(l,c,d)}else if(Hi||xc(l,c,d,!1),K=(d&l.childLanes)!==0,Hi||K){if(K=_r,K!==null&&(v=d&-d,v=(v&42)!==0?1:Si(v),v=(v&(K.suspendedLanes|d))!==0?0:v,v!==0&&v!==ye.retryLane))throw ye.retryLane=v,Fs(l,v),Wo(K,l,v),Vx;ue.data==="$?"||b2(),c=r2(l,c,d)}else ue.data==="$?"?(c.flags|=192,c.child=l.child,c=null):(l=ye.treeContext,Pr=Zs(ue.nextSibling),ai=c,Pn=!0,Ll=null,hs=!1,l!==null&&(co[Wa++]=zs,co[Wa++]=qs,co[Wa++]=Eu,zs=l.id,qs=l.overflow,Eu=c),c=n2(c,v.children),c.flags|=4096);return c}return A?(Cc(),A=v.fallback,ue=c.mode,ye=l.child,Me=ye.sibling,v=fs(ye,{mode:"hidden",children:v.children}),v.subtreeFlags=ye.subtreeFlags&65011712,Me!==null?A=fs(Me,A):(A=Us(A,ue,d,null),A.flags|=2),A.return=c,v.return=c,v.sibling=A,c.child=v,v=A,A=c.child,ue=l.child.memoizedState,ue===null?ue=e2(d):(ye=ue.cachePool,ye!==null?(Me=si._currentValue,ye=ye.parent!==Me?{parent:Me,pool:Me}:ye):ye=J(),ue={baseLanes:ue.baseLanes|d,cachePool:ye}),A.memoizedState=ue,A.childLanes=t2(l,K,d),c.memoizedState=Jm,v):(Sc(c),d=l.child,l=d.sibling,d=fs(d,{mode:"visible",children:v.children}),d.return=c,d.sibling=null,l!==null&&(K=c.deletions,K===null?(c.deletions=[l],c.flags|=16):K.push(l)),c.child=d,c.memoizedState=null,d)}function n2(l,c){return c=tp({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function tp(l,c){return l=qi(22,l,null,c),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function r2(l,c,d){return Dh(c,l.child,null,d),l=n2(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function Qx(l,c,d){l.lanes|=c;var v=l.alternate;v!==null&&(v.lanes|=c),_h(l.return,c,d)}function i2(l,c,d,v,A){var N=l.memoizedState;N===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:A}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=v,N.tail=d,N.tailMode=A)}function Zx(l,c,d){var v=c.pendingProps,A=v.revealOrder,N=v.tail;if(ia(l,c,v.children,d),v=Ni.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Qx(l,d,c);else if(l.tag===19)Qx(l,d,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}switch(Z(Ni,v),A){case"forwards":for(d=c.child,A=null;d!==null;)l=d.alternate,l!==null&&Q0(l)===null&&(A=d),d=d.sibling;d=A,d===null?(A=c.child,c.child=null):(A=d.sibling,d.sibling=null),i2(c,!1,A,d,N);break;case"backwards":for(d=null,A=c.child,c.child=null;A!==null;){if(l=A.alternate,l!==null&&Q0(l)===null){c.child=A;break}l=A.sibling,A.sibling=d,d=A,A=l}i2(c,!0,d,null,N);break;case"together":i2(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Pu(l,c,d){if(l!==null&&(c.dependencies=l.dependencies),Dc|=c.lanes,(d&c.childLanes)===0)if(l!==null){if(xc(l,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,d=fs(l,l.pendingProps),c.child=d,d.return=c;l.sibling!==null;)l=l.sibling,d=d.sibling=fs(l,l.pendingProps),d.return=c;d.sibling=null}return c.child}function a2(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&wh(l)))}function Q8(l,c,d){switch(c.tag){case 3:we(c,c.stateNode.containerInfo),kl(c,si,l.memoizedState.cache),Ga();break;case 27:case 5:Ge(c);break;case 4:we(c,c.stateNode.containerInfo);break;case 10:kl(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Sc(c),c.flags|=128,null):(d&c.child.childLanes)!==0?Kx(l,c,d):(Sc(c),l=Pu(l,c,d),l!==null?l.sibling:null);Sc(c);break;case 19:var A=(l.flags&128)!==0;if(v=(d&c.childLanes)!==0,v||(xc(l,c,d,!1),v=(d&c.childLanes)!==0),A){if(v)return Zx(l,c,d);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Z(Ni,Ni.current),v)break;return null;case 22:case 23:return c.lanes=0,Wx(l,c,d);case 24:kl(c,si,l.memoizedState.cache)}return Pu(l,c,d)}function Jx(l,c,d){if(l!==null)if(l.memoizedProps!==c.pendingProps)Hi=!0;else{if(!a2(l,d)&&(c.flags&128)===0)return Hi=!1,Q8(l,c,d);Hi=(l.flags&131072)!==0}else Hi=!1,Pn&&(c.flags&1048576)!==0&&D0(c,xh,c.index);switch(c.lanes=0,c.tag){case 16:e:{l=c.pendingProps;var v=c.elementType,A=v._init;if(v=A(v._payload),c.type=v,typeof v=="function")mc(v)?(l=Bf(v,l),c.tag=1,c=Xx(null,c,v,l,d)):(c.tag=0,c=Zm(null,c,v,l,d));else{if(v!=null){if(A=v.$$typeof,A===z){c.tag=11,c=zx(null,c,v,l,d);break e}else if(A===D){c.tag=14,c=qx(null,c,v,l,d);break e}}throw c=q(v)||v,Error(r(306,c,""))}}return c;case 0:return Zm(l,c,c.type,c.pendingProps,d);case 1:return v=c.type,A=Bf(v,c.pendingProps),Xx(l,c,v,A,d);case 3:e:{if(we(c,c.stateNode.containerInfo),l===null)throw Error(r(387));v=c.pendingProps;var N=c.memoizedState;A=N.element,Se(l,c),gt(c,v,null,d);var K=c.memoizedState;if(v=K.cache,kl(c,si,v),v!==N.cache&&bh(c,[si],d,!0),Ot(),v=K.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:K.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=Yx(l,c,v,d);break e}else if(v!==A){A=ln(Error(r(424)),c),yc(A),c=Yx(l,c,v,d);break e}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Pr=Zs(l.firstChild),ai=c,Pn=!0,Ll=null,hs=!0,d=Dx(c,null,v,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ga(),v===A){c=Pu(l,c,d);break e}ia(l,c,v,d)}c=c.child}return c;case 26:return ep(l,c),l===null?(d=rb(c.type,null,c.pendingProps,null))?c.memoizedState=d:Pn||(d=c.type,l=c.pendingProps,v=gp(ge.current).createElement(d),v[Wn]=c,v[Gn]=l,oa(v,d,l),jn(v),c.stateNode=v):c.memoizedState=rb(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return Ge(c),l===null&&Pn&&(v=c.stateNode=eb(c.type,c.pendingProps,ge.current),ai=c,hs=!0,A=Pr,kc(c.type)?(F2=A,Pr=Zs(v.firstChild)):Pr=A),ia(l,c,c.pendingProps.children,d),ep(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&Pn&&((A=v=Pr)&&(v=SC(v,c.type,c.pendingProps,hs),v!==null?(c.stateNode=v,ai=c,Pr=Zs(v.firstChild),hs=!1,A=!0):A=!1),A||Cu(c)),Ge(c),A=c.type,N=c.pendingProps,K=l!==null?l.memoizedProps:null,v=N.children,k2(A,N)?v=null:K!==null&&k2(A,K)&&(c.flags|=32),c.memoizedState!==null&&(A=Fo(l,c,Bl,null,null,d),p1._currentValue=A),ep(l,c),ia(l,c,v,d),c.child;case 6:return l===null&&Pn&&((l=d=Pr)&&(d=CC(d,c.pendingProps,hs),d!==null?(c.stateNode=d,ai=c,Pr=null,l=!0):l=!1),l||Cu(c)),null;case 13:return Kx(l,c,d);case 4:return we(c,c.stateNode.containerInfo),v=c.pendingProps,l===null?c.child=Dh(c,null,v,d):ia(l,c,v,d),c.child;case 11:return zx(l,c,c.type,c.pendingProps,d);case 7:return ia(l,c,c.pendingProps,d),c.child;case 8:return ia(l,c,c.pendingProps.children,d),c.child;case 12:return ia(l,c,c.pendingProps.children,d),c.child;case 10:return v=c.pendingProps,kl(c,c.type,v.value),ia(l,c,v.children,d),c.child;case 9:return A=c.type._context,v=c.pendingProps.children,gs(c),A=oi(A),v=v(A),c.flags|=1,ia(l,c,v,d),c.child;case 14:return qx(l,c,c.type,c.pendingProps,d);case 15:return Hx(l,c,c.type,c.pendingProps,d);case 19:return Zx(l,c,d);case 31:return v=c.pendingProps,d=c.mode,v={mode:v.mode,children:v.children},l===null?(d=tp(v,d),d.ref=c.ref,c.child=d,d.return=c,c=d):(d=fs(l.child,v),d.ref=c.ref,c.child=d,d.return=c,c=d),c;case 22:return Wx(l,c,d);case 24:return gs(c),v=oi(si),l===null?(A=k(),A===null&&(A=_r,N=jd(),A.pooledCache=N,N.refCount++,N!==null&&(A.pooledCacheLanes|=d),A=N),c.memoizedState={parent:v,cache:A},be(c),kl(c,si,A)):((l.lanes&d)!==0&&(Se(l,c),gt(c,null,null,d),Ot()),A=l.memoizedState,N=c.memoizedState,A.parent!==v?(A={parent:v,cache:v},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),kl(c,si,v)):(v=N.cache,kl(c,si,v),v!==A.cache&&bh(c,[si],d,!0))),ia(l,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Lu(l){l.flags|=4}function e_(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!lb(c)){if(c=vs.current,c!==null&&((Rn&4194048)===Rn?Vl!==null:(Rn&62914560)!==Rn&&(Rn&536870912)===0||c!==Vl))throw Oe=ce,ie;l.flags|=8192}}function np(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?Cn():536870912,l.lanes|=c,kh|=c)}function Jd(l,c){if(!Pn)switch(l.tailMode){case"hidden":c=l.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Vr(l){var c=l.alternate!==null&&l.alternate.child===l.child,d=0,v=0;if(c)for(var A=l.child;A!==null;)d|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)d|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=v,l.childLanes=d,c}function Z8(l,c,d){var v=c.pendingProps;switch(Sf(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(c),null;case 1:return Vr(c),null;case 3:return d=c.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),ps(si),Ie(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(l===null||l.child===null)&&(na(c)?Lu(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,P0())),Vr(c),null;case 26:return d=c.memoizedState,l===null?(Lu(c),d!==null?(Vr(c),e_(c,d)):(Vr(c),c.flags&=-16777217)):d?d!==l.memoizedState?(Lu(c),Vr(c),e_(c,d)):(Vr(c),c.flags&=-16777217):(l.memoizedProps!==v&&Lu(c),Vr(c),c.flags&=-16777217),null;case 27:We(c),d=ge.current;var A=c.type;if(l!==null&&c.stateNode!=null)l.memoizedProps!==v&&Lu(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Vr(c),null}l=ne.current,na(c)?O0(c):(l=eb(A,v,d),c.stateNode=l,Lu(c))}return Vr(c),null;case 5:if(We(c),d=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==v&&Lu(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Vr(c),null}if(l=ne.current,na(c))O0(c);else{switch(A=gp(ge.current),l){case 1:l=A.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:l=A.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":l=A.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":l=A.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":l=A.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof v.is=="string"?A.createElement("select",{is:v.is}):A.createElement("select"),v.multiple?l.multiple=!0:v.size&&(l.size=v.size);break;default:l=typeof v.is=="string"?A.createElement(d,{is:v.is}):A.createElement(d)}}l[Wn]=c,l[Gn]=v;e:for(A=c.child;A!==null;){if(A.tag===5||A.tag===6)l.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}c.stateNode=l;e:switch(oa(l,d,v),d){case"button":case"input":case"select":case"textarea":l=!!v.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Lu(c)}}return Vr(c),c.flags&=-16777217,null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==v&&Lu(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(l=ge.current,na(c)){if(l=c.stateNode,d=c.memoizedProps,v=null,A=ai,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}l[Wn]=c,l=!!(l.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||$_(l.nodeValue,d)),l||Cu(c)}else l=gp(l).createTextNode(v),l[Wn]=c,c.stateNode=l}return Vr(c),null;case 13:if(v=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=na(c),v!==null&&v.dehydrated!==null){if(l===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Wn]=c}else Ga(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Vr(c),A=!1}else A=P0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(Ou(c),c):(Ou(c),null)}if(Ou(c),(c.flags&128)!==0)return c.lanes=d,c;if(d=v!==null,l=l!==null&&l.memoizedState!==null,d){v=c.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool);var N=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(N=v.memoizedState.cachePool.pool),N!==A&&(v.flags|=2048)}return d!==l&&d&&(c.child.flags|=8192),np(c,c.updateQueue),Vr(c),null;case 4:return Ie(),l===null&&N2(c.stateNode.containerInfo),Vr(c),null;case 10:return ps(c.type),Vr(c),null;case 19:if(G(Ni),A=c.memoizedState,A===null)return Vr(c),null;if(v=(c.flags&128)!==0,N=A.rendering,N===null)if(v)Jd(A,!1);else{if(Jr!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(N=Q0(l),N!==null){for(c.flags|=128,Jd(A,!1),l=N.updateQueue,c.updateQueue=l,np(c,l),c.subtreeFlags=0,l=d,d=c.child;d!==null;)wf(d,l),d=d.sibling;return Z(Ni,Ni.current&1|2),c.child}l=l.sibling}A.tail!==null&&ft()>ap&&(c.flags|=128,v=!0,Jd(A,!1),c.lanes=4194304)}else{if(!v)if(l=Q0(N),l!==null){if(c.flags|=128,v=!0,l=l.updateQueue,c.updateQueue=l,np(c,l),Jd(A,!0),A.tail===null&&A.tailMode==="hidden"&&!N.alternate&&!Pn)return Vr(c),null}else 2*ft()-A.renderingStartTime>ap&&d!==536870912&&(c.flags|=128,v=!0,Jd(A,!1),c.lanes=4194304);A.isBackwards?(N.sibling=c.child,c.child=N):(l=A.last,l!==null?l.sibling=N:c.child=N,A.last=N)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=ft(),c.sibling=null,l=Ni.current,Z(Ni,v?l&1|2:l&1),c):(Vr(c),null);case 22:case 23:return Ou(c),Zt(),v=c.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(d&536870912)!==0&&(c.flags&128)===0&&(Vr(c),c.subtreeFlags&6&&(c.flags|=8192)):Vr(c),d=c.updateQueue,d!==null&&np(c,d.retryQueue),d=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==d&&(c.flags|=2048),l!==null&&G(S),null;case 24:return d=null,l!==null&&(d=l.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),ps(si),Vr(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function J8(l,c){switch(Sf(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return ps(si),Ie(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return We(c),null;case 13:if(Ou(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ga()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return G(Ni),null;case 4:return Ie(),null;case 10:return ps(c.type),null;case 22:case 23:return Ou(c),Zt(),l!==null&&G(S),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return ps(si),null;case 25:return null;default:return null}}function t_(l,c){switch(Sf(c),c.tag){case 3:ps(si),Ie();break;case 26:case 27:case 5:We(c);break;case 4:Ie();break;case 13:Ou(c);break;case 19:G(Ni);break;case 10:ps(c.type);break;case 22:case 23:Ou(c),Zt(),l!==null&&G(S);break;case 24:ps(si)}}function e1(l,c){try{var d=c.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var A=v.next;d=A;do{if((d.tag&l)===l){v=void 0;var N=d.create,K=d.inst;v=N(),K.destroy=v}d=d.next}while(d!==A)}}catch(ue){mr(c,c.return,ue)}}function Ic(l,c,d){try{var v=c.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var N=A.next;v=N;do{if((v.tag&l)===l){var K=v.inst,ue=K.destroy;if(ue!==void 0){K.destroy=void 0,A=c;var ye=d,Me=ue;try{Me()}catch(Xe){mr(A,ye,Xe)}}}v=v.next}while(v!==N)}}catch(Xe){mr(c,c.return,Xe)}}function n_(l){var c=l.updateQueue;if(c!==null){var d=l.stateNode;try{Un(c,d)}catch(v){mr(l,l.return,v)}}}function r_(l,c,d){d.props=Bf(l.type,l.memoizedProps),d.state=l.memoizedState;try{d.componentWillUnmount()}catch(v){mr(l,c,v)}}function t1(l,c){try{var d=l.ref;if(d!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof d=="function"?l.refCleanup=d(v):d.current=v}}catch(A){mr(l,c,A)}}function zl(l,c){var d=l.ref,v=l.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(A){mr(l,c,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(A){mr(l,c,A)}else d.current=null}function i_(l){var c=l.type,d=l.memoizedProps,v=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(A){mr(l,l.return,A)}}function o2(l,c,d){try{var v=l.stateNode;_C(v,l.type,d,c),v[Gn]=c}catch(A){mr(l,l.return,A)}}function a_(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&kc(l.type)||l.tag===4}function s2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||a_(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&kc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function l2(l,c,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(l,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(l),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=pp));else if(v!==4&&(v===27&&kc(l.type)&&(d=l.stateNode,c=null),l=l.child,l!==null))for(l2(l,c,d),l=l.sibling;l!==null;)l2(l,c,d),l=l.sibling}function rp(l,c,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?d.insertBefore(l,c):d.appendChild(l);else if(v!==4&&(v===27&&kc(l.type)&&(d=l.stateNode),l=l.child,l!==null))for(rp(l,c,d),l=l.sibling;l!==null;)rp(l,c,d),l=l.sibling}function o_(l){var c=l.stateNode,d=l.memoizedProps;try{for(var v=l.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);oa(c,v,d),c[Wn]=l,c[Gn]=d}catch(N){mr(l,l.return,N)}}var ku=!1,ui=!1,u2=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Wi=null;function eC(l,c){if(l=l.containerInfo,P2=bp,l=ta(l),Ri(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var A=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var K=0,ue=-1,ye=-1,Me=0,Xe=0,et=l,Be=null;t:for(;;){for(var Fe;et!==d||A!==0&&et.nodeType!==3||(ue=K+A),et!==N||v!==0&&et.nodeType!==3||(ye=K+v),et.nodeType===3&&(K+=et.nodeValue.length),(Fe=et.firstChild)!==null;)Be=et,et=Fe;for(;;){if(et===l)break t;if(Be===d&&++Me===A&&(ue=K),Be===N&&++Xe===v&&(ye=K),(Fe=et.nextSibling)!==null)break;et=Be,Be=et.parentNode}et=Fe}d=ue===-1||ye===-1?null:{start:ue,end:ye}}else d=null}d=d||{start:0,end:0}}else d=null;for(L2={focusedElem:l,selectionRange:d},bp=!1,Wi=c;Wi!==null;)if(c=Wi,l=c.child,(c.subtreeFlags&1024)!==0&&l!==null)l.return=c,Wi=l;else for(;Wi!==null;){switch(c=Wi,N=c.alternate,l=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,d=c,A=N.memoizedProps,N=N.memoizedState,v=d.stateNode;try{var Yt=Bf(d.type,A,d.elementType===d.type);l=v.getSnapshotBeforeUpdate(Yt,N),v.__reactInternalSnapshotBeforeUpdate=l}catch(Vt){mr(d,d.return,Vt)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,d=l.nodeType,d===9)j2(l);else if(d===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":j2(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=c.sibling,l!==null){l.return=c.return,Wi=l;break}Wi=c.return}}function l_(l,c,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:Tc(l,d),v&4&&e1(5,d);break;case 1:if(Tc(l,d),v&4)if(l=d.stateNode,c===null)try{l.componentDidMount()}catch(K){mr(d,d.return,K)}else{var A=Bf(d.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(A,c,l.__reactInternalSnapshotBeforeUpdate)}catch(K){mr(d,d.return,K)}}v&64&&n_(d),v&512&&t1(d,d.return);break;case 3:if(Tc(l,d),v&64&&(l=d.updateQueue,l!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{Un(l,c)}catch(K){mr(d,d.return,K)}}break;case 27:c===null&&v&4&&o_(d);case 26:case 5:Tc(l,d),c===null&&v&4&&i_(d),v&512&&t1(d,d.return);break;case 12:Tc(l,d);break;case 13:Tc(l,d),v&4&&f_(l,d),v&64&&(l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(d=uC.bind(null,d),IC(l,d))));break;case 22:if(v=d.memoizedState!==null||ku,!v){c=c!==null&&c.memoizedState!==null||ui,A=ku;var N=ui;ku=v,(ui=c)&&!N?Rc(l,d,(d.subtreeFlags&8772)!==0):Tc(l,d),ku=A,ui=N}break;case 30:break;default:Tc(l,d)}}function u_(l){var c=l.alternate;c!==null&&(l.alternate=null,u_(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&gi(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Lr=null,ho=!1;function Mu(l,c,d){for(d=d.child;d!==null;)c_(l,c,d),d=d.sibling}function c_(l,c,d){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(bt,d)}catch{}switch(d.tag){case 26:ui||zl(d,c),Mu(l,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ui||zl(d,c);var v=Lr,A=ho;kc(d.type)&&(Lr=d.stateNode,ho=!1),Mu(l,c,d),c1(d.stateNode),Lr=v,ho=A;break;case 5:ui||zl(d,c);case 6:if(v=Lr,A=ho,Lr=null,Mu(l,c,d),Lr=v,ho=A,Lr!==null)if(ho)try{(Lr.nodeType===9?Lr.body:Lr.nodeName==="HTML"?Lr.ownerDocument.body:Lr).removeChild(d.stateNode)}catch(N){mr(d,c,N)}else try{Lr.removeChild(d.stateNode)}catch(N){mr(d,c,N)}break;case 18:Lr!==null&&(ho?(l=Lr,Z_(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,d.stateNode),y1(l)):Z_(Lr,d.stateNode));break;case 4:v=Lr,A=ho,Lr=d.stateNode.containerInfo,ho=!0,Mu(l,c,d),Lr=v,ho=A;break;case 0:case 11:case 14:case 15:ui||Ic(2,d,c),ui||Ic(4,d,c),Mu(l,c,d);break;case 1:ui||(zl(d,c),v=d.stateNode,typeof v.componentWillUnmount=="function"&&r_(d,c,v)),Mu(l,c,d);break;case 21:Mu(l,c,d);break;case 22:ui=(v=ui)||d.memoizedState!==null,Mu(l,c,d),ui=v;break;default:Mu(l,c,d)}}function f_(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{y1(l)}catch(d){mr(c,c.return,d)}}function tC(l){switch(l.tag){case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new s_),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new s_),c;default:throw Error(r(435,l.tag))}}function c2(l,c){var d=tC(l);c.forEach(function(v){var A=cC.bind(null,l,v);d.has(v)||(d.add(v),v.then(A,A))})}function Vo(l,c){var d=c.deletions;if(d!==null)for(var v=0;v<d.length;v++){var A=d[v],N=l,K=c,ue=K;e:for(;ue!==null;){switch(ue.tag){case 27:if(kc(ue.type)){Lr=ue.stateNode,ho=!1;break e}break;case 5:Lr=ue.stateNode,ho=!1;break e;case 3:case 4:Lr=ue.stateNode.containerInfo,ho=!0;break e}ue=ue.return}if(Lr===null)throw Error(r(160));c_(N,K,A),Lr=null,ho=!1,N=A.alternate,N!==null&&(N.return=null),A.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)h_(c,l),c=c.sibling}var Qs=null;function h_(l,c){var d=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Vo(c,l),zo(l),v&4&&(Ic(3,l,l.return),e1(3,l),Ic(5,l,l.return));break;case 1:Vo(c,l),zo(l),v&512&&(ui||d===null||zl(d,d.return)),v&64&&ku&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(d=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var A=Qs;if(Vo(c,l),zo(l),v&512&&(ui||d===null||zl(d,d.return)),v&4){var N=d!==null?d.memoizedState:null;if(v=l.memoizedState,d===null)if(v===null)if(l.stateNode===null){e:{v=l.type,d=l.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":N=A.getElementsByTagName("title")[0],(!N||N[Ji]||N[Wn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=A.createElement(v),A.head.insertBefore(N,A.querySelector("head > title"))),oa(N,v,d),N[Wn]=l,jn(N),v=N;break e;case"link":var K=ob("link","href",A).get(v+(d.href||""));if(K){for(var ue=0;ue<K.length;ue++)if(N=K[ue],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){K.splice(ue,1);break t}}N=A.createElement(v),oa(N,v,d),A.head.appendChild(N);break;case"meta":if(K=ob("meta","content",A).get(v+(d.content||""))){for(ue=0;ue<K.length;ue++)if(N=K[ue],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){K.splice(ue,1);break t}}N=A.createElement(v),oa(N,v,d),A.head.appendChild(N);break;default:throw Error(r(468,v))}N[Wn]=l,jn(N),v=N}l.stateNode=v}else sb(A,l.type,l.stateNode);else l.stateNode=ab(A,v,l.memoizedProps);else N!==v?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,v===null?sb(A,l.type,l.stateNode):ab(A,v,l.memoizedProps)):v===null&&l.stateNode!==null&&o2(l,l.memoizedProps,d.memoizedProps)}break;case 27:Vo(c,l),zo(l),v&512&&(ui||d===null||zl(d,d.return)),d!==null&&v&4&&o2(l,l.memoizedProps,d.memoizedProps);break;case 5:if(Vo(c,l),zo(l),v&512&&(ui||d===null||zl(d,d.return)),l.flags&32){A=l.stateNode;try{ma(A,"")}catch(Fe){mr(l,l.return,Fe)}}v&4&&l.stateNode!=null&&(A=l.memoizedProps,o2(l,A,d!==null?d.memoizedProps:A)),v&1024&&(u2=!0);break;case 6:if(Vo(c,l),zo(l),v&4){if(l.stateNode===null)throw Error(r(162));v=l.memoizedProps,d=l.stateNode;try{d.nodeValue=v}catch(Fe){mr(l,l.return,Fe)}}break;case 3:if(yp=null,A=Qs,Qs=mp(c.containerInfo),Vo(c,l),Qs=A,zo(l),v&4&&d!==null&&d.memoizedState.isDehydrated)try{y1(c.containerInfo)}catch(Fe){mr(l,l.return,Fe)}u2&&(u2=!1,d_(l));break;case 4:v=Qs,Qs=mp(l.stateNode.containerInfo),Vo(c,l),zo(l),Qs=v;break;case 12:Vo(c,l),zo(l);break;case 13:Vo(c,l),zo(l),l.child.flags&8192&&l.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(m2=ft()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,c2(l,v)));break;case 22:A=l.memoizedState!==null;var ye=d!==null&&d.memoizedState!==null,Me=ku,Xe=ui;if(ku=Me||A,ui=Xe||ye,Vo(c,l),ui=Xe,ku=Me,zo(l),v&8192)e:for(c=l.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(d===null||ye||ku||ui||Ff(l)),d=null,c=l;;){if(c.tag===5||c.tag===26){if(d===null){ye=d=c;try{if(N=ye.stateNode,A)K=N.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ue=ye.stateNode;var et=ye.memoizedProps.style,Be=et!=null&&et.hasOwnProperty("display")?et.display:null;ue.style.display=Be==null||typeof Be=="boolean"?"":(""+Be).trim()}}catch(Fe){mr(ye,ye.return,Fe)}}}else if(c.tag===6){if(d===null){ye=c;try{ye.stateNode.nodeValue=A?"":ye.memoizedProps}catch(Fe){mr(ye,ye.return,Fe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=l.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,c2(l,d))));break;case 19:Vo(c,l),zo(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,c2(l,v)));break;case 30:break;case 21:break;default:Vo(c,l),zo(l)}}function zo(l){var c=l.flags;if(c&2){try{for(var d,v=l.return;v!==null;){if(a_(v)){d=v;break}v=v.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var A=d.stateNode,N=s2(l);rp(l,N,A);break;case 5:var K=d.stateNode;d.flags&32&&(ma(K,""),d.flags&=-33);var ue=s2(l);rp(l,ue,K);break;case 3:case 4:var ye=d.stateNode.containerInfo,Me=s2(l);l2(l,Me,ye);break;default:throw Error(r(161))}}catch(Xe){mr(l,l.return,Xe)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function d_(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;d_(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function Tc(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)l_(l,c.alternate,c),c=c.sibling}function Ff(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:Ic(4,c,c.return),Ff(c);break;case 1:zl(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&r_(c,c.return,d),Ff(c);break;case 27:c1(c.stateNode);case 26:case 5:zl(c,c.return),Ff(c);break;case 22:c.memoizedState===null&&Ff(c);break;case 30:Ff(c);break;default:Ff(c)}l=l.sibling}}function Rc(l,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,A=l,N=c,K=N.flags;switch(N.tag){case 0:case 11:case 15:Rc(A,N,d),e1(4,N);break;case 1:if(Rc(A,N,d),v=N,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Me){mr(v,v.return,Me)}if(v=N,A=v.updateQueue,A!==null){var ue=v.stateNode;try{var ye=A.shared.hiddenCallbacks;if(ye!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ye.length;A++)In(ye[A],ue)}catch(Me){mr(v,v.return,Me)}}d&&K&64&&n_(N),t1(N,N.return);break;case 27:o_(N);case 26:case 5:Rc(A,N,d),d&&v===null&&K&4&&i_(N),t1(N,N.return);break;case 12:Rc(A,N,d);break;case 13:Rc(A,N,d),d&&K&4&&f_(A,N);break;case 22:N.memoizedState===null&&Rc(A,N,d),t1(N,N.return);break;case 30:break;default:Rc(A,N,d)}c=c.sibling}}function f2(l,c){var d=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==d&&(l!=null&&l.refCount++,d!=null&&Cf(d))}function h2(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Cf(l))}function ql(l,c,d,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)p_(l,c,d,v),c=c.sibling}function p_(l,c,d,v){var A=c.flags;switch(c.tag){case 0:case 11:case 15:ql(l,c,d,v),A&2048&&e1(9,c);break;case 1:ql(l,c,d,v);break;case 3:ql(l,c,d,v),A&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Cf(l)));break;case 12:if(A&2048){ql(l,c,d,v),l=c.stateNode;try{var N=c.memoizedProps,K=N.id,ue=N.onPostCommit;typeof ue=="function"&&ue(K,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ye){mr(c,c.return,ye)}}else ql(l,c,d,v);break;case 13:ql(l,c,d,v);break;case 23:break;case 22:N=c.stateNode,K=c.alternate,c.memoizedState!==null?N._visibility&2?ql(l,c,d,v):n1(l,c):N._visibility&2?ql(l,c,d,v):(N._visibility|=2,Oh(l,c,d,v,(c.subtreeFlags&10256)!==0)),A&2048&&f2(K,c);break;case 24:ql(l,c,d,v),A&2048&&h2(c.alternate,c);break;default:ql(l,c,d,v)}}function Oh(l,c,d,v,A){for(A=A&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var N=l,K=c,ue=d,ye=v,Me=K.flags;switch(K.tag){case 0:case 11:case 15:Oh(N,K,ue,ye,A),e1(8,K);break;case 23:break;case 22:var Xe=K.stateNode;K.memoizedState!==null?Xe._visibility&2?Oh(N,K,ue,ye,A):n1(N,K):(Xe._visibility|=2,Oh(N,K,ue,ye,A)),A&&Me&2048&&f2(K.alternate,K);break;case 24:Oh(N,K,ue,ye,A),A&&Me&2048&&h2(K.alternate,K);break;default:Oh(N,K,ue,ye,A)}c=c.sibling}}function n1(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=l,v=c,A=v.flags;switch(v.tag){case 22:n1(d,v),A&2048&&f2(v.alternate,v);break;case 24:n1(d,v),A&2048&&h2(v.alternate,v);break;default:n1(d,v)}c=c.sibling}}var r1=8192;function Ph(l){if(l.subtreeFlags&r1)for(l=l.child;l!==null;)g_(l),l=l.sibling}function g_(l){switch(l.tag){case 26:Ph(l),l.flags&r1&&l.memoizedState!==null&&UC(Qs,l.memoizedState,l.memoizedProps);break;case 5:Ph(l);break;case 3:case 4:var c=Qs;Qs=mp(l.stateNode.containerInfo),Ph(l),Qs=c;break;case 22:l.memoizedState===null&&(c=l.alternate,c!==null&&c.memoizedState!==null?(c=r1,r1=16777216,Ph(l),r1=c):Ph(l));break;default:Ph(l)}}function m_(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function i1(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];Wi=v,y_(v,l)}m_(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)v_(l),l=l.sibling}function v_(l){switch(l.tag){case 0:case 11:case 15:i1(l),l.flags&2048&&Ic(9,l,l.return);break;case 3:i1(l);break;case 12:i1(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,ip(l)):i1(l);break;default:i1(l)}}function ip(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];Wi=v,y_(v,l)}m_(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:Ic(8,c,c.return),ip(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,ip(c));break;default:ip(c)}l=l.sibling}}function y_(l,c){for(;Wi!==null;){var d=Wi;switch(d.tag){case 0:case 11:case 15:Ic(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Cf(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Wi=v;else e:for(d=l;Wi!==null;){v=Wi;var A=v.sibling,N=v.return;if(u_(v),v===d){Wi=null;break e}if(A!==null){A.return=N,Wi=A;break e}Wi=N}}}var nC={getCacheForType:function(l){var c=oi(si),d=c.data.get(l);return d===void 0&&(d=l(),c.data.set(l,d)),d}},rC=typeof WeakMap=="function"?WeakMap:Map,nr=0,_r=null,xn=null,Rn=0,rr=0,qo=null,Nc=!1,Lh=!1,d2=!1,ju=0,Jr=0,Dc=0,Uf=0,p2=0,ys=0,kh=0,a1=null,po=null,g2=!1,m2=0,ap=1/0,op=null,Oc=null,aa=0,Pc=null,Mh=null,jh=0,v2=0,y2=null,x_=null,o1=0,x2=null;function Ho(){if((nr&2)!==0&&Rn!==0)return Rn&-Rn;if(V.T!==null){var l=Iu;return l!==0?l:C2()}return pr()}function __(){ys===0&&(ys=(Rn&536870912)===0||Pn?pa():536870912);var l=vs.current;return l!==null&&(l.flags|=32),ys}function Wo(l,c,d){(l===_r&&(rr===2||rr===9)||l.cancelPendingCommit!==null)&&(Bh(l,0),Lc(l,Rn,ys,!1)),sr(l,d),((nr&2)===0||l!==_r)&&(l===_r&&((nr&2)===0&&(Uf|=d),Jr===4&&Lc(l,Rn,ys,!1)),Hl(l))}function b_(l,c,d){if((nr&6)!==0)throw Error(r(327));var v=!d&&(c&124)===0&&(c&l.expiredLanes)===0||pi(l,c),A=v?oC(l,c):w2(l,c,!0),N=v;do{if(A===0){Lh&&!v&&Lc(l,c,0,!1);break}else{if(d=l.current.alternate,N&&!iC(d)){A=w2(l,c,!1),N=!1;continue}if(A===2){if(N=c,l.errorRecoveryDisabledLanes&N)var K=0;else K=l.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){c=K;e:{var ue=l;A=a1;var ye=ue.current.memoizedState.isDehydrated;if(ye&&(Bh(ue,K).flags|=256),K=w2(ue,K,!1),K!==2){if(d2&&!ye){ue.errorRecoveryDisabledLanes|=N,Uf|=N,A=4;break e}N=po,po=A,N!==null&&(po===null?po=N:po.push.apply(po,N))}A=K}if(N=!1,A!==2)continue}}if(A===1){Bh(l,0),Lc(l,c,0,!0);break}e:{switch(v=l,N=A,N){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Lc(v,c,ys,!Nc);break e;case 2:po=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(A=m2+300-ft(),10<A)){if(Lc(v,c,ys,!Nc),An(v,0,!0)!==0)break e;v.timeoutHandle=K_(w_.bind(null,v,d,po,op,g2,c,ys,Uf,kh,Nc,N,2,-0,0),A);break e}w_(v,d,po,op,g2,c,ys,Uf,kh,Nc,N,0,-0,0)}}break}while(!0);Hl(l)}function w_(l,c,d,v,A,N,K,ue,ye,Me,Xe,et,Be,Fe){if(l.timeoutHandle=-1,et=c.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(d1={stylesheets:null,count:0,unsuspend:FC},g_(c),et=VC(),et!==null)){l.cancelPendingCommit=et(R_.bind(null,l,c,N,d,v,A,K,ue,ye,Xe,1,Be,Fe)),Lc(l,N,K,!Me);return}R_(l,c,N,d,v,A,K,ue,ye)}function iC(l){for(var c=l;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var A=d[v],N=A.getSnapshot;A=A.value;try{if(!vi(N(),A))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Lc(l,c,d,v){c&=~p2,c&=~Uf,l.suspendedLanes|=c,l.pingedLanes&=~c,v&&(l.warmLanes|=c),v=l.expirationTimes;for(var A=c;0<A;){var N=31-_t(A),K=1<<N;v[N]=-1,A&=~K}d!==0&&It(l,d,c)}function sp(){return(nr&6)===0?(s1(0),!1):!0}function _2(){if(xn!==null){if(rr===0)var l=xn.return;else l=xn,Ws=xi=null,Eh(l),Nh=null,Qd=0,l=xn;for(;l!==null;)t_(l.alternate,l),l=l.return;xn=null}}function Bh(l,c){var d=l.timeoutHandle;d!==-1&&(l.timeoutHandle=-1,wC(d)),d=l.cancelPendingCommit,d!==null&&(l.cancelPendingCommit=null,d()),_2(),_r=l,xn=d=fs(l.current,null),Rn=c,rr=0,qo=null,Nc=!1,Lh=pi(l,c),d2=!1,kh=ys=p2=Uf=Dc=Jr=0,po=a1=null,g2=!1,(c&8)!==0&&(c|=c&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=c;0<v;){var A=31-_t(v),N=1<<A;c|=l[A],v&=~N}return ju=c,lo(),d}function A_(l,c){Lt=null,V.H=X0,c===re||c===se?(c=Re(),rr=3):c===ie?(c=Re(),rr=4):rr=c===Vx?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,qo=c,xn===null&&(Jr=1,J0(l,ln(c,l.current)))}function E_(){var l=V.H;return V.H=X0,l===null?X0:l}function S_(){var l=V.A;return V.A=nC,l}function b2(){Jr=4,Nc||(Rn&4194048)!==Rn&&vs.current!==null||(Lh=!0),(Dc&134217727)===0&&(Uf&134217727)===0||_r===null||Lc(_r,Rn,ys,!1)}function w2(l,c,d){var v=nr;nr|=2;var A=E_(),N=S_();(_r!==l||Rn!==c)&&(op=null,Bh(l,c)),c=!1;var K=Jr;e:do try{if(rr!==0&&xn!==null){var ue=xn,ye=qo;switch(rr){case 8:_2(),K=6;break e;case 3:case 2:case 9:case 6:vs.current===null&&(c=!0);var Me=rr;if(rr=0,qo=null,Fh(l,ue,ye,Me),d&&Lh){K=0;break e}break;default:Me=rr,rr=0,qo=null,Fh(l,ue,ye,Me)}}aC(),K=Jr;break}catch(Xe){A_(l,Xe)}while(!0);return c&&l.shellSuspendCounter++,Ws=xi=null,nr=v,V.H=A,V.A=N,xn===null&&(_r=null,Rn=0,lo()),K}function aC(){for(;xn!==null;)C_(xn)}function oC(l,c){var d=nr;nr|=2;var v=E_(),A=S_();_r!==l||Rn!==c?(op=null,ap=ft()+500,Bh(l,c)):Lh=pi(l,c);e:do try{if(rr!==0&&xn!==null){c=xn;var N=qo;t:switch(rr){case 1:rr=0,qo=null,Fh(l,c,N,1);break;case 2:case 9:if(he(N)){rr=0,qo=null,I_(c);break}c=function(){rr!==2&&rr!==9||_r!==l||(rr=7),Hl(l)},N.then(c,c);break e;case 3:rr=7;break e;case 4:rr=5;break e;case 7:he(N)?(rr=0,qo=null,I_(c)):(rr=0,qo=null,Fh(l,c,N,7));break;case 5:var K=null;switch(xn.tag){case 26:K=xn.memoizedState;case 5:case 27:var ue=xn;if(!K||lb(K)){rr=0,qo=null;var ye=ue.sibling;if(ye!==null)xn=ye;else{var Me=ue.return;Me!==null?(xn=Me,lp(Me)):xn=null}break t}}rr=0,qo=null,Fh(l,c,N,5);break;case 6:rr=0,qo=null,Fh(l,c,N,6);break;case 8:_2(),Jr=6;break e;default:throw Error(r(462))}}sC();break}catch(Xe){A_(l,Xe)}while(!0);return Ws=xi=null,V.H=v,V.A=A,nr=d,xn!==null?0:(_r=null,Rn=0,lo(),Jr)}function sC(){for(;xn!==null&&!De();)C_(xn)}function C_(l){var c=Jx(l.alternate,l,ju);l.memoizedProps=l.pendingProps,c===null?lp(l):xn=c}function I_(l){var c=l,d=c.alternate;switch(c.tag){case 15:case 0:c=$x(d,c,c.pendingProps,c.type,void 0,Rn);break;case 11:c=$x(d,c,c.pendingProps,c.type.render,c.ref,Rn);break;case 5:Eh(c);default:t_(d,c),c=xn=wf(c,ju),c=Jx(d,c,ju)}l.memoizedProps=l.pendingProps,c===null?lp(l):xn=c}function Fh(l,c,d,v){Ws=xi=null,Eh(c),Nh=null,Qd=0;var A=c.return;try{if(K8(l,A,c,d,Rn)){Jr=1,J0(l,ln(d,l.current)),xn=null;return}}catch(N){if(A!==null)throw xn=A,N;Jr=1,J0(l,ln(d,l.current)),xn=null;return}c.flags&32768?(Pn||v===1?l=!0:Lh||(Rn&536870912)!==0?l=!1:(Nc=l=!0,(v===2||v===9||v===3||v===6)&&(v=vs.current,v!==null&&v.tag===13&&(v.flags|=16384))),T_(c,l)):lp(c)}function lp(l){var c=l;do{if((c.flags&32768)!==0){T_(c,Nc);return}l=c.return;var d=Z8(c.alternate,c,ju);if(d!==null){xn=d;return}if(c=c.sibling,c!==null){xn=c;return}xn=c=l}while(c!==null);Jr===0&&(Jr=5)}function T_(l,c){do{var d=J8(l.alternate,l);if(d!==null){d.flags&=32767,xn=d;return}if(d=l.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(l=l.sibling,l!==null)){xn=l;return}xn=l=d}while(l!==null);Jr=6,xn=null}function R_(l,c,d,v,A,N,K,ue,ye){l.cancelPendingCommit=null;do up();while(aa!==0);if((nr&6)!==0)throw Error(r(327));if(c!==null){if(c===l.current)throw Error(r(177));if(N=c.lanes|c.childLanes,N|=Br,yn(l,d,N,K,ue,ye),l===_r&&(xn=_r=null,Rn=0),Mh=c,Pc=l,jh=d,v2=N,y2=A,x_=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,fC(it,function(){return L_(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=V.T,V.T=null,A=U.p,U.p=2,K=nr,nr|=4;try{eC(l,c,d)}finally{nr=K,U.p=A,V.T=v}}aa=1,N_(),D_(),O_()}}function N_(){if(aa===1){aa=0;var l=Pc,c=Mh,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=V.T,V.T=null;var v=U.p;U.p=2;var A=nr;nr|=4;try{h_(c,l);var N=L2,K=ta(l.containerInfo),ue=N.focusedElem,ye=N.selectionRange;if(K!==ue&&ue&&ue.ownerDocument&&Sl(ue.ownerDocument.documentElement,ue)){if(ye!==null&&Ri(ue)){var Me=ye.start,Xe=ye.end;if(Xe===void 0&&(Xe=Me),"selectionStart"in ue)ue.selectionStart=Me,ue.selectionEnd=Math.min(Xe,ue.value.length);else{var et=ue.ownerDocument||document,Be=et&&et.defaultView||window;if(Be.getSelection){var Fe=Be.getSelection(),Yt=ue.textContent.length,Vt=Math.min(ye.start,Yt),hr=ye.end===void 0?Vt:Math.min(ye.end,Yt);!Fe.extend&&Vt>hr&&(K=hr,hr=Vt,Vt=K);var Ne=js(ue,Vt),Ae=js(ue,hr);if(Ne&&Ae&&(Fe.rangeCount!==1||Fe.anchorNode!==Ne.node||Fe.anchorOffset!==Ne.offset||Fe.focusNode!==Ae.node||Fe.focusOffset!==Ae.offset)){var Pe=et.createRange();Pe.setStart(Ne.node,Ne.offset),Fe.removeAllRanges(),Vt>hr?(Fe.addRange(Pe),Fe.extend(Ae.node,Ae.offset)):(Pe.setEnd(Ae.node,Ae.offset),Fe.addRange(Pe))}}}}for(et=[],Fe=ue;Fe=Fe.parentNode;)Fe.nodeType===1&&et.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<et.length;ue++){var Qe=et[ue];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}bp=!!P2,L2=P2=null}finally{nr=A,U.p=v,V.T=d}}l.current=c,aa=2}}function D_(){if(aa===2){aa=0;var l=Pc,c=Mh,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=V.T,V.T=null;var v=U.p;U.p=2;var A=nr;nr|=4;try{l_(l,c.alternate,c)}finally{nr=A,U.p=v,V.T=d}}aa=3}}function O_(){if(aa===4||aa===3){aa=0,de();var l=Pc,c=Mh,d=jh,v=x_;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?aa=5:(aa=0,Mh=Pc=null,P_(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(Oc=null),Mn(d),c=c.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(bt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=V.T,A=U.p,U.p=2,V.T=null;try{for(var N=l.onRecoverableError,K=0;K<v.length;K++){var ue=v[K];N(ue.value,{componentStack:ue.stack})}}finally{V.T=c,U.p=A}}(jh&3)!==0&&up(),Hl(l),A=l.pendingLanes,(d&4194090)!==0&&(A&42)!==0?l===x2?o1++:(o1=0,x2=l):o1=0,s1(0)}}function P_(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,Cf(c)))}function up(l){return N_(),D_(),O_(),L_()}function L_(){if(aa!==5)return!1;var l=Pc,c=v2;v2=0;var d=Mn(jh),v=V.T,A=U.p;try{U.p=32>d?32:d,V.T=null,d=y2,y2=null;var N=Pc,K=jh;if(aa=0,Mh=Pc=null,jh=0,(nr&6)!==0)throw Error(r(331));var ue=nr;if(nr|=4,v_(N.current),p_(N,N.current,K,d),nr=ue,s1(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(bt,N)}catch{}return!0}finally{U.p=A,V.T=v,P_(l,c)}}function k_(l,c,d){c=ln(d,c),c=Qm(l.stateNode,c,2),l=Je(l,c,2),l!==null&&(sr(l,2),Hl(l))}function mr(l,c,d){if(l.tag===3)k_(l,l,d);else for(;c!==null;){if(c.tag===3){k_(c,l,d);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Oc===null||!Oc.has(v))){l=ln(d,l),d=Fx(2),v=Je(c,d,2),v!==null&&(Ux(d,v,c,l),sr(v,2),Hl(v));break}}c=c.return}}function A2(l,c,d){var v=l.pingCache;if(v===null){v=l.pingCache=new rC;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(d)||(d2=!0,A.add(d),l=lC.bind(null,l,c,d),c.then(l,l))}function lC(l,c,d){var v=l.pingCache;v!==null&&v.delete(c),l.pingedLanes|=l.suspendedLanes&d,l.warmLanes&=~d,_r===l&&(Rn&d)===d&&(Jr===4||Jr===3&&(Rn&62914560)===Rn&&300>ft()-m2?(nr&2)===0&&Bh(l,0):p2|=d,kh===Rn&&(kh=0)),Hl(l)}function M_(l,c){c===0&&(c=Cn()),l=Fs(l,c),l!==null&&(sr(l,c),Hl(l))}function uC(l){var c=l.memoizedState,d=0;c!==null&&(d=c.retryLane),M_(l,d)}function cC(l,c){var d=0;switch(l.tag){case 13:var v=l.stateNode,A=l.memoizedState;A!==null&&(d=A.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),M_(l,d)}function fC(l,c){return ut(l,c)}var cp=null,Uh=null,E2=!1,fp=!1,S2=!1,Vf=0;function Hl(l){l!==Uh&&l.next===null&&(Uh===null?cp=Uh=l:Uh=Uh.next=l),fp=!0,E2||(E2=!0,dC())}function s1(l,c){if(!S2&&fp){S2=!0;do for(var d=!1,v=cp;v!==null;){if(l!==0){var A=v.pendingLanes;if(A===0)var N=0;else{var K=v.suspendedLanes,ue=v.pingedLanes;N=(1<<31-_t(42|l)+1)-1,N&=A&~(K&~ue),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,U_(v,N))}else N=Rn,N=An(v,v===_r?N:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(N&3)===0||pi(v,N)||(d=!0,U_(v,N));v=v.next}while(d);S2=!1}}function hC(){j_()}function j_(){fp=E2=!1;var l=0;Vf!==0&&(bC()&&(l=Vf),Vf=0);for(var c=ft(),d=null,v=cp;v!==null;){var A=v.next,N=B_(v,c);N===0?(v.next=null,d===null?cp=A:d.next=A,A===null&&(Uh=d)):(d=v,(l!==0||(N&3)!==0)&&(fp=!0)),v=A}s1(l)}function B_(l,c){for(var d=l.suspendedLanes,v=l.pingedLanes,A=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var K=31-_t(N),ue=1<<K,ye=A[K];ye===-1?((ue&d)===0||(ue&v)!==0)&&(A[K]=on(ue,c)):ye<=c&&(l.expiredLanes|=ue),N&=~ue}if(c=_r,d=Rn,d=An(l,l===c?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,d===0||l===c&&(rr===2||rr===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&qe(v),l.callbackNode=null,l.callbackPriority=0;if((d&3)===0||pi(l,d)){if(c=d&-d,c===l.callbackPriority)return c;switch(v!==null&&qe(v),Mn(d)){case 2:case 8:d=nt;break;case 32:d=it;break;case 268435456:d=ht;break;default:d=it}return v=F_.bind(null,l),d=ut(d,v),l.callbackPriority=c,l.callbackNode=d,c}return v!==null&&v!==null&&qe(v),l.callbackPriority=2,l.callbackNode=null,2}function F_(l,c){if(aa!==0&&aa!==5)return l.callbackNode=null,l.callbackPriority=0,null;var d=l.callbackNode;if(up()&&l.callbackNode!==d)return null;var v=Rn;return v=An(l,l===_r?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(b_(l,v,c),B_(l,ft()),l.callbackNode!=null&&l.callbackNode===d?F_.bind(null,l):null)}function U_(l,c){if(up())return null;b_(l,c,!0)}function dC(){AC(function(){(nr&6)!==0?ut(ze,hC):j_()})}function C2(){return Vf===0&&(Vf=pa()),Vf}function V_(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Do(""+l)}function z_(l,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,l.id&&d.setAttribute("form",l.id),c.parentNode.insertBefore(d,c),l=new FormData(l),d.parentNode.removeChild(d),l}function pC(l,c,d,v,A){if(c==="submit"&&d&&d.stateNode===A){var N=V_((A[Gn]||null).action),K=v.submitter;K&&(c=(c=K[Gn]||null)?V_(c.formAction):K.getAttribute("formAction"),c!==null&&(N=c,K=null));var ue=new ns("action","action",null,v,A);l.push({event:ue,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Vf!==0){var ye=K?z_(A,K):new FormData(A);ms(d,{pending:!0,data:ye,method:A.method,action:N},null,ye)}}else typeof N=="function"&&(ue.preventDefault(),ye=K?z_(A,K):new FormData(A),ms(d,{pending:!0,data:ye,method:A.method,action:N},N,ye))},currentTarget:A}]})}}for(var I2=0;I2<bu.length;I2++){var T2=bu[I2],gC=T2.toLowerCase(),mC=T2[0].toUpperCase()+T2.slice(1);Or(gC,"on"+mC)}Or(pc,"onAnimationEnd"),Or(Il,"onAnimationIteration"),Or(Tl,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Rl,"onTransitionRun"),Or(_u,"onTransitionStart"),Or(gc,"onTransitionCancel"),Or(Nl,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var l1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(l1));function q_(l,c){c=(c&4)!==0;for(var d=0;d<l.length;d++){var v=l[d],A=v.event;v=v.listeners;e:{var N=void 0;if(c)for(var K=v.length-1;0<=K;K--){var ue=v[K],ye=ue.instance,Me=ue.currentTarget;if(ue=ue.listener,ye!==N&&A.isPropagationStopped())break e;N=ue,A.currentTarget=Me;try{N(A)}catch(Xe){Z0(Xe)}A.currentTarget=null,N=ye}else for(K=0;K<v.length;K++){if(ue=v[K],ye=ue.instance,Me=ue.currentTarget,ue=ue.listener,ye!==N&&A.isPropagationStopped())break e;N=ue,A.currentTarget=Me;try{N(A)}catch(Xe){Z0(Xe)}A.currentTarget=null,N=ye}}}}function _n(l,c){var d=c[Er];d===void 0&&(d=c[Er]=new Set);var v=l+"__bubble";d.has(v)||(H_(c,l,2,!1),d.add(v))}function R2(l,c,d){var v=0;c&&(v|=4),H_(d,l,v,c)}var hp="_reactListening"+Math.random().toString(36).slice(2);function N2(l){if(!l[hp]){l[hp]=!0,So.forEach(function(d){d!=="selectionchange"&&(vC.has(d)||R2(d,!1,l),R2(d,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[hp]||(c[hp]=!0,R2("selectionchange",!1,c))}}function H_(l,c,d,v){switch(pb(c)){case 2:var A=HC;break;case 8:A=WC;break;default:A=H2}d=A.bind(null,c,d,l),A=void 0,!ea||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?l.addEventListener(c,d,{capture:!0,passive:A}):l.addEventListener(c,d,!0):A!==void 0?l.addEventListener(c,d,{passive:A}):l.addEventListener(c,d,!1)}function D2(l,c,d,v,A){var N=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var K=v.tag;if(K===3||K===4){var ue=v.stateNode.containerInfo;if(ue===A)break;if(K===4)for(K=v.return;K!==null;){var ye=K.tag;if((ye===3||ye===4)&&K.stateNode.containerInfo===A)return;K=K.return}for(;ue!==null;){if(K=ti(ue),K===null)return;if(ye=K.tag,ye===5||ye===6||ye===26||ye===27){v=N=K;continue e}ue=ue.parentNode}}v=v.return}uc(function(){var Me=N,Xe=er(d),et=[];e:{var Be=Bs.get(l);if(Be!==void 0){var Fe=ns,Yt=l;switch(l){case"keypress":if(xa(d)===0)break e;case"keydown":case"keyup":Fe=ko;break;case"focusin":Yt="focus",Fe=is;break;case"focusout":Yt="blur",Fe=is;break;case"beforeblur":case"afterblur":Fe=is;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=rs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=bl;break;case pc:case Il:case Tl:Fe=yl;break;case Nl:Fe=ee;break;case"scroll":case"scrollend":Fe=pu;break;case"wheel":Fe=xe;break;case"copy":case"cut":case"paste":Fe=xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Ms;break;case"toggle":case"beforetoggle":Fe=Ve}var Vt=(c&4)!==0,hr=!Vt&&(l==="scroll"||l==="scrollend"),Ne=Vt?Be!==null?Be+"Capture":null:Be;Vt=[];for(var Ae=Me,Pe;Ae!==null;){var Qe=Ae;if(Pe=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Pe===null||Ne===null||(Qe=Fi(Ae,Ne),Qe!=null&&Vt.push(u1(Ae,Qe,Pe))),hr)break;Ae=Ae.return}0<Vt.length&&(Be=new Fe(Be,Yt,null,d,Xe),et.push({event:Be,listeners:Vt}))}}if((c&7)===0){e:{if(Be=l==="mouseover"||l==="pointerover",Fe=l==="mouseout"||l==="pointerout",Be&&d!==eo&&(Yt=d.relatedTarget||d.fromElement)&&(ti(Yt)||Yt[gr]))break e;if((Fe||Be)&&(Be=Xe.window===Xe?Xe:(Be=Xe.ownerDocument)?Be.defaultView||Be.parentWindow:window,Fe?(Yt=d.relatedTarget||d.toElement,Fe=Me,Yt=Yt?ti(Yt):null,Yt!==null&&(hr=a(Yt),Vt=Yt.tag,Yt!==hr||Vt!==5&&Vt!==27&&Vt!==6)&&(Yt=null)):(Fe=null,Yt=Me),Fe!==Yt)){if(Vt=Yr,Qe="onMouseLeave",Ne="onMouseEnter",Ae="mouse",(l==="pointerout"||l==="pointerover")&&(Vt=Ms,Qe="onPointerLeave",Ne="onPointerEnter",Ae="pointer"),hr=Fe==null?Be:ni(Fe),Pe=Yt==null?Be:ni(Yt),Be=new Vt(Qe,Ae+"leave",Fe,d,Xe),Be.target=hr,Be.relatedTarget=Pe,Qe=null,ti(Xe)===Me&&(Vt=new Vt(Ne,Ae+"enter",Yt,d,Xe),Vt.target=Pe,Vt.relatedTarget=hr,Qe=Vt),hr=Qe,Fe&&Yt)t:{for(Vt=Fe,Ne=Yt,Ae=0,Pe=Vt;Pe;Pe=Vh(Pe))Ae++;for(Pe=0,Qe=Ne;Qe;Qe=Vh(Qe))Pe++;for(;0<Ae-Pe;)Vt=Vh(Vt),Ae--;for(;0<Pe-Ae;)Ne=Vh(Ne),Pe--;for(;Ae--;){if(Vt===Ne||Ne!==null&&Vt===Ne.alternate)break t;Vt=Vh(Vt),Ne=Vh(Ne)}Vt=null}else Vt=null;Fe!==null&&W_(et,Be,Fe,Vt,!1),Yt!==null&&hr!==null&&W_(et,hr,Yt,Vt,!0)}}e:{if(Be=Me?ni(Me):window,Fe=Be.nodeName&&Be.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Be.type==="file")var St=hc;else if(Kn(Be))if(mu)St=mh;else{St=kd;var pn=ba}else Fe=Be.nodeName,!Fe||Fe.toLowerCase()!=="input"||Be.type!=="checkbox"&&Be.type!=="radio"?Me&&hu(Me.elementType)&&(St=hc):St=_f;if(St&&(St=St(l,Me))){oo(et,St,d,Xe);break e}pn&&pn(l,Be,Me),l==="focusout"&&Me&&Be.type==="number"&&Me.memoizedProps.value!=null&&Jo(Be,"number",Be.value)}switch(pn=Me?ni(Me):window,l){case"focusin":(Kn(pn)||pn.contentEditable==="true")&&(wa=pn,Mo=Me,us=null);break;case"focusout":us=Mo=wa=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,Dr(et,d,Xe);break;case"selectionchange":if(Cl)break;case"keydown":case"keyup":Dr(et,d,Xe)}var Pt;if(pt)e:{switch(l){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else Ut?ke(l,d)&&(qt="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(qt="onCompositionStart");qt&&($&&d.locale!=="ko"&&(Ut||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Ut&&(Pt=du()):(ya=Xe,ts="value"in ya?ya.value:ya.textContent,Ut=!0)),pn=dp(Me,qt),0<pn.length&&(qt=new Ps(qt,l,null,d,Xe),et.push({event:qt,listeners:pn}),Pt?qt.data=Pt:(Pt=ot(d),Pt!==null&&(qt.data=Pt)))),(Pt=F?dn(l,d):Qt(l,d))&&(qt=dp(Me,"onBeforeInput"),0<qt.length&&(pn=new Ps("onBeforeInput","beforeinput",null,d,Xe),et.push({event:pn,listeners:qt}),pn.data=Pt)),pC(et,l,Me,d,Xe)}q_(et,c)})}function u1(l,c,d){return{instance:l,listener:c,currentTarget:d}}function dp(l,c){for(var d=c+"Capture",v=[];l!==null;){var A=l,N=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||N===null||(A=Fi(l,d),A!=null&&v.unshift(u1(l,A,N)),A=Fi(l,c),A!=null&&v.push(u1(l,A,N))),l.tag===3)return v;l=l.return}return[]}function Vh(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function W_(l,c,d,v,A){for(var N=c._reactName,K=[];d!==null&&d!==v;){var ue=d,ye=ue.alternate,Me=ue.stateNode;if(ue=ue.tag,ye!==null&&ye===v)break;ue!==5&&ue!==26&&ue!==27||Me===null||(ye=Me,A?(Me=Fi(d,N),Me!=null&&K.unshift(u1(d,Me,ye))):A||(Me=Fi(d,N),Me!=null&&K.push(u1(d,Me,ye)))),d=d.return}K.length!==0&&l.push({event:c,listeners:K})}var yC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function G_(l){return(typeof l=="string"?l:""+l).replace(yC,`
`).replace(xC,"")}function $_(l,c){return c=G_(c),G_(l)===c}function pp(){}function fr(l,c,d,v,A,N){switch(d){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||ma(l,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&ma(l,""+v);break;case"className":za(l,"class",v);break;case"tabIndex":za(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":za(l,d,v);break;case"style":fu(l,v,N);break;case"data":if(c!=="object"){za(l,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||d!=="href")){l.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=Do(""+v),l.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(c!=="input"&&fr(l,c,"name",A.name,A,null),fr(l,c,"formEncType",A.formEncType,A,null),fr(l,c,"formMethod",A.formMethod,A,null),fr(l,c,"formTarget",A.formTarget,A,null)):(fr(l,c,"encType",A.encType,A,null),fr(l,c,"method",A.method,A,null),fr(l,c,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=Do(""+v),l.setAttribute(d,v);break;case"onClick":v!=null&&(l.onclick=pp);break;case"onScroll":v!=null&&_n("scroll",l);break;case"onScrollEnd":v!=null&&_n("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(A.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}d=Do(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""+v):l.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""):l.removeAttribute(d);break;case"capture":case"download":v===!0?l.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,v):l.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(d,v):l.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(d):l.setAttribute(d,v);break;case"popover":_n("beforetoggle",l),_n("toggle",l),Va(l,"popover",v);break;case"xlinkActuate":ri(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ri(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ri(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ri(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ri(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ri(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ri(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ri(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ri(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Va(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=No.get(d)||d,Va(l,d,v))}}function O2(l,c,d,v,A,N){switch(d){case"style":fu(l,v,N);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(A.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"children":typeof v=="string"?ma(l,v):(typeof v=="number"||typeof v=="bigint")&&ma(l,""+v);break;case"onScroll":v!=null&&_n("scroll",l);break;case"onScrollEnd":v!=null&&_n("scrollend",l);break;case"onClick":v!=null&&(l.onclick=pp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(A=d.endsWith("Capture"),c=d.slice(2,A?d.length-7:void 0),N=l[Gn]||null,N=N!=null?N[d]:null,typeof N=="function"&&l.removeEventListener(c,N,A),typeof v=="function")){typeof N!="function"&&N!==null&&(d in l?l[d]=null:l.hasAttribute(d)&&l.removeAttribute(d)),l.addEventListener(c,v,A);break e}d in l?l[d]=v:v===!0?l.setAttribute(d,""):Va(l,d,v)}}}function oa(l,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",l),_n("load",l);var v=!1,A=!1,N;for(N in d)if(d.hasOwnProperty(N)){var K=d[N];if(K!=null)switch(N){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:fr(l,c,N,K,d,null)}}A&&fr(l,c,"srcSet",d.srcSet,d,null),v&&fr(l,c,"src",d.src,d,null);return;case"input":_n("invalid",l);var ue=N=K=A=null,ye=null,Me=null;for(v in d)if(d.hasOwnProperty(v)){var Xe=d[v];if(Xe!=null)switch(v){case"name":A=Xe;break;case"type":K=Xe;break;case"checked":ye=Xe;break;case"defaultChecked":Me=Xe;break;case"value":N=Xe;break;case"defaultValue":ue=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(r(137,c));break;default:fr(l,c,v,Xe,d,null)}}Zo(l,N,ue,ye,Me,K,A,!1),Qo(l);return;case"select":_n("invalid",l),v=K=N=null;for(A in d)if(d.hasOwnProperty(A)&&(ue=d[A],ue!=null))switch(A){case"value":N=ue;break;case"defaultValue":K=ue;break;case"multiple":v=ue;default:fr(l,c,A,ue,d,null)}c=N,d=K,l.multiple=!!v,c!=null?Ja(l,!!v,c,!1):d!=null&&Ja(l,!!v,d,!0);return;case"textarea":_n("invalid",l),N=A=v=null;for(K in d)if(d.hasOwnProperty(K)&&(ue=d[K],ue!=null))switch(K){case"value":v=ue;break;case"defaultValue":A=ue;break;case"children":N=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(91));break;default:fr(l,c,K,ue,d,null)}es(l,v,A,N),Qo(l);return;case"option":for(ye in d)if(d.hasOwnProperty(ye)&&(v=d[ye],v!=null))switch(ye){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:fr(l,c,ye,v,d,null)}return;case"dialog":_n("beforetoggle",l),_n("toggle",l),_n("cancel",l),_n("close",l);break;case"iframe":case"object":_n("load",l);break;case"video":case"audio":for(v=0;v<l1.length;v++)_n(l1[v],l);break;case"image":_n("error",l),_n("load",l);break;case"details":_n("toggle",l);break;case"embed":case"source":case"link":_n("error",l),_n("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in d)if(d.hasOwnProperty(Me)&&(v=d[Me],v!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:fr(l,c,Me,v,d,null)}return;default:if(hu(c)){for(Xe in d)d.hasOwnProperty(Xe)&&(v=d[Xe],v!==void 0&&O2(l,c,Xe,v,d,void 0));return}}for(ue in d)d.hasOwnProperty(ue)&&(v=d[ue],v!=null&&fr(l,c,ue,v,d,null))}function _C(l,c,d,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,N=null,K=null,ue=null,ye=null,Me=null,Xe=null;for(Fe in d){var et=d[Fe];if(d.hasOwnProperty(Fe)&&et!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":ye=et;default:v.hasOwnProperty(Fe)||fr(l,c,Fe,null,v,et)}}for(var Be in v){var Fe=v[Be];if(et=d[Be],v.hasOwnProperty(Be)&&(Fe!=null||et!=null))switch(Be){case"type":N=Fe;break;case"name":A=Fe;break;case"checked":Me=Fe;break;case"defaultChecked":Xe=Fe;break;case"value":K=Fe;break;case"defaultValue":ue=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,c));break;default:Fe!==et&&fr(l,c,Be,Fe,v,et)}}Ii(l,K,ue,ye,Me,Xe,N,A);return;case"select":Fe=K=ue=Be=null;for(N in d)if(ye=d[N],d.hasOwnProperty(N)&&ye!=null)switch(N){case"value":break;case"multiple":Fe=ye;default:v.hasOwnProperty(N)||fr(l,c,N,null,v,ye)}for(A in v)if(N=v[A],ye=d[A],v.hasOwnProperty(A)&&(N!=null||ye!=null))switch(A){case"value":Be=N;break;case"defaultValue":ue=N;break;case"multiple":K=N;default:N!==ye&&fr(l,c,A,N,v,ye)}c=ue,d=K,v=Fe,Be!=null?Ja(l,!!d,Be,!1):!!v!=!!d&&(c!=null?Ja(l,!!d,c,!0):Ja(l,!!d,d?[]:"",!1));return;case"textarea":Fe=Be=null;for(ue in d)if(A=d[ue],d.hasOwnProperty(ue)&&A!=null&&!v.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:fr(l,c,ue,null,v,A)}for(K in v)if(A=v[K],N=d[K],v.hasOwnProperty(K)&&(A!=null||N!=null))switch(K){case"value":Be=A;break;case"defaultValue":Fe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==N&&fr(l,c,K,A,v,N)}Bn(l,Be,Fe);return;case"option":for(var Yt in d)if(Be=d[Yt],d.hasOwnProperty(Yt)&&Be!=null&&!v.hasOwnProperty(Yt))switch(Yt){case"selected":l.selected=!1;break;default:fr(l,c,Yt,null,v,Be)}for(ye in v)if(Be=v[ye],Fe=d[ye],v.hasOwnProperty(ye)&&Be!==Fe&&(Be!=null||Fe!=null))switch(ye){case"selected":l.selected=Be&&typeof Be!="function"&&typeof Be!="symbol";break;default:fr(l,c,ye,Be,v,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in d)Be=d[Vt],d.hasOwnProperty(Vt)&&Be!=null&&!v.hasOwnProperty(Vt)&&fr(l,c,Vt,null,v,Be);for(Me in v)if(Be=v[Me],Fe=d[Me],v.hasOwnProperty(Me)&&Be!==Fe&&(Be!=null||Fe!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,c));break;default:fr(l,c,Me,Be,v,Fe)}return;default:if(hu(c)){for(var hr in d)Be=d[hr],d.hasOwnProperty(hr)&&Be!==void 0&&!v.hasOwnProperty(hr)&&O2(l,c,hr,void 0,v,Be);for(Xe in v)Be=v[Xe],Fe=d[Xe],!v.hasOwnProperty(Xe)||Be===Fe||Be===void 0&&Fe===void 0||O2(l,c,Xe,Be,v,Fe);return}}for(var Ne in d)Be=d[Ne],d.hasOwnProperty(Ne)&&Be!=null&&!v.hasOwnProperty(Ne)&&fr(l,c,Ne,null,v,Be);for(et in v)Be=v[et],Fe=d[et],!v.hasOwnProperty(et)||Be===Fe||Be==null&&Fe==null||fr(l,c,et,Be,v,Fe)}var P2=null,L2=null;function gp(l){return l.nodeType===9?l:l.ownerDocument}function X_(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function k2(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var M2=null;function bC(){var l=window.event;return l&&l.type==="popstate"?l===M2?!1:(M2=l,!0):(M2=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,wC=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,AC=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(l){return Q_.resolve(null).then(l).catch(EC)}:K_;function EC(l){setTimeout(function(){throw l})}function kc(l){return l==="head"}function Z_(l,c){var d=c,v=0,A=0;do{var N=d.nextSibling;if(l.removeChild(d),N&&N.nodeType===8)if(d=N.data,d==="/$"){if(0<v&&8>v){d=v;var K=l.ownerDocument;if(d&1&&c1(K.documentElement),d&2&&c1(K.body),d&4)for(d=K.head,c1(d),K=d.firstChild;K;){var ue=K.nextSibling,ye=K.nodeName;K[Ji]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&K.rel.toLowerCase()==="stylesheet"||d.removeChild(K),K=ue}}if(A===0){l.removeChild(N),y1(c);return}A--}else d==="$"||d==="$?"||d==="$!"?A++:v=d.charCodeAt(0)-48;else v=0;d=N}while(d);y1(c)}function j2(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":j2(d),gi(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}l.removeChild(d)}}function SC(l,c,d,v){for(;l.nodeType===1;){var A=d;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Ji])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var N=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=Zs(l.nextSibling),l===null)break}return null}function CC(l,c,d){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=Zs(l.nextSibling),l===null))return null;return l}function B2(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function IC(l,c){var d=l.ownerDocument;if(l.data!=="$?"||d.readyState==="complete")c();else{var v=function(){c(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function Zs(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return l}var F2=null;function J_(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"){if(c===0)return l;c--}else d==="/$"&&c++}l=l.previousSibling}return null}function eb(l,c,d){switch(c=gp(d),l){case"html":if(l=c.documentElement,!l)throw Error(r(452));return l;case"head":if(l=c.head,!l)throw Error(r(453));return l;case"body":if(l=c.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function c1(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);gi(l)}var xs=new Map,tb=new Set;function mp(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Bu=U.d;U.d={f:TC,r:RC,D:NC,C:DC,L:OC,m:PC,X:kC,S:LC,M:MC};function TC(){var l=Bu.f(),c=sp();return l||c}function RC(l){var c=$r(l);c!==null&&c.tag===5&&c.type==="form"?Mf(c):Bu.r(l)}var zh=typeof document>"u"?null:document;function nb(l,c,d){var v=zh;if(v&&typeof c=="string"&&c){var A=En(c);A='link[rel="'+l+'"][href="'+A+'"]',typeof d=="string"&&(A+='[crossorigin="'+d+'"]'),tb.has(A)||(tb.add(A),l={rel:l,crossOrigin:d,href:c},v.querySelector(A)===null&&(c=v.createElement("link"),oa(c,"link",l),jn(c),v.head.appendChild(c)))}}function NC(l){Bu.D(l),nb("dns-prefetch",l,null)}function DC(l,c){Bu.C(l,c),nb("preconnect",l,c)}function OC(l,c,d){Bu.L(l,c,d);var v=zh;if(v&&l&&c){var A='link[rel="preload"][as="'+En(c)+'"]';c==="image"&&d&&d.imageSrcSet?(A+='[imagesrcset="'+En(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(A+='[imagesizes="'+En(d.imageSizes)+'"]')):A+='[href="'+En(l)+'"]';var N=A;switch(c){case"style":N=qh(l);break;case"script":N=Hh(l)}xs.has(N)||(l=h({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:l,as:c},d),xs.set(N,l),v.querySelector(A)!==null||c==="style"&&v.querySelector(f1(N))||c==="script"&&v.querySelector(h1(N))||(c=v.createElement("link"),oa(c,"link",l),jn(c),v.head.appendChild(c)))}}function PC(l,c){Bu.m(l,c);var d=zh;if(d&&l){var v=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+En(v)+'"][href="'+En(l)+'"]',N=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Hh(l)}if(!xs.has(N)&&(l=h({rel:"modulepreload",href:l},c),xs.set(N,l),d.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(h1(N)))return}v=d.createElement("link"),oa(v,"link",l),jn(v),d.head.appendChild(v)}}}function LC(l,c,d){Bu.S(l,c,d);var v=zh;if(v&&l){var A=lr(v).hoistableStyles,N=qh(l);c=c||"default";var K=A.get(N);if(!K){var ue={loading:0,preload:null};if(K=v.querySelector(f1(N)))ue.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":c},d),(d=xs.get(N))&&U2(l,d);var ye=K=v.createElement("link");jn(ye),oa(ye,"link",l),ye._p=new Promise(function(Me,Xe){ye.onload=Me,ye.onerror=Xe}),ye.addEventListener("load",function(){ue.loading|=1}),ye.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,vp(K,c,v)}K={type:"stylesheet",instance:K,count:1,state:ue},A.set(N,K)}}}function kC(l,c){Bu.X(l,c);var d=zh;if(d&&l){var v=lr(d).hoistableScripts,A=Hh(l),N=v.get(A);N||(N=d.querySelector(h1(A)),N||(l=h({src:l,async:!0},c),(c=xs.get(A))&&V2(l,c),N=d.createElement("script"),jn(N),oa(N,"link",l),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(A,N))}}function MC(l,c){Bu.M(l,c);var d=zh;if(d&&l){var v=lr(d).hoistableScripts,A=Hh(l),N=v.get(A);N||(N=d.querySelector(h1(A)),N||(l=h({src:l,async:!0,type:"module"},c),(c=xs.get(A))&&V2(l,c),N=d.createElement("script"),jn(N),oa(N,"link",l),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(A,N))}}function rb(l,c,d,v){var A=(A=ge.current)?mp(A):null;if(!A)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=qh(d.href),d=lr(A).hoistableStyles,v=d.get(c),v||(v={type:"style",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){l=qh(d.href);var N=lr(A).hoistableStyles,K=N.get(l);if(K||(A=A.ownerDocument||A,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,K),(N=A.querySelector(f1(l)))&&!N._p&&(K.instance=N,K.state.loading=5),xs.has(l)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},xs.set(l,d),N||jC(A,l,d,K.state))),c&&v===null)throw Error(r(528,""));return K}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Hh(d),d=lr(A).hoistableScripts,v=d.get(c),v||(v={type:"script",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function qh(l){return'href="'+En(l)+'"'}function f1(l){return'link[rel="stylesheet"]['+l+"]"}function ib(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function jC(l,c,d,v){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=l.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),oa(c,"link",d),jn(c),l.head.appendChild(c))}function Hh(l){return'[src="'+En(l)+'"]'}function h1(l){return"script[async]"+l}function ab(l,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var v=l.querySelector('style[data-href~="'+En(d.href)+'"]');if(v)return c.instance=v,jn(v),v;var A=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),jn(v),oa(v,"style",A),vp(v,d.precedence,l),c.instance=v;case"stylesheet":A=qh(d.href);var N=l.querySelector(f1(A));if(N)return c.state.loading|=4,c.instance=N,jn(N),N;v=ib(d),(A=xs.get(A))&&U2(v,A),N=(l.ownerDocument||l).createElement("link"),jn(N);var K=N;return K._p=new Promise(function(ue,ye){K.onload=ue,K.onerror=ye}),oa(N,"link",v),c.state.loading|=4,vp(N,d.precedence,l),c.instance=N;case"script":return N=Hh(d.src),(A=l.querySelector(h1(N)))?(c.instance=A,jn(A),A):(v=d,(A=xs.get(N))&&(v=h({},d),V2(v,A)),l=l.ownerDocument||l,A=l.createElement("script"),jn(A),oa(A,"link",v),l.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,vp(v,d.precedence,l));return c.instance}function vp(l,c,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,N=A,K=0;K<v.length;K++){var ue=v[K];if(ue.dataset.precedence===c)N=ue;else if(N!==A)break}N?N.parentNode.insertBefore(l,N.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(l,c.firstChild))}function U2(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function V2(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var yp=null;function ob(l,c,d){if(yp===null){var v=new Map,A=yp=new Map;A.set(d,v)}else A=yp,v=A.get(d),v||(v=new Map,A.set(d,v));if(v.has(l))return v;for(v.set(l,null),d=d.getElementsByTagName(l),A=0;A<d.length;A++){var N=d[A];if(!(N[Ji]||N[Wn]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var K=N.getAttribute(c)||"";K=l+K;var ue=v.get(K);ue?ue.push(N):v.set(K,[N])}}return v}function sb(l,c,d){l=l.ownerDocument||l,l.head.insertBefore(d,c==="title"?l.querySelector("head > title"):null)}function BC(l,c,d){if(d===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function lb(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var d1=null;function FC(){}function UC(l,c,d){if(d1===null)throw Error(r(475));var v=d1;if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var A=qh(d.href),N=l.querySelector(f1(A));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(v.count++,v=xp.bind(v),l.then(v,v)),c.state.loading|=4,c.instance=N,jn(N);return}N=l.ownerDocument||l,d=ib(d),(A=xs.get(A))&&U2(d,A),N=N.createElement("link"),jn(N);var K=N;K._p=new Promise(function(ue,ye){K.onload=ue,K.onerror=ye}),oa(N,"link",d),c.instance=N}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=xp.bind(v),l.addEventListener("load",c),l.addEventListener("error",c))}}function VC(){if(d1===null)throw Error(r(475));var l=d1;return l.stylesheets&&l.count===0&&z2(l,l.stylesheets),0<l.count?function(c){var d=setTimeout(function(){if(l.stylesheets&&z2(l,l.stylesheets),l.unsuspend){var v=l.unsuspend;l.unsuspend=null,v()}},6e4);return l.unsuspend=c,function(){l.unsuspend=null,clearTimeout(d)}}:null}function xp(){if(this.count--,this.count===0){if(this.stylesheets)z2(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var _p=null;function z2(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,_p=new Map,c.forEach(zC,l),_p=null,xp.call(l))}function zC(l,c){if(!(c.state.loading&4)){var d=_p.get(l);if(d)var v=d.get(null);else{d=new Map,_p.set(l,d);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<A.length;N++){var K=A[N];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(d.set(K.dataset.precedence,K),v=K)}v&&d.set(null,v)}A=c.instance,K=A.getAttribute("data-precedence"),N=d.get(K)||v,N===v&&d.set(null,A),d.set(K,A),this.count++,v=xp.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),N?N.parentNode.insertBefore(A,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),c.state.loading|=4}}var p1={$$typeof:j,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function qC(l,c,d,v,A,N,K,ue){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=N,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function ub(l,c,d,v,A,N,K,ue,ye,Me,Xe,et){return l=new qC(l,c,d,K,ue,ye,Me,et),c=1,N===!0&&(c|=24),N=qi(3,null,null,c),l.current=N,N.stateNode=l,c=jd(),c.refCount++,l.pooledCache=c,c.refCount++,N.memoizedState={element:v,isDehydrated:d,cache:c},be(N),l}function cb(l){return l?(l=yi,l):yi}function fb(l,c,d,v,A,N){A=cb(A),v.context===null?v.context=A:v.pendingContext=A,v=$e(c),v.payload={element:d},N=N===void 0?null:N,N!==null&&(v.callback=N),d=Je(l,v,c),d!==null&&(Wo(d,l,c),Ye(d,l,c))}function hb(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<c?d:c}}function q2(l,c){hb(l,c),(l=l.alternate)&&hb(l,c)}function db(l){if(l.tag===13){var c=Fs(l,67108864);c!==null&&Wo(c,l,67108864),q2(l,67108864)}}var bp=!0;function HC(l,c,d,v){var A=V.T;V.T=null;var N=U.p;try{U.p=2,H2(l,c,d,v)}finally{U.p=N,V.T=A}}function WC(l,c,d,v){var A=V.T;V.T=null;var N=U.p;try{U.p=8,H2(l,c,d,v)}finally{U.p=N,V.T=A}}function H2(l,c,d,v){if(bp){var A=W2(v);if(A===null)D2(l,c,v,wp,d),gb(l,v);else if($C(A,l,c,d,v))v.stopPropagation();else if(gb(l,v),c&4&&-1<GC.indexOf(l)){for(;A!==null;){var N=$r(A);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var K=Kt(N.pendingLanes);if(K!==0){var ue=N;for(ue.pendingLanes|=2,ue.entangledLanes|=2;K;){var ye=1<<31-_t(K);ue.entanglements[1]|=ye,K&=~ye}Hl(N),(nr&6)===0&&(ap=ft()+500,s1(0))}}break;case 13:ue=Fs(N,2),ue!==null&&Wo(ue,N,2),sp(),q2(N,2)}if(N=W2(v),N===null&&D2(l,c,v,wp,d),N===A)break;A=N}A!==null&&v.stopPropagation()}else D2(l,c,v,null,d)}}function W2(l){return l=er(l),G2(l)}var wp=null;function G2(l){if(wp=null,l=ti(l),l!==null){var c=a(l);if(c===null)l=null;else{var d=c.tag;if(d===13){if(l=o(c),l!==null)return l;l=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return wp=l,null}function pb(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case ze:return 2;case nt:return 8;case it:case lt:return 32;case ht:return 268435456;default:return 32}default:return 32}}var $2=!1,Mc=null,jc=null,Bc=null,g1=new Map,m1=new Map,Fc=[],GC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gb(l,c){switch(l){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":jc=null;break;case"mouseover":case"mouseout":Bc=null;break;case"pointerover":case"pointerout":g1.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":m1.delete(c.pointerId)}}function v1(l,c,d,v,A,N){return l===null||l.nativeEvent!==N?(l={blockedOn:c,domEventName:d,eventSystemFlags:v,nativeEvent:N,targetContainers:[A]},c!==null&&(c=$r(c),c!==null&&db(c)),l):(l.eventSystemFlags|=v,c=l.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),l)}function $C(l,c,d,v,A){switch(c){case"focusin":return Mc=v1(Mc,l,c,d,v,A),!0;case"dragenter":return jc=v1(jc,l,c,d,v,A),!0;case"mouseover":return Bc=v1(Bc,l,c,d,v,A),!0;case"pointerover":var N=A.pointerId;return g1.set(N,v1(g1.get(N)||null,l,c,d,v,A)),!0;case"gotpointercapture":return N=A.pointerId,m1.set(N,v1(m1.get(N)||null,l,c,d,v,A)),!0}return!1}function mb(l){var c=ti(l.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){l.blockedOn=c,Ua(l.priority,function(){if(d.tag===13){var v=Ho();v=Si(v);var A=Fs(d,v);A!==null&&Wo(A,d,v),q2(d,v)}});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Ap(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var d=W2(l.nativeEvent);if(d===null){d=l.nativeEvent;var v=new d.constructor(d.type,d);eo=v,d.target.dispatchEvent(v),eo=null}else return c=$r(d),c!==null&&db(c),l.blockedOn=d,!1;c.shift()}return!0}function vb(l,c,d){Ap(l)&&d.delete(c)}function XC(){$2=!1,Mc!==null&&Ap(Mc)&&(Mc=null),jc!==null&&Ap(jc)&&(jc=null),Bc!==null&&Ap(Bc)&&(Bc=null),g1.forEach(vb),m1.forEach(vb)}function Ep(l,c){l.blockedOn===c&&(l.blockedOn=null,$2||($2=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XC)))}var Sp=null;function yb(l){Sp!==l&&(Sp=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sp===l&&(Sp=null);for(var c=0;c<l.length;c+=3){var d=l[c],v=l[c+1],A=l[c+2];if(typeof v!="function"){if(G2(v||d)===null)continue;break}var N=$r(d);N!==null&&(l.splice(c,3),c-=3,ms(N,{pending:!0,data:A,method:d.method,action:v},v,A))}}))}function y1(l){function c(ye){return Ep(ye,l)}Mc!==null&&Ep(Mc,l),jc!==null&&Ep(jc,l),Bc!==null&&Ep(Bc,l),g1.forEach(c),m1.forEach(c);for(var d=0;d<Fc.length;d++){var v=Fc[d];v.blockedOn===l&&(v.blockedOn=null)}for(;0<Fc.length&&(d=Fc[0],d.blockedOn===null);)mb(d),d.blockedOn===null&&Fc.shift();if(d=(l.ownerDocument||l).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var A=d[v],N=d[v+1],K=A[Gn]||null;if(typeof N=="function")K||yb(d);else if(K){var ue=null;if(N&&N.hasAttribute("formAction")){if(A=N,K=N[Gn]||null)ue=K.formAction;else if(G2(A)!==null)continue}else ue=K.action;typeof ue=="function"?d[v+1]=ue:(d.splice(v,3),v-=3),yb(d)}}}function X2(l){this._internalRoot=l}Cp.prototype.render=X2.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));var d=c.current,v=Ho();fb(d,v,l,c,null,null)},Cp.prototype.unmount=X2.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;fb(l.current,2,null,l,null,null),sp(),c[gr]=null}};function Cp(l){this._internalRoot=l}Cp.prototype.unstable_scheduleHydration=function(l){if(l){var c=pr();l={blockedOn:null,target:l,priority:c};for(var d=0;d<Fc.length&&c!==0&&c<Fc[d].priority;d++);Fc.splice(d,0,l),d===0&&mb(l)}};var xb=e.version;if(xb!=="19.1.0")throw Error(r(527,xb,"19.1.0"));U.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=u(c),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var YC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{bt=Ip.inject(YC),wt=Ip}catch{}}return _1.createRoot=function(l,c){if(!i(l))throw Error(r(299));var d=!1,v="",A=kx,N=Mx,K=jx,ue=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(K=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ue=c.unstable_transitionCallbacks)),c=ub(l,1,!1,null,null,d,v,A,N,K,ue,null),l[gr]=c.current,N2(l),new X2(c)},_1.hydrateRoot=function(l,c,d){if(!i(l))throw Error(r(299));var v=!1,A="",N=kx,K=Mx,ue=jx,ye=null,Me=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(K=d.onCaughtError),d.onRecoverableError!==void 0&&(ue=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ye=d.unstable_transitionCallbacks),d.formState!==void 0&&(Me=d.formState)),c=ub(l,1,!0,c,d??null,v,A,N,K,ue,ye,Me),c.context=cb(null),d=c.current,v=Ho(),v=Si(v),A=$e(v),A.callback=null,Je(d,A,v),d=v,c.current.lanes=d,sr(c,d),Hl(c),l[gr]=c.current,N2(l),new Cp(c)},_1.version="19.1.0",_1}var Rb;function Q4(){if(Rb)return Q2.exports;Rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Q2.exports=iI(),Q2.exports}var aI=Q4();const oI=K4(aI);var b1={},Nb;function sI(){if(Nb)return b1;Nb=1,Object.defineProperty(b1,"__esModule",{value:!0}),b1.parse=o,b1.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,m){const x=new a,b=g.length;if(b<2)return x;const I=(m==null?void 0:m.decode)||h;let C=0;do{const P=g.indexOf("=",C);if(P===-1)break;const j=g.indexOf(";",C),z=j===-1?b:j;if(P>z){C=g.lastIndexOf(";",P-1)+1;continue}const X=s(g,C,P),H=u(g,P,X),D=g.slice(X,H);if(x[D]===void 0){let E=s(g,P+1,z),T=u(g,z,E);const M=I(g.slice(E,T));x[D]=M}C=z+1}while(C<b);return x}function s(g,m,x){do{const b=g.charCodeAt(m);if(b!==32&&b!==9)return m}while(++m<x);return x}function u(g,m,x){for(;m>x;){const b=g.charCodeAt(--m);if(b!==32&&b!==9)return m+1}return x}function f(g,m,x){const b=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const I=b(m);if(!e.test(I))throw new TypeError(`argument val is invalid: ${m}`);let C=g+"="+I;if(!x)return C;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);C+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);C+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);C+="; Path="+x.path}if(x.expires){if(!p(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);C+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(C+="; HttpOnly"),x.secure&&(C+="; Secure"),x.partitioned&&(C+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return C}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return b1}sI();var Db="popstate";function lI(n={}){function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return Wv("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Y1(i)}return cI(e,t,null,n)}function zr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uI(){return Math.random().toString(36).substring(2,10)}function Ob(n,e){return{usr:n.state,key:n.key,idx:e}}function Wv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Sd(e):e,state:t,key:e&&e.key||r||uI()}}function Y1({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Sd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function cI(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function p(){s="POP";let I=h(),C=I==null?null:I-f;f=I,u&&u({action:s,location:b.location,delta:C})}function g(I,C){s="PUSH";let P=Wv(b.location,I,C);f=h()+1;let j=Ob(P,f),z=b.createHref(P);try{o.pushState(j,"",z)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(z)}a&&u&&u({action:s,location:b.location,delta:1})}function m(I,C){s="REPLACE";let P=Wv(b.location,I,C);f=h();let j=Ob(P,f),z=b.createHref(P);o.replaceState(j,"",z),a&&u&&u({action:s,location:b.location,delta:0})}function x(I){return fI(I)}let b={get action(){return s},get location(){return n(i,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Db,p),u=I,()=>{i.removeEventListener(Db,p),u=null}},createHref(I){return e(i,I)},createURL:x,encodeLocation(I){let C=x(I);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:m,go(I){return o.go(I)}};return b}function fI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),zr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Y1(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Z4(n,e,t="/"){return hI(n,e,t,!1)}function hI(n,e,t,r){let i=typeof e=="string"?Sd(e):e,a=$u(i.pathname||"/",t);if(a==null)return null;let o=J4(n);dI(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let f=EI(a);s=wI(o[u],f,r)}return s}function J4(n,e=[],t=[],r=""){let i=(a,o,s)=>{let u={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(zr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=qu([r,u.relativePath]),h=t.concat(u);a.children&&a.children.length>0&&(zr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),J4(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:_I(f,a.index),routesMeta:h})};return n.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let u of eA(a.path))i(a,o,u)}),e}function eA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=eA(r.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&s.push(...o),s.map(u=>n.startsWith("/")&&u===""?"/":u)}function dI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var pI=/^:[\w-]+$/,gI=3,mI=2,vI=1,yI=10,xI=-2,Pb=n=>n==="*";function _I(n,e){let t=n.split("/"),r=t.length;return t.some(Pb)&&(r+=xI),e&&(r+=mI),t.filter(i=>!Pb(i)).reduce((i,a)=>i+(pI.test(a)?gI:a===""?vI:yI),r)}function bI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function wI(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",o=[];for(let s=0;s<r.length;++s){let u=r[s],f=s===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=fg({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),g=u.route;if(!p&&f&&t&&!r[r.length-1].route.index&&(p=fg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:qu([a,p.pathname]),pathnameBase:TI(qu([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=qu([a,p.pathnameBase]))}return o}function fg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=AI(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let x=s[g]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const m=s[g];return p&&!m?f[h]=void 0:f[h]=(m||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:n}}function AI(n,e=!1,t=!0){tu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $u(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function SI(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Sd(n):n;return{pathname:t?t.startsWith("/")?t:CI(t,e):e,search:RI(r),hash:NI(i)}}function CI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function tv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function II(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tA(n){let e=II(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function nA(n,e,t,r=!1){let i;typeof n=="string"?i=Sd(n):(i={...n},zr(!i.pathname||!i.pathname.includes("?"),tv("?","pathname","search",i)),zr(!i.pathname||!i.pathname.includes("#"),tv("#","pathname","hash",i)),zr(!i.search||!i.search.includes("#"),tv("#","search","hash",i)));let a=n===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=t;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}s=p>=0?e[p]:"/"}let u=SI(i,s),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var qu=n=>n.join("/").replace(/\/\/+/g,"/"),TI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function DI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rA=["POST","PUT","PATCH","DELETE"];new Set(rA);var OI=["GET",...rA];new Set(OI);var Cd=pe.createContext(null);Cd.displayName="DataRouter";var Qg=pe.createContext(null);Qg.displayName="DataRouterState";var iA=pe.createContext({isTransitioning:!1});iA.displayName="ViewTransition";var PI=pe.createContext(new Map);PI.displayName="Fetchers";var LI=pe.createContext(null);LI.displayName="Await";var au=pe.createContext(null);au.displayName="Navigation";var c0=pe.createContext(null);c0.displayName="Location";var nc=pe.createContext({outlet:null,matches:[],isDataRoute:!1});nc.displayName="Route";var Jy=pe.createContext(null);Jy.displayName="RouteError";function kI(n,{relative:e}={}){zr(f0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=pe.useContext(au),{hash:i,pathname:a,search:o}=h0(n,{relative:e}),s=a;return t!=="/"&&(s=a==="/"?t:qu([t,a])),r.createHref({pathname:s,search:o,hash:i})}function f0(){return pe.useContext(c0)!=null}function uh(){return zr(f0(),"useLocation() may be used only in the context of a <Router> component."),pe.useContext(c0).location}var aA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oA(n){pe.useContext(au).static||pe.useLayoutEffect(n)}function e5(){let{isDataRoute:n}=pe.useContext(nc);return n?XI():MI()}function MI(){zr(f0(),"useNavigate() may be used only in the context of a <Router> component.");let n=pe.useContext(Cd),{basename:e,navigator:t}=pe.useContext(au),{matches:r}=pe.useContext(nc),{pathname:i}=uh(),a=JSON.stringify(tA(r)),o=pe.useRef(!1);return oA(()=>{o.current=!0}),pe.useCallback((u,f={})=>{if(tu(o.current,aA),!o.current)return;if(typeof u=="number"){t.go(u);return}let h=nA(u,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qu([e,h.pathname])),(f.replace?t.replace:t.push)(h,f.state,f)},[e,t,a,i,n])}pe.createContext(null);function h0(n,{relative:e}={}){let{matches:t}=pe.useContext(nc),{pathname:r}=uh(),i=JSON.stringify(tA(t));return pe.useMemo(()=>nA(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function jI(n,e){return sA(n,e)}function sA(n,e,t,r){var C;zr(f0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=pe.useContext(au),{matches:a}=pe.useContext(nc),o=a[a.length-1],s=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let P=h&&h.path||"";lA(u,!h||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let p=uh(),g;if(e){let P=typeof e=="string"?Sd(e):e;zr(f==="/"||((C=P.pathname)==null?void 0:C.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${P.pathname}" was given in the \`location\` prop.`),g=P}else g=p;let m=g.pathname||"/",x=m;if(f!=="/"){let P=f.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let b=Z4(n,{pathname:x});tu(h||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),tu(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=zI(b&&b.map(P=>Object.assign({},P,{params:Object.assign({},s,P.params),pathname:qu([f,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:qu([f,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,r);return e&&I?pe.createElement(c0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},I):I}function BI(){let n=$I(),e=DI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=pe.createElement(pe.Fragment,null,pe.createElement("p",null,"💿 Hey developer 👋"),pe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",pe.createElement("code",{style:a},"ErrorBoundary")," or"," ",pe.createElement("code",{style:a},"errorElement")," prop on your route.")),pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},e),t?pe.createElement("pre",{style:i},t):null,o)}var FI=pe.createElement(BI,null),UI=class extends pe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?pe.createElement(nc.Provider,{value:this.props.routeContext},pe.createElement(Jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VI({routeContext:n,match:e,children:t}){let r=pe.useContext(Cd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),pe.createElement(nc.Provider,{value:n},t)}function zI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let u=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);zr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,s=-1;if(t)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(s=u),f.route.id){let{loaderData:h,errors:p}=t,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){o=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((u,f,h)=>{let p,g=!1,m=null,x=null;t&&(p=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||FI,o&&(s<0&&h===0?(lA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):s===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,h+1)),I=()=>{let C;return p?C=m:g?C=x:f.route.Component?C=pe.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=u,pe.createElement(VI,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:t!=null},children:C})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?pe.createElement(UI,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:I(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):I()},null)}function t5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qI(n){let e=pe.useContext(Cd);return zr(e,t5(n)),e}function HI(n){let e=pe.useContext(Qg);return zr(e,t5(n)),e}function WI(n){let e=pe.useContext(nc);return zr(e,t5(n)),e}function n5(n){let e=WI(n),t=e.matches[e.matches.length-1];return zr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GI(){return n5("useRouteId")}function $I(){var r;let n=pe.useContext(Jy),e=HI("useRouteError"),t=n5("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function XI(){let{router:n}=qI("useNavigate"),e=n5("useNavigate"),t=pe.useRef(!1);return oA(()=>{t.current=!0}),pe.useCallback(async(i,a={})=>{tu(t.current,aA),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var Lb={};function lA(n,e,t){!e&&!Lb[n]&&(Lb[n]=!0,tu(!1,t))}pe.memo(YI);function YI({routes:n,future:e,state:t}){return sA(n,void 0,t,e)}function Go(n){zr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){zr(!f0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),s=pe.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof t=="string"&&(t=Sd(t));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=t,m=pe.useMemo(()=>{let x=$u(u,o);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:r}},[o,u,f,h,p,g,r]);return tu(m!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:pe.createElement(au.Provider,{value:s},pe.createElement(c0.Provider,{children:e,value:m}))}function QI({children:n,location:e}){return jI(Gv(n),e)}function Gv(n,e=[]){let t=[];return pe.Children.forEach(n,(r,i)=>{if(!pe.isValidElement(r))return;let a=[...e,i];if(r.type===pe.Fragment){t.push.apply(t,Gv(r.props.children,a));return}zr(r.type===Go,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gv(r.props.children,a)),t.push(o)}),t}var Wp="get",Gp="application/x-www-form-urlencoded";function Zg(n){return n!=null&&typeof n.tagName=="string"}function ZI(n){return Zg(n)&&n.tagName.toLowerCase()==="button"}function JI(n){return Zg(n)&&n.tagName.toLowerCase()==="form"}function eT(n){return Zg(n)&&n.tagName.toLowerCase()==="input"}function tT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nT(n,e){return n.button===0&&(!e||e==="_self")&&!tT(n)}var Tp=null;function rT(){if(Tp===null)try{new FormData(document.createElement("form"),0),Tp=!1}catch{Tp=!0}return Tp}var iT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nv(n){return n!=null&&!iT.has(n)?(tu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gp}"`),null):n}function aT(n,e){let t,r,i,a,o;if(JI(n)){let s=n.getAttribute("action");r=s?$u(s,e):null,t=n.getAttribute("method")||Wp,i=nv(n.getAttribute("enctype"))||Gp,a=new FormData(n)}else if(ZI(n)||eT(n)&&(n.type==="submit"||n.type==="image")){let s=n.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||s.getAttribute("action");if(r=u?$u(u,e):null,t=n.getAttribute("formmethod")||s.getAttribute("method")||Wp,i=nv(n.getAttribute("formenctype"))||nv(s.getAttribute("enctype"))||Gp,a=new FormData(s,n),!rT()){let{name:f,type:h,value:p}=n;if(h==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Zg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wp,r=null,i=Gp,o=n}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:o}}function r5(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function oT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lT(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await oT(a,t);return o.links?o.links():[]}return[]}));return hT(r.flat(1).filter(sT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kb(n,e,t,r,i,a){let o=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,s=(u,f)=>{var h;return t[f].pathname!==u.pathname||((h=t[f].route.path)==null?void 0:h.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,f)=>o(u,f)||s(u,f)):a==="data"?e.filter((u,f)=>{var p;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||s(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function uT(n,e,{includeHydrateFallback:t}={}){return cT(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function cT(n){return[...new Set(n)]}function fT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function hT(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(fT(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dT=new Set([100,101,204,205]);function pT(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&$u(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function uA(){let n=pe.useContext(Cd);return r5(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gT(){let n=pe.useContext(Qg);return r5(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var i5=pe.createContext(void 0);i5.displayName="FrameworkContext";function cA(){let n=pe.useContext(i5);return r5(n,"You must render this element inside a <HydratedRouter> element"),n}function mT(n,e){let t=pe.useContext(i5),[r,i]=pe.useState(!1),[a,o]=pe.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,g=pe.useRef(null);pe.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let b=C=>{C.forEach(P=>{o(P.isIntersecting)})},I=new IntersectionObserver(b,{threshold:.5});return g.current&&I.observe(g.current),()=>{I.disconnect()}}},[n]),pe.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let m=()=>{i(!0)},x=()=>{i(!1),o(!1)};return t?n!=="intent"?[a,g,{}]:[a,g,{onFocus:w1(s,m),onBlur:w1(u,x),onMouseEnter:w1(f,m),onMouseLeave:w1(h,x),onTouchStart:w1(p,m)}]:[!1,g,{}]}function w1(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vT({page:n,...e}){let{router:t}=uA(),r=pe.useMemo(()=>Z4(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?pe.createElement(xT,{page:n,matches:r,...e}):null}function yT(n){let{manifest:e,routeModules:t}=cA(),[r,i]=pe.useState([]);return pe.useEffect(()=>{let a=!1;return lT(n,e,t).then(o=>{a||i(o)}),()=>{a=!0}},[n,e,t]),r}function xT({page:n,matches:e,...t}){let r=uh(),{manifest:i,routeModules:a}=cA(),{basename:o}=uA(),{loaderData:s,matches:u}=gT(),f=pe.useMemo(()=>kb(n,e,u,i,r,"data"),[n,e,u,i,r]),h=pe.useMemo(()=>kb(n,e,u,i,r,"assets"),[n,e,u,i,r]),p=pe.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,b=!1;if(e.forEach(C=>{var j;let P=i.routes[C.route.id];!P||!P.hasLoader||(!f.some(z=>z.route.id===C.route.id)&&C.route.id in s&&((j=a[C.route.id])!=null&&j.shouldRevalidate)||P.hasClientLoader?b=!0:x.add(C.route.id))}),x.size===0)return[];let I=pT(n,o);return b&&x.size>0&&I.searchParams.set("_routes",e.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[I.pathname+I.search]},[o,s,r,i,f,e,n,a]),g=pe.useMemo(()=>uT(h,i),[h,i]),m=yT(h);return pe.createElement(pe.Fragment,null,p.map(x=>pe.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),g.map(x=>pe.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),m.map(({key:x,link:b})=>pe.createElement("link",{key:x,...b})))}function _T(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fA&&(window.__reactRouterVersion="7.6.2")}catch{}function bT({basename:n,children:e,window:t}){let r=pe.useRef();r.current==null&&(r.current=lI({window:t,v5Compat:!0}));let i=r.current,[a,o]=pe.useState({action:i.action,location:i.location}),s=pe.useCallback(u=>{pe.startTransition(()=>o(u))},[o]);return pe.useLayoutEffect(()=>i.listen(s),[i,s]),pe.createElement(KI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var hA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=pe.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:s,target:u,to:f,preventScrollReset:h,viewTransition:p,...g},m){let{basename:x}=pe.useContext(au),b=typeof f=="string"&&hA.test(f),I,C=!1;if(typeof f=="string"&&b&&(I=f,fA))try{let T=new URL(window.location.href),M=f.startsWith("//")?new URL(T.protocol+f):new URL(f),R=$u(M.pathname,x);M.origin===T.origin&&R!=null?f=R+M.search+M.hash:C=!0}catch{tu(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=kI(f,{relative:i}),[j,z,X]=mT(r,g),H=ST(f,{replace:o,state:s,target:u,preventScrollReset:h,relative:i,viewTransition:p});function D(T){e&&e(T),T.defaultPrevented||H(T)}let E=pe.createElement("a",{...g,...X,href:I||P,onClick:C||a?e:D,ref:_T(m,z),target:u,"data-discover":!b&&t==="render"?"true":void 0});return j&&!b?pe.createElement(pe.Fragment,null,E,pe.createElement(vT,{page:P})):E});br.displayName="Link";var wT=pe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:s,children:u,...f},h){let p=h0(o,{relative:f.relative}),g=uh(),m=pe.useContext(Qg),{navigator:x,basename:b}=pe.useContext(au),I=m!=null&&NT(p)&&s===!0,C=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,P=g.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(P=P.toLowerCase(),j=j?j.toLowerCase():null,C=C.toLowerCase()),j&&b&&(j=$u(j,b)||j);const z=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let X=P===C||!i&&P.startsWith(C)&&P.charAt(z)==="/",H=j!=null&&(j===C||!i&&j.startsWith(C)&&j.charAt(C.length)==="/"),D={isActive:X,isPending:H,isTransitioning:I},E=X?e:void 0,T;typeof r=="function"?T=r(D):T=[r,X?"active":null,H?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(D):a;return pe.createElement(br,{...f,"aria-current":E,className:T,ref:h,style:M,to:o,viewTransition:s},typeof u=="function"?u(D):u)});wT.displayName="NavLink";var AT=pe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:o=Wp,action:s,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...g},m)=>{let x=TT(),b=RT(s,{relative:f}),I=o.toLowerCase()==="get"?"get":"post",C=typeof s=="string"&&hA.test(s),P=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let z=j.nativeEvent.submitter,X=(z==null?void 0:z.getAttribute("formmethod"))||o;x(z||j.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p})};return pe.createElement("form",{ref:m,method:I,action:b,onSubmit:r?u:P,...g,"data-discover":!C&&n==="render"?"true":void 0})});AT.displayName="Form";function ET(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dA(n){let e=pe.useContext(Cd);return zr(e,ET(n)),e}function ST(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=e5(),u=uh(),f=h0(n,{relative:a});return pe.useCallback(h=>{if(nT(h,e)){h.preventDefault();let p=t!==void 0?t:Y1(u)===Y1(f);s(n,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[u,s,f,t,r,e,n,i,a,o])}var CT=0,IT=()=>`__${String(++CT)}__`;function TT(){let{router:n}=dA("useSubmit"),{basename:e}=pe.useContext(au),t=GI();return pe.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:u,body:f}=aT(r,e);if(i.navigate===!1){let h=i.fetcherKey||IT();await n.fetch(h,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function RT(n,{relative:e}={}){let{basename:t}=pe.useContext(au),r=pe.useContext(nc);zr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...h0(n||".",{relative:e})},o=uh();if(n==null){a.search=o.search;let s=new URLSearchParams(a.search),u=s.getAll("index");if(u.some(h=>h==="")){s.delete("index"),u.filter(p=>p).forEach(p=>s.append("index",p));let h=s.toString();a.search=h?`?${h}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:qu([t,a.pathname])),Y1(a)}function NT(n,e={}){let t=pe.useContext(iA);zr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dA("useViewTransitionState"),i=h0(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=$u(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=$u(t.nextLocation.pathname,r)||t.nextLocation.pathname;return fg(i.pathname,o)!=null||fg(i.pathname,a)!=null}[...dT];const DT=()=>{};var Mb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},OT=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],o=n[t++],s=n[t++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},gA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],o=i+1<n.length,s=o?n[i+1]:0,u=i+2<n.length,f=u?n[i+2]:0,h=a>>2,p=(a&3)<<4|s>>4;let g=(s&15)<<2|f>>6,m=f&63;u||(m=64,o||(g=64)),r.push(t[h],t[p],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],s=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||s==null||f==null||p==null)throw new PT;const g=a<<2|s>>4;if(r.push(g),f!==64){const m=s<<4&240|f>>2;if(r.push(m),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class PT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LT=function(n){const e=pA(n);return gA.encodeByteArray(e,!0)},hg=function(n){return LT(n).replace(/\./g,"")},mA=function(n){try{return gA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=()=>kT().__FIREBASE_DEFAULTS__,jT=()=>{if(typeof process>"u"||typeof Mb>"u")return;const n=Mb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mA(n[1]);return e&&JSON.parse(e)},Jg=()=>{try{return DT()||MT()||jT()||BT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vA=n=>{var e,t;return(t=(e=Jg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},yA=n=>{const e=vA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},xA=()=>{var n;return(n=Jg())===null||n===void 0?void 0:n.config},_A=n=>{var e;return(e=Jg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(n){return n.endsWith(".cloudworkstations.dev")}async function a5(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hg(JSON.stringify(t)),hg(JSON.stringify(o)),""].join(".")}const U1={};function UT(){const n={prod:[],emulator:[]};for(const e of Object.keys(U1))U1[e]?n.emulator.push(e):n.prod.push(e);return n}function VT(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let jb=!1;function o5(n,e){if(typeof window>"u"||typeof document>"u"||!Id(window.location.host)||U1[n]===e||U1[n]||jb)return;U1[n]=e;function t(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=UT().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function s(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{jb=!0,o()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=VT(r),m=t("text"),x=document.getElementById(m)||document.createElement("span"),b=t("learnmore"),I=document.getElementById(b)||document.createElement("a"),C=t("preprendIcon"),P=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const j=g.element;s(j),h(I,b);const z=f();u(P,C),j.append(P,x,I,z),document.body.appendChild(j)}a?(x.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ba())}function qT(){var n;const e=(n=Jg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GT(){const n=Ba();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $T(){return!qT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function XT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="FirebaseError";class Cs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=YT,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ch.prototype.create)}}class ch{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?KT(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Cs(i,s,r)}}function KT(n,e){return n.replace(QT,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QT=/\{\$([^}]+)}/g;function ZT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function of(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],o=e[i];if(Bb(a)&&Bb(o)){if(!of(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Bb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function N1(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function D1(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function JT(n,e){const t=new e7(n,e);return t.subscribe.bind(t)}class e7{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");t7(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=rv),i.error===void 0&&(i.error=rv),i.complete===void 0&&(i.complete=rv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t7(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=1e3,r7=2,i7=4*60*60*1e3,a7=.5;function Fb(n,e=n7,t=r7){const r=e*Math.pow(t,n),i=Math.round(a7*r*(Math.random()-.5)*2);return Math.min(i7,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(n){return n&&n._delegate?n._delegate:n}class Ss{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new FT;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l7(e))try{this.getOrInitializeService({instanceIdentifier:Hf})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Hf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hf){return this.instances.has(e)}getOptions(e=Hf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s7(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hf){return this.component?this.component.multipleInstances?e:Hf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s7(n){return n===Hf?void 0:n}function l7(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o7(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bn||(bn={}));const c7={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},f7=bn.INFO,h7={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},d7=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=h7[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=f7,this._logHandler=d7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...e),this._logHandler(this,bn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...e),this._logHandler(this,bn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bn.INFO,...e),this._logHandler(this,bn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bn.WARN,...e),this._logHandler(this,bn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...e),this._logHandler(this,bn.ERROR,...e)}}const p7=(n,e)=>e.some(t=>n instanceof t);let Ub,Vb;function g7(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m7(){return Vb||(Vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SA=new WeakMap,$v=new WeakMap,CA=new WeakMap,iv=new WeakMap,s5=new WeakMap;function v7(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",o)},a=()=>{t(Jc(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&SA.set(t,n)}).catch(()=>{}),s5.set(e,n),e}function y7(n){if($v.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",o),n.removeEventListener("abort",o)},a=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",o),n.addEventListener("abort",o)});$v.set(n,e)}let Xv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $v.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function x7(n){Xv=n(Xv)}function _7(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(av(this),e,...t);return CA.set(r,e.sort?e.sort():[e]),Jc(r)}:m7().includes(n)?function(...e){return n.apply(av(this),e),Jc(SA.get(this))}:function(...e){return Jc(n.apply(av(this),e))}}function b7(n){return typeof n=="function"?_7(n):(n instanceof IDBTransaction&&y7(n),p7(n,g7())?new Proxy(n,Xv):n)}function Jc(n){if(n instanceof IDBRequest)return v7(n);if(iv.has(n))return iv.get(n);const e=b7(n);return e!==n&&(iv.set(n,e),s5.set(e,n)),e}const av=n=>s5.get(n);function IA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(n,e),s=Jc(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Jc(o.result),u.oldVersion,u.newVersion,Jc(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),s.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),s}const w7=["get","getKey","getAll","getAllKeys","count"],A7=["put","add","delete","clear"],ov=new Map;function zb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ov.get(e))return ov.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=A7.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||w7.includes(t)))return;const a=async function(o,...s){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(s.shift())),(await Promise.all([f[t](...s),i&&u.done]))[0]};return ov.set(e,a),a}x7(n=>({...n,get:(e,t,r)=>zb(e,t)||n.get(e,t,r),has:(e,t)=>!!zb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(S7(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function S7(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yv="@firebase/app",qb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new em("@firebase/app"),C7="@firebase/app-compat",I7="@firebase/analytics-compat",T7="@firebase/analytics",R7="@firebase/app-check-compat",N7="@firebase/app-check",D7="@firebase/auth",O7="@firebase/auth-compat",P7="@firebase/database",L7="@firebase/data-connect",k7="@firebase/database-compat",M7="@firebase/functions",j7="@firebase/functions-compat",B7="@firebase/installations",F7="@firebase/installations-compat",U7="@firebase/messaging",V7="@firebase/messaging-compat",z7="@firebase/performance",q7="@firebase/performance-compat",H7="@firebase/remote-config",W7="@firebase/remote-config-compat",G7="@firebase/storage",$7="@firebase/storage-compat",X7="@firebase/firestore",Y7="@firebase/ai",K7="@firebase/firestore-compat",Q7="firebase",Z7="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="[DEFAULT]",J7={[Yv]:"fire-core",[C7]:"fire-core-compat",[T7]:"fire-analytics",[I7]:"fire-analytics-compat",[N7]:"fire-app-check",[R7]:"fire-app-check-compat",[D7]:"fire-auth",[O7]:"fire-auth-compat",[P7]:"fire-rtdb",[L7]:"fire-data-connect",[k7]:"fire-rtdb-compat",[M7]:"fire-fn",[j7]:"fire-fn-compat",[B7]:"fire-iid",[F7]:"fire-iid-compat",[U7]:"fire-fcm",[V7]:"fire-fcm-compat",[z7]:"fire-perf",[q7]:"fire-perf-compat",[H7]:"fire-rc",[W7]:"fire-rc-compat",[G7]:"fire-gcs",[$7]:"fire-gcs-compat",[X7]:"fire-fst",[K7]:"fire-fst-compat",[Y7]:"fire-vertex","fire-js":"fire-js",[Q7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Map,eR=new Map,Qv=new Map;function Hb(n,e){try{n.container.addComponent(e)}catch(t){Xu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ul(n){const e=n.name;if(Qv.has(e))return Xu.debug(`There were multiple attempts to register component ${e}.`),!1;Qv.set(e,n);for(const t of dg.values())Hb(t,n);for(const t of eR.values())Hb(t,n);return!0}function gf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $o(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ef=new ch("app","Firebase",tR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ef.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=Z7;function TA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ef.create("bad-app-name",{appName:String(i)});if(t||(t=xA()),!t)throw ef.create("no-options");const a=dg.get(i);if(a){if(of(t,a.options)&&of(r,a.config))return a;throw ef.create("duplicate-app",{appName:i})}const o=new u7(i);for(const u of Qv.values())o.addComponent(u);const s=new nR(t,r,o);return dg.set(i,s),s}function tm(n=Kv){const e=dg.get(n);if(!e&&n===Kv&&xA())return TA();if(!e)throw ef.create("no-app",{appName:n});return e}function _o(n,e,t){var r;let i=(r=J7[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xu.warn(s.join(" "));return}ul(new Ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebase-heartbeat-database",iR=1,K1="firebase-heartbeat-store";let sv=null;function RA(){return sv||(sv=IA(rR,iR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(K1)}catch(t){console.warn(t)}}}}).catch(n=>{throw ef.create("idb-open",{originalErrorMessage:n.message})})),sv}async function aR(n){try{const t=(await RA()).transaction(K1),r=await t.objectStore(K1).get(NA(n));return await t.done,r}catch(e){if(e instanceof Cs)Xu.warn(e.message);else{const t=ef.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xu.warn(t.message)}}}async function Wb(n,e){try{const r=(await RA()).transaction(K1,"readwrite");await r.objectStore(K1).put(e,NA(n)),await r.done}catch(t){if(t instanceof Cs)Xu.warn(t.message);else{const r=ef.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xu.warn(r.message)}}}function NA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=1024,sR=30;class lR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Gb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>sR){const o=fR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Gb(),{heartbeatsToSend:r,unsentEntries:i}=uR(this._heartbeatsCache.heartbeats),a=hg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Xu.warn(t),""}}}function Gb(){return new Date().toISOString().substring(0,10)}function uR(n,e=oR){const t=[];let r=n.slice();for(const i of n){const a=t.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),$b(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$b(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class cR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $b(n){return hg(JSON.stringify({version:2,heartbeats:n})).length}function fR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n){ul(new Ss("platform-logger",e=>new E7(e),"PRIVATE")),ul(new Ss("heartbeat",e=>new lR(e),"PRIVATE")),_o(Yv,qb,n),_o(Yv,qb,"esm2017"),_o("fire-js","")}hR("");function l5(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function DA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dR=DA,OA=new ch("auth","Firebase",DA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new em("@firebase/auth");function pR(n,...e){pg.logLevel<=bn.WARN&&pg.warn(`Auth (${fh}): ${n}`,...e)}function $p(n,...e){pg.logLevel<=bn.ERROR&&pg.error(`Auth (${fh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n,...e){throw u5(n,...e)}function Kl(n,...e){return u5(n,...e)}function PA(n,e,t){const r=Object.assign(Object.assign({},dR()),{[e]:t});return new ch("auth","Firebase",r).create(e,{appName:n.name})}function Hu(n){return PA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u5(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OA.create(n,...e)}function $t(n,e,...t){if(!n)throw u5(e,...t)}function Uu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $p(e),new Error(e)}function Yu(n,e){n||Uu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function gR(){return Xb()==="http:"||Xb()==="https:"}function Xb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gR()||wA()||"connection"in navigator)?navigator.onLine:!0}function vR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yu(t>e,"Short delay should be less than long delay!"),this.isMobile=zT()||WT()}get(){return mR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(n,e){Yu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_R=new p0(3e4,6e4);function rc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ic(n,e,t,r,i={}){return kA(n,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=d0(Object.assign({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:u},a);return HT()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Id(n.emulatorConfig.host)&&(f.credentials="include"),LA.fetch()(await MA(n,n.config.apiHost,t,s),f)})}async function kA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},yR),e);try{const i=new wR(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Rp(n,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[u,f]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rp(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Rp(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Rp(n,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw PA(n,h,f);cl(n,h)}}catch(i){if(i instanceof Cs)throw i;cl(n,"network-request-failed",{message:String(i)})}}async function g0(n,e,t,r,i={}){const a=await ic(n,e,t,r,i);return"mfaPendingCredential"in a&&cl(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function MA(n,e,t,r){const i=`${e}${t}?${r}`,a=n,o=a.config.emulator?c5(n.config,i):`${n.config.apiScheme}://${i}`;return xR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function bR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Kl(this.auth,"network-request-failed")),_R.get())})}}function Rp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Kl(n,e,r);return i.customData._tokenResponse=t,i}function Yb(n){return n!==void 0&&n.enterprise!==void 0}class AR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ER(n,e){return ic(n,"GET","/v2/recaptchaConfig",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(n,e){return ic(n,"POST","/v1/accounts:delete",e)}async function gg(n,e){return ic(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CR(n,e=!1){const t=qr(n),r=await t.getIdToken(e),i=f5(r);$t(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:V1(lv(i.auth_time)),issuedAtTime:V1(lv(i.iat)),expirationTime:V1(lv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function lv(n){return Number(n)*1e3}function f5(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return $p("JWT malformed, contained fewer than 3 sections"),null;try{const i=mA(t);return i?JSON.parse(i):($p("Failed to decode base64 JWT payload"),null)}catch(i){return $p("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Kb(n){const e=f5(n);return $t(e,"internal-error"),$t(typeof e.exp<"u","internal-error"),$t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Cs&&IR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function IR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=V1(this.lastLoginAt),this.creationTime=V1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Q1(n,gg(t,{idToken:r}));$t(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?jA(a.providerUserInfo):[],s=NR(n.providerData,o),u=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(s!=null&&s.length),h=u?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Jv(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function RR(n){const e=qr(n);await mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NR(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jA(n){return n.map(e=>{var{providerId:t}=e,r=l5(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(n,e){const t=await kA(n,{},async()=>{const r=d0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,o=await MA(n,i,"/v1/token",`key=${a}`),s=await n._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",LA.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OR(n,e){return ic(n,"POST","/v2/accounts:revokeToken",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$t(e.idToken,"internal-error"),$t(typeof e.idToken<"u","internal-error"),$t(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$t(e.length!==0,"internal-error");const t=Kb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await DR(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,o=new sd;return r&&($t(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($t(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&($t(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sd,this.toJSON())}_performRefresh(){return Uu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n,e){$t(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sl{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=l5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Jv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Q1(this,this.stsTokenManager.getToken(this.auth,e));return $t(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CR(this,e)}reload(){return RR(this)}_assign(e){this!==e&&($t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($o(this.auth.app))return Promise.reject(Hu(this.auth));const e=await this.getIdToken();return await Q1(this,SR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,o,s,u,f,h;const p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,x=(o=t.photoURL)!==null&&o!==void 0?o:void 0,b=(s=t.tenantId)!==null&&s!==void 0?s:void 0,I=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,C=(f=t.createdAt)!==null&&f!==void 0?f:void 0,P=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:j,emailVerified:z,isAnonymous:X,providerData:H,stsTokenManager:D}=t;$t(j&&D,e,"internal-error");const E=sd.fromJSON(this.name,D);$t(typeof j=="string",e,"internal-error"),Vc(p,e.name),Vc(g,e.name),$t(typeof z=="boolean",e,"internal-error"),$t(typeof X=="boolean",e,"internal-error"),Vc(m,e.name),Vc(x,e.name),Vc(b,e.name),Vc(I,e.name),Vc(C,e.name),Vc(P,e.name);const T=new sl({uid:j,auth:e,email:g,emailVerified:z,displayName:p,isAnonymous:X,photoURL:x,phoneNumber:m,tenantId:b,stsTokenManager:E,createdAt:C,lastLoginAt:P});return H&&Array.isArray(H)&&(T.providerData=H.map(M=>Object.assign({},M))),I&&(T._redirectEventId=I),T}static async _fromIdTokenResponse(e,t,r=!1){const i=new sd;i.updateFromServerResponse(t);const a=new sl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mg(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];$t(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?jA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new sd;s.updateFromIdToken(r);const u=new sl({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Jv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map;function Vu(n){Yu(n instanceof Function,"Expected a class definition");let e=Qb.get(n);return e?(Yu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Qb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BA.type="NONE";const Zb=BA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(n,e,t){return`firebase:${n}:${e}:${t}`}class ld{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Xp(this.userKey,i.apiKey,a),this.fullPersistenceKey=Xp("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gg(this.auth,{idToken:e}).catch(()=>{});return t?sl._fromGetAccountInfoResponse(this.auth,t,e):null}return sl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ld(Vu(Zb),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Vu(Zb);const o=Xp(r,e.config.apiKey,e.name);let s=null;for(const f of t)try{const h=await f._get(o);if(h){let p;if(typeof h=="string"){const g=await gg(e,{idToken:h}).catch(()=>{});if(!g)break;p=await sl._fromGetAccountInfoResponse(e,g,h)}else p=sl._fromJSON(e,h);f!==a&&(s=p),a=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new ld(a,e,r):(a=u[0],s&&await a._set(o,s.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new ld(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HA(e))return"Blackberry";if(WA(e))return"Webos";if(UA(e))return"Safari";if((e.includes("chrome/")||VA(e))&&!e.includes("edge/"))return"Chrome";if(qA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FA(n=Ba()){return/firefox\//i.test(n)}function UA(n=Ba()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VA(n=Ba()){return/crios\//i.test(n)}function zA(n=Ba()){return/iemobile/i.test(n)}function qA(n=Ba()){return/android/i.test(n)}function HA(n=Ba()){return/blackberry/i.test(n)}function WA(n=Ba()){return/webos/i.test(n)}function h5(n=Ba()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PR(n=Ba()){var e;return h5(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LR(){return GT()&&document.documentMode===10}function GA(n=Ba()){return h5(n)||qA(n)||WA(n)||HA(n)||/windows phone/i.test(n)||zA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n,e=[]){let t;switch(n){case"Browser":t=Jb(Ba());break;case"Worker":t=`${Jb(Ba())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((o,s)=>{try{const u=e(a);o(u)}catch(u){s(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(n,e={}){return ic(n,"GET","/v2/passwordPolicy",rc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=6;class BR{constructor(e){var t,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:jR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,o,s;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ew(this),this.idTokenSubscription=new ew(this),this.beforeStateQueue=new kR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vu(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await ld.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gg(this,{idToken:e}),r=await sl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($o(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,s=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===s)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($o(this.app))return Promise.reject(Hu(this));const t=e?qr(e):null;return t&&$t(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $o(this.app)?Promise.reject(Hu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $o(this.app)?Promise.reject(Hu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MR(this),t=new BR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ch("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await OR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vu(e)||this._popupRedirectResolver;$t(t,this,"argument-error"),this.redirectPersistenceManager=await ld.create(this,[Vu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if($t(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if($o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function mf(n){return qr(n)}class ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=JT(t=>this.observer=t)}get next(){return $t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UR(n){nm=n}function XA(n){return nm.loadJS(n)}function VR(){return nm.recaptchaEnterpriseScript}function zR(){return nm.gapiScript}function qR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class HR{constructor(){this.enterprise=new WR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class WR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GR="recaptcha-enterprise",YA="NO_RECAPTCHA";class $R{constructor(e){this.type=GR,this.auth=mf(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{ER(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const f=new AR(u);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(u=>{s(u)})})}function i(a,o,s){const u=window.grecaptcha;Yb(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(YA)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HR().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!t&&Yb(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=VR();u.length!==0&&(u+=s),XA(u).then(()=>{i(s,a,o)}).catch(f=>{o(f)})}}).catch(s=>{o(s)})})}}async function tw(n,e,t,r=!1,i=!1){const a=new $R(n);let o;if(i)o=YA;else try{o=await a.verify(t)}catch{o=await a.verify(t,!0)}const s=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const u=s.phoneEnrollmentInfo.phoneNumber,f=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const u=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function vg(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await tw(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await tw(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n,e){const t=gf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(of(a,e??{}))return i;cl(i,"already-initialized")}return t.initialize({options:e})}function YR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Vu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KR(n,e,t){const r=mf(n);$t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=KA(e),{host:o,port:s}=QR(e),u=s===null?"":`:${s}`,f={url:`${a}//${o}${u}/`},h=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$t(of(f,r.config.emulator)&&of(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Id(o)?(a5(`${a}//${o}${u}`),o5("Auth",!0)):ZR()}function KA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QR(n){const e=KA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:nw(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:nw(o)}}}function nw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ZR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Uu("not implemented")}_getIdTokenResponse(e){return Uu("not implemented")}_linkToIdToken(e,t){return Uu("not implemented")}_getReauthenticationResolver(e){return Uu("not implemented")}}async function JR(n,e){return ic(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(n,e){return g0(n,"POST","/v1/accounts:signInWithPassword",rc(n,e))}async function QA(n,e){return ic(n,"POST","/v1/accounts:sendOobCode",rc(n,e))}async function tN(n,e){return QA(n,e)}async function nN(n,e){return QA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(n,e){return g0(n,"POST","/v1/accounts:signInWithEmailLink",rc(n,e))}async function iN(n,e){return g0(n,"POST","/v1/accounts:signInWithEmailLink",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends d5{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Z1(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Z1(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,t,"signInWithPassword",eN);case"emailLink":return rN(e,{email:this._email,oobCode:this._password});default:cl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,r,"signUpPassword",JR);case"emailLink":return iN(e,{idToken:t,email:this._email,oobCode:this._password});default:cl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(n,e){return g0(n,"POST","/v1/accounts:signInWithIdp",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="http://localhost";class th extends d5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new th(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=l5(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new th(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return ud(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ud(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ud(e,t)}buildRequest(){const e={requestUri:aN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=d0(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sN(n){const e=N1(D1(n)).link,t=e?N1(D1(e)).deep_link_id:null,r=N1(D1(n)).deep_link_id;return(r?N1(D1(r)).link:null)||r||t||e||n}class p5{constructor(e){var t,r,i,a,o,s;const u=N1(D1(e)),f=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=oN((i=u.mode)!==null&&i!==void 0?i:null);$t(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(a=u.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=u.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const t=sN(e);try{return new p5(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.providerId=Td.PROVIDER_ID}static credential(e,t){return Z1._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=p5.parseLink(t);return $t(r,"argument-error"),Z1._fromEmailAndCode(e,r.code,r.tenantId)}}Td.PROVIDER_ID="password";Td.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Td.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends ZA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends m0{constructor(){super("facebook.com")}static credential(e){return th._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $c.credential(e.oauthAccessToken)}catch{return null}}}$c.FACEBOOK_SIGN_IN_METHOD="facebook.com";$c.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends m0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return th._fromParams({providerId:Xc.PROVIDER_ID,signInMethod:Xc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xc.credentialFromTaggedObject(e)}static credentialFromError(e){return Xc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xc.credential(t,r)}catch{return null}}}Xc.GOOGLE_SIGN_IN_METHOD="google.com";Xc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends m0{constructor(){super("github.com")}static credential(e){return th._fromParams({providerId:Yc.PROVIDER_ID,signInMethod:Yc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yc.credentialFromTaggedObject(e)}static credentialFromError(e){return Yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yc.credential(e.oauthAccessToken)}catch{return null}}}Yc.GITHUB_SIGN_IN_METHOD="github.com";Yc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends m0{constructor(){super("twitter.com")}static credential(e,t){return th._fromParams({providerId:Kc.PROVIDER_ID,signInMethod:Kc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kc.credentialFromTaggedObject(e)}static credentialFromError(e){return Kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Kc.credential(t,r)}catch{return null}}}Kc.TWITTER_SIGN_IN_METHOD="twitter.com";Kc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(n,e){return g0(n,"POST","/v1/accounts:signUp",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await sl._fromIdTokenResponse(e,r,i),o=rw(r);return new nh({user:a,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=rw(r);return new nh({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function rw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends Cs{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new yg(e,t,r,i)}}function JA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(n,a,e,r):a})}async function uN(n,e,t=!1){const r=await Q1(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return nh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(n,e,t=!1){const{auth:r}=n;if($o(r.app))return Promise.reject(Hu(r));const i="reauthenticate";try{const a=await Q1(n,JA(r,i,e,n),t);$t(a.idToken,r,"internal-error");const o=f5(a.idToken);$t(o,r,"internal-error");const{sub:s}=o;return $t(n.uid===s,r,"user-mismatch"),nh._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cl(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(n,e,t=!1){if($o(n.app))return Promise.reject(Hu(n));const r="signIn",i=await JA(n,r,e),a=await nh._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function fN(n,e){return e6(mf(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(n){const e=mf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hN(n,e,t){const r=mf(n);await vg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",nN)}async function dN(n,e,t){if($o(n.app))return Promise.reject(Hu(n));const r=mf(n),o=await vg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&t6(n),u}),s=await nh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function pN(n,e,t){return $o(n.app)?Promise.reject(Hu(n)):fN(qr(n),Td.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&t6(n),r})}async function gN(n,e){const t=qr(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await tN(t.auth,i);a!==n.email&&await n.reload()}function mN(n,e,t,r){return qr(n).onIdTokenChanged(e,t,r)}function vN(n,e,t){return qr(n).beforeAuthStateChanged(e,t)}function yN(n,e,t,r){return qr(n).onAuthStateChanged(e,t,r)}function xN(n){return qr(n).signOut()}const xg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xg,"1"),this.storage.removeItem(xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1e3,bN=10;class r6 extends n6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,s,u)=>{this.notifyListeners(o,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);LR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}r6.type="LOCAL";const wN=r6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6 extends n6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}i6.type="SESSION";const a6=i6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new rm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async f=>f(t.origin,a)),u=await AN(s);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,u)=>{const f=g5("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(g.data.response);break;default:clearTimeout(h),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(){return window}function SN(n){Ql().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(){return typeof Ql().WorkerGlobalScope<"u"&&typeof Ql().importScripts=="function"}async function CN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function TN(){return o6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="firebaseLocalStorageDb",RN=1,_g="firebaseLocalStorage",l6="fbase_key";class v0{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function im(n,e){return n.transaction([_g],e?"readwrite":"readonly").objectStore(_g)}function NN(){const n=indexedDB.deleteDatabase(s6);return new v0(n).toPromise()}function ey(){const n=indexedDB.open(s6,RN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(_g,{keyPath:l6})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(_g)?e(r):(r.close(),await NN(),e(await ey()))})})}async function iw(n,e,t){const r=im(n,!0).put({[l6]:e,value:t});return new v0(r).toPromise()}async function DN(n,e){const t=im(n,!1).get(e),r=await new v0(t).toPromise();return r===void 0?null:r.value}function aw(n,e){const t=im(n,!0).delete(e);return new v0(t).toPromise()}const ON=800,PN=3;class u6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ey(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>PN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rm._getInstance(TN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await CN(),!this.activeServiceWorker)return;this.sender=new EN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ey();return await iw(e,xg,"1"),await aw(e,xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>iw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>DN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=im(i,!1).getAll();return new v0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u6.type="LOCAL";const LN=u6;new p0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n,e){return e?Vu(e):($t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5 extends d5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ud(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ud(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ud(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function MN(n){return e6(n.auth,new m5(n),n.bypassAuthState)}function jN(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),cN(t,new m5(n),n.bypassAuthState)}async function BN(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),uN(t,new m5(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MN;case"linkViaPopup":case"linkViaRedirect":return BN;case"reauthViaPopup":case"reauthViaRedirect":return jN;default:cl(this.auth,"internal-error")}}resolve(e){Yu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new p0(2e3,1e4);class nd extends c6{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,nd.currentPopupAction&&nd.currentPopupAction.cancel(),nd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $t(e,this.auth,"internal-error"),e}async onExecution(){Yu(this.filter.length===1,"Popup operations only handle one event");const e=g5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FN.get())};e()}}nd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="pendingRedirect",Yp=new Map;class VN extends c6{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Yp.get(this.auth._key());if(!e){try{const r=await zN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yp.set(this.auth._key(),e)}return this.bypassAuthState||Yp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zN(n,e){const t=WN(e),r=HN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function qN(n,e){Yp.set(n._key(),e)}function HN(n){return Vu(n._redirectPersistence)}function WN(n){return Xp(UN,n.config.apiKey,n.name)}async function GN(n,e,t=!1){if($o(n.app))return Promise.reject(Hu(n));const r=mf(n),i=kN(r,e),o=await new VN(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=10*60*1e3;class XN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!f6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Kl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$N&&this.cachedEventUids.clear(),this.cachedEventUids.has(ow(e))}saveEventToCache(e){this.cachedEventUids.add(ow(e)),this.lastProcessedEventTime=Date.now()}}function ow(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function f6({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f6(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(n,e={}){return ic(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZN=/^https?/;async function JN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await KN(n);for(const t of e)try{if(e9(t))return}catch{}cl(n,"unauthorized-domain")}function e9(n){const e=Zv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!ZN.test(t))return!1;if(QN.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=new p0(3e4,6e4);function sw(){const n=Ql().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function n9(n){return new Promise((e,t)=>{var r,i,a;function o(){sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sw(),t(Kl(n,"network-request-failed"))},timeout:t9.get()})}if(!((i=(r=Ql().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ql().gapi)===null||a===void 0)&&a.load)o();else{const s=qR("iframefcb");return Ql()[s]=()=>{gapi.load?o():t(Kl(n,"network-request-failed"))},XA(`${zR()}?onload=${s}`).catch(u=>t(u))}}).catch(e=>{throw Kp=null,e})}let Kp=null;function r9(n){return Kp=Kp||n9(n),Kp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=new p0(5e3,15e3),a9="__/auth/iframe",o9="emulator/auth/iframe",s9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u9(n){const e=n.config;$t(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?c5(e,o9):`https://${n.config.authDomain}/${a9}`,r={apiKey:e.apiKey,appName:n.name,v:fh},i=l9.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${d0(r).slice(1)}`}async function c9(n){const e=await r9(n),t=Ql().gapi;return $t(t,n,"internal-error"),e.open({where:document.body,url:u9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s9,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Kl(n,"network-request-failed"),s=Ql().setTimeout(()=>{a(o)},i9.get());function u(){Ql().clearTimeout(s),i(r)}r.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h9=500,d9=600,p9="_blank",g9="http://localhost";class lw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m9(n,e,t,r=h9,i=d9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u=Object.assign(Object.assign({},f9),{width:r.toString(),height:i.toString(),top:a,left:o}),f=Ba().toLowerCase();t&&(s=VA(f)?p9:t),FA(f)&&(e=e||g9,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[m,x])=>`${g}${m}=${x},`,"");if(PR(f)&&s!=="_self")return v9(e||"",s),new lw(null);const p=window.open(e||"",s,h);$t(p,n,"popup-blocked");try{p.focus()}catch{}return new lw(p)}function v9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="__/auth/handler",x9="emulator/auth/handler",_9=encodeURIComponent("fac");async function uw(n,e,t,r,i,a){$t(n.config.authDomain,n,"auth-domain-config-required"),$t(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:fh,eventId:i};if(e instanceof ZA){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",ZT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof m0){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const s=o;for(const h of Object.keys(s))s[h]===void 0&&delete s[h];const u=await n._getAppCheckToken(),f=u?`#${_9}=${encodeURIComponent(u)}`:"";return`${b9(n)}?${d0(s).slice(1)}${f}`}function b9({config:n}){return n.emulator?c5(n,x9):`https://${n.authDomain}/${y9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="webStorageSupport";class w9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a6,this._completeRedirectFn=GN,this._overrideRedirectResult=qN}async _openPopup(e,t,r,i){var a;Yu((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await uw(e,t,r,Zv(),i);return m9(e,o,g5())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await uw(e,t,r,Zv(),i);return SN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Yu(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await c9(e),r=new XN(e);return t.register("authEvent",i=>($t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uv,{type:uv},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[uv];o!==void 0&&t(!!o),cl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=JN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GA()||UA()||h5()}}const A9=w9;var cw="@firebase/auth",fw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C9(n){ul(new Ss("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;$t(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$A(n)},f=new FR(r,i,a,u);return YR(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ul(new Ss("auth-internal",e=>{const t=mf(e.getProvider("auth").getImmediate());return(r=>new E9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_o(cw,fw,S9(n)),_o(cw,fw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=5*60,T9=_A("authIdTokenMaxAge")||I9;let hw=null;const R9=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>T9)return;const i=t==null?void 0:t.token;hw!==i&&(hw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function N9(n=tm()){const e=gf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=XR(n,{popupRedirectResolver:A9,persistence:[LN,wN,a6]}),r=_A("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=R9(a.toString());vN(t,o,()=>o(t.currentUser)),mN(t,s=>o(s))}}const i=vA("auth");return i&&KR(t,`http://${i}`),t}function D9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}UR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Kl("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",D9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C9("Browser");var dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tf,h6;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,E){function T(){}T.prototype=E.prototype,D.D=E.prototype,D.prototype=new T,D.prototype.constructor=D,D.C=function(M,R,L){for(var B=Array(arguments.length-2),q=2;q<arguments.length;q++)B[q-2]=arguments[q];return E.prototype[R].apply(M,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,E,T){T||(T=0);var M=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)M[R]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(R=0;16>R;++R)M[R]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=D.g[0],T=D.g[1],R=D.g[2];var L=D.g[3],B=E+(L^T&(R^L))+M[0]+3614090360&4294967295;E=T+(B<<7&4294967295|B>>>25),B=L+(R^E&(T^R))+M[1]+3905402710&4294967295,L=E+(B<<12&4294967295|B>>>20),B=R+(T^L&(E^T))+M[2]+606105819&4294967295,R=L+(B<<17&4294967295|B>>>15),B=T+(E^R&(L^E))+M[3]+3250441966&4294967295,T=R+(B<<22&4294967295|B>>>10),B=E+(L^T&(R^L))+M[4]+4118548399&4294967295,E=T+(B<<7&4294967295|B>>>25),B=L+(R^E&(T^R))+M[5]+1200080426&4294967295,L=E+(B<<12&4294967295|B>>>20),B=R+(T^L&(E^T))+M[6]+2821735955&4294967295,R=L+(B<<17&4294967295|B>>>15),B=T+(E^R&(L^E))+M[7]+4249261313&4294967295,T=R+(B<<22&4294967295|B>>>10),B=E+(L^T&(R^L))+M[8]+1770035416&4294967295,E=T+(B<<7&4294967295|B>>>25),B=L+(R^E&(T^R))+M[9]+2336552879&4294967295,L=E+(B<<12&4294967295|B>>>20),B=R+(T^L&(E^T))+M[10]+4294925233&4294967295,R=L+(B<<17&4294967295|B>>>15),B=T+(E^R&(L^E))+M[11]+2304563134&4294967295,T=R+(B<<22&4294967295|B>>>10),B=E+(L^T&(R^L))+M[12]+1804603682&4294967295,E=T+(B<<7&4294967295|B>>>25),B=L+(R^E&(T^R))+M[13]+4254626195&4294967295,L=E+(B<<12&4294967295|B>>>20),B=R+(T^L&(E^T))+M[14]+2792965006&4294967295,R=L+(B<<17&4294967295|B>>>15),B=T+(E^R&(L^E))+M[15]+1236535329&4294967295,T=R+(B<<22&4294967295|B>>>10),B=E+(R^L&(T^R))+M[1]+4129170786&4294967295,E=T+(B<<5&4294967295|B>>>27),B=L+(T^R&(E^T))+M[6]+3225465664&4294967295,L=E+(B<<9&4294967295|B>>>23),B=R+(E^T&(L^E))+M[11]+643717713&4294967295,R=L+(B<<14&4294967295|B>>>18),B=T+(L^E&(R^L))+M[0]+3921069994&4294967295,T=R+(B<<20&4294967295|B>>>12),B=E+(R^L&(T^R))+M[5]+3593408605&4294967295,E=T+(B<<5&4294967295|B>>>27),B=L+(T^R&(E^T))+M[10]+38016083&4294967295,L=E+(B<<9&4294967295|B>>>23),B=R+(E^T&(L^E))+M[15]+3634488961&4294967295,R=L+(B<<14&4294967295|B>>>18),B=T+(L^E&(R^L))+M[4]+3889429448&4294967295,T=R+(B<<20&4294967295|B>>>12),B=E+(R^L&(T^R))+M[9]+568446438&4294967295,E=T+(B<<5&4294967295|B>>>27),B=L+(T^R&(E^T))+M[14]+3275163606&4294967295,L=E+(B<<9&4294967295|B>>>23),B=R+(E^T&(L^E))+M[3]+4107603335&4294967295,R=L+(B<<14&4294967295|B>>>18),B=T+(L^E&(R^L))+M[8]+1163531501&4294967295,T=R+(B<<20&4294967295|B>>>12),B=E+(R^L&(T^R))+M[13]+2850285829&4294967295,E=T+(B<<5&4294967295|B>>>27),B=L+(T^R&(E^T))+M[2]+4243563512&4294967295,L=E+(B<<9&4294967295|B>>>23),B=R+(E^T&(L^E))+M[7]+1735328473&4294967295,R=L+(B<<14&4294967295|B>>>18),B=T+(L^E&(R^L))+M[12]+2368359562&4294967295,T=R+(B<<20&4294967295|B>>>12),B=E+(T^R^L)+M[5]+4294588738&4294967295,E=T+(B<<4&4294967295|B>>>28),B=L+(E^T^R)+M[8]+2272392833&4294967295,L=E+(B<<11&4294967295|B>>>21),B=R+(L^E^T)+M[11]+1839030562&4294967295,R=L+(B<<16&4294967295|B>>>16),B=T+(R^L^E)+M[14]+4259657740&4294967295,T=R+(B<<23&4294967295|B>>>9),B=E+(T^R^L)+M[1]+2763975236&4294967295,E=T+(B<<4&4294967295|B>>>28),B=L+(E^T^R)+M[4]+1272893353&4294967295,L=E+(B<<11&4294967295|B>>>21),B=R+(L^E^T)+M[7]+4139469664&4294967295,R=L+(B<<16&4294967295|B>>>16),B=T+(R^L^E)+M[10]+3200236656&4294967295,T=R+(B<<23&4294967295|B>>>9),B=E+(T^R^L)+M[13]+681279174&4294967295,E=T+(B<<4&4294967295|B>>>28),B=L+(E^T^R)+M[0]+3936430074&4294967295,L=E+(B<<11&4294967295|B>>>21),B=R+(L^E^T)+M[3]+3572445317&4294967295,R=L+(B<<16&4294967295|B>>>16),B=T+(R^L^E)+M[6]+76029189&4294967295,T=R+(B<<23&4294967295|B>>>9),B=E+(T^R^L)+M[9]+3654602809&4294967295,E=T+(B<<4&4294967295|B>>>28),B=L+(E^T^R)+M[12]+3873151461&4294967295,L=E+(B<<11&4294967295|B>>>21),B=R+(L^E^T)+M[15]+530742520&4294967295,R=L+(B<<16&4294967295|B>>>16),B=T+(R^L^E)+M[2]+3299628645&4294967295,T=R+(B<<23&4294967295|B>>>9),B=E+(R^(T|~L))+M[0]+4096336452&4294967295,E=T+(B<<6&4294967295|B>>>26),B=L+(T^(E|~R))+M[7]+1126891415&4294967295,L=E+(B<<10&4294967295|B>>>22),B=R+(E^(L|~T))+M[14]+2878612391&4294967295,R=L+(B<<15&4294967295|B>>>17),B=T+(L^(R|~E))+M[5]+4237533241&4294967295,T=R+(B<<21&4294967295|B>>>11),B=E+(R^(T|~L))+M[12]+1700485571&4294967295,E=T+(B<<6&4294967295|B>>>26),B=L+(T^(E|~R))+M[3]+2399980690&4294967295,L=E+(B<<10&4294967295|B>>>22),B=R+(E^(L|~T))+M[10]+4293915773&4294967295,R=L+(B<<15&4294967295|B>>>17),B=T+(L^(R|~E))+M[1]+2240044497&4294967295,T=R+(B<<21&4294967295|B>>>11),B=E+(R^(T|~L))+M[8]+1873313359&4294967295,E=T+(B<<6&4294967295|B>>>26),B=L+(T^(E|~R))+M[15]+4264355552&4294967295,L=E+(B<<10&4294967295|B>>>22),B=R+(E^(L|~T))+M[6]+2734768916&4294967295,R=L+(B<<15&4294967295|B>>>17),B=T+(L^(R|~E))+M[13]+1309151649&4294967295,T=R+(B<<21&4294967295|B>>>11),B=E+(R^(T|~L))+M[4]+4149444226&4294967295,E=T+(B<<6&4294967295|B>>>26),B=L+(T^(E|~R))+M[11]+3174756917&4294967295,L=E+(B<<10&4294967295|B>>>22),B=R+(E^(L|~T))+M[2]+718787259&4294967295,R=L+(B<<15&4294967295|B>>>17),B=T+(L^(R|~E))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(R+(B<<21&4294967295|B>>>11))&4294967295,D.g[2]=D.g[2]+R&4294967295,D.g[3]=D.g[3]+L&4294967295}r.prototype.u=function(D,E){E===void 0&&(E=D.length);for(var T=E-this.blockSize,M=this.B,R=this.h,L=0;L<E;){if(R==0)for(;L<=T;)i(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<E;)if(M[R++]=D.charCodeAt(L++),R==this.blockSize){i(this,M),R=0;break}}else for(;L<E;)if(M[R++]=D[L++],R==this.blockSize){i(this,M),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;var T=8*this.o;for(E=D.length-8;E<D.length;++E)D[E]=T&255,T/=256;for(this.u(D),D=Array(16),E=T=0;4>E;++E)for(var M=0;32>M;M+=8)D[T++]=this.g[E]>>>M&255;return D};function a(D,E){var T=s;return Object.prototype.hasOwnProperty.call(T,D)?T[D]:T[D]=E(D)}function o(D,E){this.h=E;for(var T=[],M=!0,R=D.length-1;0<=R;R--){var L=D[R]|0;M&&L==E||(T[R]=L,M=!1)}this.g=T}var s={};function u(D){return-128<=D&&128>D?a(D,function(E){return new o([E|0],0>E?-1:0)}):new o([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return I(f(-D));for(var E=[],T=1,M=0;D>=T;M++)E[M]=D/T|0,T*=4294967296;return new o(E,0)}function h(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return I(h(D.substring(1),E));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=f(Math.pow(E,8)),M=p,R=0;R<D.length;R+=8){var L=Math.min(8,D.length-R),B=parseInt(D.substring(R,R+L),E);8>L?(L=f(Math.pow(E,L)),M=M.j(L).add(f(B))):(M=M.j(T),M=M.add(f(B)))}return M}var p=u(0),g=u(1),m=u(16777216);n=o.prototype,n.m=function(){if(b(this))return-I(this).m();for(var D=0,E=1,T=0;T<this.g.length;T++){var M=this.i(T);D+=(0<=M?M:4294967296+M)*E,E*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(b(this))return"-"+I(this).toString(D);for(var E=f(Math.pow(D,6)),T=this,M="";;){var R=z(T,E).g;T=C(T,R.j(E));var L=((0<T.g.length?T.g[0]:T.h)>>>0).toString(D);if(T=R,x(T))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function b(D){return D.h==-1}n.l=function(D){return D=C(this,D),b(D)?-1:x(D)?0:1};function I(D){for(var E=D.g.length,T=[],M=0;M<E;M++)T[M]=~D.g[M];return new o(T,~D.h).add(g)}n.abs=function(){return b(this)?I(this):this},n.add=function(D){for(var E=Math.max(this.g.length,D.g.length),T=[],M=0,R=0;R<=E;R++){var L=M+(this.i(R)&65535)+(D.i(R)&65535),B=(L>>>16)+(this.i(R)>>>16)+(D.i(R)>>>16);M=B>>>16,L&=65535,B&=65535,T[R]=B<<16|L}return new o(T,T[T.length-1]&-2147483648?-1:0)};function C(D,E){return D.add(I(E))}n.j=function(D){if(x(this)||x(D))return p;if(b(this))return b(D)?I(this).j(I(D)):I(I(this).j(D));if(b(D))return I(this.j(I(D)));if(0>this.l(m)&&0>D.l(m))return f(this.m()*D.m());for(var E=this.g.length+D.g.length,T=[],M=0;M<2*E;M++)T[M]=0;for(M=0;M<this.g.length;M++)for(var R=0;R<D.g.length;R++){var L=this.i(M)>>>16,B=this.i(M)&65535,q=D.i(R)>>>16,te=D.i(R)&65535;T[2*M+2*R]+=B*te,P(T,2*M+2*R),T[2*M+2*R+1]+=L*te,P(T,2*M+2*R+1),T[2*M+2*R+1]+=B*q,P(T,2*M+2*R+1),T[2*M+2*R+2]+=L*q,P(T,2*M+2*R+2)}for(M=0;M<E;M++)T[M]=T[2*M+1]<<16|T[2*M];for(M=E;M<2*E;M++)T[M]=0;return new o(T,0)};function P(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function j(D,E){this.g=D,this.h=E}function z(D,E){if(x(E))throw Error("division by zero");if(x(D))return new j(p,p);if(b(D))return E=z(I(D),E),new j(I(E.g),I(E.h));if(b(E))return E=z(D,I(E)),new j(I(E.g),E.h);if(30<D.g.length){if(b(D)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var T=g,M=E;0>=M.l(D);)T=X(T),M=X(M);var R=H(T,1),L=H(M,1);for(M=H(M,2),T=H(T,2);!x(M);){var B=L.add(M);0>=B.l(D)&&(R=R.add(T),L=B),M=H(M,1),T=H(T,1)}return E=C(D,R.j(E)),new j(R,E)}for(R=p;0<=D.l(E);){for(T=Math.max(1,Math.floor(D.m()/E.m())),M=Math.ceil(Math.log(T)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=f(T),B=L.j(E);b(B)||0<B.l(D);)T-=M,L=f(T),B=L.j(E);x(L)&&(L=g),R=R.add(L),D=C(D,B)}return new j(R,D)}n.A=function(D){return z(this,D).h},n.and=function(D){for(var E=Math.max(this.g.length,D.g.length),T=[],M=0;M<E;M++)T[M]=this.i(M)&D.i(M);return new o(T,this.h&D.h)},n.or=function(D){for(var E=Math.max(this.g.length,D.g.length),T=[],M=0;M<E;M++)T[M]=this.i(M)|D.i(M);return new o(T,this.h|D.h)},n.xor=function(D){for(var E=Math.max(this.g.length,D.g.length),T=[],M=0;M<E;M++)T[M]=this.i(M)^D.i(M);return new o(T,this.h^D.h)};function X(D){for(var E=D.g.length+1,T=[],M=0;M<E;M++)T[M]=D.i(M)<<1|D.i(M-1)>>>31;return new o(T,D.h)}function H(D,E){var T=E>>5;E%=32;for(var M=D.g.length-T,R=[],L=0;L<M;L++)R[L]=0<E?D.i(L+T)>>>E|D.i(L+T+1)<<32-E:D.i(L+T);return new o(R,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,h6=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,tf=o}).apply(typeof dw<"u"?dw:typeof self<"u"?self:typeof window<"u"?window:{});var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d6,O1,p6,Qp,ty,g6,m6,v6;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,F,$){return _==Array.prototype||_==Object.prototype||(_[F]=$.value),_};function t(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Np=="object"&&Np];for(var F=0;F<_.length;++F){var $=_[F];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var r=t(this);function i(_,F){if(F)e:{var $=r;_=_.split(".");for(var le=0;le<_.length-1;le++){var Ce=_[le];if(!(Ce in $))break e;$=$[Ce]}_=_[_.length-1],le=$[_],F=F(le),F!=le&&F!=null&&e($,_,{configurable:!0,writable:!0,value:F})}}function a(_,F){_ instanceof String&&(_+="");var $=0,le=!1,Ce={next:function(){if(!le&&$<_.length){var ke=$++;return{value:F(ke,_[ke]),done:!1}}return le=!0,{done:!0,value:void 0}}};return Ce[Symbol.iterator]=function(){return Ce},Ce}i("Array.prototype.values",function(_){return _||function(){return a(this,function(F,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function u(_){var F=typeof _;return F=F!="object"?F:_?Array.isArray(_)?"array":F:"null",F=="array"||F=="object"&&typeof _.length=="number"}function f(_){var F=typeof _;return F=="object"&&_!=null||F=="function"}function h(_,F,$){return _.call.apply(_.bind,arguments)}function p(_,F,$){if(!_)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var Ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ce,le),_.apply(F,Ce)}}return function(){return _.apply(F,arguments)}}function g(_,F,$){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(_,F){var $=Array.prototype.slice.call(arguments,1);return function(){var le=$.slice();return le.push.apply(le,arguments),_.apply(this,le)}}function x(_,F){function $(){}$.prototype=F.prototype,_.aa=F.prototype,_.prototype=new $,_.prototype.constructor=_,_.Qb=function(le,Ce,ke){for(var ot=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ot[Ut-2]=arguments[Ut];return F.prototype[Ce].apply(le,ot)}}function b(_){const F=_.length;if(0<F){const $=Array(F);for(let le=0;le<F;le++)$[le]=_[le];return $}return[]}function I(_,F){for(let $=1;$<arguments.length;$++){const le=arguments[$];if(u(le)){const Ce=_.length||0,ke=le.length||0;_.length=Ce+ke;for(let ot=0;ot<ke;ot++)_[Ce+ot]=le[ot]}else _.push(le)}}class C{constructor(F,$){this.i=F,this.j=$,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function P(_){return/^[\s\xa0]*$/.test(_)}function j(){var _=s.navigator;return _&&(_=_.userAgent)?_:""}function z(_){return z[" "](_),_}z[" "]=function(){};var X=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function H(_,F,$){for(const le in _)F.call($,_[le],le,_)}function D(_,F){for(const $ in _)F.call(void 0,_[$],$,_)}function E(_){const F={};for(const $ in _)F[$]=_[$];return F}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(_,F){let $,le;for(let Ce=1;Ce<arguments.length;Ce++){le=arguments[Ce];for($ in le)_[$]=le[$];for(let ke=0;ke<T.length;ke++)$=T[ke],Object.prototype.hasOwnProperty.call(le,$)&&(_[$]=le[$])}}function R(_){var F=1;_=_.split(":");const $=[];for(;0<F&&_.length;)$.push(_.shift()),F--;return _.length&&$.push(_.join(":")),$}function L(_){s.setTimeout(()=>{throw _},0)}function B(){var _=ae;let F=null;return _.g&&(F=_.g,_.g=_.g.next,_.g||(_.h=null),F.next=null),F}class q{constructor(){this.h=this.g=null}add(F,$){const le=te.get();le.set(F,$),this.h?this.h.next=le:this.g=le,this.h=le}}var te=new C(()=>new V,_=>_.reset());class V{constructor(){this.next=this.g=this.h=null}set(F,$){this.h=F,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let U,Q=!1,ae=new q,Y=()=>{const _=s.Promise.resolve(void 0);U=()=>{_.then(me)}};var me=()=>{for(var _;_=B();){try{_.h.call(_.g)}catch($){L($)}var F=te;F.j(_),100>F.h&&(F.h++,_.next=F.g,F.g=_)}Q=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(_,F){this.type=_,this.g=this.target=F,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,F=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const $=()=>{};s.addEventListener("test",$,F),s.removeEventListener("test",$,F)}catch{}return _}();function oe(_,F){if(Z.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var $=this.type=_.type,le=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=F,F=_.relatedTarget){if(X){e:{try{z(F.nodeName);var Ce=!0;break e}catch{}Ce=!1}Ce||(F=null)}}else $=="mouseover"?F=_.fromElement:$=="mouseout"&&(F=_.toElement);this.relatedTarget=F,le?(this.clientX=le.clientX!==void 0?le.clientX:le.pageX,this.clientY=le.clientY!==void 0?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:ge[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&oe.aa.h.call(this)}}x(oe,Z);var ge={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ie(_,F,$,le,Ce){this.listener=_,this.proxy=null,this.src=F,this.type=$,this.capture=!!le,this.ha=Ce,this.key=++we,this.da=this.fa=!1}function Ge(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function We(_){this.src=_,this.g={},this.h=0}We.prototype.add=function(_,F,$,le,Ce){var ke=_.toString();_=this.g[ke],_||(_=this.g[ke]=[],this.h++);var ot=ut(_,F,le,Ce);return-1<ot?(F=_[ot],$||(F.fa=!1)):(F=new Ie(F,this.src,ke,!!le,Ce),F.fa=$,_.push(F)),F};function st(_,F){var $=F.type;if($ in _.g){var le=_.g[$],Ce=Array.prototype.indexOf.call(le,F,void 0),ke;(ke=0<=Ce)&&Array.prototype.splice.call(le,Ce,1),ke&&(Ge(F),_.g[$].length==0&&(delete _.g[$],_.h--))}}function ut(_,F,$,le){for(var Ce=0;Ce<_.length;++Ce){var ke=_[Ce];if(!ke.da&&ke.listener==F&&ke.capture==!!$&&ke.ha==le)return Ce}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),De={};function de(_,F,$,le,Ce){if(Array.isArray(F)){for(var ke=0;ke<F.length;ke++)de(_,F[ke],$,le,Ce);return null}return $=Rt($),_&&_[Ee]?_.K(F,$,f(le)?!!le.capture:!1,Ce):ft(_,F,$,!1,le,Ce)}function ft(_,F,$,le,Ce,ke){if(!F)throw Error("Invalid event type");var ot=f(Ce)?!!Ce.capture:!!Ce,Ut=ht(_);if(Ut||(_[qe]=Ut=new We(_)),$=Ut.add(F,$,le,ot,ke),$.proxy)return $;if(le=Ke(),$.proxy=le,le.src=_,le.listener=$,_.addEventListener)ne||(Ce=ot),Ce===void 0&&(Ce=!1),_.addEventListener(F.toString(),le,Ce);else if(_.attachEvent)_.attachEvent(it(F.toString()),le);else if(_.addListener&&_.removeListener)_.addListener(le);else throw Error("addEventListener and attachEvent are unavailable.");return $}function Ke(){function _($){return F.call(_.src,_.listener,$)}const F=lt;return _}function ze(_,F,$,le,Ce){if(Array.isArray(F))for(var ke=0;ke<F.length;ke++)ze(_,F[ke],$,le,Ce);else le=f(le)?!!le.capture:!!le,$=Rt($),_&&_[Ee]?(_=_.i,F=String(F).toString(),F in _.g&&(ke=_.g[F],$=ut(ke,$,le,Ce),-1<$&&(Ge(ke[$]),Array.prototype.splice.call(ke,$,1),ke.length==0&&(delete _.g[F],_.h--)))):_&&(_=ht(_))&&(F=_.g[F.toString()],_=-1,F&&(_=ut(F,$,le,Ce)),($=-1<_?F[_]:null)&&nt($))}function nt(_){if(typeof _!="number"&&_&&!_.da){var F=_.src;if(F&&F[Ee])st(F.i,_);else{var $=_.type,le=_.proxy;F.removeEventListener?F.removeEventListener($,le,_.capture):F.detachEvent?F.detachEvent(it($),le):F.addListener&&F.removeListener&&F.removeListener(le),($=ht(F))?(st($,_),$.h==0&&($.src=null,F[qe]=null)):Ge(_)}}}function it(_){return _ in De?De[_]:De[_]="on"+_}function lt(_,F){if(_.da)_=!0;else{F=new oe(F,this);var $=_.listener,le=_.ha||_.src;_.fa&&nt(_),_=$.call(le,F)}return _}function ht(_){return _=_[qe],_ instanceof We?_:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(_){return typeof _=="function"?_:(_[vt]||(_[vt]=function(F){return _.handleEvent(F)}),_[vt])}function bt(){G.call(this),this.i=new We(this),this.M=this,this.F=null}x(bt,G),bt.prototype[Ee]=!0,bt.prototype.removeEventListener=function(_,F,$,le){ze(this,_,F,$,le)};function wt(_,F){var $,le=_.F;if(le)for($=[];le;le=le.F)$.push(le);if(_=_.M,le=F.type||F,typeof F=="string")F=new Z(F,_);else if(F instanceof Z)F.target=F.target||_;else{var Ce=F;F=new Z(le,_),M(F,Ce)}if(Ce=!0,$)for(var ke=$.length-1;0<=ke;ke--){var ot=F.g=$[ke];Ce=Nt(ot,le,!0,F)&&Ce}if(ot=F.g=_,Ce=Nt(ot,le,!0,F)&&Ce,Ce=Nt(ot,le,!1,F)&&Ce,$)for(ke=0;ke<$.length;ke++)ot=F.g=$[ke],Ce=Nt(ot,le,!1,F)&&Ce}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var _=this.i,F;for(F in _.g){for(var $=_.g[F],le=0;le<$.length;le++)Ge($[le]);delete _.g[F],_.h--}}this.F=null},bt.prototype.K=function(_,F,$,le){return this.i.add(String(_),F,!1,$,le)},bt.prototype.L=function(_,F,$,le){return this.i.add(String(_),F,!0,$,le)};function Nt(_,F,$,le){if(F=_.i.g[String(F)],!F)return!0;F=F.concat();for(var Ce=!0,ke=0;ke<F.length;++ke){var ot=F[ke];if(ot&&!ot.da&&ot.capture==$){var Ut=ot.listener,dn=ot.ha||ot.src;ot.fa&&st(_.i,ot),Ce=Ut.call(dn,le)!==!1&&Ce}}return Ce&&!le.defaultPrevented}function _t(_,F,$){if(typeof _=="function")$&&(_=g(_,$));else if(_&&typeof _.handleEvent=="function")_=g(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:s.setTimeout(_,F||0)}function Dt(_){_.g=_t(()=>{_.g=null,_.i&&(_.i=!1,Dt(_))},_.l);const F=_.h;_.h=null,_.m.apply(null,F)}class ct extends G{constructor(F,$){super(),this.m=F,this.l=$,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:Dt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(_){G.call(this),this.h=_,this.g={}}x(vn,G);var zt=[];function Yn(_){H(_.g,function(F,$){this.g.hasOwnProperty($)&&nt(F)},_),_.g={}}vn.prototype.N=function(){vn.aa.N.call(this),Yn(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=s.JSON.stringify,An=s.JSON.parse,pi=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function on(){}on.prototype.h=null;function pa(_){return _.h||(_.h=_.i())}function Cn(){}var Mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){Z.call(this,"d")}x(sr,Z);function yn(){Z.call(this,"c")}x(yn,Z);var It={},nn=null;function Si(){return nn=nn||new bt}It.La="serverreachability";function Mn(_){Z.call(this,It.La,_)}x(Mn,Z);function pr(_){const F=Si();wt(F,new Mn(F))}It.STAT_EVENT="statevent";function Ua(_,F){Z.call(this,It.STAT_EVENT,_),this.stat=F}x(Ua,Z);function yt(_){const F=Si();wt(F,new Ua(F,_))}It.Ma="timingevent";function Wn(_,F){Z.call(this,It.Ma,_),this.size=F}x(Wn,Z);function Gn(_,F){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},F)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function Er(_,F,$,le,Ce,ke){_.info(function(){if(_.g)if(ke)for(var ot="",Ut=ke.split("&"),dn=0;dn<Ut.length;dn++){var Qt=Ut[dn].split("=");if(1<Qt.length){var Fn=Qt[0];Qt=Qt[1];var Kn=Fn.split("_");ot=2<=Kn.length&&Kn[1]=="type"?ot+(Fn+"="+Qt+"&"):ot+(Fn+"=redacted&")}}else ot=null;else ot=ke;return"XMLHTTP REQ ("+le+") [attempt "+Ce+"]: "+F+`
`+$+`
`+ot})}function Nr(_,F,$,le,Ce,ke,ot){_.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+Ce+"]: "+F+`
`+$+`
`+ke+" "+ot})}function Gr(_,F,$,le){_.info(function(){return"XMLHTTP TEXT ("+F+"): "+Ji(_,$)+(le?" "+le:"")})}function Is(_,F){_.info(function(){return"TIMEOUT: "+F})}gr.prototype.info=function(){};function Ji(_,F){if(!_.g)return F;if(!F)return null;try{var $=JSON.parse(F);if($){for(_=0;_<$.length;_++)if(Array.isArray($[_])){var le=$[_];if(!(2>le.length)){var Ce=le[1];if(Array.isArray(Ce)&&!(1>Ce.length)){var ke=Ce[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var ot=1;ot<Ce.length;ot++)Ce[ot]=""}}}}return Kt($)}catch{return F}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$r;function ni(){}x(ni,on),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},$r=new ni;function lr(_,F,$,le){this.j=_,this.i=F,this.l=$,this.R=le||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var So={},Co={};function Bi(_,F,$){_.L=1,_.v=es(Ii(F)),_.m=$,_.P=!0,ga(_,null)}function ga(_,F){_.F=Date.now(),Rs(_),_.A=Ii(_.v);var $=_.A,le=_.R;Array.isArray(le)||(le=[String(le)]),Ft($.i,"t",le),_.C=0,$=_.j.J,_.h=new jn,_.g=ee(_.j,$?F:null,!_.m),0<_.O&&(_.M=new ct(g(_.Y,_,_.g),_.O)),F=_.U,$=_.g,le=_.ca;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&(zt[0]=Ce.toString()),Ce=zt);for(var ke=0;ke<Ce.length;ke++){var ot=de($,Ce[ke],le||F.handleEvent,!1,F.h||F);if(!ot)break;F.g[ot.key]=ot}F=_.H?E(_.H):{},_.m?(_.u||(_.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,F)):(_.u="GET",_.g.ea(_.A,_.u,null,F)),pr(),Er(_.i,_.u,_.A,_.l,_.R,_.m)}lr.prototype.ca=function(_){_=_.target;const F=this.M;F&&Yr(_)==3?F.j():this.Y(_)},lr.prototype.Y=function(_){try{if(_==this.g)e:{const Kn=Yr(this.g);var F=this.g.Ba();const oo=this.g.Z();if(!(3>Kn)&&(Kn!=3||this.g&&(this.h.h||this.g.oa()||cc(this.g)))){this.J||Kn!=4||F==7||(F==8||0>=oo?pr(3):pr(2)),Va(this);var $=this.g.Z();this.X=$;t:if(Ts(this)){var le=cc(this.g);_="";var Ce=le.length,ke=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),za(this);var ot="";break t}this.h.i=new s.TextDecoder}for(F=0;F<Ce;F++)this.h.h=!0,_+=this.h.i.decode(le[F],{stream:!(ke&&F==Ce-1)});le.length=0,this.h.g+=_,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=$==200,Nr(this.i,this.u,this.A,this.l,this.R,Kn,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,dn=this.g;if((Ut=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Ut)){var Qt=Ut;break t}}Qt=null}if($=Qt)Gr(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Io(this,$);else{this.o=!1,this.s=3,yt(12),ri(this),za(this);break e}}if(this.P){$=!0;let jr;for(;!this.J&&this.C<ot.length;)if(jr=lu(this,ot),jr==Co){Kn==4&&(this.s=4,yt(14),$=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(jr==So){this.s=4,yt(15),Gr(this.i,this.l,ot,"[Invalid Chunk]"),$=!1;break}else Gr(this.i,this.l,jr,null),Io(this,jr);if(Ts(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kn!=4||ot.length!=0||this.h.h||(this.s=1,yt(16),$=!1),this.o=this.o&&$,!$)Gr(this.i,this.l,ot,"[Invalid Chunked Response]"),ri(this),za(this);else if(0<ot.length&&!this.W){this.W=!0;var Fn=this.j;Fn.g==this&&Fn.ba&&!Fn.M&&(Fn.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),os(Fn),Fn.M=!0,yt(11))}}else Gr(this.i,this.l,ot,null),Io(this,ot);Kn==4&&ri(this),this.o&&!this.J&&(Kn==4?ss(this.j,this):(this.o=!1,Rs(this)))}else rs(this.g),$==400&&0<ot.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),ri(this),za(this)}}}catch{}finally{}};function Ts(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function lu(_,F){var $=_.C,le=F.indexOf(`
`,$);return le==-1?Co:($=Number(F.substring($,le)),isNaN($)?So:(le+=1,le+$>F.length?Co:(F=F.slice(le,le+$),_.C=le+$,F)))}lr.prototype.cancel=function(){this.J=!0,ri(this)};function Rs(_){_.S=Date.now()+_.I,ac(_,_.I)}function ac(_,F){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Gn(g(_.ba,_),F)}function Va(_){_.B&&(s.clearTimeout(_.B),_.B=null)}lr.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Is(this.i,this.A),this.L!=2&&(pr(),yt(17)),ri(this),this.s=2,za(this)):ac(this,this.S-_)};function za(_){_.j.G==0||_.J||ss(_.j,_)}function ri(_){Va(_);var F=_.M;F&&typeof F.ma=="function"&&F.ma(),_.M=null,Yn(_.U),_.g&&(F=_.g,_.g=null,F.abort(),F.ma())}function Io(_,F){try{var $=_.j;if($.G!=0&&($.g==_||uu($.h,_))){if(!_.K&&uu($.h,_)&&$.G==3){try{var le=$.Da.g.parse(F)}catch{le=null}if(Array.isArray(le)&&le.length==3){var Ce=le;if(Ce[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<_.F)ko($),yl($);else break e;ks($),yt(18)}}else $.za=Ce[1],0<$.za-$.T&&37500>Ce[2]&&$.F&&$.v==0&&!$.C&&($.C=Gn(g($.Za,$),6e3));if(1>=To($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else zi($,11)}else if((_.K||$.g==_)&&ko($),!P(F))for(Ce=$.Da.g.parse(F),F=0;F<Ce.length;F++){let Qt=Ce[F];if($.T=Qt[0],Qt=Qt[1],$.G==2)if(Qt[0]=="c"){$.K=Qt[1],$.ia=Qt[2];const Fn=Qt[3];Fn!=null&&($.la=Fn,$.j.info("VER="+$.la));const Kn=Qt[4];Kn!=null&&($.Aa=Kn,$.j.info("SVER="+$.Aa));const oo=Qt[5];oo!=null&&typeof oo=="number"&&0<oo&&(le=1.5*oo,$.L=le,$.j.info("backChannelRequestTimeoutMs_="+le)),le=$;const jr=_.g;if(jr){const _a=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var ke=le.h;ke.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(ur(ke,ke.h),ke.h=null))}if(le.D){const ls=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;ls&&(le.ya=ls,Bn(le.I,le.D,ls))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-_.F,$.j.info("Handshake RTT: "+$.R+"ms")),le=$;var ot=_;if(le.qa=O(le,le.J?le.ia:null,le.W),ot.K){mi(le.h,ot);var Ut=ot,dn=le.L;dn&&(Ut.I=dn),Ut.B&&(Va(Ut),Rs(Ut)),le.g=ot}else _l(le);0<$.i.length&&xl($)}else Qt[0]!="stop"&&Qt[0]!="close"||zi($,7);else $.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?zi($,7):Lo($):Qt[0]!="noop"&&$.l&&$.l.ta(Qt),$.v=0)}}pr(4)}catch{}}var oc=class{constructor(_,F){this.g=_,this.map=F}};function Za(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pl(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function To(_){return _.h?1:_.g?_.g.size:0}function uu(_,F){return _.h?_.h==F:_.g?_.g.has(F):!1}function ur(_,F){_.g?_.g.add(F):_.h=F}function mi(_,F){_.h&&_.h==F?_.h=null:_.g&&_.g.has(F)&&_.g.delete(F)}Za.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function gl(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let F=_.i;for(const $ of _.g.values())F=F.concat($.D);return F}return b(_.i)}function sc(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(u(_)){for(var F=[],$=_.length,le=0;le<$;le++)F.push(_[le]);return F}F=[],$=0;for(le in _)F[$++]=_[le];return F}function Qo(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(u(_)||typeof _=="string"){var F=[];_=_.length;for(var $=0;$<_;$++)F.push($);return F}F=[],$=0;for(const le in _)F[$++]=le;return F}}}function cu(_,F){if(_.forEach&&typeof _.forEach=="function")_.forEach(F,void 0);else if(u(_)||typeof _=="string")Array.prototype.forEach.call(_,F,void 0);else for(var $=Qo(_),le=sc(_),Ce=le.length,ke=0;ke<Ce;ke++)F.call(void 0,le[ke],$&&$[ke],_)}var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ml(_,F){if(_){_=_.split("&");for(var $=0;$<_.length;$++){var le=_[$].indexOf("="),Ce=null;if(0<=le){var ke=_[$].substring(0,le);Ce=_[$].substring(le+1)}else ke=_[$];F(ke,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function En(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof En){this.h=_.h,Zo(this,_.j),this.o=_.o,this.g=_.g,Jo(this,_.s),this.l=_.l;var F=_.i,$=new eo;$.i=F.i,F.g&&($.g=new Map(F.g),$.h=F.h),Ja(this,$),this.m=_.m}else _&&(F=String(_).match(Ci))?(this.h=!1,Zo(this,F[1]||"",!0),this.o=ma(F[2]||""),this.g=ma(F[3]||"",!0),Jo(this,F[4]),this.l=ma(F[5]||"",!0),Ja(this,F[6]||"",!0),this.m=ma(F[7]||"")):(this.h=!1,this.i=new eo(null,this.h))}En.prototype.toString=function(){var _=[],F=this.j;F&&_.push(Ro(F,fu,!0),":");var $=this.g;return($||F=="file")&&(_.push("//"),(F=this.o)&&_.push(Ro(F,fu,!0),"@"),_.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&_.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&_.push("/"),_.push(Ro($,$.charAt(0)=="/"?No:hu,!0))),($=this.i.toString())&&_.push("?",$),($=this.m)&&_.push("#",Ro($,Do)),_.join("")};function Ii(_){return new En(_)}function Zo(_,F,$){_.j=$?ma(F,!0):F,_.j&&(_.j=_.j.replace(/:$/,""))}function Jo(_,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);_.s=F}else _.s=null}function Ja(_,F,$){F instanceof eo?(_.i=F,uc(_.i,_.h)):($||(F=Ro(F,vl)),_.i=new eo(F,_.h))}function Bn(_,F,$){_.i.set(F,$)}function es(_){return Bn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function ma(_,F){return _?F?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Ro(_,F,$){return typeof _=="string"?(_=encodeURI(_).replace(F,lc),$&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function lc(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var fu=/[#\/\?@]/g,hu=/[#\?:]/g,No=/[#\?]/g,vl=/[#\?@]/g,Do=/#/g;function eo(_,F){this.h=this.g=null,this.i=_||null,this.j=!!F}function er(_){_.g||(_.g=new Map,_.h=0,_.i&&ml(_.i,function(F,$){_.add(decodeURIComponent(F.replace(/\+/g," ")),$)}))}n=eo.prototype,n.add=function(_,F){er(this),this.i=null,_=no(this,_);var $=this.g.get(_);return $||this.g.set(_,$=[]),$.push(F),this.h+=1,this};function Oo(_,F){er(_),F=no(_,F),_.g.has(F)&&(_.i=null,_.h-=_.g.get(F).length,_.g.delete(F))}function to(_,F){return er(_),F=no(_,F),_.g.has(F)}n.forEach=function(_,F){er(this),this.g.forEach(function($,le){$.forEach(function(Ce){_.call(F,Ce,le,this)},this)},this)},n.na=function(){er(this);const _=Array.from(this.g.values()),F=Array.from(this.g.keys()),$=[];for(let le=0;le<F.length;le++){const Ce=_[le];for(let ke=0;ke<Ce.length;ke++)$.push(F[le])}return $},n.V=function(_){er(this);let F=[];if(typeof _=="string")to(this,_)&&(F=F.concat(this.g.get(no(this,_))));else{_=Array.from(this.g.values());for(let $=0;$<_.length;$++)F=F.concat(_[$])}return F},n.set=function(_,F){return er(this),this.i=null,_=no(this,_),to(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[F]),this.h+=1,this},n.get=function(_,F){return _?(_=this.V(_),0<_.length?String(_[0]):F):F};function Ft(_,F,$){Oo(_,F),0<$.length&&(_.i=null,_.g.set(no(_,F),b($)),_.h+=$.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],F=Array.from(this.g.keys());for(var $=0;$<F.length;$++){var le=F[$];const ke=encodeURIComponent(String(le)),ot=this.V(le);for(le=0;le<ot.length;le++){var Ce=ke;ot[le]!==""&&(Ce+="="+encodeURIComponent(String(ot[le]))),_.push(Ce)}}return this.i=_.join("&")};function no(_,F){return F=String(F),_.j&&(F=F.toLowerCase()),F}function uc(_,F){F&&!_.j&&(er(_),_.i=null,_.g.forEach(function($,le){var Ce=le.toLowerCase();le!=Ce&&(Oo(this,le),Ft(this,Ce,$))},_)),_.j=F}function Fi(_,F){const $=new gr;if(s.Image){const le=new Image;le.onload=m(ea,$,"TestLoadImage: loaded",!0,F,le),le.onerror=m(ea,$,"TestLoadImage: error",!1,F,le),le.onabort=m(ea,$,"TestLoadImage: abort",!1,F,le),le.ontimeout=m(ea,$,"TestLoadImage: timeout",!1,F,le),s.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=_}else F(!1)}function va(_,F){const $=new gr,le=new AbortController,Ce=setTimeout(()=>{le.abort(),ea($,"TestPingServer: timeout",!1,F)},1e4);fetch(_,{signal:le.signal}).then(ke=>{clearTimeout(Ce),ke.ok?ea($,"TestPingServer: ok",!0,F):ea($,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Ce),ea($,"TestPingServer: error",!1,F)})}function ea(_,F,$,le,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),le($)}catch{}}function ro(){this.g=new pi}function ya(_,F,$){const le=$||"";try{cu(_,function(Ce,ke){let ot=Ce;f(Ce)&&(ot=Kt(Ce)),F.push(le+ke+"="+encodeURIComponent(ot))})}catch(Ce){throw F.push(le+"type="+encodeURIComponent("_badmap")),Ce}}function ts(_){this.l=_.Ub||null,this.j=_.eb||!1}x(ts,on),ts.prototype.g=function(){return new Po(this.l,this.j)},ts.prototype.i=function(_){return function(){return _}}({});function Po(_,F){bt.call(this),this.D=_,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Po,bt),n=Po.prototype,n.open=function(_,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=F,this.readyState=1,Ui(this)},n.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(F.body=_),(this.D||s).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},n.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;du(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function du(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}n.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var F=_.value?_.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!_.done}))&&(this.response=this.responseText+=F)}_.done?xa(this):Ui(this),this.readyState==3&&du(this)}},n.Ra=function(_){this.g&&(this.response=this.responseText=_,xa(this))},n.Qa=function(_){this.g&&(this.response=_,xa(this))},n.ga=function(){this.g&&xa(this)};function xa(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Ui(_)}n.setRequestHeader=function(_,F){this.u.append(_,F)},n.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],F=this.h.entries();for(var $=F.next();!$.done;)$=$.value,_.push($[0]+": "+$[1]),$=F.next();return _.join(`\r
`)};function Ui(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function io(_){let F="";return H(_,function($,le){F+=le,F+=":",F+=$,F+=`\r
`}),F}function Xr(_,F,$){e:{for(le in $){var le=!1;break e}le=!0}le||($=io($),typeof _=="string"?$!=null&&encodeURIComponent(String($)):Bn(_,F,$))}function hn(_){bt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(hn,bt);var ns=/^https?$/i,ao=["POST","PUT"];n=hn.prototype,n.Ha=function(_){this.J=_},n.ea=function(_,F,$,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);F=F?F.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$r.g(),this.v=this.o?pa(this.o):pa($r),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(F,String(_),!0),this.B=!1}catch(ke){pu(this,ke);return}if(_=$||"",$=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var Ce in le)$.set(Ce,le[Ce]);else if(typeof le.keys=="function"&&typeof le.get=="function")for(const ke of le.keys())$.set(ke,le.get(ke));else throw Error("Unknown input type for opt_headers: "+String(le));le=Array.from($.keys()).find(ke=>ke.toLowerCase()=="content-type"),Ce=s.FormData&&_ instanceof s.FormData,!(0<=Array.prototype.indexOf.call(ao,F,void 0))||le||Ce||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,ot]of $)this.g.setRequestHeader(ke,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vi(this),this.u=!0,this.g.send(_),this.u=!1}catch(ke){pu(this,ke)}};function pu(_,F){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=F,_.m=5,Ns(_),qa(_)}function Ns(_){_.A||(_.A=!0,wt(_,"complete"),wt(_,"error"))}n.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,wt(this,"complete"),wt(this,"abort"),qa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qa(this,!0)),hn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ds(this):this.bb())},n.bb=function(){Ds(this)};function Ds(_){if(_.h&&typeof o<"u"&&(!_.v[1]||Yr(_)!=4||_.Z()!=2)){if(_.u&&Yr(_)==4)_t(_.Ea,0,_);else if(wt(_,"readystatechange"),Yr(_)==4){_.h=!1;try{const ot=_.Z();e:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var $;if(!($=F)){var le;if(le=ot===0){var Ce=String(_.D).match(Ci)[1]||null;!Ce&&s.self&&s.self.location&&(Ce=s.self.location.protocol.slice(0,-1)),le=!ns.test(Ce?Ce.toLowerCase():"")}$=le}if($)wt(_,"complete"),wt(_,"success");else{_.m=6;try{var ke=2<Yr(_)?_.g.statusText:""}catch{ke=""}_.l=ke+" ["+_.Z()+"]",Ns(_)}}finally{qa(_)}}}}function qa(_,F){if(_.g){Vi(_);const $=_.g,le=_.v[0]?()=>{}:null;_.g=null,_.v=null,F||wt(_,"ready");try{$.onreadystatechange=le}catch{}}}function Vi(_){_.I&&(s.clearTimeout(_.I),_.I=null)}n.isActive=function(){return!!this.g};function Yr(_){return _.g?_.g.readyState:0}n.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(_){if(this.g){var F=this.g.responseText;return _&&F.indexOf(_)==0&&(F=F.substring(_.length)),An(F)}};function cc(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(_){const F={};_=(_.g&&2<=Yr(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let le=0;le<_.length;le++){if(P(_[le]))continue;var $=R(_[le]);const Ce=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const ke=F[Ce]||[];F[Ce]=ke,ke.push($)}D(F,function(le){return le.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(_,F,$){return $&&$.internalChannelParams&&$.internalChannelParams[_]||F}function is(_){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ti("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ti("baseRetryDelayMs",5e3,_),this.cb=Ti("retryDelaySeedMs",1e4,_),this.Wa=Ti("forwardChannelMaxRetries",2,_),this.wa=Ti("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Za(_&&_.concurrentRequestLimit),this.Da=new ro,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=is.prototype,n.la=8,n.G=1,n.connect=function(_,F,$,le){yt(0),this.W=_,this.H=F||{},$&&le!==void 0&&(this.H.OSID=$,this.H.OAID=le),this.F=this.X,this.I=O(this,null,this.W),xl(this)};function Lo(_){if(Os(_),_.G==3){var F=_.U++,$=Ii(_.I);if(Bn($,"SID",_.K),Bn($,"RID",F),Bn($,"TYPE","terminate"),as(_,$),F=new lr(_,_.j,F),F.L=2,F.v=es(Ii($)),$=!1,s.navigator&&s.navigator.sendBeacon)try{$=s.navigator.sendBeacon(F.v.toString(),"")}catch{}!$&&s.Image&&(new Image().src=F.v,$=!0),$||(F.g=ee(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Rs(F)}bl(_)}function yl(_){_.g&&(os(_),_.g.cancel(),_.g=null)}function Os(_){yl(_),_.u&&(s.clearTimeout(_.u),_.u=null),ko(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&s.clearTimeout(_.s),_.s=null)}function xl(_){if(!pl(_.h)&&!_.s){_.s=!0;var F=_.Ga;U||Y(),Q||(U(),Q=!0),ae.add(F,_),_.B=0}}function gu(_,F){return To(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=F.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Gn(g(_.Ga,_,F),Ms(_,_.B)),_.B++,!0)}n.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Ce=new lr(this,this.j,_);let ke=this.o;if(this.S&&(ke?(ke=E(ke),M(ke,this.S)):ke=this.S),this.m!==null||this.O||(Ce.H=ke,ke=null),this.P)e:{for(var F=0,$=0;$<this.i.length;$++){t:{var le=this.i[$];if("__data__"in le.map&&(le=le.map.__data__,typeof le=="string")){le=le.length;break t}le=void 0}if(le===void 0)break;if(F+=le,4096<F){F=$;break e}if(F===4096||$===this.i.length-1){F=$+1;break e}}F=1e3}else F=1e3;F=Ls(this,Ce,F),$=Ii(this.I),Bn($,"RID",_),Bn($,"CVER",22),this.D&&Bn($,"X-HTTP-Session-Id",this.D),as(this,$),ke&&(this.O?F="headers="+encodeURIComponent(String(io(ke)))+"&"+F:this.m&&Xr($,this.m,ke)),ur(this.h,Ce),this.Ua&&Bn($,"TYPE","init"),this.P?(Bn($,"$req",F),Bn($,"SID","null"),Ce.T=!0,Bi(Ce,$,null)):Bi(Ce,$,F),this.G=2}}else this.G==3&&(_?Ps(this,_):this.i.length==0||pl(this.h)||Ps(this))};function Ps(_,F){var $;F?$=F.l:$=_.U++;const le=Ii(_.I);Bn(le,"SID",_.K),Bn(le,"RID",$),Bn(le,"AID",_.T),as(_,le),_.m&&_.o&&Xr(le,_.m,_.o),$=new lr(_,_.j,$,_.B+1),_.m===null&&($.H=_.o),F&&(_.i=F.D.concat(_.i)),F=Ls(_,$,1e3),$.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),ur(_.h,$),Bi($,le,F)}function as(_,F){_.H&&H(_.H,function($,le){Bn(F,le,$)}),_.l&&cu({},function($,le){Bn(F,le,$)})}function Ls(_,F,$){$=Math.min(_.i.length,$);var le=_.l?g(_.l.Na,_.l,_):null;e:{var Ce=_.i;let ke=-1;for(;;){const ot=["count="+$];ke==-1?0<$?(ke=Ce[0].g,ot.push("ofs="+ke)):ke=0:ot.push("ofs="+ke);let Ut=!0;for(let dn=0;dn<$;dn++){let Qt=Ce[dn].g;const Fn=Ce[dn].map;if(Qt-=ke,0>Qt)ke=Math.max(0,Ce[dn].g-100),Ut=!1;else try{ya(Fn,ot,"req"+Qt+"_")}catch{le&&le(Fn)}}if(Ut){le=ot.join("&");break e}}}return _=_.i.splice(0,$),F.D=_,le}function _l(_){if(!_.g&&!_.u){_.Y=1;var F=_.Fa;U||Y(),Q||(U(),Q=!0),ae.add(F,_),_.v=0}}function ks(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Gn(g(_.Fa,_),Ms(_,_.v)),_.v++,!0)}n.Fa=function(){if(this.u=null,fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Gn(g(this.ab,this),_)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),yl(this),fc(this))};function os(_){_.A!=null&&(s.clearTimeout(_.A),_.A=null)}function fc(_){_.g=new lr(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var F=Ii(_.qa);Bn(F,"RID","rpc"),Bn(F,"SID",_.K),Bn(F,"AID",_.T),Bn(F,"CI",_.F?"0":"1"),!_.F&&_.ja&&Bn(F,"TO",_.ja),Bn(F,"TYPE","xmlhttp"),as(_,F),_.m&&_.o&&Xr(F,_.m,_.o),_.L&&(_.g.I=_.L);var $=_.g;_=_.ia,$.L=1,$.v=es(Ii(F)),$.m=null,$.P=!0,ga($,_)}n.Za=function(){this.C!=null&&(this.C=null,yl(this),ks(this),yt(19))};function ko(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function ss(_,F){var $=null;if(_.g==F){ko(_),os(_),_.g=null;var le=2}else if(uu(_.h,F))$=F.D,mi(_.h,F),le=1;else return;if(_.G!=0){if(F.o)if(le==1){$=F.m?F.m.length:0,F=Date.now()-F.F;var Ce=_.B;le=Si(),wt(le,new Wn(le,$)),xl(_)}else _l(_);else if(Ce=F.s,Ce==3||Ce==0&&0<F.X||!(le==1&&gu(_,F)||le==2&&ks(_)))switch($&&0<$.length&&(F=_.h,F.i=F.i.concat($)),Ce){case 1:zi(_,5);break;case 4:zi(_,10);break;case 3:zi(_,6);break;default:zi(_,2)}}}function Ms(_,F){let $=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||($*=2),$*F}function zi(_,F){if(_.j.info("Error code "+F),F==2){var $=g(_.fb,_),le=_.Xa;const Ce=!le;le=new En(le||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Zo(le,"https"),es(le),Ce?Fi(le.toString(),$):va(le.toString(),$)}else yt(2);_.G=0,_.l&&_.l.sa(F),bl(_),Os(_)}n.fb=function(_){_?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function bl(_){if(_.G=0,_.ka=[],_.l){const F=gl(_.h);(F.length!=0||_.i.length!=0)&&(I(_.ka,F),I(_.ka,_.i),_.h.i.length=0,b(_.i),_.i.length=0),_.l.ra()}}function O(_,F,$){var le=$ instanceof En?Ii($):new En($);if(le.g!="")F&&(le.g=F+"."+le.g),Jo(le,le.s);else{var Ce=s.location;le=Ce.protocol,F=F?F+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;var ke=new En(null);le&&Zo(ke,le),F&&(ke.g=F),Ce&&Jo(ke,Ce),$&&(ke.l=$),le=ke}return $=_.D,F=_.ya,$&&F&&Bn(le,$,F),Bn(le,"VER",_.la),as(_,le),le}function ee(_,F,$){if(F&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=_.Ca&&!_.pa?new hn(new ts({eb:$})):new hn(_.pa),F.Ha(_.J),F}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ve(){}n=ve.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xe(){}xe.prototype.g=function(_,F){return new Te(_,F)};function Te(_,F){bt.call(this),this.g=new is(F),this.l=_,this.h=F&&F.messageUrlParams||null,_=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(_?_["X-WebChannel-Content-Type"]=F.messageContentType:_={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(_?_["X-WebChannel-Client-Profile"]=F.va:_={"X-WebChannel-Client-Profile":F.va}),this.g.S=_,(_=F&&F.Sb)&&!P(_)&&(this.g.m=_),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!P(F)&&(this.g.D=F,_=this.h,_!==null&&F in _&&(_=this.h,F in _&&delete _[F])),this.j=new pt(this)}x(Te,bt),Te.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Te.prototype.close=function(){Lo(this.g)},Te.prototype.o=function(_){var F=this.g;if(typeof _=="string"){var $={};$.__data__=_,_=$}else this.u&&($={},$.__data__=Kt(_),_=$);F.i.push(new oc(F.Ya++,_)),F.G==3&&xl(F)},Te.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,Te.aa.N.call(this)};function Ve(_){sr.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var F=_.__sm__;if(F){e:{for(const $ in F){_=$;break e}_=void 0}(this.i=_)&&(_=this.i,F=F!==null&&_ in F?F[_]:void 0),this.data=F}else this.data=_}x(Ve,sr);function at(){yn.call(this),this.status=1}x(at,yn);function pt(_){this.g=_}x(pt,ve),pt.prototype.ua=function(){wt(this.g,"a")},pt.prototype.ta=function(_){wt(this.g,new Ve(_))},pt.prototype.sa=function(_){wt(this.g,new at)},pt.prototype.ra=function(){wt(this.g,"b")},xe.prototype.createWebChannel=xe.prototype.g,Te.prototype.send=Te.prototype.o,Te.prototype.open=Te.prototype.m,Te.prototype.close=Te.prototype.close,v6=function(){return new xe},m6=function(){return Si()},g6=It,ty={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Qp=gi,ti.COMPLETE="complete",p6=ti,Cn.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,O1=Cn,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,d6=hn}).apply(typeof Np<"u"?Np:typeof self<"u"?self:typeof window<"u"?window:{});const pw="@firebase/firestore",gw="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};La.UNAUTHENTICATED=new La(null),La.GOOGLE_CREDENTIALS=new La("google-credentials-uid"),La.FIRST_PARTY=new La("first-party-uid"),La.MOCK_USER=new La("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new em("@firebase/firestore");function Kh(){return rh.logLevel}function At(n,...e){if(rh.logLevel<=bn.DEBUG){const t=e.map(v5);rh.debug(`Firestore (${Rd}): ${n}`,...t)}}function Ku(n,...e){if(rh.logLevel<=bn.ERROR){const t=e.map(v5);rh.error(`Firestore (${Rd}): ${n}`,...t)}}function md(n,...e){if(rh.logLevel<=bn.WARN){const t=e.map(v5);rh.warn(`Firestore (${Rd}): ${n}`,...t)}}function v5(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,y6(n,r,t)}function y6(n,e,t){let r=`FIRESTORE (${Rd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ku(r),new Error(r)}function Jn(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||y6(e,i,r)}function tn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends Cs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(La.UNAUTHENTICATED))}shutdown(){}}class P9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class L9{constructor(e){this.t=e,this.currentUser=La.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Jn(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let a=new Wu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},s=u=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>s(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?s(u):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wu)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jn(typeof r.accessToken=="string",31837,{l:r}),new x6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jn(e===null||typeof e=="string",2055,{h:e}),new La(e)}}class k9{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=La.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M9{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new k9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(La.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$o(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Jn(this.o===void 0,3512);const r=a=>{a.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,At("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=B9(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function fn(n,e){return n<e?-1:n>e?1:0}function ny(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return fn(r,i);{const a=_6(),o=F9(a.encode(vw(n,t)),a.encode(vw(e,t)));return o!==0?o:fn(r,i)}}t+=r>65535?2:1}return fn(n.length,e.length)}function vw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function F9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return fn(n[t],e[t]);return fn(n.length,e.length)}function vd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=-62135596800,xw=1e6;class Ei{static now(){return Ei.fromMillis(Date.now())}static fromDate(e){return Ei.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xw);return new Ei(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Et(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Et(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yw)throw new Et(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xw}_compareTo(e){return this.seconds===e.seconds?fn(this.nanoseconds,e.nanoseconds):fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new Ei(0,0))}static max(){return new Jt(new Ei(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="__name__";class Gl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Xt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Gl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Gl.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return fn(e.length,t.length)}static compareSegments(e,t){const r=Gl.isNumericId(e),i=Gl.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Gl.extractNumericId(e).compare(Gl.extractNumericId(t)):ny(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tf.fromString(e.substring(4,e.length-2))}}class Tr extends Gl{construct(e,t,r){return new Tr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Et(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Tr(t)}static emptyPath(){return new Tr([])}}const U9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fa extends Gl{construct(e,t,r){return new fa(e,t,r)}static isValidIdentifier(e){return U9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_w}static keyField(){return new fa([_w])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Et(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Et(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Et(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Et(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fa(t)}static emptyPath(){return new fa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(Tr.fromString(e))}static fromName(e){return new Mt(Tr.fromString(e).popFirst(5))}static empty(){return new Mt(Tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new Tr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=-1;function V9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Jt.fromTimestamp(r===1e9?new Ei(t+1,0):new Ei(t,r));return new sf(i,Mt.empty(),e)}function z9(n){return new sf(n.readTime,n.key,J1)}class sf{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new sf(Jt.min(),Mt.empty(),J1)}static max(){return new sf(Jt.max(),Mt.empty(),J1)}}function q9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Mt.comparator(n.documentKey,e.documentKey),t!==0?t:fn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==H9)throw n;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.reject(t)}static resolve(e){return new tt((t,r)=>{t(e)})}static reject(e){return new tt((t,r)=>{r(e)})}static waitFor(e){return new tt((t,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&t()},u=>r(u))}),o=!0,a===i&&t()})}static or(e){let t=tt.resolve(!1);for(const r of e)t=t.next(i=>i?tt.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new tt((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let u=0;u<a;u++){const f=u;t(e[f]).next(h=>{o[f]=h,++s,s===a&&r(o)},h=>i(h))}})}static doWhile(e,t){return new tt((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function G9(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}am.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=-1;function om(n){return n==null}function bg(n){return n===0&&1/n==-1/0}function $9(n){return typeof n=="number"&&Number.isInteger(n)&&!bg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="";function X9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bw(e)),e=Y9(n.get(t),e);return bw(e)}function Y9(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case w6:t+="";break;default:t+=a}}return t}function bw(n){return n+w6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function A6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t){this.comparator=e,this.root=t||ua.EMPTY}insert(e,t){return new Hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ua.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ua.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dp(this.root,e,this.comparator,!0)}}class Dp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ua{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??ua.RED,this.left=i??ua.EMPTY,this.right=a??ua.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ua(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ua.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ua.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ua.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ua.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xt(27949);return e+(this.isRed()?0:1)}}ua.EMPTY=null,ua.RED=!0,ua.BLACK=!1;ua.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt(57766)}get value(){throw Xt(16141)}get color(){throw Xt(16727)}get left(){throw Xt(29726)}get right(){throw Xt(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new ua(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Aw(this.data.getIterator())}getIteratorFrom(e){return new Aw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ji)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ji(this.comparator);return t.data=e,t}}class Aw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.fields=e,e.sort(fa.comparator)}static empty(){return new Xo([])}unionWith(e){let t=new ji(fa.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new E6("Invalid base64 string: "+a):a}}(e);return new da(t)}static fromUint8Array(e){const t=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new da(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}da.EMPTY_BYTE_STRING=new da("");const K9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lf(n){if(Jn(!!n,39018),typeof n=="string"){let e=0;const t=K9.exec(n);if(Jn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ci(n.seconds),nanos:ci(n.nanos)}}function ci(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function uf(n){return typeof n=="string"?da.fromBase64String(n):da.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="server_timestamp",C6="__type__",I6="__previous_value__",T6="__local_write_time__";function x5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[C6])===null||t===void 0?void 0:t.stringValue)===S6}function sm(n){const e=n.mapValue.fields[I6];return x5(e)?sm(e):e}function e0(n){const e=lf(n.mapValue.fields[T6].timestampValue);return new Ei(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,t,r,i,a,o,s,u,f,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=h}}const wg="(default)";class t0{constructor(e,t){this.projectId=e,this.database=t||wg}static empty(){return new t0("","")}get isDefaultDatabase(){return this.database===wg}isEqual(e){return e instanceof t0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="__type__",Z9="__max__",Op={mapValue:{}},N6="__vector__",Ag="value";function cf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?x5(n)?4:eD(n)?9007199254740991:J9(n)?10:11:Xt(28295,{value:n})}function nu(n,e){if(n===e)return!0;const t=cf(n);if(t!==cf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return e0(n).isEqual(e0(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=lf(i.timestampValue),s=lf(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return uf(i.bytesValue).isEqual(uf(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return ci(i.geoPointValue.latitude)===ci(a.geoPointValue.latitude)&&ci(i.geoPointValue.longitude)===ci(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ci(i.integerValue)===ci(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=ci(i.doubleValue),s=ci(a.doubleValue);return o===s?bg(o)===bg(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return vd(n.arrayValue.values||[],e.arrayValue.values||[],nu);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(ww(o)!==ww(s))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(s[u]===void 0||!nu(o[u],s[u])))return!1;return!0}(n,e);default:return Xt(52216,{left:n})}}function n0(n,e){return(n.values||[]).find(t=>nu(t,e))!==void 0}function yd(n,e){if(n===e)return 0;const t=cf(n),r=cf(e);if(t!==r)return fn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fn(n.booleanValue,e.booleanValue);case 2:return function(a,o){const s=ci(a.integerValue||a.doubleValue),u=ci(o.integerValue||o.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(n,e);case 3:return Ew(n.timestampValue,e.timestampValue);case 4:return Ew(e0(n),e0(e));case 5:return ny(n.stringValue,e.stringValue);case 6:return function(a,o){const s=uf(a),u=uf(o);return s.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),u=o.split("/");for(let f=0;f<s.length&&f<u.length;f++){const h=fn(s[f],u[f]);if(h!==0)return h}return fn(s.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,o){const s=fn(ci(a.latitude),ci(o.latitude));return s!==0?s:fn(ci(a.longitude),ci(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Sw(n.arrayValue,e.arrayValue);case 10:return function(a,o){var s,u,f,h;const p=a.fields||{},g=o.fields||{},m=(s=p[Ag])===null||s===void 0?void 0:s.arrayValue,x=(u=g[Ag])===null||u===void 0?void 0:u.arrayValue,b=fn(((f=m==null?void 0:m.values)===null||f===void 0?void 0:f.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:Sw(m,x)}(n.mapValue,e.mapValue);case 11:return function(a,o){if(a===Op.mapValue&&o===Op.mapValue)return 0;if(a===Op.mapValue)return 1;if(o===Op.mapValue)return-1;const s=a.fields||{},u=Object.keys(s),f=o.fields||{},h=Object.keys(f);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=ny(u[p],h[p]);if(g!==0)return g;const m=yd(s[u[p]],f[h[p]]);if(m!==0)return m}return fn(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Xt(23264,{Pe:t})}}function Ew(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return fn(n,e);const t=lf(n),r=lf(e),i=fn(t.seconds,r.seconds);return i!==0?i:fn(t.nanos,r.nanos)}function Sw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=yd(t[i],r[i]);if(a)return a}return fn(t.length,r.length)}function xd(n){return ry(n)}function ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=lf(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return uf(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Mt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=ry(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${ry(t.fields[o])}`;return i+"}"}(n.mapValue):Xt(61005,{value:n})}function Zp(n){switch(cf(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(n);return e?16+Zp(e):16;case 5:return 2*n.stringValue.length;case 6:return uf(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Zp(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return vf(r.fields,(a,o)=>{i+=a.length+Zp(o)}),i}(n.mapValue);default:throw Xt(13486,{value:n})}}function Cw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iy(n){return!!n&&"integerValue"in n}function _5(n){return!!n&&"arrayValue"in n}function Iw(n){return!!n&&"nullValue"in n}function Tw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jp(n){return!!n&&"mapValue"in n}function J9(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[R6])===null||t===void 0?void 0:t.stringValue)===N6}function z1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=z1(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=z1(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Z9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.value=e}static empty(){return new yo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=z1(t)}setAll(e){let t=fa.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!t.isImmediateParentOf(s)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=s.popLast()}o?r[s.lastSegment()]=z1(o):i.push(s.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Jp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new yo(z1(this.value))}}function D6(n){const e=[];return vf(n.fields,(t,r)=>{const i=new fa([t]);if(Jp(r)){const a=D6(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Xo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t,r,i,a,o,s){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new ka(e,0,Jt.min(),Jt.min(),Jt.min(),yo.empty(),0)}static newFoundDocument(e,t,r,i){return new ka(e,1,t,Jt.min(),r,i,0)}static newNoDocument(e,t){return new ka(e,2,t,Jt.min(),Jt.min(),yo.empty(),0)}static newUnknownDocument(e,t){return new ka(e,3,t,Jt.min(),Jt.min(),yo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ka&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ka(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.position=e,this.inclusive=t}}function Rw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],o=n.position[i];if(a.field.isKeyField()?r=Mt.comparator(Mt.fromName(o.referenceValue),t.key):r=yd(o,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nu(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t="asc"){this.field=e,this.dir=t}}function tD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{}class wi extends O6{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rD(e,t,r):t==="array-contains"?new oD(e,r):t==="in"?new sD(e,r):t==="not-in"?new lD(e,r):t==="array-contains-any"?new uD(e,r):new wi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new iD(e,r):new aD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yd(t,this.value)):t!==null&&cf(this.value)===cf(t)&&this.matchesComparison(yd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fl extends O6{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new fl(e,t)}matches(e){return P6(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function P6(n){return n.op==="and"}function L6(n){return nD(n)&&P6(n)}function nD(n){for(const e of n.filters)if(e instanceof fl)return!1;return!0}function ay(n){if(n instanceof wi)return n.field.canonicalString()+n.op.toString()+xd(n.value);if(L6(n))return n.filters.map(e=>ay(e)).join(",");{const e=n.filters.map(t=>ay(t)).join(",");return`${n.op}(${e})`}}function k6(n,e){return n instanceof wi?function(r,i){return i instanceof wi&&r.op===i.op&&r.field.isEqual(i.field)&&nu(r.value,i.value)}(n,e):n instanceof fl?function(r,i){return i instanceof fl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&k6(o,i.filters[s]),!0):!1}(n,e):void Xt(19439)}function M6(n){return n instanceof wi?function(t){return`${t.field.canonicalString()} ${t.op} ${xd(t.value)}`}(n):n instanceof fl?function(t){return t.op.toString()+" {"+t.getFilters().map(M6).join(" ,")+"}"}(n):"Filter"}class rD extends wi{constructor(e,t,r){super(e,t,r),this.key=Mt.fromName(r.referenceValue)}matches(e){const t=Mt.comparator(e.key,this.key);return this.matchesComparison(t)}}class iD extends wi{constructor(e,t){super(e,"in",t),this.keys=j6("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aD extends wi{constructor(e,t){super(e,"not-in",t),this.keys=j6("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function j6(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Mt.fromName(r.referenceValue))}class oD extends wi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _5(t)&&n0(t.arrayValue,this.value)}}class sD extends wi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&n0(this.value.arrayValue,t)}}class lD extends wi{constructor(e,t){super(e,"not-in",t)}matches(e){if(n0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!n0(this.value.arrayValue,t)}}class uD extends wi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_5(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>n0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function Dw(n,e=null,t=[],r=[],i=null,a=null,o=null){return new cD(n,e,t,r,i,a,o)}function b5(n){const e=tn(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ay(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),om(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>xd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>xd(r)).join(",")),e.Ie=t}return e.Ie}function w5(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k6(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Nw(n.startAt,e.startAt)&&Nw(n.endAt,e.endAt)}function oy(n){return Mt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t=null,r=[],i=[],a=null,o="F",s=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function fD(n,e,t,r,i,a,o,s){return new y0(n,e,t,r,i,a,o,s)}function lm(n){return new y0(n)}function Ow(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function B6(n){return n.collectionGroup!==null}function q1(n){const e=tn(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new ji(fa.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(s=s.add(f.field))})}),s})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Sg(a,r))}),t.has(fa.keyField().canonicalString())||e.Ee.push(new Sg(fa.keyField(),r))}return e.Ee}function Zl(n){const e=tn(n);return e.de||(e.de=hD(e,q1(n))),e.de}function hD(n,e){if(n.limitType==="F")return Dw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Sg(i.field,a)});const t=n.endAt?new Eg(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eg(n.startAt.position,n.startAt.inclusive):null;return Dw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function sy(n,e){const t=n.filters.concat([e]);return new y0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ly(n,e,t){return new y0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function um(n,e){return w5(Zl(n),Zl(e))&&n.limitType===e.limitType}function F6(n){return`${b5(Zl(n))}|lt:${n.limitType}`}function Qh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>M6(i)).join(", ")}]`),om(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>xd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>xd(i)).join(",")),`Target(${r})`}(Zl(n))}; limitType=${n.limitType})`}function cm(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Mt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of q1(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,s,u){const f=Rw(o,s,u);return o.inclusive?f<=0:f<0}(r.startAt,q1(r),i)||r.endAt&&!function(o,s,u){const f=Rw(o,s,u);return o.inclusive?f>=0:f>0}(r.endAt,q1(r),i))}(n,e)}function dD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function U6(n){return(e,t)=>{let r=!1;for(const i of q1(n)){const a=pD(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function pD(n,e,t){const r=n.field.isKeyField()?Mt.comparator(e.key,t.key):function(a,o,s){const u=o.data.field(a),f=s.data.field(a);return u!==null&&f!==null?yd(u,f):Xt(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return A6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new Hr(Mt.comparator);function Qu(){return gD}const V6=new Hr(Mt.comparator);function P1(...n){let e=V6;for(const t of n)e=e.insert(t.key,t);return e}function z6(n){let e=V6;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xf(){return H1()}function q6(){return H1()}function H1(){return new hh(n=>n.toString(),(n,e)=>n.isEqual(e))}const mD=new Hr(Mt.comparator),vD=new ji(Mt.comparator);function wn(...n){let e=vD;for(const t of n)e=e.add(t);return e}const yD=new ji(fn);function xD(){return yD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bg(e)?"-0":e}}function H6(n){return{integerValue:""+n}}function _D(n,e){return $9(e)?H6(e):A5(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this._=void 0}}function bD(n,e,t){return n instanceof r0?function(i,a){const o={fields:{[C6]:{stringValue:S6},[T6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&x5(a)&&(a=sm(a)),a&&(o.fields[I6]=a),{mapValue:o}}(t,e):n instanceof i0?G6(n,e):n instanceof a0?$6(n,e):function(i,a){const o=W6(i,a),s=Pw(o)+Pw(i.Re);return iy(o)&&iy(i.Re)?H6(s):A5(i.serializer,s)}(n,e)}function wD(n,e,t){return n instanceof i0?G6(n,e):n instanceof a0?$6(n,e):t}function W6(n,e){return n instanceof Cg?function(r){return iy(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class r0 extends fm{}class i0 extends fm{constructor(e){super(),this.elements=e}}function G6(n,e){const t=X6(e);for(const r of n.elements)t.some(i=>nu(i,r))||t.push(r);return{arrayValue:{values:t}}}class a0 extends fm{constructor(e){super(),this.elements=e}}function $6(n,e){let t=X6(e);for(const r of n.elements)t=t.filter(i=>!nu(i,r));return{arrayValue:{values:t}}}class Cg extends fm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Pw(n){return ci(n.integerValue||n.doubleValue)}function X6(n){return _5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t){this.field=e,this.transform=t}}function ED(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof i0&&i instanceof i0||r instanceof a0&&i instanceof a0?vd(r.elements,i.elements,nu):r instanceof Cg&&i instanceof Cg?nu(r.Re,i.Re):r instanceof r0&&i instanceof r0}(n.transform,e.transform)}class SD{constructor(e,t){this.version=e,this.transformResults=t}}class ws{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ws}static exists(e){return new ws(void 0,e)}static updateTime(e){return new ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hm{}function Y6(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new E5(n.key,ws.none()):new x0(n.key,n.data,ws.none());{const t=n.data,r=yo.empty();let i=new ji(fa.comparator);for(let a of e.fields)if(!i.has(a)){let o=t.field(a);o===null&&a.length>1&&(a=a.popLast(),o=t.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new yf(n.key,r,new Xo(i.toArray()),ws.none())}}function CD(n,e,t){n instanceof x0?function(i,a,o){const s=i.value.clone(),u=kw(i.fieldTransforms,a,o.transformResults);s.setAll(u),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof yf?function(i,a,o){if(!eg(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=kw(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(K6(i)),u.setAll(s),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function W1(n,e,t,r){return n instanceof x0?function(a,o,s,u){if(!eg(a.precondition,o))return s;const f=a.value.clone(),h=Mw(a.fieldTransforms,u,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof yf?function(a,o,s,u){if(!eg(a.precondition,o))return s;const f=Mw(a.fieldTransforms,u,o),h=o.data;return h.setAll(K6(a)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(a,o,s){return eg(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(n,e,t)}function ID(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=W6(r.transform,i||null);a!=null&&(t===null&&(t=yo.empty()),t.set(r.field,a))}return t||null}function Lw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vd(r,i,(a,o)=>ED(a,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class x0 extends hm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yf extends hm{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function K6(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kw(n,e,t){const r=new Map;Jn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,wD(o,s,t[i]))}return r}function Mw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,o=t.data.field(i.field);r.set(i.field,bD(a,o,e))}return r}class E5 extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TD extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&CD(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=W1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=W1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=q6();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=t.has(i.key)?null:s;const u=Y6(o,s);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Jt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wn())}isEqual(e){return this.batchId===e.batchId&&vd(this.mutations,e.mutations,(t,r)=>Lw(t,r))&&vd(this.baseMutations,e.baseMutations,(t,r)=>Lw(t,r))}}class S5{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Jn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return mD}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new S5(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bi,Nn;function OD(n){switch(n){case rt.OK:return Xt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Xt(15467,{code:n})}}function Q6(n){if(n===void 0)return Ku("GRPC error has no .code"),rt.UNKNOWN;switch(n){case bi.OK:return rt.OK;case bi.CANCELLED:return rt.CANCELLED;case bi.UNKNOWN:return rt.UNKNOWN;case bi.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case bi.INTERNAL:return rt.INTERNAL;case bi.UNAVAILABLE:return rt.UNAVAILABLE;case bi.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case bi.NOT_FOUND:return rt.NOT_FOUND;case bi.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case bi.ABORTED:return rt.ABORTED;case bi.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case bi.DATA_LOSS:return rt.DATA_LOSS;default:return Xt(39323,{code:n})}}(Nn=bi||(bi={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new tf([4294967295,4294967295],0);function jw(n){const e=_6().encode(n),t=new h6;return t.update(e),new Uint8Array(t.digest())}function Bw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new tf([t,r],0),new tf([i,a],0)]}class C5{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new L1(`Invalid padding: ${t}`);if(r<0)throw new L1(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new L1(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new L1(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=tf.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(tf.fromNumber(r)));return i.compare(PD)===1&&(i=new tf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=jw(e),[r,i]=Bw(t);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);if(!this.be(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new C5(a,i,t);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const t=jw(e),[r,i]=Bw(t);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class L1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,_0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new dm(Jt.min(),i,new Hr(fn),Qu(),wn())}}class _0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _0(r,t,wn(),wn(),wn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class Z6{constructor(e,t){this.targetId=e,this.Ce=t}}class J6{constructor(e,t,r=da.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Fw{constructor(){this.Fe=0,this.Me=Uw(),this.xe=da.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=wn(),t=wn(),r=wn();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xt(38017,{changeType:a})}}),new _0(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Uw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Jn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LD{constructor(e){this.ze=e,this.je=new Map,this.He=Qu(),this.Je=Pp(),this.Ye=Pp(),this.Ze=new Hr(fn)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Xt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(oy(a))if(r===0){const o=new Mt(a.path);this.tt(t,o,ka.newNoDocument(o,Jt.min()))}else Jn(r===1,20013,{expectedCount:r});else{const o=this.ut(t);if(o!==r){const s=this.ct(e),u=s?this.lt(s,e,o):1;if(u!==0){this.st(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let o,s;try{o=uf(r).toUint8Array()}catch(u){if(u instanceof E6)return md("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{s=new C5(o,i,a)}catch(u){return md(u instanceof L1?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return s.pe===0?null:s}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&oy(s.target)){const u=new Mt(s.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,ka.newNoDocument(u,e))}a.Le&&(t.set(o,a.qe()),a.Qe())}});let r=wn();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(u=>{const f=this._t(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new dm(e,t,this.Ze,this.He,r);return this.He=Qu(),this.Je=Pp(),this.Ye=Pp(),this.Ze=new Hr(fn),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Fw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ji(fn),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ji(fn),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||At("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Fw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Pp(){return new Hr(Mt.comparator)}function Uw(){return new Hr(Mt.comparator)}const kD={asc:"ASCENDING",desc:"DESCENDING"},MD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jD={and:"AND",or:"OR"};class BD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uy(n,e){return n.useProto3Json||om(e)?e:{value:e}}function Ig(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FD(n,e){return Ig(n,e.toTimestamp())}function Jl(n){return Jn(!!n,49232),Jt.fromTimestamp(function(t){const r=lf(t);return new Ei(r.seconds,r.nanos)}(n))}function I5(n,e){return cy(n,e).canonicalString()}function cy(n,e){const t=function(i){return new Tr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tE(n){const e=Tr.fromString(n);return Jn(oE(e),10190,{key:e.toString()}),e}function fy(n,e){return I5(n.databaseId,e.path)}function cv(n,e){const t=tE(e);if(t.get(1)!==n.databaseId.projectId)throw new Et(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Et(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Mt(rE(t))}function nE(n,e){return I5(n.databaseId,e)}function UD(n){const e=tE(n);return e.length===4?Tr.emptyPath():rE(e)}function hy(n){return new Tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rE(n){return Jn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Vw(n,e,t){return{name:fy(n,e),fields:t.value.mapValue.fields}}function VD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Xt(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(Jn(h===void 0||typeof h=="string",58123),da.fromBase64String(h||"")):(Jn(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),da.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(f){const h=f.code===void 0?rt.UNKNOWN:Q6(f.code);return new Et(h,f.message||"")}(o);t=new J6(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cv(n,r.document.name),a=Jl(r.document.updateTime),o=r.document.createTime?Jl(r.document.createTime):Jt.min(),s=new yo({mapValue:{fields:r.document.fields}}),u=ka.newFoundDocument(i,a,o,s),f=r.targetIds||[],h=r.removedTargetIds||[];t=new tg(f,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cv(n,r.document),a=r.readTime?Jl(r.readTime):Jt.min(),o=ka.newNoDocument(i,a),s=r.removedTargetIds||[];t=new tg([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cv(n,r.document),a=r.removedTargetIds||[];t=new tg([],a,i,null)}else{if(!("filter"in e))return Xt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new DD(i,a),s=r.targetId;t=new Z6(s,o)}}return t}function zD(n,e){let t;if(e instanceof x0)t={update:Vw(n,e.key,e.value)};else if(e instanceof E5)t={delete:fy(n,e.key)};else if(e instanceof yf)t={update:Vw(n,e.key,e.data),updateMask:QD(e.fieldMask)};else{if(!(e instanceof TD))return Xt(16599,{ft:e.type});t={verify:fy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof r0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof i0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof a0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Cg)return{fieldPath:o.field.canonicalString(),increment:s.Re};throw Xt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:FD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xt(27497)}(n,e.precondition)),t}function qD(n,e){return n&&n.length>0?(Jn(e!==void 0,14353),n.map(t=>function(i,a){let o=i.updateTime?Jl(i.updateTime):Jl(a);return o.isEqual(Jt.min())&&(o=Jl(a)),new SD(o,i.transformResults||[])}(t,e))):[]}function HD(n,e){return{documents:[nE(n,e.path)]}}function WD(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nE(n,i);const a=function(f){if(f.length!==0)return aE(fl.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(h=>function(g){return{field:Zh(g.field),direction:XD(g.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=uy(n,e.limit);return s!==null&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function GD(n){let e=UD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Jn(r===1,65062);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];t.where&&(a=function(p){const g=iE(p);return g instanceof fl&&L6(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(g=>function(x){return new Sg(Jh(x.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(t.orderBy));let s=null;t.limit&&(s=function(p){let g;return g=typeof p=="object"?p.value:p,om(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){const g=!!p.before,m=p.values||[];return new Eg(m,g)}(t.startAt));let f=null;return t.endAt&&(f=function(p){const g=!p.before,m=p.values||[];return new Eg(m,g)}(t.endAt)),fD(e,i,o,a,s,"F",u,f)}function $D(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Jh(t.unaryFilter.field);return wi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jh(t.unaryFilter.field);return wi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jh(t.unaryFilter.field);return wi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jh(t.unaryFilter.field);return wi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xt(61313);default:return Xt(60726)}}(n):n.fieldFilter!==void 0?function(t){return wi.create(Jh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xt(58110);default:return Xt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return fl.create(t.compositeFilter.filters.map(r=>iE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xt(1026)}}(t.compositeFilter.op))}(n):Xt(30097,{filter:n})}function XD(n){return kD[n]}function YD(n){return MD[n]}function KD(n){return jD[n]}function Zh(n){return{fieldPath:n.canonicalString()}}function Jh(n){return fa.fromServerFormat(n.fieldPath)}function aE(n){return n instanceof wi?function(t){if(t.op==="=="){if(Tw(t.value))return{unaryFilter:{field:Zh(t.field),op:"IS_NAN"}};if(Iw(t.value))return{unaryFilter:{field:Zh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Tw(t.value))return{unaryFilter:{field:Zh(t.field),op:"IS_NOT_NAN"}};if(Iw(t.value))return{unaryFilter:{field:Zh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zh(t.field),op:YD(t.op),value:t.value}}}(n):n instanceof fl?function(t){const r=t.getFilters().map(i=>aE(i));return r.length===1?r[0]:{compositeFilter:{op:KD(t.op),filters:r}}}(n):Xt(54877,{filter:n})}function QD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t,r,i,a=Jt.min(),o=Jt.min(),s=da.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}withSequenceNumber(e){return new Qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.wt=e}}function JD(n){const e=GD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Cn=new tO}addToCollectionParentIndex(e,t){return this.Cn.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return tt.resolve()}deleteFieldIndex(e,t){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,t){return tt.resolve()}getDocumentsMatchingTarget(e,t){return tt.resolve(null)}getIndexType(e,t){return tt.resolve(0)}getFieldIndexes(e,t){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,t){return tt.resolve(sf.min())}getMinOffsetFromCollectionGroup(e,t){return tt.resolve(sf.min())}updateCollectionGroup(e,t,r){return tt.resolve()}updateIndexEntries(e,t){return tt.resolve()}}class tO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ji(Tr.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ji(Tr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sE=41943040;class mo{static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(sE,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new _d(0)}static lr(){return new _d(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="LruGarbageCollector",nO=1048576;function Hw([n,e],[t,r]){const i=fn(n,t);return i===0?fn(e,r):i}class rO{constructor(e){this.Er=e,this.buffer=new ji(Hw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Hw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){At(qw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dd(t)?At(qw,"Ignoring IndexedDB error during garbage collection: ",t):await Nd(t)}await this.mr(3e5)})}}class aO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return tt.resolve(am.le);const r=new rO(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(zw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,o,s,u,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,s=Date.now(),this.removeTargets(e,r,t))).next(p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(f=Date.now(),Kh()<=bn.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(u-s)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-h}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p})))}}function oO(n,e){return new aO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.changes=new hh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ka.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?tt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&W1(r.mutation,i,Xo.empty(),Ei.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,wn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=wn()){const i=Xf();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let o=P1();return a.forEach((s,u)=>{o=o.insert(s,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Xf();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,wn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{t.set(o,s)})})}computeViews(e,t,r,i){let a=Qu();const o=H1(),s=function(){return H1()}();return t.forEach((u,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof yf)?a=a.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),W1(h.mutation,f,h.mutation.getFieldMask(),Ei.now())):o.set(f.key,Xo.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((f,h)=>o.set(f,h)),t.forEach((f,h)=>{var p;return s.set(f,new lO(h,(p=o.get(f))!==null&&p!==void 0?p:null))}),s))}recalculateAndSaveOverlays(e,t){const r=H1();let i=new Hr((o,s)=>o-s),a=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const s of o)s.keys().forEach(u=>{const f=t.get(u);if(f===null)return;let h=r.get(u)||Xo.empty();h=s.applyToLocalView(f,h),r.set(u,h);const p=(i.get(s.batchId)||wn()).add(u);i=i.insert(s.batchId,p)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const u=s.getNext(),f=u.key,h=u.value,p=q6();h.forEach(g=>{if(!a.has(g)){const m=Y6(t.get(g),r.get(g));m!==null&&p.set(g,m),a=a.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return tt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Mt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):B6(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):tt.resolve(Xf());let s=J1,u=a;return o.next(f=>tt.forEach(f,(h,p)=>(s<p.largestBatchId&&(s=p.largestBatchId),a.get(h)?tt.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,u,f,wn())).next(h=>({batchId:s,changes:z6(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mt(t)).next(r=>{let i=P1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let o=P1();return this.indexManager.getCollectionParents(e,a).next(s=>tt.forEach(s,u=>{const f=function(p,g){return new y0(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(o=>{a.forEach((u,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,ka.newInvalidDocument(h)))});let s=P1();return o.forEach((u,f)=>{const h=a.get(u);h!==void 0&&W1(h.mutation,f,Xo.empty(),Ei.now()),cm(t,f)&&(s=s.insert(u,f))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return tt.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Jl(i.createTime)}}(t)),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:JD(i.bundledQuery),readTime:Jl(i.readTime)}}(t)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.overlays=new Hr(Mt.comparator),this.Qr=new Map}getOverlay(e,t){return tt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xf();return tt.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),tt.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),tt.resolve()}getOverlaysForCollection(e,t,r){const i=Xf(),a=t.length+1,o=new Mt(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const u=s.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return tt.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Hr((f,h)=>f-h);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Xf(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const s=Xf(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,h)=>s.set(f,h)),!(s.size()>=i)););return tt.resolve(s)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ND(t,r));let a=this.Qr.get(t);a===void 0&&(a=wn(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.sessionToken=da.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.$r=new ji(Yi.Ur),this.Kr=new ji(Yi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Yi(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Yi(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Mt(new Tr([])),r=new Yi(t,e),i=new Yi(t,e+1),a=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),a.push(o.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Mt(new Tr([])),r=new Yi(t,e),i=new Yi(t,e+1);let a=wn();return this.Kr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const t=new Yi(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Yi{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Mt.comparator(e.key,t.key)||fn(e.Zr,t.Zr)}static Wr(e,t){return fn(e.Zr,t.Zr)||Mt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new ji(Yi.Ur)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new RD(a,t,r,i);this.mutationQueue.push(o);for(const s of i)this.Xr=this.Xr.add(new Yi(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return tt.resolve(o)}lookupMutationBatch(e,t){return tt.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return tt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?y5:this.nr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yi(t,0),i=new Yi(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],o=>{const s=this.ei(o.Zr);a.push(s)}),tt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ji(fn);return t.forEach(i=>{const a=new Yi(i,0),o=new Yi(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,o],s=>{r=r.add(s.Zr)})}),tt.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Mt.isDocumentKey(a)||(a=a.child(""));const o=new Yi(new Mt(a),0);let s=new ji(fn);return this.Xr.forEachWhile(u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(s=s.add(u.Zr)),!0)},o),tt.resolve(this.ni(s))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Jn(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return tt.forEach(t.mutations,i=>{const a=new Yi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Yi(t,0),i=this.Xr.firstAfterOrEqual(r);return tt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.ii=e,this.docs=function(){return new Hr(Mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return tt.resolve(r?r.document.mutableCopy():ka.newInvalidDocument(t))}getEntries(e,t){let r=Qu();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ka.newInvalidDocument(i))}),tt.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Qu();const o=t.path,s=new Mt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:f,value:{document:h}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||q9(z9(h),r)<=0||(i.has(h.key)||cm(t,h))&&(a=a.insert(h.key,h.mutableCopy()))}return tt.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Xt(9500)}si(e,t){return tt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gO(this)}getSize(e){return tt.resolve(this.size)}}class gO extends sO{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),tt.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.persistence=e,this.oi=new hh(t=>b5(t),w5),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this._i=0,this.ai=new T5,this.targetCount=0,this.ui=_d.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),tt.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new _d(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.Tr(t),tt.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((o,s)=>{s.sequenceNumber<=t&&r.get(s.targetId)===null&&(this.oi.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),tt.waitFor(a).next(()=>i)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return tt.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),tt.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),tt.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return tt.resolve(r)}containsKey(e,t){return tt.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.ci={},this.overlays={},this.li=new am(0),this.hi=!1,this.hi=!0,this.Pi=new hO,this.referenceDelegate=e(this),this.Ti=new mO(this),this.indexManager=new eO,this.remoteDocumentCache=function(i){return new pO(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new ZD(t),this.Ei=new cO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new dO(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){At("MemoryPersistence","Starting transaction:",e);const i=new vO(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return tt.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class vO extends W9{constructor(e){super(),this.currentSequenceNumber=e}}class R5{constructor(e){this.persistence=e,this.Vi=new T5,this.mi=null}static fi(e){return new R5(e)}get gi(){if(this.mi)return this.mi;throw Xt(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),tt.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.gi,r=>{const i=Mt.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,Jt.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return tt.or([()=>tt.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Tg{constructor(e,t){this.persistence=e,this.yi=new hh(r=>X9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=oO(this,t)}static fi(e,t){return new Tg(e,t)}di(){}Ai(e){return tt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return tt.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?tt.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,t).next(s=>{s||(r++,a.removeEntry(o,Jt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),tt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),tt.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),tt.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zp(e.data.value)),t}Dr(e,t,r){return tt.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return tt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=wn(),i=wn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new N5(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $T()?8:G9(Ba())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.bs(e,t,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new yO;return this.Ss(e,t,o).next(s=>{if(a.result=s,this.fs)return this.Ds(e,t,o,s.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Kh()<=bn.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Qh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),tt.resolve()):(Kh()<=bn.DEBUG&&At("QueryEngine","Query:",Qh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Kh()<=bn.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Qh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zl(t))):tt.resolve())}ws(e,t){if(Ow(t))return tt.resolve(null);let r=Zl(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ly(t,null,"F"),r=Zl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=wn(...a);return this.ys.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(u=>{const f=this.vs(t,s);return this.Cs(t,f,o,u.readTime)?this.ws(e,ly(t,null,"F")):this.Fs(e,f,t,u)}))})))}bs(e,t,r,i){return Ow(t)||i.isEqual(Jt.min())?tt.resolve(null):this.ys.getDocuments(e,r).next(a=>{const o=this.vs(t,a);return this.Cs(t,o,r,i)?tt.resolve(null):(Kh()<=bn.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qh(t)),this.Fs(e,o,t,V9(i,J1)).next(s=>s))})}vs(e,t){let r=new ji(U6(e));return t.forEach((i,a)=>{cm(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Kh()<=bn.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Qh(t)),this.ys.getDocumentsMatchingQuery(e,t,sf.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="LocalStore",_O=3e8;class bO{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Hr(fn),this.Os=new hh(a=>b5(a),w5),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function wO(n,e,t,r){return new bO(n,e,t,r)}async function uE(n,e){const t=tn(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let u=wn();for(const f of i){o.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}for(const f of a){s.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(f=>({ks:f,removedBatchIds:o,addedBatchIds:s}))})})}function AO(n,e){const t=tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(s,u,f,h){const p=f.batch,g=p.keys();let m=tt.resolve();return g.forEach(x=>{m=m.next(()=>h.getEntry(u,x)).next(b=>{const I=f.docVersions.get(x);Jn(I!==null,48541),b.version.compareTo(I)<0&&(p.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),h.addEntry(b)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(u,p))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let u=wn();for(let f=0;f<s.mutationResults.length;++f)s.mutationResults[f].transformResults.length>0&&(u=u.add(s.batch.mutations[f].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cE(n){const e=tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function EO(n,e){const t=tn(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const s=[];e.targetChanges.forEach((h,p)=>{const g=i.get(p);if(!g)return;s.push(t.Ti.removeMatchingKeys(a,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(a,h.addedDocuments,p)));let m=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(da.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(b,I,C){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=_O?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,m,h)&&s.push(t.Ti.updateTargetData(a,m))});let u=Qu(),f=wn();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&s.push(t.persistence.referenceDelegate.updateLimboDocument(a,h))}),s.push(SO(a,o,e.documentUpdates).next(h=>{u=h.qs,f=h.Qs})),!r.isEqual(Jt.min())){const h=t.Ti.getLastRemoteSnapshotVersion(a).next(p=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(h)}return tt.waitFor(s).next(()=>o.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,u,f)).next(()=>u)}).then(a=>(t.xs=i,a))}function SO(n,e,t){let r=wn(),i=wn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let o=Qu();return t.forEach((s,u)=>{const f=a.get(s);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(s)),u.isNoDocument()&&u.version.isEqual(Jt.min())?(e.removeEntry(s,u.readTime),o=o.insert(s,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(s,u)):At(D5,"Ignoring outdated watch update for ",s,". Current version:",f.version," Watch version:",u.version)}),{qs:o,Qs:i}})}function CO(n,e){const t=tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=y5),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IO(n,e){const t=tn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,tt.resolve(i)):t.Ti.allocateTargetId(r).next(o=>(i=new Qc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function dy(n,e,t){const r=tn(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Dd(o))throw o;At(D5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Ww(n,e,t){const r=tn(n);let i=Jt.min(),a=wn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,h){const p=tn(u),g=p.Os.get(h);return g!==void 0?tt.resolve(p.xs.get(g)):p.Ti.getTargetData(f,h)}(r,o,Zl(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,s.targetId).next(u=>{a=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,t?i:Jt.min(),t?a:wn())).next(s=>(TO(r,dD(e),s),{documents:s,$s:a})))}function TO(n,e,t){let r=n.Ns.get(e)||Jt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class Gw{constructor(){this.activeTargetIds=xD()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RO{constructor(){this.xo=new Gw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Gw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="ConnectivityMonitor";class Xw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){At($w,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){At($w,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp=null;function py(){return Lp===null?Lp=function(){return 268435456+Math.round(2147483648*Math.random())}():Lp++,"0x"+Lp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="RestConnection",DO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===wg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const o=py(),s=this.jo(e,t.toUriEncodedString());At(fv,`Sending RPC '${e}' ${o}:`,s,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,a);const{host:f}=new URL(s),h=Id(f);return this.Jo(e,s,u,r,h).then(p=>(At(fv,`Received RPC '${e}' ${o}: `,p),p),p=>{throw md(fv,`RPC '${e}' ${o} failed with error: `,p,"url: ",s,"request:",r),p})}Yo(e,t,r,i,a,o){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=DO[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="WebChannelConnection";class LO extends OO{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const o=py();return new Promise((s,u)=>{const f=new d6;f.setWithCredentials(!0),f.listenOnce(p6.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Qp.NO_ERROR:const p=f.getResponseJson();At(Ia,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Qp.TIMEOUT:At(Ia,`RPC '${e}' ${o} timed out`),u(new Et(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Qp.HTTP_ERROR:const g=f.getStatus();if(At(Ia,`RPC '${e}' ${o} failed with status:`,g,"response text:",f.getResponseText()),g>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const b=function(C){const P=C.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(P)>=0?P:rt.UNKNOWN}(x.status);u(new Et(b,x.message))}else u(new Et(rt.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Et(rt.UNAVAILABLE,"Connection failed."));break;default:Xt(9055,{h_:e,streamId:o,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{At(Ia,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);At(Ia,`RPC '${e}' ${o} sending request:`,i),f.send(t,"POST",h,r,15)})}I_(e,t,r){const i=py(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=v6(),s=m6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const h=a.join("");At(Ia,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=o.createWebChannel(h,u);this.E_(p);let g=!1,m=!1;const x=new PO({Zo:I=>{m?At(Ia,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(g||(At(Ia,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),At(Ia,`RPC '${e}' stream ${i} sending:`,I),p.send(I))},Xo:()=>p.close()}),b=(I,C,P)=>{I.listen(C,j=>{try{P(j)}catch(z){setTimeout(()=>{throw z},0)}})};return b(p,O1.EventType.OPEN,()=>{m||(At(Ia,`RPC '${e}' stream ${i} transport opened.`),x.__())}),b(p,O1.EventType.CLOSE,()=>{m||(m=!0,At(Ia,`RPC '${e}' stream ${i} transport closed`),x.u_(),this.d_(p))}),b(p,O1.EventType.ERROR,I=>{m||(m=!0,md(Ia,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),x.u_(new Et(rt.UNAVAILABLE,"The operation could not be completed")))}),b(p,O1.EventType.MESSAGE,I=>{var C;if(!m){const P=I.data[0];Jn(!!P,16349);const j=P,z=(j==null?void 0:j.error)||((C=j[0])===null||C===void 0?void 0:C.error);if(z){At(Ia,`RPC '${e}' stream ${i} received error:`,z);const X=z.status;let H=function(T){const M=bi[T];if(M!==void 0)return Q6(M)}(X),D=z.message;H===void 0&&(H=rt.INTERNAL,D="Unknown error status: "+X+" with message "+z.message),m=!0,x.u_(new Et(H,D)),p.close()}else At(Ia,`RPC '${e}' stream ${i} received:`,P),x.c_(P)}}),b(s,g6.STAT_EVENT,I=>{I.stat===ty.PROXY?At(Ia,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===ty.NOPROXY&&At(Ia,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n){return new BD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&At("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="PersistentStream";class hE{constructor(e,t,r,i,a,o,s,u){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new fE(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(Ku(t.toString()),Ku("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new Et(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return At(Yw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(At(Yw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kO extends hE{constructor(e,t,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=VD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Jt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Jt.min():o.readTime?Jl(o.readTime):Jt.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=hy(this.serializer),t.addTarget=function(a,o){let s;const u=o.target;if(s=oy(u)?{documents:HD(a,u)}:{query:WD(a,u).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=eE(a,o.resumeToken);const f=uy(a,o.expectedCount);f!==null&&(s.expectedCount=f)}else if(o.snapshotVersion.compareTo(Jt.min())>0){s.readTime=Ig(a,o.snapshotVersion.toTimestamp());const f=uy(a,o.expectedCount);f!==null&&(s.expectedCount=f)}return s}(this.serializer,e);const r=$D(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=hy(this.serializer),t.removeTarget=e,this.Q_(t)}}class MO extends hE{constructor(e,t,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Jn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Jn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=qD(e.writeResults,e.commitTime),r=Jl(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=hy(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zD(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{}class BO extends jO{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Et(rt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.zo(e,cy(t,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Et(rt.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Yo(e,cy(t,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Et(rt.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class FO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ku(t),this.ua=!1):At("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="RemoteStore";class UO{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(o=>{r.enqueueAndForget(async()=>{dh(this)&&(At(ih,"Restarting streams for network reachability change."),await async function(u){const f=tn(u);f.da.add(4),await b0(f),f.Va.set("Unknown"),f.da.delete(4),await gm(f)}(this))})}),this.Va=new FO(r,i)}}async function gm(n){if(dh(n))for(const e of n.Aa)await e(!0)}async function b0(n){for(const e of n.Aa)await e(!1)}function dE(n,e){const t=tn(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),k5(t)?L5(t):Od(t).N_()&&P5(t,e))}function O5(n,e){const t=tn(n),r=Od(t);t.Ea.delete(e),r.N_()&&pE(t,e),t.Ea.size===0&&(r.N_()?r.k_():dh(t)&&t.Va.set("Unknown"))}function P5(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Od(n).Z_(e)}function pE(n,e){n.ma.Ke(e),Od(n).X_(e)}function L5(n){n.ma=new LD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Od(n).start(),n.Va.ca()}function k5(n){return dh(n)&&!Od(n).O_()&&n.Ea.size>0}function dh(n){return tn(n).da.size===0}function gE(n){n.ma=void 0}async function VO(n){n.Va.set("Online")}async function zO(n){n.Ea.forEach((e,t)=>{P5(n,e)})}async function qO(n,e){gE(n),k5(n)?(n.Va.Pa(e),L5(n)):n.Va.set("Unknown")}async function HO(n,e,t){if(n.Va.set("Online"),e instanceof J6&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ea.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ea.delete(s),i.ma.removeTarget(s))}(n,e)}catch(r){At(ih,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rg(n,r)}else if(e instanceof tg?n.ma.Xe(e):e instanceof Z6?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Jt.min()))try{const r=await cE(n.localStore);t.compareTo(r)>=0&&await function(a,o){const s=a.ma.It(o);return s.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const h=a.Ea.get(f);h&&a.Ea.set(f,h.withResumeToken(u.resumeToken,o))}}),s.targetMismatches.forEach((u,f)=>{const h=a.Ea.get(u);if(!h)return;a.Ea.set(u,h.withResumeToken(da.EMPTY_BYTE_STRING,h.snapshotVersion)),pE(a,u);const p=new Qc(h.target,u,f,h.sequenceNumber);P5(a,p)}),a.remoteSyncer.applyRemoteEvent(s)}(n,t)}catch(r){At(ih,"Failed to raise snapshot:",r),await Rg(n,r)}}async function Rg(n,e,t){if(!Dd(e))throw e;n.da.add(1),await b0(n),n.Va.set("Offline"),t||(t=()=>cE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{At(ih,"Retrying IndexedDB access"),await t(),n.da.delete(1),await gm(n)})}function mE(n,e){return e().catch(t=>Rg(n,t,e))}async function mm(n){const e=tn(n),t=ff(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:y5;for(;WO(e);)try{const i=await CO(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,GO(e,i)}catch(i){await Rg(e,i)}vE(e)&&yE(e)}function WO(n){return dh(n)&&n.Ia.length<10}function GO(n,e){n.Ia.push(e);const t=ff(n);t.N_()&&t.ea&&t.ta(e.mutations)}function vE(n){return dh(n)&&!ff(n).O_()&&n.Ia.length>0}function yE(n){ff(n).start()}async function $O(n){ff(n).ia()}async function XO(n){const e=ff(n);for(const t of n.Ia)e.ta(t.mutations)}async function YO(n,e,t){const r=n.Ia.shift(),i=S5.from(r,e,t);await mE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await mm(n)}async function KO(n,e){e&&ff(n).ea&&await async function(r,i){if(function(o){return OD(o)&&o!==rt.ABORTED}(i.code)){const a=r.Ia.shift();ff(r).L_(),await mE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await mm(r)}}(n,e),vE(n)&&yE(n)}async function Kw(n,e){const t=tn(n);t.asyncQueue.verifyOperationInProgress(),At(ih,"RemoteStore received new credentials");const r=dh(t);t.da.add(3),await b0(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await gm(t)}async function QO(n,e){const t=tn(n);e?(t.da.delete(2),await gm(t)):e||(t.da.add(2),await b0(t),t.Va.set("Unknown"))}function Od(n){return n.fa||(n.fa=function(t,r,i){const a=tn(t);return a.oa(),new kO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:VO.bind(null,n),n_:zO.bind(null,n),i_:qO.bind(null,n),Y_:HO.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),k5(n)?L5(n):n.Va.set("Unknown")):(await n.fa.stop(),gE(n))})),n.fa}function ff(n){return n.ga||(n.ga=function(t,r,i){const a=tn(t);return a.oa(),new MO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:$O.bind(null,n),i_:KO.bind(null,n),na:XO.bind(null,n),ra:YO.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await mm(n)):(await n.ga.stop(),n.Ia.length>0&&(At(ih,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const o=Date.now()+r,s=new M5(e,t,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j5(n,e){if(Ku("AsyncQueue",`${e}: ${n}`),Dd(n))return new Et(rt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{static emptySet(e){return new cd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Mt.comparator(t.key,r.key):(t,r)=>Mt.comparator(t.key,r.key),this.keyedMap=P1(),this.sortedSet=new Hr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new cd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.pa=new Hr(Mt.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Xt(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class bd{constructor(e,t,r,i,a,o,s,u,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,a){const o=[];return t.forEach(s=>{o.push({type:0,doc:s})}),new bd(e,t,cd.emptySet(t),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class JO{constructor(){this.queries=Zw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=tn(t),a=i.queries;i.queries=Zw(),a.forEach((o,s)=>{for(const u of s.Sa)u.onError(r)})})(this,new Et(rt.ABORTED,"Firestore shutting down"))}}function Zw(){return new hh(n=>F6(n),um)}async function B5(n,e){const t=tn(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new ZO,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(i,!0);break;case 1:a.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const s=j5(o,`Initialization of query '${Qh(e.query)}' failed`);return void e.onError(s)}t.queries.set(i,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&U5(t)}async function F5(n,e){const t=tn(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function eP(n,e){const t=tn(n);let r=!1;for(const i of e){const a=i.query,o=t.queries.get(a);if(o){for(const s of o.Sa)s.Ma(i)&&(r=!0);o.ba=i}}r&&U5(t)}function tP(n,e,t){const r=tn(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function U5(n){n.Ca.forEach(e=>{e.next()})}var gy,Jw;(Jw=gy||(gy={})).xa="default",Jw.Cache="cache";class V5{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=bd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.key=e}}class _E{constructor(e){this.key=e}}class nP{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=wn(),this.mutatedKeys=wn(),this.Za=U6(e),this.Xa=new cd(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new Qw,i=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const g=i.get(h),m=cm(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let I=!1;g&&m?g.data.isEqual(m.data)?x!==b&&(r.track({type:3,doc:m}),I=!0):this.ru(g,m)||(r.track({type:2,doc:m}),I=!0,(u&&this.Za(m,u)>0||f&&this.Za(m,f)<0)&&(s=!0)):!g&&m?(r.track({type:0,doc:m}),I=!0):g&&!m&&(r.track({type:1,doc:g}),I=!0,(u||f)&&(s=!0)),I&&(m?(o=o.add(m),a=b?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{Xa:o,nu:r,Cs:s,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,p)=>function(m,x){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt(20277,{Vt:I})}};return b(m)-b(x)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;const s=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,f=u!==this.Ja;return this.Ja=u,o.length!==0||f?{snapshot:new bd(this.query,e.Xa,a,o,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:s}:{ou:s}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Qw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=wn(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new _E(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new xE(r))}),t}au(e){this.Ha=e.$s,this.Ya=wn();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return bd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const z5="SyncEngine";class rP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iP{constructor(e){this.key=e,this.cu=!1}}class aP{constructor(e,t,r,i,a,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new hh(s=>F6(s),um),this.Pu=new Map,this.Tu=new Set,this.Iu=new Hr(Mt.comparator),this.Eu=new Map,this.du=new T5,this.Au={},this.Ru=new Map,this.Vu=_d.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function oP(n,e,t=!0){const r=CE(n);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await bE(r,e,t,!0),i}async function sP(n,e){const t=CE(n);await bE(t,e,!0,!1)}async function bE(n,e,t,r){const i=await IO(n.localStore,Zl(e)),a=i.targetId,o=n.sharedClientState.addLocalQueryTarget(a,t);let s;return r&&(s=await lP(n,e,a,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&dE(n.remoteStore,i),s}async function lP(n,e,t,r,i){n.fu=(p,g,m)=>async function(b,I,C,P){let j=I.view.tu(C);j.Cs&&(j=await Ww(b.localStore,I.query,!1).then(({documents:D})=>I.view.tu(D,j)));const z=P&&P.targetChanges.get(I.targetId),X=P&&P.targetMismatches.get(I.targetId)!=null,H=I.view.applyChanges(j,b.isPrimaryClient,z,X);return t3(b,I.targetId,H.ou),H.snapshot}(n,p,g,m);const a=await Ww(n.localStore,e,!0),o=new nP(e,a.$s),s=o.tu(a.documents),u=_0.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=o.applyChanges(s,n.isPrimaryClient,u);t3(n,t,f.ou);const h=new rP(e,t,o);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),f.snapshot}async function uP(n,e,t){const r=tn(n),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(o=>!um(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&O5(r.remoteStore,i.targetId),my(r,i.targetId)}).catch(Nd)):(my(r,i.targetId),await dy(r.localStore,i.targetId,!0))}async function cP(n,e){const t=tn(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),O5(t.remoteStore,r.targetId))}async function fP(n,e,t){const r=yP(n);try{const i=await function(o,s){const u=tn(o),f=Ei.now(),h=s.reduce((m,x)=>m.add(x.key),wn());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=Qu(),b=wn();return u.Bs.getEntries(m,h).next(I=>{x=I,x.forEach((C,P)=>{P.isValidDocument()||(b=b.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,x)).next(I=>{p=I;const C=[];for(const P of s){const j=ID(P,p.get(P.key).overlayedDocument);j!=null&&C.push(new yf(P.key,j,D6(j.value.mapValue),ws.exists(!0)))}return u.mutationQueue.addMutationBatch(m,f,C,s)}).next(I=>{g=I;const C=I.applyToLocalDocumentSet(p,b);return u.documentOverlayCache.saveOverlays(m,I.batchId,C)})}).then(()=>({batchId:g.batchId,changes:z6(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,u){let f=o.Au[o.currentUser.toKey()];f||(f=new Hr(fn)),f=f.insert(s,u),o.Au[o.currentUser.toKey()]=f}(r,i.batchId,t),await w0(r,i.changes),await mm(r.remoteStore)}catch(i){const a=j5(i,"Failed to persist write");t.reject(a)}}async function wE(n,e){const t=tn(n);try{const r=await EO(t.localStore,e);e.targetChanges.forEach((i,a)=>{const o=t.Eu.get(a);o&&(Jn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?Jn(o.cu,14607):i.removedDocuments.size>0&&(Jn(o.cu,42227),o.cu=!1))}),await w0(t,r,e)}catch(r){await Nd(r)}}function e3(n,e,t){const r=tn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((a,o)=>{const s=o.view.Fa(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const u=tn(o);u.onlineState=s;let f=!1;u.queries.forEach((h,p)=>{for(const g of p.Sa)g.Fa(s)&&(f=!0)}),f&&U5(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hP(n,e,t){const r=tn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let o=new Hr(Mt.comparator);o=o.insert(a,ka.newNoDocument(a,Jt.min()));const s=wn().add(a),u=new dm(Jt.min(),new Map,new Hr(fn),o,s);await wE(r,u),r.Iu=r.Iu.remove(a),r.Eu.delete(e),q5(r)}else await dy(r.localStore,e,!1).then(()=>my(r,e,t)).catch(Nd)}async function dP(n,e){const t=tn(n),r=e.batch.batchId;try{const i=await AO(t.localStore,e);EE(t,r,null),AE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await w0(t,i)}catch(i){await Nd(i)}}async function pP(n,e,t){const r=tn(n);try{const i=await function(o,s){const u=tn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return u.mutationQueue.lookupMutationBatch(f,s).next(p=>(Jn(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(f,p))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,h,s)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>u.localDocuments.getDocuments(f,h))})}(r.localStore,e);EE(r,e,t),AE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await w0(r,i)}catch(i){await Nd(i)}}function AE(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function EE(n,e,t){const r=tn(n);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function my(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||SE(n,r)})}function SE(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(O5(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),q5(n))}function t3(n,e,t){for(const r of t)r instanceof xE?(n.du.addReference(r.key,e),gP(n,r)):r instanceof _E?(At(z5,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||SE(n,r.key)):Xt(19791,{pu:r})}function gP(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(At(z5,"New document in limbo: "+t),n.Tu.add(r),q5(n))}function q5(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Mt(Tr.fromString(e)),r=n.Vu.next();n.Eu.set(r,new iP(t)),n.Iu=n.Iu.insert(t,r),dE(n.remoteStore,new Qc(Zl(lm(t.path)),r,"TargetPurposeLimboResolution",am.le))}}async function w0(n,e,t){const r=tn(n),i=[],a=[],o=[];r.hu.isEmpty()||(r.hu.forEach((s,u)=>{o.push(r.fu(u,e,t).then(f=>{var h;if((f||t)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=t==null?void 0:t.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(f){i.push(f);const p=N5.Rs(u.targetId,f);a.push(p)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(u,f){const h=tn(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>tt.forEach(f,g=>tt.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>tt.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!Dd(p))throw p;At(D5,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const m=h.xs.get(g),x=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(x);h.xs=h.xs.insert(g,b)}}}(r.localStore,a))}async function mP(n,e){const t=tn(n);if(!t.currentUser.isEqual(e)){At(z5,"User change. New user:",e.toKey());const r=await uE(t.localStore,e);t.currentUser=e,function(a,o){a.Ru.forEach(s=>{s.forEach(u=>{u.reject(new Et(rt.CANCELLED,o))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await w0(t,r.ks)}}function vP(n,e){const t=tn(n),r=t.Eu.get(e);if(r&&r.cu)return wn().add(r.key);{let i=wn();const a=t.Pu.get(e);if(!a)return i;for(const o of a){const s=t.hu.get(o);i=i.unionWith(s.view.eu)}return i}}function CE(n){const e=tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hP.bind(null,e),e.lu.Y_=eP.bind(null,e.eventManager),e.lu.gu=tP.bind(null,e.eventManager),e}function yP(n){const e=tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pP.bind(null,e),e}class Ng{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return wO(this.persistence,new xO,e.initialUser,this.serializer)}Su(e){return new lE(R5.fi,this.serializer)}bu(e){return new RO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ng.provider={build:()=>new Ng};class xP extends Ng{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Jn(this.persistence.referenceDelegate instanceof Tg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iO(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new lE(r=>Tg.fi(r,t),this.serializer)}}class vy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mP.bind(null,this.syncEngine),await QO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JO}()}createDatastore(e){const t=pm(e.databaseInfo.databaseId),r=function(a){return new LO(a)}(e.databaseInfo);return function(a,o,s,u){return new BO(a,o,s,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,o,s){return new UO(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,t=>e3(this.syncEngine,t,0),function(){return Xw.C()?new Xw:new NO}())}createSyncEngine(e,t){return function(i,a,o,s,u,f,h){const p=new aP(i,a,o,s,u,f);return h&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=tn(i);At(ih,"RemoteStore shutting down."),a.da.add(5),await b0(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vy.provider={build:()=>new vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ku("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="FirestoreClient";class _P{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=La.UNAUTHENTICATED,this.clientId=b6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{At(hf,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(At(hf,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=j5(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dv(n,e){n.asyncQueue.verifyOperationInProgress(),At(hf,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function n3(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bP(n);At(hf,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Kw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Kw(e.remoteStore,i)),n._onlineComponents=e}async function bP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){At(hf,"Using user provided OfflineComponentProvider");try{await dv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===rt.FAILED_PRECONDITION||i.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;md("Error using user provided cache. Falling back to memory cache: "+t),await dv(n,new Ng)}}else At(hf,"Using default OfflineComponentProvider"),await dv(n,new xP(void 0));return n._offlineComponents}async function IE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(At(hf,"Using user provided OnlineComponentProvider"),await n3(n,n._uninitializedComponentsProvider._online)):(At(hf,"Using default OnlineComponentProvider"),await n3(n,new vy))),n._onlineComponents}function wP(n){return IE(n).then(e=>e.syncEngine)}async function Dg(n){const e=await IE(n),t=e.eventManager;return t.onListen=oP.bind(null,e.syncEngine),t.onUnlisten=uP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cP.bind(null,e.syncEngine),t}function AP(n,e,t={}){const r=new Wu;return n.asyncQueue.enqueueAndForget(async()=>function(a,o,s,u,f){const h=new H5({next:g=>{h.xu(),o.enqueueAndForget(()=>F5(a,p));const m=g.docs.has(s);!m&&g.fromCache?f.reject(new Et(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&u&&u.source==="server"?f.reject(new Et(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new V5(lm(s.path),h,{includeMetadataChanges:!0,Qa:!0});return B5(a,p)}(await Dg(n),n.asyncQueue,e,t,r)),r.promise}function EP(n,e,t={}){const r=new Wu;return n.asyncQueue.enqueueAndForget(async()=>function(a,o,s,u,f){const h=new H5({next:g=>{h.xu(),o.enqueueAndForget(()=>F5(a,p)),g.fromCache&&u.source==="server"?f.reject(new Et(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new V5(s,h,{includeMetadataChanges:!0,Qa:!0});return B5(a,p)}(await Dg(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n,e,t){if(!t)throw new Et(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SP(n,e,t,r){if(e===!0&&r===!0)throw new Et(rt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i3(n){if(!Mt.isDocumentKey(n))throw new Et(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a3(n){if(Mt.isDocumentKey(n))throw new Et(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xt(12329,{type:typeof n})}function bo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Et(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(n);throw new Et(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="firestore.googleapis.com",o3=!0;class s3{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Et(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NE,this.ssl=o3}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:o3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nO)throw new Et(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Et(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Et(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Et(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ym{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Et(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O9;switch(r.type){case"firstParty":return new M9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=r3.get(t);r&&(At("ComponentProvider","Removing Datastore"),r3.delete(t),r.terminate())}(this),Promise.resolve()}}function CP(n,e,t,r={}){var i;n=bo(n,ym);const a=Id(e),o=n._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;a&&(a5(`https://${u}`),o5("Firestore",!0)),o.host!==NE&&o.host!==u&&md("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:a,emulatorOptions:r});if(!of(f,s)&&(n._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=La.MOCK_USER;else{h=bA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Et(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new La(g)}n._authCredentials=new P9(new x6(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ph(this.firestore,e,this._query)}}class ja{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ja(this.firestore,e,this._key)}}class nf extends ph{constructor(e,t,r){super(e,t,lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ja(this.firestore,null,new Mt(e))}withConverter(e){return new nf(this.firestore,e,this._path)}}function On(n,e,...t){if(n=qr(n),RE("collection","path",e),n instanceof ym){const r=Tr.fromString(e,...t);return a3(r),new nf(n,null,r)}{if(!(n instanceof ja||n instanceof nf))throw new Et(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tr.fromString(e,...t));return a3(r),new nf(n.firestore,null,r)}}function Ar(n,e,...t){if(n=qr(n),arguments.length===1&&(e=b6.newId()),RE("doc","path",e),n instanceof ym){const r=Tr.fromString(e,...t);return i3(r),new ja(n,null,new Mt(r))}{if(!(n instanceof ja||n instanceof nf))throw new Et(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tr.fromString(e,...t));return i3(r),new ja(n.firestore,n instanceof nf?n.converter:null,new Mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="AsyncQueue";class u3{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new fE(this,"async_queue_retry"),this.rc=()=>{const r=hv();r&&At(l3,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=hv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=hv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Wu;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Dd(e))throw e;At(l3,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ku("INTERNAL UNHANDLED ERROR: ",c3(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=M5.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Xt(47125,{cc:c3(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function c3(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Zu extends ym{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new u3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u3(e),this._firestoreClient=void 0,await e}}}function IP(n,e){const t=typeof n=="object"?n:tm(),r=typeof n=="string"?n:wg,i=gf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=yA("firestore");a&&CP(i,...a)}return i}function xm(n){if(n._terminated)throw new Et(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TP(n),n._firestoreClient}function TP(n){var e,t,r;const i=n._freezeSettings(),a=function(s,u,f,h){return new Q9(s,u,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TE(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new _P(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(s){const u=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wd(da.fromBase64String(e))}catch(t){throw new Et(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wd(da.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Et(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Et(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Et(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fn(this._lat,e._lat)||fn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=/^__.*__$/;class NP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new yf(e,this.data,this.fieldMask,t,this.fieldTransforms):new x0(e,this.data,t,this.fieldTransforms)}}class DE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt(40011,{Ic:n})}}class $5{constructor(e,t,r,i,a,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new $5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Og(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(OE(this.Ic)&&RP.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class DP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pm(e)}bc(e,t,r,i=!1){return new $5({Ic:e,methodName:t,wc:r,path:fa.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wm(n){const e=n._freezeSettings(),t=pm(n._databaseId);return new DP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PE(n,e,t,r,i,a={}){const o=n.bc(a.merge||a.mergeFields?2:0,e,t,i);Y5("Data must be an object, but it was:",o,r);const s=LE(r,o);let u,f;if(a.merge)u=new Xo(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const g=yy(e,p,t);if(!o.contains(g))throw new Et(rt.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);ME(h,g)||h.push(g)}u=new Xo(h),f=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,f=o.fieldTransforms;return new NP(new yo(s),u,f)}class Am extends bm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Am}}class X5 extends bm{_toFieldTransform(e){return new AD(e.path,new r0)}isEqual(e){return e instanceof X5}}function OP(n,e,t,r){const i=n.bc(1,e,t);Y5("Data must be an object, but it was:",i,r);const a=[],o=yo.empty();vf(r,(u,f)=>{const h=K5(e,u,t);f=qr(f);const p=i.mc(h);if(f instanceof Am)a.push(h);else{const g=A0(f,p);g!=null&&(a.push(h),o.set(h,g))}});const s=new Xo(a);return new DE(o,s,i.fieldTransforms)}function PP(n,e,t,r,i,a){const o=n.bc(1,e,t),s=[yy(e,r,t)],u=[i];if(a.length%2!=0)throw new Et(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)s.push(yy(e,a[g])),u.push(a[g+1]);const f=[],h=yo.empty();for(let g=s.length-1;g>=0;--g)if(!ME(f,s[g])){const m=s[g];let x=u[g];x=qr(x);const b=o.mc(m);if(x instanceof Am)f.push(m);else{const I=A0(x,b);I!=null&&(f.push(m),h.set(m,I))}}const p=new Xo(f);return new DE(h,p,o.fieldTransforms)}function LP(n,e,t,r=!1){return A0(t,n.bc(r?4:3,e))}function A0(n,e){if(kE(n=qr(n)))return Y5("Unsupported field value:",e,n),LE(n,e);if(n instanceof bm)return function(r,i){if(!OE(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let u=A0(s,i.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=qr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _D(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ei.fromDate(r);return{timestampValue:Ig(i.serializer,a)}}if(r instanceof Ei){const a=new Ei(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ig(i.serializer,a)}}if(r instanceof W5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wd)return{bytesValue:eE(i.serializer,r._byteString)};if(r instanceof ja){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:I5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof G5)return function(o,s){return{mapValue:{fields:{[R6]:{stringValue:N6},[Ag]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw s.gc("VectorValues must only contain numeric values.");return A5(s.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${vm(r)}`)}(n,e)}function LE(n,e){const t={};return A6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vf(n,(r,i)=>{const a=A0(i,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function kE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ei||n instanceof W5||n instanceof wd||n instanceof ja||n instanceof bm||n instanceof G5)}function Y5(n,e,t){if(!kE(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=vm(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function yy(n,e,t){if((e=qr(e))instanceof _m)return e._internalPath;if(typeof e=="string")return K5(n,e);throw Og("Field path arguments must be of type string or ",n,!1,void 0,t)}const kP=new RegExp("[~\\*/\\[\\]]");function K5(n,e,t){if(e.search(kP)>=0)throw Og(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _m(...e.split("."))._internalPath}catch{throw Og(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Og(n,e,t,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;t&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Et(rt.INVALID_ARGUMENT,s+n+u)}function ME(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ja(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Q5("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MP extends jE{data(){return super.data()}}function Q5(n,e){return typeof e=="string"?K5(n,e):e instanceof _m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Et(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z5{}class jP extends Z5{}function Gu(n,e,...t){let r=[];e instanceof Z5&&r.push(e),r=r.concat(t),function(a){const o=a.filter(u=>u instanceof J5).length,s=a.filter(u=>u instanceof Em).length;if(o>1||o>0&&s>0)throw new Et(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Em extends jP{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Em(e,t,r)}_apply(e){const t=this._parse(e);return FE(e._query,t),new ph(e.firestore,e.converter,sy(e._query,t))}_parse(e){const t=wm(e.firestore);return function(a,o,s,u,f,h,p){let g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Et(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){d3(p,h);const x=[];for(const b of p)x.push(h3(u,a,b));g={arrayValue:{values:x}}}else g=h3(u,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||d3(p,h),g=LP(s,o,p,h==="in"||h==="not-in");return wi.create(f,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ju(n,e,t){const r=e,i=Q5("where",n);return Em._create(i,r,t)}class J5 extends Z5{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new J5(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:fl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const u of s)FE(o,u),o=sy(o,u)}(e._query,t),new ph(e.firestore,e.converter,sy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function h3(n,e,t){if(typeof(t=qr(t))=="string"){if(t==="")throw new Et(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B6(e)&&t.indexOf("/")!==-1)throw new Et(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tr.fromString(t));if(!Mt.isDocumentKey(r))throw new Et(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cw(n,new Mt(r))}if(t instanceof ja)return Cw(n,t._key);throw new Et(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(t)}.`)}function d3(n,e){if(!Array.isArray(n)||n.length===0)throw new Et(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FE(n,e){const t=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Et(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Et(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BP{convertValue(e,t="none"){switch(cf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vf(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ag].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ci(o.doubleValue));return new G5(a)}convertGeoPoint(e){return new W5(ci(e.latitude),ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(e0(e));default:return null}}convertTimestamp(e){const t=lf(e);return new Ei(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tr.fromString(e);Jn(oE(r),9688,{name:e});const i=new t0(r.get(1),r.get(3)),a=new Mt(r.popFirst(5));return i.isEqual(t)||Ku(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VE extends jE{constructor(e,t,r,i,a,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Q5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ng extends VE{data(e={}){return super.data(e)}}class zE{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new k1(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ng(this._firestore,this._userDataWriter,r.key,r,new k1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Et(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const u=new ng(i._firestore,i._userDataWriter,s.doc.key,s.doc,new k1(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const u=new ng(i._firestore,i._userDataWriter,s.doc.key,s.doc,new k1(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return s.type!==0&&(f=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),h=o.indexOf(s.doc.key)),{type:FP(s.type),doc:u,oldIndex:f,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){n=bo(n,ja);const e=bo(n.firestore,Zu);return AP(xm(e),n._key).then(t=>HE(e,n,t))}class ex extends BP{constructor(e){super(),this.firestore=e}convertBytes(e){return new wd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ja(this.firestore,null,t)}}function yr(n){n=bo(n,ph);const e=bo(n.firestore,Zu),t=xm(e),r=new ex(e);return BE(n._query),EP(t,n._query).then(i=>new zE(e,r,n,i))}function tx(n,e,t){n=bo(n,ja);const r=bo(n.firestore,Zu),i=UE(n.converter,e);return Im(r,[PE(wm(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ws.none())])}function Qa(n,e,t,...r){n=bo(n,ja);const i=bo(n.firestore,Zu),a=wm(i);let o;return o=typeof(e=qr(e))=="string"||e instanceof _m?PP(a,"updateDoc",n._key,e,t,r):OP(a,"updateDoc",n._key,e),Im(i,[o.toMutation(n._key,ws.exists(!0))])}function Sm(n){return Im(bo(n.firestore,Zu),[new E5(n._key,ws.none())])}function Cm(n,e){const t=bo(n.firestore,Zu),r=Ar(n),i=UE(n.converter,e);return Im(t,[PE(wm(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ws.exists(!1))]).then(()=>r)}function qE(n,...e){var t,r,i;n=qr(n);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||f3(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(f3(e[o])){const p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,f,h;if(n instanceof ja)f=bo(n.firestore,Zu),h=lm(n._key.path),u={next:p=>{e[o]&&e[o](HE(f,n,p))},error:e[o+1],complete:e[o+2]};else{const p=bo(n,ph);f=bo(p.firestore,Zu),h=p._query;const g=new ex(f);u={next:m=>{e[o]&&e[o](new zE(f,g,p,m))},error:e[o+1],complete:e[o+2]},BE(n._query)}return function(g,m,x,b){const I=new H5(b),C=new V5(m,I,x);return g.asyncQueue.enqueueAndForget(async()=>B5(await Dg(g),C)),()=>{I.xu(),g.asyncQueue.enqueueAndForget(async()=>F5(await Dg(g),C))}}(xm(f),h,s,u)}function Im(n,e){return function(r,i){const a=new Wu;return r.asyncQueue.enqueueAndForget(async()=>fP(await wP(r),i,a)),a.promise}(xm(n),e)}function HE(n,e,t){const r=t.docs.get(e._key),i=new ex(n);return new VE(n,i,e._key,r,new k1(t.hasPendingWrites,t.fromCache),e.converter)}function Ai(){return new X5("serverTimestamp")}(function(e,t=!0){(function(i){Rd=i})(fh),ul(new Ss("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Zu(new L9(r.getProvider("auth-internal")),new j9(o,r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Et(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new t0(f.options.projectId,h)}(o,i),o);return a=Object.assign({useFetchStreams:t},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),_o(pw,gw,e),_o(pw,gw,"esm2017")})();var UP="firebase",VP="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_o(UP,VP,"app");const WE="@firebase/installations",nx="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=1e4,$E=`w:${nx}`,XE="FIS_v2",zP="https://firebaseinstallations.googleapis.com/v1",qP=60*60*1e3,HP="installations",WP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ah=new ch(HP,WP,GP);function YE(n){return n instanceof Cs&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE({projectId:n}){return`${zP}/projects/${n}/installations`}function QE(n){return{token:n.token,requestStatus:2,expiresIn:XP(n.expiresIn),creationTime:Date.now()}}async function ZE(n,e){const r=(await e.json()).error;return ah.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function JE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function $P(n,{refreshToken:e}){const t=JE(n);return t.append("Authorization",YP(e)),t}async function eS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function XP(n){return Number(n.replace("s","000"))}function YP(n){return`${XE} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=KE(n),i=JE(n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:t,authVersion:XE,appId:n.appId,sdkVersion:$E},s={method:"POST",headers:i,body:JSON.stringify(o)},u=await eS(()=>fetch(r,s));if(u.ok){const f=await u.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:QE(f.authToken)}}else throw await ZE("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=/^[cdef][\w-]{21}$/,xy="";function JP(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=eL(n);return ZP.test(t)?t:xy}catch{return xy}}function eL(n){return QP(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;function rS(n,e){const t=Tm(n);iS(t,e),tL(t,e)}function iS(n,e){const t=nS.get(n);if(t)for(const r of t)r(e)}function tL(n,e){const t=nL();t&&t.postMessage({key:n,fid:e}),rL()}let Yf=null;function nL(){return!Yf&&"BroadcastChannel"in self&&(Yf=new BroadcastChannel("[Firebase] FID Change"),Yf.onmessage=n=>{iS(n.data.key,n.data.fid)}),Yf}function rL(){nS.size===0&&Yf&&(Yf.close(),Yf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="firebase-installations-database",aL=1,oh="firebase-installations-store";let pv=null;function rx(){return pv||(pv=IA(iL,aL,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(oh)}}})),pv}async function Pg(n,e){const t=Tm(n),i=(await rx()).transaction(oh,"readwrite"),a=i.objectStore(oh),o=await a.get(t);return await a.put(e,t),await i.done,(!o||o.fid!==e.fid)&&rS(n,e.fid),e}async function aS(n){const e=Tm(n),r=(await rx()).transaction(oh,"readwrite");await r.objectStore(oh).delete(e),await r.done}async function Rm(n,e){const t=Tm(n),i=(await rx()).transaction(oh,"readwrite"),a=i.objectStore(oh),o=await a.get(t),s=e(o);return s===void 0?await a.delete(t):await a.put(s,t),await i.done,s&&(!o||o.fid!==s.fid)&&rS(n,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(n){let e;const t=await Rm(n.appConfig,r=>{const i=oL(r),a=sL(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===xy?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function oL(n){const e=n||{fid:JP(),registrationStatus:0};return oS(e)}function sL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ah.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=lL(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uL(n)}:{installationEntry:e}}async function lL(n,e){try{const t=await KP(n,e);return Pg(n.appConfig,t)}catch(t){throw YE(t)&&t.customData.serverCode===409?await aS(n.appConfig):await Pg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function uL(n){let e=await p3(n.appConfig);for(;e.registrationStatus===1;)await tS(100),e=await p3(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await ix(n);return r||t}return e}function p3(n){return Rm(n,e=>{if(!e)throw ah.create("installation-not-found");return oS(e)})}function oS(n){return cL(n)?{fid:n.fid,registrationStatus:0}:n}function cL(n){return n.registrationStatus===1&&n.registrationTime+GE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL({appConfig:n,heartbeatServiceProvider:e},t){const r=hL(n,t),i=$P(n,t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:$E,appId:n.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},u=await eS(()=>fetch(r,s));if(u.ok){const f=await u.json();return QE(f)}else throw await ZE("Generate Auth Token",u)}function hL(n,{fid:e}){return`${KE(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(n,e=!1){let t;const r=await Rm(n.appConfig,a=>{if(!sS(a))throw ah.create("not-registered");const o=a.authToken;if(!e&&gL(o))return a;if(o.requestStatus===1)return t=dL(n,e),a;{if(!navigator.onLine)throw ah.create("app-offline");const s=vL(a);return t=pL(n,s),s}});return t?await t:r.authToken}async function dL(n,e){let t=await g3(n.appConfig);for(;t.authToken.requestStatus===1;)await tS(100),t=await g3(n.appConfig);const r=t.authToken;return r.requestStatus===0?ax(n,e):r}function g3(n){return Rm(n,e=>{if(!sS(e))throw ah.create("not-registered");const t=e.authToken;return yL(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pL(n,e){try{const t=await fL(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Pg(n.appConfig,r),t}catch(t){if(YE(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await aS(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pg(n.appConfig,r)}throw t}}function sS(n){return n!==void 0&&n.registrationStatus===2}function gL(n){return n.requestStatus===2&&!mL(n)}function mL(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+qP}function vL(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function yL(n){return n.requestStatus===1&&n.requestTime+GE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(n){const e=n,{installationEntry:t,registrationPromise:r}=await ix(e);return r?r.catch(console.error):ax(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(n,e=!1){const t=n;return await bL(t),(await ax(t,e)).token}async function bL(n){const{registrationPromise:e}=await ix(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n){if(!n||!n.options)throw gv("App Configuration");if(!n.name)throw gv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw gv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function gv(n){return ah.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="installations",AL="installations-internal",EL=n=>{const e=n.getProvider("app").getImmediate(),t=wL(e),r=gf(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},SL=n=>{const e=n.getProvider("app").getImmediate(),t=gf(e,lS).getImmediate();return{getId:()=>xL(t),getToken:i=>_L(t,i)}};function CL(){ul(new Ss(lS,EL,"PUBLIC")),ul(new Ss(AL,SL,"PRIVATE"))}CL();_o(WE,nx);_o(WE,nx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="analytics",IL="firebase_id",TL="origin",RL=60*1e3,NL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ox="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new em("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ko=new ch("analytics","Analytics",DL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(n){if(!n.startsWith(ox)){const e=Ko.create("invalid-gtag-resource",{gtagURL:n});return wo.warn(e.message),""}return n}function uS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function PL(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function LL(n,e){const t=PL("firebase-js-sdk-policy",{createScriptURL:OL}),r=document.createElement("script"),i=`${ox}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function kL(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function ML(n,e,t,r,i,a){const o=r[i];try{if(o)await e[o];else{const u=(await uS(t)).find(f=>f.measurementId===i);u&&await e[u.appId]}}catch(s){wo.error(s)}n("config",i,a)}async function jL(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await uS(t);for(const u of o){const f=s.find(p=>p.measurementId===u),h=f&&e[f.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){wo.error(a)}}function BL(n,e,t,r){async function i(a,...o){try{if(a==="event"){const[s,u]=o;await jL(n,e,t,s,u)}else if(a==="config"){const[s,u]=o;await ML(n,e,t,r,s,u)}else if(a==="consent"){const[s,u]=o;n("consent",s,u)}else if(a==="get"){const[s,u,f]=o;n("get",s,u,f)}else if(a==="set"){const[s]=o;n("set",s)}else n(a,...o)}catch(s){wo.error(s)}}return i}function FL(n,e,t,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=BL(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function UL(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ox)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=30,zL=1e3;class qL{constructor(e={},t=zL){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cS=new qL;function HL(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function WL(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:HL(r)},a=NL.replace("{app-id}",t),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(s=u.error.message)}catch{}throw Ko.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function GL(n,e=cS,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Ko.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Ko.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new YL;return setTimeout(async()=>{s.abort()},RL),fS({appId:r,apiKey:i,measurementId:a},o,s,e)}async function fS(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=cS){var a;const{appId:o,measurementId:s}=n;try{await $L(r,e)}catch(u){if(s)return wo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw u}try{const u=await WL(n);return i.deleteThrottleMetadata(o),u}catch(u){const f=u;if(!XL(f)){if(i.deleteThrottleMetadata(o),s)return wo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:s};throw u}const h=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?Fb(t,i.intervalMillis,VL):Fb(t,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:t+1};return i.setThrottleMetadata(o,p),wo.debug(`Calling attemptFetch again in ${h} millis`),fS(n,p,r,i)}}function $L(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Ko.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function XL(n){if(!(n instanceof Cs)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class YL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KL(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(){if(AA())try{await EA()}catch(n){return wo.warn(Ko.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return wo.warn(Ko.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZL(n,e,t,r,i,a,o){var s;const u=GL(n);u.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&wo.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>wo.error(m)),e.push(u);const f=QL().then(m=>{if(m)return r.getId()}),[h,p]=await Promise.all([u,f]);UL(a)||LL(a,h.measurementId),i("js",new Date);const g=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return g[TL]="firebase",g.update=!0,p!=null&&(g[IL]=p),i("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.app=e}_delete(){return delete G1[this.app.options.appId],Promise.resolve()}}let G1={},m3=[];const v3={};let mv="dataLayer",ek="gtag",y3,hS,x3=!1;function tk(){const n=[];if(wA()&&n.push("This is a browser extension environment."),XT()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Ko.create("invalid-analytics-context",{errorInfo:e});wo.warn(t.message)}}function nk(n,e,t){tk();const r=n.options.appId;if(!r)throw Ko.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)wo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ko.create("no-api-key");if(G1[r]!=null)throw Ko.create("already-exists",{id:r});if(!x3){kL(mv);const{wrappedGtag:a,gtagCore:o}=FL(G1,m3,v3,mv,ek);hS=a,y3=o,x3=!0}return G1[r]=ZL(n,m3,v3,e,y3,mv,t),new JL(n)}function rk(n=tm()){n=qr(n);const e=gf(n,Lg);return e.isInitialized()?e.getImmediate():ik(n)}function ik(n,e={}){const t=gf(n,Lg);if(t.isInitialized()){const i=t.getImmediate();if(of(e,t.getOptions()))return i;throw Ko.create("already-initialized")}return t.initialize({options:e})}function ak(n,e,t,r){n=qr(n),KL(hS,G1[n.app.options.appId],e,t,r).catch(i=>wo.error(i))}const _3="@firebase/analytics",b3="0.10.16";function ok(){ul(new Ss(Lg,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return nk(r,i,t)},"PUBLIC")),ul(new Ss("analytics-internal",n,"PRIVATE")),_o(_3,b3),_o(_3,b3,"esm2017");function n(e){try{const t=e.getProvider(Lg).getImmediate();return{logEvent:(r,i,a)=>ak(t,r,i,a)}}catch(t){throw Ko.create("interop-component-reg-failed",{reason:t})}}}ok();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firebasestorage.googleapis.com",sk="storageBucket",lk=2*60*1e3,uk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Cs{constructor(e,t,r=0){super(vv(e),`Firebase Storage: ${t} (${vv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ou.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ru;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ru||(ru={}));function vv(n){return"storage/"+n}function ck(){const n="An unknown error occurred, please check the error payload for server response.";return new ou(ru.UNKNOWN,n)}function fk(){return new ou(ru.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hk(){return new ou(ru.CANCELED,"User canceled the upload/download.")}function dk(n){return new ou(ru.INVALID_URL,"Invalid URL '"+n+"'.")}function pk(n){return new ou(ru.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function w3(n){return new ou(ru.INVALID_ARGUMENT,n)}function pS(){return new ou(ru.APP_DELETED,"The Firebase app was deleted.")}function gk(n){return new ou(ru.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ll.makeFromUrl(e,t)}catch{return new ll(e,"")}if(r.path==="")return r;throw pk(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function f(z){z.path_=decodeURIComponent(z.path)}const h="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),x={bucket:1,path:3},b=t===dS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",C=new RegExp(`^https?://${b}/${i}/${I}`,"i"),j=[{regex:s,indices:u,postModify:a},{regex:m,indices:x,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let z=0;z<j.length;z++){const X=j[z],H=X.regex.exec(e);if(H){const D=H[X.indices.bucket];let E=H[X.indices.path];E||(E=""),r=new ll(D,E),X.postModify(r);break}}if(r==null)throw dk(e);return r}}class mk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n,e,t){let r=1,i=null,a=null,o=!1,s=0;function u(){return s===2}let f=!1;function h(...I){f||(f=!0,e.apply(null,I))}function p(I){i=setTimeout(()=>{i=null,n(m,u())},I)}function g(){a&&clearTimeout(a)}function m(I,...C){if(f){g();return}if(I){g(),h.call(null,I,...C);return}if(u()||o){g(),h.call(null,I,...C);return}r<64&&(r*=2);let j;s===1?(s=2,j=0):j=(r+Math.random())*1e3,p(j)}let x=!1;function b(I){x||(x=!0,g(),!f&&(i!==null?(I||(s=2),clearTimeout(i),p(0)):I||(s=1)))}return p(0),a=setTimeout(()=>{o=!0,b(!0)},t),b}function yk(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){return n!==void 0}function A3(n,e,t,r){if(r<e)throw w3(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw w3(`Invalid value for '${n}'. Expected ${t} or less.`)}function _k(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var kg;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(kg||(kg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,r,i,a,o,s,u,f,h,p,g=!0,m=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const u=s.loaded,f=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===kg.NO_ERROR,u=a.getStatus();if(!s||bk(u,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===kg.ABORT;r(!1,new kp(!1,null,h));return}const f=this.successCodes_.indexOf(u)!==-1;r(!0,new kp(f,a))})},t=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(s,s.getResponse());xk(u)?a(u):a()}catch(u){o(u)}else if(s!==null){const u=ck();u.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,u)):o(u)}else if(i.canceled){const u=this.appDelete_?pS():hk();o(u)}else{const u=fk();o(u)}};this.canceled_?t(!1,new kp(!1,null,!0)):this.backoffId_=vk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kp{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Ak(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Ek(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Sk(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Ck(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Ik(n,e,t,r,i,a,o=!0,s=!1){const u=_k(n.urlParams),f=n.url+u,h=Object.assign({},n.headers);return Sk(h,e),Ak(h,t),Ek(h,a),Ck(h,r),new wk(f,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Rk(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this._service=e,t instanceof ll?this._location=t:this._location=ll.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Mg(e,t)}get root(){const e=new ll(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rk(this._location.path)}get storage(){return this._service}get parent(){const e=Tk(this._location.path);if(e===null)return null;const t=new ll(this._location.bucket,e);return new Mg(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw gk(e)}}function E3(n,e){const t=e==null?void 0:e[sk];return t==null?null:ll.makeFromBucketSpec(t,n)}function Nk(n,e,t,r={}){n.host=`${e}:${t}`;const i=Id(e);i&&(a5(`https://${n.host}`),o5("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:bA(a,n.app.options.projectId))}class Dk{constructor(e,t,r,i,a,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=dS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lk,this._maxUploadRetryTime=uk,this._requests=new Set,i!=null?this._bucket=ll.makeFromBucketSpec(i,this._host):this._bucket=E3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ll.makeFromBucketSpec(this._url,e):this._bucket=E3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if($o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mg(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new mk(pS());{const o=Ik(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const S3="@firebase/storage",C3="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="storage";function Ok(n=tm(),e){n=qr(n);const r=gf(n,gS).getImmediate({identifier:e}),i=yA("storage");return i&&Pk(r,...i),r}function Pk(n,e,t,r={}){Nk(n,e,t,r)}function Lk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Dk(t,r,i,e,fh)}function kk(){ul(new Ss(gS,Lk,"PUBLIC").setMultipleInstances(!0)),_o(S3,C3,""),_o(S3,C3,"esm2017")}kk();const Mk={apiKey:"AIzaSyD2okbjcvN3V4Qpd4deo59qZZNNRBIWX58",authDomain:"gmach-inventory-system.firebaseapp.com",projectId:"gmach-inventory-system",storageBucket:"gmach-inventory-system.appspot.com",messagingSenderId:"687472851540",appId:"1:687472851540:web:f846506cccaaefc1e74bc1",measurementId:"G-ZM8S3K7E2V"},Nm=TA(Mk);rk(Nm);const o0=N9(Nm),kt=IP(Nm);Ok(Nm);const mS=pe.createContext(),vS=({children:n})=>{const[e,t]=pe.useState(null),[r,i]=pe.useState(!0);return pe.useEffect(()=>{const a=yN(o0,async s=>{if(s&&s.emailVerified){const u=await Ad(Ar(kt,"users",s.uid));if(u.exists()){const f=u.data();t({uid:s.uid,email:s.email,username:f.username,role:f.role})}}else t(null)});return(async()=>{const s=await Ad(Ar(kt,"settings","onlineOrdering"));if(s.exists()){const u=s.data();i(u.enabled===!0)}})(),()=>a()},[]),w.jsx(mS.Provider,{value:{user:e,setUser:t,onlineOrderingEnabled:r,setOnlineOrderingEnabled:i},children:n})},xf=()=>pe.useContext(mS),jk=()=>{const{user:n,setUser:e}=xf(),t=e5(),[r,i]=pe.useState(!1),[a,o]=pe.useState(null),[s,u]=pe.useState(null);pe.useEffect(()=>{const j=Ar(kt,"settings","onlineOrdering"),z=qE(j,X=>{X.exists()&&o(X.data().enabled)},X=>{console.error("שגיאה בקבלת עדכונים בזמן אמת:",X)});return()=>z()},[]),pe.useEffect(()=>{const j=()=>{u(window.innerWidth<=768)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const f=async()=>{try{await xN(o0),e(null),t("/login")}catch(j){alert("שגיאה בהתנתקות: "+j.message)}},h=()=>{i(!1)},p=j=>{switch(j){case"MainAdmin":return"מנהל ראשי";case"GmachAdmin":return"מנהל גמח";default:return"משתמש"}};if(s===null)return null;const g={backgroundColor:"#f2f2f2",padding:"10px 0",direction:"rtl",borderBottom:"1px solid #ccc",position:"relative",zIndex:1e3},m={padding:"12px 16px",textDecoration:"none",color:"#0056b3",fontWeight:"500",fontSize:"16px",display:"block"},x={position:"absolute",top:"10px",left:s?"20px":"auto",right:s?"auto":"20px",display:"flex",alignItems:"center",gap:"10px",fontWeight:"bold",color:"#333"},b={backgroundColor:"#e74c3c",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},I={position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:999},C={position:"fixed",top:0,right:r?0:"-70%",height:"100%",width:"70%",backgroundColor:"#fff",boxShadow:"0 0 12px rgba(0,0,0,0.25)",padding:"20px",display:"flex",flexDirection:"column",gap:"10px",transition:"right 0.3s ease",zIndex:1e3},P={display:"flex",justifyContent:"center",gap:"10px",padding:"10px 0"};return w.jsxs("div",{style:g,children:[s&&w.jsx("button",{onClick:()=>i(!0),style:{fontSize:"24px",background:"none",border:"none",cursor:"pointer",padding:"0 1rem"},children:"☰"}),!s&&w.jsxs("div",{style:P,children:[w.jsx(br,{to:"/",style:m,children:"דף הבית"}),w.jsx(br,{to:"/catalog",style:m,children:"קטלוג מוצרים"}),(n==null?void 0:n.role)==="User"&&w.jsxs(w.Fragment,{children:[w.jsx(br,{to:"/my-orders",style:m,children:"ההזמנות שלי"}),a&&w.jsx(br,{to:"/request",style:m,children:"בקשת השאלה"})]}),((n==null?void 0:n.role)==="GmachAdmin"||(n==null?void 0:n.role)==="MainAdmin")&&w.jsxs(w.Fragment,{children:[w.jsx(br,{to:"/new-loan",style:m,children:"הזמנה חדשה"}),a&&w.jsx(br,{to:"/requests",style:m,children:"בקשות להזמנה"}),w.jsx(br,{to:"/Calendar",style:m,children:"השאלות פתוחות"}),w.jsx(br,{to:"/history",style:m,children:"היסטוריית השאלות"}),w.jsx(br,{to:"/manage-product",style:m,children:"ניהול מוצרים"})]}),(n==null?void 0:n.role)==="MainAdmin"&&w.jsx(br,{to:"/manage-users",style:m,children:"ניהול משתמשים"}),!n&&w.jsxs(w.Fragment,{children:[w.jsx(br,{to:"/login",style:m,children:"התחברות"}),w.jsx(br,{to:"/register",style:m,children:"הרשמה"})]})]}),r&&s&&w.jsxs(w.Fragment,{children:[w.jsx("div",{style:I,onClick:h}),w.jsxs("div",{style:C,children:[w.jsx(br,{to:"/",style:m,onClick:h,children:"דף הבית"}),w.jsx(br,{to:"/catalog",style:m,onClick:h,children:"קטלוג מוצרים"}),(n==null?void 0:n.role)==="User"&&w.jsxs(w.Fragment,{children:[w.jsx(br,{to:"/my-orders",style:m,onClick:h,children:"ההזמנות שלי"}),a&&w.jsx(br,{to:"/request",style:m,onClick:h,children:"בקשת השאלה"})]}),((n==null?void 0:n.role)==="GmachAdmin"||(n==null?void 0:n.role)==="MainAdmin")&&w.jsxs(w.Fragment,{children:[w.jsx(br,{to:"/new-loan",style:m,onClick:h,children:"הזמנה חדשה"}),a&&w.jsx(br,{to:"/requests",style:m,onClick:h,children:"בקשות להזמנה"}),w.jsx(br,{to:"/Calendar",style:m,onClick:h,children:"השאלות פתוחות"}),w.jsx(br,{to:"/history",style:m,onClick:h,children:"היסטוריית השאלות"}),w.jsx(br,{to:"/manage-product",style:m,onClick:h,children:"ניהול מוצרים"})]}),(n==null?void 0:n.role)==="MainAdmin"&&w.jsx(br,{to:"/manage-users",style:m,onClick:h,children:"ניהול משתמשים"}),!n&&w.jsxs(w.Fragment,{children:[w.jsx(br,{to:"/login",style:m,onClick:h,children:"התחברות"}),w.jsx(br,{to:"/register",style:m,onClick:h,children:"הרשמה"})]})]})]}),n&&w.jsxs("div",{style:x,children:["שלום ",n.username," (",p(n.role),")",w.jsx("button",{style:b,onClick:f,children:"התנתק"})]})]})},Bk="/assets/GmachPic-D1t0vS9u.jpeg",Fk=()=>{const{user:n}=xf(),e={padding:"2rem",textAlign:"center",direction:"rtl",maxWidth:"1000px",margin:"0 auto"},t={fontSize:"24px",fontWeight:"bold",marginBottom:"1rem"},r={maxWidth:"800px",margin:"0 auto",fontSize:"16px",lineHeight:"1.8",color:"#333"},i={display:"flex",justifyContent:"center",marginTop:"2rem"},a={width:"100%",minHeight:"300px",aspectRatio:"16/9",border:"1px solid #ccc",borderRadius:"12px"},o={position:"fixed",bottom:"20px",right:"20px",backgroundColor:"#007bff",color:"white",padding:"12px 20px",borderRadius:"10px",fontWeight:"bold",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)",zIndex:1e3,fontSize:"15px",maxWidth:"calc(100% - 40px)",wordWrap:"break-word"};return w.jsxs("div",{style:e,children:[w.jsx("h2",{style:t,children:'ברוכים הבאים לגמ"ח שמחת זקנתי'}),w.jsx("img",{src:Bk,alt:'תמונה של גמ"ח',style:{width:"65%",height:"auto",borderRadius:"12px",marginBottom:"2rem",maxWidth:"600px"}}),w.jsxs("div",{style:r,children:['פני פתחה את גמ"ח הציוד לשמחות ואירועים "שמחת זקנתי" לפני כ־10 שנים, לזכר סבה וסבתה – אברהם ואסתר ליבן ז"ל, ממקימי הקיבוץ. הגמ"ח החל לפעול מתוך ביתם ממש ולאחר מכן עבר למבנה שהוקצה ושופץ על ידי הקיבוץ.',w.jsx("br",{}),w.jsx("br",{}),'הגמ"ח מצריך תחזוקה מתמדת, התרמות, חידושים וסידור עם משתמשים רבים מהאזור. משתמשי הגמ"ח נהנים ממגוון ציוד עשיר, ויש להזמין כמה חודשים מראש.']}),w.jsxs("div",{style:{marginTop:"2rem"},children:[w.jsx("h3",{children:"📍 מיקום והגעה"}),w.jsxs("div",{children:[w.jsx("a",{href:"https://maps.app.goo.gl/zHkUGZDnGVsUrBCB6",target:"_blank",rel:"noopener noreferrer",children:"Google Maps"})," |"," ",w.jsx("a",{href:"https://waze.com/ul?ll=31.775887,34.703164",target:"_blank",rel:"noopener noreferrer",children:"Waze"})]})]}),w.jsx("div",{style:i,children:w.jsx("iframe",{src:"https://www.google.com/maps?q=31.7889462,34.79986&output=embed",width:"100%",height:"100%",style:a,allowFullScreen:"",loading:"lazy",title:'מיקום גמ"ח'})}),(!n||n.role==="User")&&w.jsxs("div",{style:o,children:["📞 לתיאום ולהגעה: ",w.jsx("a",{href:"tel:0501234567",style:{color:"white",textDecoration:"underline"},children:"050-1234567"})]})]})},Uk=()=>{const[n,e]=pe.useState(""),[t,r]=pe.useState(""),[i,a]=pe.useState(""),{setUser:o}=xf(),s=e5(),u=async()=>{if(!n||!n.includes("@")){a("יש להזין אימייל תקין לשחזור סיסמה");return}try{await hN(o0,n),a("קישור לאיפוס סיסמה נשלח לאימייל")}catch(p){a("שגיאה בשליחת קישור לאיפוס סיסמה: "+p.message)}},f=async p=>{p.preventDefault(),a("");let g=n;if(!n.includes("@"))try{const m=Gu(On(kt,"users"),Ju("username","==",n)),x=await yr(m);if(!x.empty)g=x.docs[0].data().email;else{a("שם משתמש לא נמצא");return}}catch{a("שגיאה באחזור אימייל לפי שם משתמש");return}try{const x=(await pN(o0,g,t)).user;if(!x.emailVerified){a("נא לאמת את כתובת האימייל לפני ההתחברות");return}const b=Ar(kt,"users",x.uid),I=await Ad(b);if(I.exists()){const C=I.data();o({uid:x.uid,email:x.email,username:C.username,role:C.role}),s("/")}else a("לא נמצאו נתוני משתמש במסד הנתונים")}catch(m){switch(m.code){case"auth/invalid-credential":case"auth/wrong-password":a("סיסמה שגויה");break;case"auth/user-not-found":a("המשתמש לא נמצא");break;default:a("שגיאה: "+m.message)}}},h={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",backgroundColor:"#f2f2f2"},form:{backgroundColor:"#fff",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",width:"300px"},title:{textAlign:"center",marginBottom:"1.5rem",color:"#333"},input:{marginBottom:"1rem",padding:"0.8rem",fontSize:"1rem",borderRadius:"6px",border:"1px solid #ccc"},button:{backgroundColor:"#007bff",color:"white",border:"none",padding:"0.8rem",fontSize:"1rem",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.3s ease"},error:{color:"red",marginBottom:"1rem",fontSize:"0.9rem",textAlign:"center"}};return w.jsx("div",{style:h.container,children:w.jsxs("form",{onSubmit:f,style:h.form,children:[w.jsx("h2",{style:h.title,children:"התחברות"}),w.jsx("input",{type:"text",placeholder:"שם משתמש או אימייל",value:n,onChange:p=>e(p.target.value),style:h.input,required:!0}),w.jsx("input",{type:"password",placeholder:"סיסמה",value:t,onChange:p=>r(p.target.value),style:h.input,required:!0}),i&&w.jsx("div",{style:h.error,children:i}),w.jsx("button",{type:"submit",style:h.button,children:"התחבר"}),w.jsx("button",{type:"button",onClick:u,style:{marginTop:"0.5rem",backgroundColor:"transparent",border:"none",color:"#007bff",textDecoration:"underline",cursor:"pointer",fontSize:"0.9rem"},children:"שכחת סיסמה?"})]})})},Vk=()=>{const[n,e]=pe.useState(""),[t,r]=pe.useState(""),[i,a]=pe.useState(""),[o,s]=pe.useState(""),u=p=>p.length>=8&&/[a-zA-Z]/.test(p),f=async p=>{if(p.preventDefault(),!u(i)){s("הסיסמה חייבת להכיל לפחות 8 תווים ולפחות אות אחת באנגלית A-Z / a-z");return}try{const m=(await dN(o0,n,i)).user;await tx(Ar(kt,"users",m.uid),{email:n,username:t,role:"User"}),await gN(m),alert("נרשמת בהצלחה! נשלח אליך מייל לאימות.")}catch(g){s(g.message)}},h={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",backgroundColor:"#f2f2f2"},form:{backgroundColor:"#fff",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",width:"300px"},title:{textAlign:"center",marginBottom:"1.5rem",color:"#333"},input:{marginBottom:"1rem",padding:"0.8rem",fontSize:"1rem",borderRadius:"6px",border:"1px solid #ccc"},button:{backgroundColor:"#007bff",color:"white",border:"none",padding:"0.8rem",fontSize:"1rem",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.3s ease"},error:{color:"red",marginBottom:"1rem",fontSize:"0.9rem",textAlign:"center"}};return w.jsx("div",{style:h.container,children:w.jsxs("form",{onSubmit:f,style:h.form,children:[w.jsx("h2",{style:h.title,children:"הרשמה"}),w.jsx("input",{type:"text",placeholder:"שם משתמש",value:t,onChange:p=>r(p.target.value),style:h.input,required:!0}),w.jsx("input",{type:"email",placeholder:"אימייל",value:n,onChange:p=>e(p.target.value),style:h.input,required:!0}),w.jsx("input",{type:"password",placeholder:"סיסמה",value:i,onChange:p=>a(p.target.value),style:h.input,required:!0}),o&&w.jsx("div",{style:h.error,children:o}),w.jsx("button",{type:"submit",style:h.button,children:"הרשם"})]})})},zk=({form:n,errors:e,handleChange:t,handleConfirm:r,handleClear:i,setShowCatalogPopup:a,saving:o})=>{const s=[{label:"שם מתנדבת",name:"volunteerName",required:!0},{label:"שם לקוח",name:"clientName",required:!0},{label:"מקום מגורים",name:"address",required:!0},{label:"מספר פלאפון",name:"phone",required:!0},{label:"אימייל",name:"email",required:!1},{label:"סוג האירוע",name:"eventType",required:!0},{label:"תאריך לקיחת מוצרים",name:"pickupDate",type:"date",required:!0},{label:"תאריך האירוע",name:"eventDate",type:"date",required:!0},{label:"תאריך החזרת מוצרים",name:"returnDate",type:"date",required:!0}];return w.jsxs("div",{className:"loan-form-box",children:[w.jsx("h2",{style:{textAlign:"center"},children:"הזמנה חדשה"}),s.map(({label:u,name:f,type:h="text",required:p})=>w.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[w.jsxs("label",{htmlFor:f,style:{display:"block",marginBottom:"0.3rem",maxWidth:"400px",margin:"0 auto",textAlign:"right"},children:[u,p&&" *"]}),w.jsx("input",{id:f,type:h,name:f,value:n[f],onChange:t,min:h==="date"?f==="pickupDate"?new Date().toISOString().split("T")[0]:f==="eventDate"||f==="returnDate"?n.pickupDate||new Date().toISOString().split("T")[0]:void 0:void 0,style:{display:"block",width:"100%",maxWidth:"400px",margin:"0 auto",padding:"10px",border:e[f]?"1px solid red":"1px solid #ccc",borderRadius:"6px",fontSize:"1rem"}}),e[f]&&w.jsx("div",{style:{color:"red",fontSize:"0.85rem",maxWidth:"400px",margin:"0.3rem auto 0",textAlign:"right"},children:e[f]})]},f)),w.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1.5rem"},children:w.jsx("button",{className:"btn btn-blue",onClick:()=>a(!0),children:"בחירת מוצרים"})}),w.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[w.jsx("button",{className:"btn btn-green",onClick:r,disabled:o,children:o?"שומר...":"אישור הזמנה"}),w.jsx("button",{className:"btn btn-red",onClick:i,disabled:o,children:"ביטול הזמנה"})]})]})};function qk(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function Hk(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var Wk=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gk=function(n){Wk(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),qk(a,i.prototype),Hk(a),a}return e}(Error),$k=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ao=function(n){$k(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(Gk),Xk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nl=function(n){Xk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Ao),Yk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bt=function(n){Yk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Ao),Kk=function(){function n(e){if(this.binarizer=e,e===null)throw new Bt("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),Qk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qi=function(n){Qk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Ao),Zk=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),wr=function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),Jk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sx=function(n){Jk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Ao),eM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I3=function(n){eM(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(sx),tM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ki=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new Bt("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new I3(t);if(r>e)throw new I3(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=tM(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return wr.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=r(t,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),gn=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Zi=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);wr.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return t;a=r[i]}var s=i*32+gn.numberOfTrailingZeros(a);return s>t?t:s},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return t;a=~r[i]}var s=i*32+gn.numberOfTrailingZeros(a);return s>t?t:s},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Bt;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,o=r;o<=i;o++){var s=o>r?0:e&31,u=o<i?31:t&31,f=(2<<u)-(1<<s);a[o]|=f}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new Bt;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,s=i;s<=a;s++){var u=s>i?0:e&31,f=s<a?31:t&31,h=(2<<f)-(1<<u)&4294967295;if((o[s]&h)!==(r?h:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Bt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new Bt("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;t[r+a]=o}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-a]=o}if(this.size!==r*32){for(var s=r*32-this.size,u=e[0]>>>s,a=1;a<r;a++){var f=e[a];u|=f<<32-s,e[a-1]=u,u=f>>>s}e[r-1]=u}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&ki.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+ki.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),_y;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(_y||(_y={}));const kr=_y;var nM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mt=function(n){nM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Ao),rM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ir;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(ir||(ir={}));var Li=function(){function n(e,t,r){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=o,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var u=this.values,f=0,h=u.length;f!==h;f++){var p=u[f];n.VALUES_TO_ECI.set(p,this)}try{for(var g=rM(o),m=g.next();!m.done;m=g.next()){var x=m.value;n.NAME_TO_ECI.set(x,this)}}catch(b){i={error:b}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new mt("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new mt("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new mt("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(ir.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(ir.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(ir.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(ir.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(ir.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(ir.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(ir.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(ir.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(ir.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(ir.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(ir.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(ir.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(ir.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(ir.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(ir.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(ir.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(ir.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(ir.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(ir.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(ir.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(ir.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(ir.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(ir.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(ir.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(ir.Big5,28,"Big5"),n.GB18030=new n(ir.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(ir.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),iM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rg=function(n){iM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Ao),As=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof Li?e:Li.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(r.equals(Li.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new rg("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(Li.UTF8)||e.equals(Li.ISO8859_1)||e.equals(Li.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n}(),Dn=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return As.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(kr.CHARACTER_SET)!==void 0)return t.get(kr.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,o=!0,s=0,u=0,f=0,h=0,p=0,g=0,m=0,x=0,b=0,I=0,C=0,P=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,j=0;j<r&&(i||a||o);j++){var z=e[j]&255;o&&(s>0?(z&128)===0?o=!1:s--:(z&128)!==0&&((z&64)===0?o=!1:(s++,(z&32)===0?u++:(s++,(z&16)===0?f++:(s++,(z&8)===0?h++:o=!1))))),i&&(z>127&&z<160?i=!1:z>159&&(z<192||z===215||z===247)&&C++),a&&(p>0?z<64||z===127||z>252?a=!1:p--:z===128||z===160||z>239?a=!1:z>160&&z<224?(g++,x=0,m++,m>b&&(b=m)):z>127?(p++,m=0,x++,x>I&&(I=x)):(m=0,x=0))}return o&&s>0&&(o=!1),a&&p>0&&(a=!1),o&&(P||u+f+h>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||b>=3||I>=3)?n.SHIFT_JIS:i&&a?b===2&&g===2||C*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:o?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(s,u,f,h,p,g){if(s==="%%")return"%";if(t[++i]!==void 0){s=h?parseInt(h.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,x;switch(g){case"s":x=t[i];break;case"c":x=t[i][0];break;case"f":x=parseFloat(t[i]).toFixed(s);break;case"p":x=parseFloat(t[i]).toPrecision(s);break;case"e":x=parseFloat(t[i]).toExponential(s);break;case"x":x=parseInt(t[i]).toString(m||16);break;case"d":x=parseFloat(parseInt(t[i],m||10).toPrecision(s)).toFixed(0);break}x=typeof x=="object"?JSON.stringify(x):(+x).toString(m);for(var b=parseInt(f),I=f&&f[0]+""=="0"?"0":" ";x.length<b;)x=u!==void 0?x+I:I+x;return x}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},n.getBytes=function(e,t){return As.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=Li.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=Li.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=Li.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),cn=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Dn.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),iu=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Bt("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var o=e[a],s=0;s<r;s++)o[s]&&i.set(s,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new Bt("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Bt("row lengths do not match");o=a,u++}f++}else if(e.substring(f,f+t.length)===t)f+=t.length,i[a]=!0,a++;else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!1,a++;else throw new Bt("illegal character encountered: "+e.substring(f));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Bt("row lengths do not match");u++}for(var h=new n(s,u),p=0;p<a;p++)i[p]&&h.set(Math.floor(p%s),Math.floor(p/s));return h},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Bt("input matrix dimensions do not match");for(var t=new Zi(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*r,u=e.getRow(a,t).getBitArray(),f=0;f<r;f++)i[s+f]^=u[f]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new Bt("Left and top must be nonnegative");if(i<1||r<1)throw new Bt("Height and width must be at least 1");var a=e+r,o=t+i;if(o>this.height||a>this.width)throw new Bt("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,f=t;f<o;f++)for(var h=f*s,p=e;p<a;p++)u[h+Math.floor(p/32)]|=1<<(p&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Zi(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,o=0;o<r;o++)t.setBulk(o*32,i[a+o]);return t},n.prototype.setRow=function(e,t){wr.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new Zi(e),i=new Zi(e),a=0,o=Math.floor((t+1)/2);a<o;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,o=t,s=-1,u=-1,f=0;f<t;f++)for(var h=0;h<r;h++){var p=i[f*r+h];if(p!==0){if(f<o&&(o=f),f>u&&(u=f),h*32<a){for(var g=0;(p<<31-g&4294967295)===0;)g++;h*32+g<a&&(a=h*32+g)}if(h*32+31>s){for(var g=31;!(p>>>g);)g--;h*32+g>s&&(s=h*32+g)}}}return s<a||u<o?null:Int32Array.from([a,o,s-a+1,u-o+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,o=t[r],s=0;(o<<31-s&4294967295)===0;)s++;return a+=s,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,o=t[r],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&ki.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ki.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new cn,a=0,o=this.height;a<o;a++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),aM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),He=function(n){aM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Ao),oM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sM=function(n){oM(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new Zi(a):r.clear(),this.initArrays(a);for(var o=i.getRow(t,this.luminances),s=this.buckets,u=0;u<a;u++)s[(o[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(s);if(a<3)for(var u=0;u<a;u++)(o[u]&255)<f&&r.set(u);else for(var h=o[0]&255,p=o[1]&255,u=1;u<a-1;u++){var g=o[u+1]&255;(p*4-h-g)/2<f&&r.set(u),h=p,p=g}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new iu(r,i);this.initArrays(r);for(var o=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),f=t.getRow(u,this.luminances),h=Math.floor(r*4/5),p=Math.floor(r/5);p<h;p++){var g=f[p]&255;o[g>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),x=t.getMatrix(),s=0;s<i;s++)for(var b=s*r,p=0;p<r;p++){var g=x[b+p]&255;g<m&&a.set(p,s)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,o=0,s=0;s<r;s++)t[s]>o&&(a=s,o=t[s]),t[s]>i&&(i=t[s]);for(var u=0,f=0,s=0;s<r;s++){var h=s-a,p=t[s]*h*h;p>f&&(u=s,f=p)}if(a>u){var g=a;a=u,u=g}if(u-a<=r/16)throw new He;for(var m=u-1,x=-1,s=u-1;s>a;s--){var b=s-a,p=b*b*(u-s)*(i-t[s]);p>x&&(m=s,x=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Zk),lM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uM=function(n){lM(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),o=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&o++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var u=e.calculateBlackPoints(a,o,s,r,i),f=new iu(r,i);e.calculateThresholdForBlock(a,o,s,r,i,u,f),this.matrix=f}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,o,s,u){for(var f=o-e.BLOCK_SIZE,h=a-e.BLOCK_SIZE,p=0;p<i;p++){var g=p<<e.BLOCK_SIZE_POWER;g>f&&(g=f);for(var m=e.cap(p,2,i-3),x=0;x<r;x++){var b=x<<e.BLOCK_SIZE_POWER;b>h&&(b=h);for(var I=e.cap(x,2,r-3),C=0,P=-2;P<=2;P++){var j=s[m+P];C+=j[I-2]+j[I-1]+j[I]+j[I+1]+j[I+2]}var z=C/25;e.thresholdBlock(t,b,g,z,a,u)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,o,s){for(var u=0,f=i*o+r;u<e.BLOCK_SIZE;u++,f+=o)for(var h=0;h<e.BLOCK_SIZE;h++)(t[f+h]&255)<=a&&s.set(r+h,i+u)},e.calculateBlackPoints=function(t,r,i,a,o){for(var s=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,f=new Array(i),h=0;h<i;h++){f[h]=new Int32Array(r);var p=h<<e.BLOCK_SIZE_POWER;p>s&&(p=s);for(var g=0;g<r;g++){var m=g<<e.BLOCK_SIZE_POWER;m>u&&(m=u);for(var x=0,b=255,I=0,C=0,P=p*a+m;C<e.BLOCK_SIZE;C++,P+=a){for(var j=0;j<e.BLOCK_SIZE;j++){var z=t[P+j]&255;x+=z,z<b&&(b=z),z>I&&(I=z)}if(I-b>e.MIN_DYNAMIC_RANGE)for(C++,P+=a;C<e.BLOCK_SIZE;C++,P+=a)for(var j=0;j<e.BLOCK_SIZE;j++)x+=t[P+j]&255}var X=x>>e.BLOCK_SIZE_POWER*2;if(I-b<=e.MIN_DYNAMIC_RANGE&&(X=b/2,h>0&&g>0)){var H=(f[h-1][g]+2*f[h][g-1]+f[h-1][g-1])/4;b<H&&(X=H)}f[h][g]=X}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(sM),Dm=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new rg("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new rg("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new rg("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new cn,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",t.append(s)}t.append(`
`)}return t.toString()},n}(),cM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lx=function(n){cM(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Dm),fM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hM=function(n){fM(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,u=0,f=t.length;s<f;s+=4,u++){var h=void 0,p=t[s+3];if(p===0)h=255;else{var g=t[s],m=t[s+1],x=t[s+2];h=306*g+601*m+117*x+512>>10}o[u]=h}else for(var s=0,u=0,b=t.length;s<b;s+=4,u++){var h=void 0,p=t[s+3];if(p===0)h=255;else{var g=t[s],m=t[s+1],x=t[s+2];h=306*g+601*m+117*x+512>>10}o[u]=255-h}return o},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Bt("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return r.width=u,r.height=f,i.translate(u/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new lx(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Dm),dM=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),$a=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{f(r.next(h))}catch(p){o(p)}}function u(h){try{f(r.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(s,u)}f((r=r.apply(n,e||[])).next())})},Xa=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(h){f=[6,h],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},pM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pd=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return $a(this,void 0,void 0,function(){var e,t,r,i,a,o,s,u,f,h,p,g;return Xa(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),t=[];try{for(r=pM(e),i=r.next();!i.done;i=r.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device "+(t.length+1),f=a.groupId,h={deviceId:s,label:u,kind:o,groupId:f},t.push(h))}catch(x){p={error:x}}finally{try{i&&!i.done&&(g=r.return)&&g.call(r)}finally{if(p)throw p.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return $a(this,void 0,void 0,function(){var e;return Xa(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new dM(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return $a(this,void 0,void 0,function(){var t;return Xa(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return $a(this,void 0,void 0,function(){return Xa(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return $a(this,void 0,void 0,function(){var r,i;return Xa(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return $a(this,void 0,void 0,function(){var r;return Xa(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return $a(this,void 0,void 0,function(){var r,i;return Xa(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return $a(this,void 0,void 0,function(){return Xa(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return $a(this,void 0,void 0,function(){var i,a;return Xa(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,o.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return $a(this,void 0,void 0,function(){var i;return Xa(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return $a(this,void 0,void 0,function(){var i;return Xa(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return $a(this,void 0,void 0,function(){var r;return Xa(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return $a(this,void 0,void 0,function(){return Xa(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new nl("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new nl("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new nl("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new nl("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new nl("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new nl("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new nl("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new nl("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new nl("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new nl("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return $a(this,void 0,void 0,function(){return Xa(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return $a(this,void 0,void 0,function(){return Xa(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new He("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);o(u)}catch(g){var f=t&&g instanceof He,h=g instanceof Qi||g instanceof mt,p=h&&r;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(g)}};return new Promise(function(o,s){return a(o,s)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(u){t(null,u);var o=u instanceof Qi||u instanceof mt,s=u instanceof He;(o||s)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new hM(r,t),a=new uM(i);return new Kk(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),Fa=function(){function n(e,t,r,i,a,o){r===void 0&&(r=t==null?0:8*t.length),o===void 0&&(o=wr.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=wr.currentTimeMillis():this.timestamp=o}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);wr.arraycopy(t,0,r,0,t.length),wr.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),by;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(by||(by={}));const jt=by;var wy;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(wy||(wy={}));const ha=wy;var Om=function(){function n(e,t,r,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),M1=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Bt;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),rf=function(){function n(e,t){if(t.length===0)throw new Bt;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),wr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var o=t[i];r=M1.addOrSubtract(r,o)}return r}r=t[0];for(var s=t.length,u=this.field,i=1;i<s;i++)r=M1.addOrSubtract(u.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Bt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),o=r.length-t.length;wr.arraycopy(r,0,a,0,o);for(var s=o;s<r.length;s++)a[s]=M1.addOrSubtract(t[s-o],r[s]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Bt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),s=this.field,u=0;u<r;u++)for(var f=t[u],h=0;h<a;h++)o[u+h]=M1.addOrSubtract(o[u+h],s.multiply(f,i[h]));return new n(s,o)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,o=0;o<t;o++)i[o]=r.multiply(a[o],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Bt;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(r[s],t);return new n(o,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Bt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Bt("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=t.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(s,u),h=t.buildMonomial(s,u);r=r.addOrSubtract(h),i=i.addOrSubtract(f)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),gM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yS=function(n){gM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Ao),mM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xo=function(n){mM(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var o=new Int32Array(r),s=1,u=0;u<r;u++)o[u]=s,s*=2,s>=r&&(s^=t,s&=r-1);a.expTable=o;for(var f=new Int32Array(r),u=0;u<r-1;u++)f[o[u]]=u;return a.logTable=f,a.zero=new rf(a,Int32Array.from([0])),a.one=new rf(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Bt;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new rf(this,i)},e.prototype.inverse=function(t){if(t===0)throw new yS;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+gn.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(M1),vM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mp=function(n){vM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Ao),yM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E0=function(n){yM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Ao),Pm=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new rf(r,e),a=new Int32Array(t),o=!0,s=0;s<t;s++){var u=i.evaluateAt(r.exp(s+r.getGeneratorBase()));a[a.length-1-s]=u,u!==0&&(o=!1)}if(!o)for(var f=new rf(r,a),h=this.runEuclideanAlgorithm(r.buildMonomial(t,1),f,t),p=h[0],g=h[1],m=this.findErrorLocations(p),x=this.findErrorMagnitudes(g,m),s=0;s<m.length;s++){var b=e.length-1-r.log(m[s]);if(b<0)throw new Mp("Bad error location");e[b]=xo.addOrSubtract(e[b],x[s])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,o=e,s=t,u=a.getZero(),f=a.getOne();s.getDegree()>=(r/2|0);){var h=o,p=u;if(o=s,u=f,o.isZero())throw new Mp("r_{i-1} was zero");s=h;for(var g=a.getZero(),m=o.getCoefficient(o.getDegree()),x=a.inverse(m);s.getDegree()>=o.getDegree()&&!s.isZero();){var b=s.getDegree()-o.getDegree(),I=a.multiply(s.getCoefficient(s.getDegree()),x);g=g.addOrSubtract(a.buildMonomial(b,I)),s=s.addOrSubtract(o.multiplyByMonomial(b,I))}if(f=g.multiply(u).addOrSubtract(p),s.getDegree()>=o.getDegree())throw new E0("Division algorithm failed to reduce polynomial?")}var C=f.getCoefficient(0);if(C===0)throw new Mp("sigmaTilde(0) was zero");var P=a.inverse(C),j=f.multiplyScalar(P),z=s.multiplyScalar(P);return[j,z]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,o=1;o<a.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(r[i]=a.inverse(o),i++);if(i!==t)throw new Mp("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,o=0;o<r;o++){for(var s=a.inverse(t[o]),u=1,f=0;f<r;f++)if(o!==f){var h=a.multiply(t[f],s),p=(h&1)===0?h|1:h&-2;u=a.multiply(u,p)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(u)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},n}(),sa;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(sa||(sa={}));var T3=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),o=n.getEncodedData(i),s=new Om(a,o,null,null);return s.setNumBits(i.length),s},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=sa.UPPER,i=sa.UPPER,a="",o=0;o<t;)if(i===sa.BINARY){if(t-o<5)break;var s=n.readCode(e,o,5);if(o+=5,s===0){if(t-o<11)break;s=n.readCode(e,o,11)+31,o+=11}for(var u=0;u<s;u++){if(t-o<8){o=t;break}var f=n.readCode(e,o,8);a+=Dn.castAsNonUtf8Char(f),o+=8}i=r}else{var h=i===sa.DIGIT?4:5;if(t-o<h)break;var f=n.readCode(e,o,h);o+=h;var p=n.getCharacter(i,f);p.startsWith("CTRL_")?(r=i,i=n.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=i)):(a+=p,i=r)}return a},n.getTable=function(e){switch(e){case"L":return sa.LOWER;case"P":return sa.PUNCT;case"M":return sa.MIXED;case"D":return sa.DIGIT;case"B":return sa.BINARY;case"U":default:return sa.UPPER}},n.getCharacter=function(e,t){switch(e){case sa.UPPER:return n.UPPER_TABLE[t];case sa.LOWER:return n.LOWER_TABLE[t];case sa.MIXED:return n.MIXED_TABLE[t];case sa.PUNCT:return n.PUNCT_TABLE[t];case sa.DIGIT:return n.DIGIT_TABLE[t];default:throw new E0("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=xo.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=xo.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=xo.AZTEC_DATA_10):(r=12,t=xo.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new mt;for(var o=e.length%r,s=new Int32Array(a),u=0;u<a;u++,o+=r)s[u]=n.readCode(e,o,r);try{var f=new Pm(t);f.decode(s,a-i)}catch(I){throw new mt(I)}for(var h=(1<<r)-1,p=0,u=0;u<i;u++){var g=s[u];if(g===0||g===h)throw new mt;(g===1||g===h-1)&&p++}for(var m=new Array(i*r-p),x=0,u=0;u<i;u++){var g=s[u];if(g===1||g===h-1)m.fill(g>1,x,x+r-1),x+=r-1;else for(var b=r-1;b>=0;--b)m[x++]=(g&1<<b)!==0}return m},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(r,t));if(t)for(var s=0;s<a.length;s++)a[s]=s;else for(var u=i+1+2*gn.truncDivision(gn.truncDivision(i,2)-1,15),f=i/2,h=gn.truncDivision(u,2),s=0;s<f;s++){var p=s+gn.truncDivision(s,15);a[f-s-1]=h-p-1,a[f+s]=h+p+1}for(var s=0,g=0;s<r;s++){for(var m=(r-s)*4+(t?9:12),x=s*2,b=i-1-x,I=0;I<m;I++)for(var C=I*2,P=0;P<2;P++)o[g+C+P]=e.get(a[x+P],a[x+I]),o[g+2*m+C+P]=e.get(a[x+I],a[b-P]),o[g+4*m+C+P]=e.get(a[b-P],a[b-I]),o[g+6*m+C+P]=e.get(a[b-I],a[x+P]);g+=m*8}return o},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),Hn=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,o=t-i;return Math.sqrt(a*a+o*o)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n}(),Ay=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Tt=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*Ay.floatToIntBits(this.x)+Ay.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(r>=t&&r>=i?(o=e[0],a=e[1],s=e[2]):i>=r&&i>=t?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var u=a;a=s,s=u}e[0]=a,e[1]=o,e[2]=s},n.distance=function(e,t){return Hn.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n}(),ux=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),xM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_M=function(n){xM(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(ux),Ey=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new He}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,u=!1,f=!1,h=!1,p=!1,g=this.width,m=this.height;o;){o=!1;for(var x=!0;(x||!u)&&t<g;)x=this.containsBlackPoint(r,i,t,!1),x?(t++,o=!0,u=!0):u||t++;if(t>=g){a=!0;break}for(var b=!0;(b||!f)&&i<m;)b=this.containsBlackPoint(e,t,i,!0),b?(i++,o=!0,f=!0):f||i++;if(i>=m){a=!0;break}for(var I=!0;(I||!h)&&e>=0;)I=this.containsBlackPoint(r,i,e,!1),I?(e--,o=!0,h=!0):h||e--;if(e<0){a=!0;break}for(var C=!0;(C||!p)&&r>=0;)C=this.containsBlackPoint(e,t,r,!0),C?(r--,o=!0,p=!0):p||r--;if(r<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var P=t-e,j=null,z=1;j===null&&z<P;z++)j=this.getBlackPointOnSegment(e,i-z,e+z,i);if(j==null)throw new He;for(var X=null,z=1;X===null&&z<P;z++)X=this.getBlackPointOnSegment(e,r+z,e+z,r);if(X==null)throw new He;for(var H=null,z=1;H===null&&z<P;z++)H=this.getBlackPointOnSegment(t,r+z,t-z,r);if(H==null)throw new He;for(var D=null,z=1;D===null&&z<P;z++)D=this.getBlackPointOnSegment(t,i-z,t-z,i);if(D==null)throw new He;return this.centerEdges(D,j,H,X)}else throw new He},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=Hn.round(Hn.distance(e,t,r,i)),o=(r-e)/a,s=(i-t)/a,u=this.image,f=0;f<a;f++){var h=Hn.round(e+f*o),p=Hn.round(t+f*s);if(u.get(h,p))return new Tt(h,p)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),o=e.getY(),s=t.getX(),u=t.getY(),f=r.getX(),h=r.getY(),p=i.getX(),g=i.getY(),m=n.CORR;return a<this.width/2?[new Tt(p-m,g+m),new Tt(s+m,u+m),new Tt(f-m,h-m),new Tt(a+m,o-m)]:[new Tt(p+m,g+m),new Tt(s+m,u-m),new Tt(f-m,h+m),new Tt(a-m,o-m)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var o=e;o<=t;o++)if(a.get(o,r))return!0}else for(var s=e;s<=t;s++)if(a.get(r,s))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),R3=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<t.length&&a;o+=2){var s=Math.floor(t[o]),u=Math.floor(t[o+1]);if(s<-1||s>r||u<-1||u>i)throw new He;a=!1,s===-1?(t[o]=0,a=!0):s===r&&(t[o]=r-1,a=!0),u===-1?(t[o+1]=0,a=!0):u===i&&(t[o+1]=i-1,a=!0)}a=!0;for(var o=t.length-2;o>=0&&a;o-=2){var s=Math.floor(t[o]),u=Math.floor(t[o+1]);if(s<-1||s>r||u<-1||u>i)throw new He;a=!1,s===-1?(t[o]=0,a=!0):s===r&&(t[o]=r-1,a=!0),u===-1?(t[o+1]=0,a=!0):u===i&&(t[o+1]=i-1,a=!0)}},n}(),xS=function(){function n(e,t,r,i,a,o,s,u,f){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=u,this.a33=f}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,o,s,u,f,h,p,g,m,x,b,I){var C=n.quadrilateralToSquare(e,t,r,i,a,o,s,u),P=n.squareToQuadrilateral(f,h,p,g,m,x,b,I);return P.times(C)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,f=this.a31,h=this.a32,p=this.a33,g=0;g<t;g+=2){var m=e[g],x=e[g+1],b=a*m+u*x+p;e[g]=(r*m+o*x+f)/b,e[g+1]=(i*m+s*x+h)/b}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,f=this.a31,h=this.a32,p=this.a33,g=e.length,m=0;m<g;m++){var x=e[m],b=t[m],I=a*x+u*b+p;e[m]=(r*x+o*b+f)/I,t[m]=(i*x+s*b+h)/I}},n.squareToQuadrilateral=function(e,t,r,i,a,o,s,u){var f=e-r+a-s,h=t-i+o-u;if(f===0&&h===0)return new n(r-e,a-r,e,i-t,o-i,t,0,0,1);var p=r-a,g=s-a,m=i-o,x=u-o,b=p*x-g*m,I=(f*x-g*h)/b,C=(p*h-f*m)/b;return new n(r-e+I*r,s-e+C*s,e,i-t+I*i,u-t+C*u,t,I,C,1)},n.quadrilateralToSquare=function(e,t,r,i,a,o,s,u){return n.squareToQuadrilateral(e,t,r,i,a,o,s,u).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),bM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wM=function(n){bM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,o,s,u,f,h,p,g,m,x,b,I,C,P,j,z){var X=xS.quadrilateralToQuadrilateral(a,o,s,u,f,h,p,g,m,x,b,I,C,P,j,z);return this.sampleGridWithTransform(t,r,i,X)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new He;for(var o=new iu(r,i),s=new Float32Array(2*r),u=0;u<i;u++){for(var f=s.length,h=u+.5,p=0;p<f;p+=2)s[p]=p/2+.5,s[p+1]=h;a.transformPoints(s),R3.checkAndNudgePoints(t,s);try{for(var p=0;p<f;p+=2)t.get(Math.floor(s[p]),Math.floor(s[p+1]))&&o.set(p/2,u)}catch{throw new He}}return o},e}(R3),cx=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new wM,n}(),go=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new Tt(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),AM=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new _M(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new He;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var o=r[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,o,s){var u=(a>>t-2<<1)+(a&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(gn.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new He},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,o=new Int32Array(r),s=r-1;s>=0;--s)o[s]=e&15,e>>=4;try{var u=new Pm(xo.AZTEC_PARAM);u.decode(o,a)}catch{throw new He}for(var f=0,s=0;s<i;s++)f=(f<<4)+o[s];return f},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,o,1,-1),u=this.getFirstDifferent(r,o,1,1),f=this.getFirstDifferent(i,o,-1,1),h=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(h,s)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(s,u,f,h))break}t=s,r=u,i=f,a=h,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new He;this.compact=this.nbCenterLayers===5;var g=new Tt(t.getX()+.5,t.getY()-.5),m=new Tt(r.getX()+.5,r.getY()+.5),x=new Tt(i.getX()-.5,i.getY()+.5),b=new Tt(a.getX()-.5,a.getY()-.5);return this.expandSquare([g,m,x,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new Ey(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new go(o+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new go(o+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new go(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new go(o-7,s-7),!1,-1,-1).toResultPoint()}var u=Hn.round((e.getX()+i.getX()+t.getX()+r.getX())/4),f=Hn.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new Ey(this.image,15,u,f).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new go(u+7,f-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new go(u+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new go(u-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new go(u-7,f-7),!1,-1,-1).toResultPoint()}return u=Hn.round((e.getX()+i.getX()+t.getX()+r.getX())/4),f=Hn.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new go(u,f)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var o=cx.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,u,u,f,u,f,f,u,f,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),o=a/r,s=e.getX(),u=e.getY(),f=o*(t.getX()-e.getX())/a,h=o*(t.getY()-e.getY())/a,p=0;p<r;p++)this.image.get(Hn.round(s+p*f),Hn.round(u+p*h))&&(i|=1<<r-p-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new go(e.getX()-a,e.getY()+a),t=new go(t.getX()-a,t.getY()-a),r=new go(r.getX()+a,r.getY()-a),i=new go(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,t);return s!==o||(s=this.getColor(t,r),s!==o)?!1:(s=this.getColor(r,i),s===o)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,o=0,s=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),h=Math.ceil(r),p=0;p<h;p++)s+=i,u+=a,this.image.get(Hn.round(s),Hn.round(u))!==f&&o++;var g=o/r;return g>.1&&g<.9?0:g<=.1===f?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=r,o+=i;for(a-=r,o-=i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=r;for(a-=r;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=i;return o-=i,new go(a,o)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new Tt(s+i*a,u+i*o),h=new Tt(s-i*a,u-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var p=new Tt(s+i*a,u+i*o),g=new Tt(s-i*a,u-i*o),m=[f,p,h,g];return m},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=Hn.round(e.getX()),r=Hn.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return Hn.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return Hn.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(gn.truncDivision(this.nbLayers-4,8)+1)+15},n}(),Sy=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new AM(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new T3().decode(s)}catch(p){r=p}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new T3().decode(s)}catch(p){throw r??p}var u=new Fa(o.getText(),o.getRawBytes(),o.getNumBits(),a,jt.AZTEC,wr.currentTimeMillis()),f=o.getByteSegments();f!=null&&u.putMetadata(ha.BYTE_SEGMENTS,f);var h=o.getECLevel();return h!=null&&u.putMetadata(ha.ERROR_CORRECTION_LEVEL,h),u},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(kr.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,o){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),EM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){EM(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Sy,t)||this}return e})(Pd);var Mi=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(kr.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),o=a.getResultMetadata(),s=270;o!==null&&o.get(ha.ORIENTATION)===!0&&(s=s+o.get(ha.ORIENTATION)%360),a.putMetadata(ha.ORIENTATION,s);var u=a.getResultPoints();if(u!==null)for(var f=i.getHeight(),h=0;h<u.length;h++)u[h]=new Tt(f-u[h].getY()-1,u[h].getX());return a}else throw new He}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new Zi(r),o=t&&t.get(kr.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),u;o?u=i:u=15;for(var f=Math.trunc(i/2),h=0;h<u;h++){var p=Math.trunc((h+1)/2),g=(h&1)===0,m=f+s*(g?p:-p);if(m<0||m>=i)break;try{a=e.getBlackRow(m,a)}catch{continue}for(var x=function(P){if(P===1&&(a.reverse(),t&&t.get(kr.NEED_RESULT_POINT_CALLBACK)===!0)){var j=new Map;t.forEach(function(H,D){return j.set(D,H)}),j.delete(kr.NEED_RESULT_POINT_CALLBACK),t=j}try{var z=b.decodeRow(m,a,t);if(P===1){z.putMetadata(ha.ORIENTATION,180);var X=z.getResultPoints();X!==null&&(X[0]=new Tt(r-X[0].getX()-1,X[0].getY()),X[1]=new Tt(r-X[1].getX()-1,X[1].getY()))}return{value:z}}catch{}},b=this,I=0;I<2;I++){var C=x(I);if(typeof C=="object")return C.value}}throw new He},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var o=e.getSize();if(t>=o)throw new He;for(var s=!e.get(t),u=0,f=t;f<o;){if(e.get(f)!==s)r[u]++;else{if(++u===i)break;r[u]=1,s=!s}f++}if(!(u===i||u===i-1&&f===o))throw new He},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new He;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return Number.POSITIVE_INFINITY;var u=a/o;r*=u;for(var f=0,h=0;h<i;h++){var p=e[h],g=t[h]*u,m=p>g?p-g:g-p;if(m>r)return Number.POSITIVE_INFINITY;f+=m}return f/a},n}(),SM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N3=function(n){SM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,f=6,h=i;h<r;h++)if(t.get(h)!==u)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,g=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var x=Mi.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);x<p&&(p=x,g=m)}if(g>=0&&t.isRange(Math.max(0,s-(h-s)/2),s,!1))return Int32Array.from([s,h,g]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,u=!u}throw new He},e.decodeCode=function(t,r,i){Mi.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],f=this.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=s)}if(o>=0)return o;throw new He},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(kr.ASSUME_GS1)===!0,o=e.findStartPattern(r),s=o[2],u=0,f=new Uint8Array(20);f[u++]=s;var h;switch(s){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new mt}for(var p=!1,g=!1,m="",x=o[0],b=o[1],I=Int32Array.from([0,0,0,0,0,0]),C=0,P=0,j=s,z=0,X=!0,H=!1,D=!1;!p;){var E=g;switch(g=!1,C=P,P=e.decodeCode(r,I,b),f[u++]=P,P!==e.CODE_STOP&&(X=!0),P!==e.CODE_STOP&&(z++,j+=z*P),x=b,b+=I.reduce(function(U,Q){return U+Q},0),P){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new mt}switch(h){case e.CODE_CODE_A:if(P<64)D===H?m+=String.fromCharCode(32+P):m+=String.fromCharCode(32+P+128),D=!1;else if(P<96)D===H?m+=String.fromCharCode(P-64):m+=String.fromCharCode(P+64),D=!1;else switch(P!==e.CODE_STOP&&(X=!1),P){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!H&&D?(H=!0,D=!1):H&&D?(H=!1,D=!1):D=!0;break;case e.CODE_SHIFT:g=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(P<96)D===H?m+=String.fromCharCode(32+P):m+=String.fromCharCode(32+P+128),D=!1;else switch(P!==e.CODE_STOP&&(X=!1),P){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!H&&D?(H=!0,D=!1):H&&D?(H=!1,D=!1):D=!0;break;case e.CODE_SHIFT:g=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(P<100)P<10&&(m+="0"),m+=P;else switch(P!==e.CODE_STOP&&(X=!1),P){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}E&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var T=b-x;if(b=r.getNextUnset(b),!r.isRange(b,Math.min(r.getSize(),b+(b-x)/2),!1))throw new He;if(j-=z*C,j%103!==C)throw new Qi;var M=m.length;if(M===0)throw new He;M>0&&X&&(h===e.CODE_CODE_C?m=m.substring(0,M-2):m=m.substring(0,M-1));for(var R=(o[1]+o[0])/2,L=x+T/2,B=f.length,q=new Uint8Array(B),te=0;te<B;te++)q[te]=f[te];var V=[new Tt(R,t),new Tt(L,t)];return new Fa(m,q,0,V,jt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Mi),CM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D3=function(n){CM(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,o,s,u,f=this.counters;f.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(r,f),p=r.getNextSet(h[1]),g=r.getSize(),m,x;do{e.recordPattern(r,p,f);var b=e.toNarrowWidePattern(f);if(b<0)throw new He;m=e.patternToChar(b),this.decodeRowResult+=m,x=p;try{for(var I=(a=void 0,yv(f)),C=I.next();!C.done;C=I.next()){var P=C.value;p+=P}}catch(B){a={error:B}}finally{try{C&&!C.done&&(o=I.return)&&o.call(I)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var j=0;try{for(var z=yv(f),X=z.next();!X.done;X=z.next()){var P=X.value;j+=P}}catch(B){s={error:B}}finally{try{X&&!X.done&&(u=z.return)&&u.call(z)}finally{if(s)throw s.error}}var H=p-x-j;if(p!==g&&H*2<j)throw new He;if(this.usingCheckDigit){for(var D=this.decodeRowResult.length-1,E=0,T=0;T<D;T++)E+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(T));if(this.decodeRowResult.charAt(D)!==e.ALPHABET_STRING.charAt(E%43))throw new Qi;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new He;var M;this.extendedMode?M=e.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;var R=(h[1]+h[0])/2,L=x+j/2;return new Fa(M,null,0,[new Tt(R,t),new Tt(L,t)],jt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),o=0,s=a,u=!1,f=r.length,h=a;h<i;h++)if(t.get(h)!==u)r[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((h-s)/2)),s,!1))return[s,h];s+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,u=!u}throw new He},e.toNarrowWidePattern=function(t){var r,i,a=t.length,o=0,s;do{var u=2147483647;try{for(var f=(r=void 0,yv(t)),h=f.next();!h.done;h=f.next()){var p=h.value;p<u&&p>o&&(u=p)}}catch(b){r={error:b}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}o=u,s=0;for(var g=0,m=0,x=0;x<a;x++){var p=t[x];p>o&&(m|=1<<a-1-x,s++,g+=p)}if(s===3){for(var x=0;x<a&&s>0;x++){var p=t[x];if(p>o&&(s--,p*2>=g))return-1}return m}}while(s>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new He},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var o=t.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=t.charAt(a+1),u="\0";switch(o){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new mt;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new mt;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="";else throw new mt;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new mt;break}i+=u,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Mi),IM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O3=function(n){IM(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,o,s,u,f=this.findAsteriskPattern(r),h=r.getNextSet(f[1]),p=r.getSize(),g=this.counters;g.fill(0),this.decodeRowResult="";var m,x;do{e.recordPattern(r,h,g);var b=this.toPattern(g);if(b<0)throw new He;m=this.patternToChar(b),this.decodeRowResult+=m,x=h;try{for(var I=(a=void 0,xv(g)),C=I.next();!C.done;C=I.next()){var P=C.value;h+=P}}catch(T){a={error:T}}finally{try{C&&!C.done&&(o=I.return)&&o.call(I)}finally{if(a)throw a.error}}h=r.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var j=0;try{for(var z=xv(g),X=z.next();!X.done;X=z.next()){var P=X.value;j+=P}}catch(T){s={error:T}}finally{try{X&&!X.done&&(u=z.return)&&u.call(z)}finally{if(s)throw s.error}}if(h===p||!r.get(h))throw new He;if(this.decodeRowResult.length<2)throw new He;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var H=this.decodeExtended(this.decodeRowResult),D=(f[1]+f[0])/2,E=x+j/2;return new Fa(H,null,0,[new Tt(D,t),new Tt(E,t)],jt.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,u=a.length,f=0,h=i;h<r;h++)if(t.get(h)!==s)a[f]++;else{if(f===u-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,h]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,s=!s}throw new He},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var o=xv(t),s=o.next();!s.done;s=o.next()){var u=s.value;a+=u}}catch(x){r={error:x}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}for(var f=0,h=t.length,p=0;p<h;p++){var g=Math.round(t[p]*9/a);if(g<1||g>4)return-1;if((p&1)===0)for(var m=0;m<g;m++)f=f<<1|1;else f<<=g}return f},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new He},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var o=t.charAt(a);if(o>="a"&&o<="d"){if(a>=r-1)throw new mt;var s=t.charAt(a+1),u="\0";switch(o){case"d":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new mt;break;case"a":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new mt;break;case"b":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s>="X"&&s<="Z")u="";else throw new mt;break;case"c":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new mt;break}i+=u,a++}else i+=o}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,o=0,s=r-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(t.charAt(s)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[o%47])throw new Qi},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Mi),TM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P3=function(n){TM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,o,s=this.decodeStart(r),u=this.decodeEnd(r),f=new cn;e.decodeMiddle(r,s[1],u[0],f);var h=f.toString(),p=null;i!=null&&(p=i.get(kr.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var g=h.length,m=!1,x=0;try{for(var b=RM(p),I=b.next();!I.done;I=b.next()){var C=I.value;if(g===C){m=!0;break}C>x&&(x=C)}}catch(z){a={error:z}}finally{try{I&&!I.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}if(!m&&g>x&&(m=!0),!m)throw new mt;var P=[new Tt(s[1],t),new Tt(u[0],t)],j=new Fa(h,null,0,P,jt.ITF,new Date().getTime());return j},e.decodeMiddle=function(t,r,i,a){var o=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),s.fill(0),u.fill(0);r<i;){Mi.recordPattern(t,r,o);for(var f=0;f<5;f++){var h=2*f;s[f]=o[h],u[f]=o[h+1]}var p=e.decodeDigit(s);a.append(p.toString()),p=this.decodeDigit(u),a.append(p.toString()),o.forEach(function(g){r+=g})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new He},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new He;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof He&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,o=new Int32Array(a),s=t.getSize(),u=!1,f=0,h=r;o.fill(0);for(var p=r;p<s;p++)if(t.get(p)!==u)o[f]++;else{if(f===a-1){if(Mi.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,p];h+=o[0]+o[1],wr.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new He},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],u=Mi.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,i=o):u===r&&(i=-1)}if(i>=0)return i%10;throw new He},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Mi),NM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ed=function(n){NM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var u=s-(a-s);u>=0&&(r=t.isRange(u,s,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new mt;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new mt;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,o){var s=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var u=0,f=r,h=a.length,p=i,g=r;g<s;g++)if(t.get(g)!==p)o[u]++;else{if(u===h-1){if(Mi.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,g]);f+=o[0]+o[1];for(var m=o.slice(2,o.length),x=0;x<u-1;x++)o[x]=m[x];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,p=!p}throw new He},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var o=this.MAX_AVG_VARIANCE,s=-1,u=a.length,f=0;f<u;f++){var h=a[f],p=Mi.patternMatchVariance(r,h,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,s=f)}if(s>=0)return s;throw new He},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Mi),DM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OM=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),o=i.toString(),s=n.parseExtensionString(o),u=[new Tt((r[0]+r[1])/2,e),new Tt(a,e)],f=new Fa(o,null,0,u,jt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},n.prototype.decodeMiddle=function(e,t,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=t[1],f=0,h=0;h<5&&u<s;h++){var p=Ed.decodeDigit(e,o,u,Ed.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var g=(i=void 0,DM(o)),m=g.next();!m.done;m=g.next()){var x=m.value;u+=x}}catch(I){i={error:I}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-h),h!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==5)throw new He;var b=this.determineCheckDigit(f);if(n.extensionChecksum(r.toString())!==b)throw new He;return u},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new He},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[ha.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,o=a<10?"0"+a:a.toString();return t+i+"."+o},n}(),PM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LM=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),o=i.toString(),s=n.parseExtensionString(o),u=[new Tt((r[0]+r[1])/2,e),new Tt(a,e)],f=new Fa(o,null,0,u,jt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},n.prototype.decodeMiddle=function(e,t,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=t[1],f=0,h=0;h<2&&u<s;h++){var p=Ed.decodeDigit(e,o,u,Ed.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var g=(i=void 0,PM(o)),m=g.next();!m.done;m=g.next()){var x=m.value;u+=x}}catch(b){i={error:b}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-h),h!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==2)throw new He;if(parseInt(r.toString())%4!==f)throw new He;return u},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[ha.ISSUE_NUMBER,parseInt(e)]])},n}(),kM=function(){function n(){}return n.decodeRow=function(e,t,r){var i=Ed.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new OM;return a.decodeRow(e,t,i)}catch{var o=new LM;return o.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),MM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pi=function(n){MM(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),o=i==null?null:i.get(kr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new Tt((a[0]+a[1])/2,t);o.foundPossibleResultPoint(s)}var u=this.decodeMiddle(r,a,this.decodeRowStringBuffer),f=u.rowOffset,h=u.resultString;if(o!=null){var p=new Tt(f,t);o.foundPossibleResultPoint(p)}var g=e.decodeEnd(r,f);if(o!=null){var m=new Tt((g[0]+g[1])/2,t);o.foundPossibleResultPoint(m)}var x=g[1],b=x+(x-g[0]);if(b>=r.getSize()||!r.isRange(x,b,!1))throw new He;var I=h.toString();if(I.length<8)throw new mt;if(!e.checkChecksum(I))throw new Qi;var C=(a[1]+a[0])/2,P=(g[1]+g[0])/2,j=this.getBarcodeFormat(),z=[new Tt(C,t),new Tt(P,t)],X=new Fa(I,null,0,z,j,new Date().getTime()),H=0;try{var D=kM.decodeRow(t,r,g[1]);X.putMetadata(ha.UPC_EAN_EXTENSION,D.getText()),X.putAllMetadata(D.getResultMetadata()),X.addResultPoints(D.getResultPoints()),H=D.getText().length}catch{}var E=i==null?null:i.get(kr.ALLOWED_EAN_EXTENSIONS);if(E!=null){var T=!1;for(var M in E)if(H.toString()===M){T=!0;break}if(!T)throw new He}return j===jt.EAN_13||jt.UPC_A,X},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new mt;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new mt;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Ed),jM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),L3=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cy=function(n){jM(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,o,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=t.getSize(),p=r[1],g=0,m=0;m<6&&p<h;m++){var x=Pi.decodeDigit(t,f,p,Pi.L_AND_G_PATTERNS);i+=String.fromCharCode(48+x%10);try{for(var b=(a=void 0,L3(f)),I=b.next();!I.done;I=b.next()){var C=I.value;p+=C}}catch(X){a={error:X}}finally{try{I&&!I.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}x>=10&&(g|=1<<5-m)}i=e.determineFirstDigit(i,g);var P=Pi.findGuardPattern(t,p,!0,Pi.MIDDLE_PATTERN,new Int32Array(Pi.MIDDLE_PATTERN.length).fill(0));p=P[1];for(var m=0;m<6&&p<h;m++){var x=Pi.decodeDigit(t,f,p,Pi.L_PATTERNS);i+=String.fromCharCode(48+x);try{for(var j=(s=void 0,L3(f)),z=j.next();!z.done;z=j.next()){var C=z.value;p+=C}}catch(D){s={error:D}}finally{try{z&&!z.done&&(u=j.return)&&u.call(j)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return jt.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new He},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Pi),BM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k3=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M3=function(n){BM(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,o,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=t.getSize(),p=r[1],g=0;g<4&&p<h;g++){var m=Pi.decodeDigit(t,f,p,Pi.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var x=(a=void 0,k3(f)),b=x.next();!b.done;b=x.next()){var I=b.value;p+=I}}catch(z){a={error:z}}finally{try{b&&!b.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}}var C=Pi.findGuardPattern(t,p,!0,Pi.MIDDLE_PATTERN,new Int32Array(Pi.MIDDLE_PATTERN.length).fill(0));p=C[1];for(var g=0;g<4&&p<h;g++){var m=Pi.decodeDigit(t,f,p,Pi.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var P=(s=void 0,k3(f)),j=P.next();!j.done;j=P.next()){var I=j.value;p+=I}}catch(H){s={error:H}}finally{try{j&&!j.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return jt.EAN_8},e}(Pi),FM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),j3=function(n){FM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new Cy,t}return e.prototype.getBarcodeFormat=function(){return jt.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new Fa(r.substring(1),null,null,t.getResultPoints(),jt.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new He},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Pi),UM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B3=function(n){UM(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,o,s=this.decodeMiddleCounters.map(function(I){return I});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=t.getSize(),f=r[1],h=0,p=0;p<6&&f<u;p++){var g=e.decodeDigit(t,s,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var m=(a=void 0,VM(s)),x=m.next();!x.done;x=m.next()){var b=x.value;f+=b}}catch(I){a={error:I}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}g>=10&&(h|=1<<5-p)}return e.determineNumSysAndCheckDigit(new cn(i),h),f},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Pi.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw He.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return jt.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new cn;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Pi),zM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F3=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_v=function(n){zM(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(kr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(jt.EAN_13)>-1&&a.push(new Cy),i.indexOf(jt.UPC_A)>-1&&a.push(new j3),i.indexOf(jt.EAN_8)>-1&&a.push(new M3),i.indexOf(jt.UPC_E)>-1&&a.push(new B3)),a.length===0&&(a.push(new Cy),a.push(new j3),a.push(new M3),a.push(new B3)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,o;try{for(var s=F3(this.readers),u=s.next();!u.done;u=s.next()){var f=u.value;try{var h=f.decodeRow(t,r,i),p=h.getBarcodeFormat()===jt.EAN_13&&h.getText().charAt(0)==="0",g=i==null?null:i.get(kr.POSSIBLE_FORMATS),m=g==null||g.includes(jt.UPC_A);if(p&&m){var x=h.getRawBytes(),b=new Fa(h.getText().substring(1),x,x?x.length:null,h.getResultPoints(),jt.UPC_A);return b.putAllMetadata(h.getResultMetadata()),b}return h}catch{}}}catch(I){a={error:I}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new He},e.prototype.reset=function(){var t,r;try{for(var i=F3(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(Mi),qM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HM=function(n){qM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new He;var o=this.codaBarDecodeRow(a.row);if(!o)throw new He;return new Fa(o,null,0,[new Tt(a.left,t),new Tt(a.right,t)],jt.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var o=[],s=r[0],u=1,f=1;f<r.length;f++)r[f]===s?u++:(s=r[f],o.push(u),u=1);return o.push(u),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(u,f){return(u+f)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),o=a.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[o])}var s=r.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(Mi),WM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wf=function(n){WM(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(Mi.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new He},e.count=function(t){return Hn.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],o=1;o<t.length;o++)r[o]>a&&(a=r[o],i=o);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],o=1;o<t.length;o++)r[o]<a&&(a=r[o],i=o);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],o=a+t[2]+t[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var h=GM(t),p=h.next();!p.done;p=h.next()){var g=p.value;g>f&&(f=g),g<u&&(u=g)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Mi),jg=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),_S=function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Tt(r,a)),this.resultPoints.push(new Tt(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),$M=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rd=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,o=0;try{for(var s=$M(e),u=s.next();!u.done;u=s.next()){var f=u.value;o+=f}}catch(P){i={error:P}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var h=0,p=0,g=e.length,m=0;m<g-1;m++){var x=void 0;for(x=1,p|=1<<m;x<e[m];x++,p&=~(1<<m)){var b=n.combins(o-x-1,g-m-2);if(r&&p===0&&o-x-(g-m-1)>=g-m-1&&(b-=n.combins(o-x-(g-m),g-m-2)),g-m-1>1){for(var I=0,C=o-x-(g-m-2);C>t;C--)I+=n.combins(o-x-C-1,g-m-3);b-=I*(g-1-m)}else o-x>t&&b--;h+=b}o-=x}return h},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,o=1,s=e;s>r;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},n}(),XM=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new Zi(r),a=0,o=e[0],s=o.getRightChar().getValue(),u=11;u>=0;--u)(s&1<<u)!==0&&i.set(a),a++;for(var u=1;u<e.length;++u){for(var f=e[u],h=f.getLeftChar().getValue(),p=11;p>=0;--p)(h&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var g=f.getRightChar().getValue(),p=11;p>=0;--p)(g&1<<p)!==0&&i.set(a),a++}return i},n}(),zf=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),fx=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),YM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Js=function(n){YM(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(fx),KM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qf=function(n){KM(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(fx),QM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wh=function(n){QM(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new mt;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(fx),jp=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZM=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,o,s,u,f;if(!e)return null;if(e.length<2)throw new He;var h=e.substring(0,2);try{for(var p=jp(n.TWO_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){var m=g.value;if(m[0]===h)return m[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,m[2],e):n.processFixedAI(2,m[1],e)}}catch(H){t={error:H}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}if(e.length<3)throw new He;var x=e.substring(0,3);try{for(var b=jp(n.THREE_DIGIT_DATA_LENGTH),I=b.next();!I.done;I=b.next()){var m=I.value;if(m[0]===x)return m[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,m[2],e):n.processFixedAI(3,m[1],e)}}catch(H){i={error:H}}finally{try{I&&!I.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}try{for(var C=jp(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),P=C.next();!P.done;P=C.next()){var m=P.value;if(m[0]===x)return m[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,m[2],e):n.processFixedAI(4,m[1],e)}}catch(H){o={error:H}}finally{try{P&&!P.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}if(e.length<4)throw new He;var j=e.substring(0,4);try{for(var z=jp(n.FOUR_DIGIT_DATA_LENGTH),X=z.next();!X.done;X=z.next()){var m=X.value;if(m[0]===j)return m[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,m[2],e):n.processFixedAI(4,m[1],e)}}catch(H){u={error:H}}finally{try{X&&!X.done&&(f=z.return)&&f.call(z)}finally{if(u)throw u.error}}throw new He},n.processFixedAI=function(e,t,r){if(r.length<e)throw new He;var i=r.substring(0,e);if(r.length<e+t)throw new He;var a=r.substring(e,e+t),o=r.substring(e+t),s="("+i+")"+a,u=n.parseFieldsInGeneralPurpose(o);return u==null?s:s+u},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var o=r.substring(e,a),s=r.substring(a),u="("+i+")"+o,f=n.parseFieldsInGeneralPurpose(s);return f==null?u:u+f},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),ig=function(){function n(e){this.buffer=new cn,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),o=ZM.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Wh(this.information.getSize(),Wh.FNC1,Wh.FNC1):new Wh(this.information.getSize(),t-1,Wh.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new Wh(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new qf(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new qf(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new qf(this.current.getPosition(),this.buffer.toString()):t=new qf(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new zf(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new qf(this.current.getPosition(),this.buffer.toString());return new zf(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new zf(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new qf(this.current.getPosition(),this.buffer.toString());return new zf(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new zf(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new qf(this.current.getPosition(),this.buffer.toString());return new zf(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new zf(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Js(e+5,Js.FNC1);if(t>=5&&t<15)return new Js(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Js(e+7,""+(r+1));if(r>=90&&r<116)return new Js(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new mt}return new Js(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Js(e+5,Js.FNC1);if(t>=5&&t<15)return new Js(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Js(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new E0("Decoding invalid alphanumeric value: "+r)}return new Js(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),bS=function(){function n(e){this.information=e,this.generalDecoder=new ig(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),JM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),al=function(n){JM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var o=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(bS),ej=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tj=function(n){ej(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new cn;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(al),nj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rj=function(n){nj(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new cn;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(bS),ij=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ag=function(n){ij(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var o=this.checkWeight(a),s=1e5,u=0;u<5;++u)o/s===0&&t.append("0"),s/=10;t.append(o)},e}(al),aj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wS=function(n){aj(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+ag.GTIN_SIZE+e.WEIGHT_SIZE)throw new He;var t=new cn;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+ag.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(ag),oj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sj=function(n){oj(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(wS),lj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uj=function(n){lj(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(wS),cj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fj=function(n){cj(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+al.GTIN_SIZE)throw new He;var t=new cn;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+al.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+al.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(al),hj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dj=function(n){hj(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+al.GTIN_SIZE)throw new He;var t=new cn;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+al.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+al.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+al.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(al),pj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zc=function(n){pj(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new He;var t=new cn;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&t.append("0"),t.append(s),o/10===0&&t.append("0"),t.append(o),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(ag);function gj(n){try{if(n.get(1))return new tj(n);if(!n.get(2))return new rj(n);var e=ig.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new sj(n);case 5:return new uj(n)}var t=ig.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new fj(n);case 13:return new dj(n)}var r=ig.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new zc(n,"310","11");case 57:return new zc(n,"320","11");case 58:return new zc(n,"310","13");case 59:return new zc(n,"320","13");case 60:return new zc(n,"310","15");case 61:return new zc(n,"320","15");case 62:return new zc(n,"310","17");case 63:return new zc(n,"320","17")}}catch(i){throw console.log(i),new E0("unknown decoder: "+n)}}var U3=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),mj=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),vj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yj=function(n){vj(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(s){if(s instanceof He){if(!this.pairs.length)throw new He;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new He},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,o=r;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var u=(i=void 0,qc(t)),f=u.next();!f.done;f=u.next()){var h=f.value;this.pairs.push(h.getPairs())}}catch(g){i={error:g}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(t);p.push(s);try{return this.checkRows(p,o+1)}catch(g){console.log(g)}}}throw new He},e.isValidSequence=function(t){var r,i;try{for(var a=qc(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(t.length>s.length)){for(var u=!0,f=0;f<t.length;f++)if(t[f].getFinderPattern().getValue()!==s[f]){u=!1;break}if(u)return!0}}}catch(h){r={error:h}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>t){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new mj(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,o,s,u,f;try{for(var h=qc(r),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.getPairs().length!==t.length){var m=!0;try{for(var x=(o=void 0,qc(g.getPairs())),b=x.next();!b.done;b=x.next()){var I=b.value,C=!1;try{for(var P=(u=void 0,qc(t)),j=P.next();!j.done;j=P.next()){var z=j.value;if(U3.equals(I,z)){C=!0;break}}}catch(X){u={error:X}}finally{try{j&&!j.done&&(f=P.return)&&f.call(P)}finally{if(u)throw u.error}}C||(m=!1)}}catch(X){o={error:X}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}}}}catch(X){i={error:X}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,o,s,u,f;try{for(var h=qc(r),p=h.next();!p.done;p=h.next()){var g=p.value,m=!0;try{for(var x=(o=void 0,qc(t)),b=x.next();!b.done;b=x.next()){var I=b.value,C=!1;try{for(var P=(u=void 0,qc(g.getPairs())),j=P.next();!j.done;j=P.next()){var z=j.value;if(I.equals(z)){C=!0;break}}}catch(X){u={error:X}}finally{try{j&&!j.done&&(f=P.return)&&f.call(P)}finally{if(u)throw u.error}}if(!C){m=!1;break}}}catch(X){o={error:X}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}if(m)return!0}}catch(X){i={error:X}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=XM.buildBitArray(t),i=gj(r),a=i.parseInformation(),o=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],s[0],s[1]];return new Fa(a,null,null,u,jt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);a+=u.getLeftChar().getChecksumPortion(),o++;var f=u.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var h=211*(o-4)+a;return h===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,u=-1;do this.findNextPair(t,r,u),o=this.parseFoundFinderPattern(t,i,a),o===null?u=e.getNextSecondBar(t,this.startEnd[0]):s=!1;while(s);var f=this.decodeDataCharacter(t,o,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new He;var h;try{h=this.decodeDataCharacter(t,o,a,!1)}catch(p){h=null,console.log(p)}return new U3(f,h,o,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=t.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(r))s=0;else{var u=r[r.length-1];s=u.getFinderPattern().getStartEnd()[1]}var f=r.length%2!==0;this.startFromEven&&(f=!f);for(var h=!1;s<o&&(h=!t.get(s),!!h);)s++;for(var p=0,g=s,m=s;m<o;m++)if(t.get(m)!==h)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=g,this.startEnd[1]=m;return}f&&e.reverseCounters(a),g+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new He},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,o,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!t.get(u);)u--;u++,a=this.startEnd[0]-u,o=u,s=this.startEnd[1]}else o=this.startEnd[0],s=t.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var f=this.getDecodeFinderCounters();wr.arraycopy(f,0,f,1,f.length-1),f[0]=a;var h;try{h=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new _S(h,[o,s],o,s,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],o);else{e.recordPattern(t,r.getStartEnd()[1],o);for(var u=0,f=o.length-1;u<f;u++,f--){var h=o[u];o[u]=o[f],o[f]=h}}var p=17,g=Hn.sum(new Int32Array(o))/p,m=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(g-m)/m>.3)throw new He;for(var x=this.getOddCounts(),b=this.getEvenCounts(),I=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var P=1*o[u]/g,j=P+.5;if(j<1){if(P<.3)throw new He;j=1}else if(j>8){if(P>8.7)throw new He;j=8}var z=u/2;(u&1)===0?(x[z]=j,I[z]=P-j):(b[z]=j,C[z]=P-j)}this.adjustOddEvenCounts(p);for(var X=4*r.getValue()+(i?0:2)+(a?0:1)-1,H=0,D=0,u=x.length-1;u>=0;u--){if(e.isNotA1left(r,i,a)){var E=e.WEIGHTS[X][2*u];D+=x[u]*E}H+=x[u]}for(var T=0,u=b.length-1;u>=0;u--)if(e.isNotA1left(r,i,a)){var E=e.WEIGHTS[X][2*u+1];T+=b[u]*E}var M=D+T;if((H&1)!==0||H>13||H<4)throw new He;var R=(13-H)/2,L=e.SYMBOL_WIDEST[R],B=9-L,q=rd.getRSSvalue(x,L,!0),te=rd.getRSSvalue(b,B,!1),V=e.EVEN_TOTAL_SUBSET[R],U=e.GSUM[R],Q=q*V+te+U;return new jg(Q,M)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=Hn.sum(new Int32Array(this.getOddCounts())),i=Hn.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;r>13?o=!0:r<4&&(a=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var f=r+i-t,h=(r&1)===1,p=(i&1)===0;if(f===1)if(h){if(p)throw new He;o=!0}else{if(!p)throw new He;u=!0}else if(f===-1)if(h){if(p)throw new He;a=!0}else{if(!p)throw new He;s=!0}else if(f===0){if(h){if(!p)throw new He;r<i?(a=!0,u=!0):(o=!0,s=!0)}else if(p)throw new He}else throw new He;if(a){if(o)throw new He;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new He;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Wf),xj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_j=function(n){xj(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(jg),bj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V3=function(n){bj(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,o,s,u,f=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,f),r.reverse();var h=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,h),r.reverse();try{for(var p=bv(this.possibleLeftPairs),g=p.next();!g.done;g=p.next()){var m=g.value;if(m.getCount()>1)try{for(var x=(s=void 0,bv(this.possibleRightPairs)),b=x.next();!b.done;b=x.next()){var I=b.value;if(I.getCount()>1&&e.checkChecksum(m,I))return e.constructResult(m,I)}}catch(C){s={error:C}}finally{try{b&&!b.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}}}catch(C){a={error:C}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new He},e.addOrTally=function(t,r){var i,a;if(r!=null){var o=!1;try{for(var s=bv(t),u=s.next();!u.done;u=s.next()){var f=u.value;if(f.getValue()===r.getValue()){f.incrementCount(),o=!0;break}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),o=new cn,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var u=0,s=0;s<13;s++){var f=o.charAt(s).charCodeAt(0)-48;u+=(s&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),o.append(u.toString());var h=t.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new Fa(o.toString(),null,0,[h[0],h[1],p[0],p[1]],jt.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var o=this.findFinderPattern(t,r),s=this.parseFoundFinderPattern(t,i,r,o),u=a==null?null:a.get(kr.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(o[0]+o[1])/2;r&&(f=t.getSize()-1-f),u.foundPossibleResultPoint(new Tt(f,i))}var h=this.decodeDataCharacter(t,s,!0),p=this.decodeDataCharacter(t,s,!1);return new _j(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Mi.recordPatternInReverse(t,r.getStartEnd()[0],a);else{Mi.recordPattern(t,r.getStartEnd()[1]+1,a);for(var s=0,u=a.length-1;s<u;s++,u--){var f=a[s];a[s]=a[u],a[u]=f}}for(var h=i?16:15,p=Hn.sum(new Int32Array(a))/h,g=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var I=a[s]/p,C=Math.floor(I+.5);C<1?C=1:C>8&&(C=8);var P=Math.floor(s/2);(s&1)===0?(g[P]=C,x[P]=I-C):(m[P]=C,b[P]=I-C)}this.adjustOddEvenCounts(i,h);for(var j=0,z=0,s=g.length-1;s>=0;s--)z*=9,z+=g[s],j+=g[s];for(var X=0,H=0,s=m.length-1;s>=0;s--)X*=9,X+=m[s],H+=m[s];var D=z+3*X;if(i){if((j&1)!==0||j>12||j<4)throw new He;var E=(12-j)/2,T=e.OUTSIDE_ODD_WIDEST[E],M=9-T,R=rd.getRSSvalue(g,T,!1),L=rd.getRSSvalue(m,M,!0),B=e.OUTSIDE_EVEN_TOTAL_SUBSET[E],q=e.OUTSIDE_GSUM[E];return new jg(R*B+L+q,D)}else{if((H&1)!==0||H>10||H<4)throw new He;var E=(10-H)/2,T=e.INSIDE_ODD_WIDEST[E],M=9-T,R=rd.getRSSvalue(g,T,!0),L=rd.getRSSvalue(m,M,!1),te=e.INSIDE_ODD_TOTAL_SUBSET[E],q=e.INSIDE_GSUM[E];return new jg(L*te+R+q,D)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),o=!1,s=0;s<a&&(o=!t.get(s),r!==o);)s++;for(var u=0,f=s,h=s;h<a;h++)if(t.get(h)!==o)i[u]++;else{if(u===3){if(Wf.isFinderPattern(i))return[f,h];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,o=!o}throw new He},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var o=t.get(a[0]),s=a[0]-1;s>=0&&o!==t.get(s);)s--;s++;var u=a[0]-s,f=this.getDecodeFinderCounters(),h=new Int32Array(f.length);wr.arraycopy(f,0,h,1,f.length-1),h[0]=u;var p=this.parseFinderValue(h,e.FINDER_PATTERNS),g=s,m=a[1];return i&&(g=t.getSize()-1-g,m=t.getSize()-1-m),new _S(p,[s,a[1]],g,m,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=Hn.sum(new Int32Array(this.getOddCounts())),a=Hn.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,u=!1,f=!1;t?(i>12?s=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(u=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(u=!0));var h=i+a-r,p=(i&1)===(t?1:0),g=(a&1)===1;if(h===1)if(p){if(g)throw new He;s=!0}else{if(!g)throw new He;f=!0}else if(h===-1)if(p){if(g)throw new He;o=!0}else{if(!g)throw new He;u=!0}else if(h===0){if(p){if(!g)throw new He;i<a?(o=!0,f=!0):(s=!0,u=!0)}else if(g)throw new He}else throw new He;if(o){if(s)throw new He;Wf.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Wf.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new He;Wf.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Wf.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Wf),wj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),j1=function(n){wj(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(kr.POSSIBLE_FORMATS):null,a=t&&t.get(kr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=t&&t.get(kr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(jt.EAN_13)||i.includes(jt.UPC_A)||i.includes(jt.EAN_8)||i.includes(jt.UPC_E))&&r.readers.push(new _v(t)),i.includes(jt.CODE_39)&&r.readers.push(new D3(a,o)),i.includes(jt.CODE_93)&&r.readers.push(new O3),i.includes(jt.CODE_128)&&r.readers.push(new N3),i.includes(jt.ITF)&&r.readers.push(new P3),i.includes(jt.CODABAR)&&r.readers.push(new HM),i.includes(jt.RSS_14)&&r.readers.push(new V3),i.includes(jt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new yj))),r.readers.length===0&&(r.readers.push(new _v(t)),r.readers.push(new D3),r.readers.push(new O3),r.readers.push(new _v(t)),r.readers.push(new N3),r.readers.push(new P3),r.readers.push(new V3)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new He},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(Mi),Aj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Aj(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new j1(r),t,r)||this}return e})(Pd);var z3=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zn=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),$n=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),Ej=function(){function n(e,t,r,i,a,o){var s,u;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,h=o.getECCodewords(),p=o.getECBlocks();try{for(var g=z3(p),m=g.next();!m.done;m=g.next()){var x=m.value;f+=x.getCount()*(x.getDataCodewords()+h)}}catch(b){s={error:b}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}this.totalCodewords=f}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new mt;try{for(var a=z3(n.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===t)return s}}catch(u){r={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new mt},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new Zn(5,new $n(1,3))),new n(2,12,12,10,10,new Zn(7,new $n(1,5))),new n(3,14,14,12,12,new Zn(10,new $n(1,8))),new n(4,16,16,14,14,new Zn(12,new $n(1,12))),new n(5,18,18,16,16,new Zn(14,new $n(1,18))),new n(6,20,20,18,18,new Zn(18,new $n(1,22))),new n(7,22,22,20,20,new Zn(20,new $n(1,30))),new n(8,24,24,22,22,new Zn(24,new $n(1,36))),new n(9,26,26,24,24,new Zn(28,new $n(1,44))),new n(10,32,32,14,14,new Zn(36,new $n(1,62))),new n(11,36,36,16,16,new Zn(42,new $n(1,86))),new n(12,40,40,18,18,new Zn(48,new $n(1,114))),new n(13,44,44,20,20,new Zn(56,new $n(1,144))),new n(14,48,48,22,22,new Zn(68,new $n(1,174))),new n(15,52,52,24,24,new Zn(42,new $n(2,102))),new n(16,64,64,14,14,new Zn(56,new $n(2,140))),new n(17,72,72,16,16,new Zn(36,new $n(4,92))),new n(18,80,80,18,18,new Zn(48,new $n(4,114))),new n(19,88,88,20,20,new Zn(56,new $n(4,144))),new n(20,96,96,22,22,new Zn(68,new $n(4,174))),new n(21,104,104,24,24,new Zn(56,new $n(6,136))),new n(22,120,120,18,18,new Zn(68,new $n(6,175))),new n(23,132,132,20,20,new Zn(62,new $n(8,163))),new n(24,144,144,22,22,new Zn(62,new $n(8,156),new $n(2,155))),new n(25,8,18,6,16,new Zn(7,new $n(1,5))),new n(26,8,32,6,14,new Zn(11,new $n(1,10))),new n(27,12,26,10,24,new Zn(14,new $n(1,16))),new n(28,12,36,10,16,new Zn(18,new $n(1,22))),new n(29,16,36,14,16,new Zn(24,new $n(1,32))),new n(30,16,48,14,22,new Zn(28,new $n(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),Sj=function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new mt;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new iu(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return Ej.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,u=!1,f=!1,h=!1;do if(r===a&&i===0&&!s)e[t++]=this.readCorner1(a,o)&255,r-=2,i+=2,s=!0;else if(r===a-2&&i===0&&(o&3)!==0&&!u)e[t++]=this.readCorner2(a,o)&255,r-=2,i+=2,u=!0;else if(r===a+4&&i===2&&(o&7)===0&&!f)e[t++]=this.readCorner3(a,o)&255,r-=2,i+=2,f=!0;else if(r===a-2&&i===0&&(o&7)===4&&!h)e[t++]=this.readCorner4(a,o)&255,r-=2,i+=2,h=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,o)&255),r-=2,i+=2;while(r>=0&&i<o);r+=1,i+=3;do r>=0&&i<o&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,o)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<o);if(t!==this.version.getTotalCodewords())throw new mt;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Bt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/i|0,s=r/a|0,u=o*i,f=s*a,h=new iu(f,u),p=0;p<o;++p)for(var g=p*i,m=0;m<s;++m)for(var x=m*a,b=0;b<i;++b)for(var I=p*(i+2)+1+b,C=g+b,P=0;P<a;++P){var j=m*(a+2)+1+P;if(e.get(j,I)){var z=x+P;h.set(z,C)}}return h},n}(),q3=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cj=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,o,s=t.getECBlocks(),u=0,f=s.getECBlocks();try{for(var h=q3(f),p=h.next();!p.done;p=h.next()){var g=p.value;u+=g.getCount()}}catch(q){r={error:q}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}var m=new Array(u),x=0;try{for(var b=q3(f),I=b.next();!I.done;I=b.next())for(var g=I.value,C=0;C<g.getCount();C++){var P=g.getDataCodewords(),j=s.getECCodewords()+P;m[x++]=new n(P,new Uint8Array(j))}}catch(q){a={error:q}}finally{try{I&&!I.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}for(var z=m[0].codewords.length,X=z-s.getECCodewords(),H=X-1,D=0,C=0;C<H;C++)for(var E=0;E<x;E++)m[E].codewords[C]=e[D++];for(var T=t.getVersionNumber()===24,M=T?8:x,E=0;E<M;E++)m[E].codewords[X-1]=e[D++];for(var R=m[0].codewords.length,C=X;C<R;C++)for(var E=0;E<x;E++){var L=T?(E+8)%x:E,B=T&&L>7?C-1:C;m[L].codewords[B]=e[D++]}if(D!==e.length)throw new Bt;return m},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),AS=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Bt(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var o=8-r,s=e<o?e:o,u=o-s,f=255>>8-s<<u;t=(a[i]&f)>>u,e-=s,r+=s,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;t=t<<e|(a[i]&f)>>u,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),Di;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(Di||(Di={}));var Ij=function(){function n(){}return n.decode=function(e){var t=new AS(e),r=new cn,i=new cn,a=new Array,o=Di.ASCII_ENCODE;do if(o===Di.ASCII_ENCODE)o=this.decodeAsciiSegment(t,r,i);else{switch(o){case Di.C40_ENCODE:this.decodeC40Segment(t,r);break;case Di.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Di.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Di.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Di.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new mt}o=Di.ASCII_ENCODE}while(o!==Di.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new Om(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new mt;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),Di.ASCII_ENCODE;if(a===129)return Di.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&t.append("0"),t.append(""+o)}else switch(a){case 230:return Di.C40_ENCODE;case 231:return Di.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Di.ANSIX12_ENCODE;case 239:return Di.TEXT_ENCODE;case 240:return Di.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new mt;break}}while(e.available()>0);return Di.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else throw new mt;break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else switch(u){case 27:t.append("");break;case 30:r=!0;break;default:throw new mt}a=0;break;case 3:r?(t.append(String.fromCharCode(u+224)),r=!1):t.append(String.fromCharCode(u+96)),a=0;break;default:throw new mt}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else throw new mt;break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else switch(u){case 27:t.append("");break;case 30:r=!0;break;default:throw new mt}a=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f),a=0}else throw new mt;break;default:throw new mt}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var o=r[a];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new mt;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new mt;for(var s=new Uint8Array(o),u=0;u<o;u++){if(e.available()<8)throw new mt;s[u]=this.unrandomize255State(e.readBits(8),i++)}r.push(s);try{t.append(As.decode(s,Dn.ISO88591))}catch(f){throw new E0("Platform does not support required encoding: "+f.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),Tj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rj=function(){function n(){this.rsDecoder=new Pm(xo.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new Sj(e),a=i.getVersion(),o=i.readCodewords(),s=Cj.getDataBlocks(o,a),u=0;try{for(var f=Tj(s),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getNumDataCodewords()}}catch(j){t={error:j}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}for(var g=new Uint8Array(u),m=s.length,x=0;x<m;x++){var b=s[x],I=b.getCodewords(),C=b.getNumDataCodewords();this.correctErrors(I,C);for(var P=0;P<C;P++)g[P*m+x]=I[P]}return Ij.decode(g)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Qi}for(var i=0;i<t;i++)e[i]=r[i]},n}(),Nj=function(){function n(e){this.image=e,this.rectangleDetector=new Ey(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new He;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],o=t[3],s=this.transitionsBetween(r,o)+1,u=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var f=n.sampleGrid(this.image,r,i,a,o,s,u);return new ux(f,[r,i,a,o])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new Tt(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new Tt(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],o=this.transitionsBetween(t,r),s=this.transitionsBetween(r,i),u=this.transitionsBetween(i,a),f=this.transitionsBetween(a,t),h=o,p=[a,t,r,i];return h>s&&(h=s,p[0]=t,p[1]=r,p[2]=i,p[3]=a),h>u&&(h=u,p[0]=r,p[1]=i,p[2]=a,p[3]=t),h>f&&(p[0]=i,p[1]=a,p[2]=t,p[3]=r),p},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=n.shiftPoint(r,i,(o+1)*4),u=n.shiftPoint(i,r,(o+1)*4),f=this.transitionsBetween(s,t),h=this.transitionsBetween(u,a);return f<h?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=this.transitionsBetween(r,a),u=n.shiftPoint(t,r,(s+1)*4),f=n.shiftPoint(i,r,(o+1)*4);o=this.transitionsBetween(u,a),s=this.transitionsBetween(f,a);var h=new Tt(a.getX()+(i.getX()-r.getX())/(o+1),a.getY()+(i.getY()-r.getY())/(o+1)),p=new Tt(a.getX()+(t.getX()-r.getX())/(s+1),a.getY()+(t.getY()-r.getY())/(s+1));if(!this.isValid(h))return this.isValid(p)?p:null;if(!this.isValid(p))return h;var g=this.transitionsBetween(u,h)+this.transitionsBetween(f,h),m=this.transitionsBetween(u,p)+this.transitionsBetween(f,p);return g>m?h:p},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,s=this.transitionsBetween(i,a)+1,u=n.shiftPoint(t,r,s*4),f=n.shiftPoint(i,r,o*4);o=this.transitionsBetween(u,a)+1,s=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var h=(t.getX()+r.getX()+i.getX()+a.getX())/4,p=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,h,p),r=n.moveAway(r,h,p),i=n.moveAway(i,h,p),a=n.moveAway(a,h,p);var g,m;return u=n.shiftPoint(t,r,s*4),u=n.shiftPoint(u,a,o*4),g=n.shiftPoint(r,t,s*4),g=n.shiftPoint(g,i,o*4),f=n.shiftPoint(i,a,s*4),f=n.shiftPoint(f,r,o*4),m=n.shiftPoint(a,i,s*4),m=n.shiftPoint(m,t,o*4),[u,g,f,m]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,o,s){var u=cx.getInstance();return u.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),s=Math.abs(o-i)>Math.abs(a-r);if(s){var u=r;r=i,i=u,u=a,a=o,o=u}for(var f=Math.abs(a-r),h=Math.abs(o-i),p=-f/2,g=i<o?1:-1,m=r<a?1:-1,x=0,b=this.image.get(s?i:r,s?r:i),I=r,C=i;I!==a;I+=m){var P=this.image.get(s?C:I,s?I:C);if(P!==b&&(x++,b=P),p+=h,p>0){if(C===o)break;C+=g,p-=f}}return x},n}(),Iy=function(){function n(){this.decoder=new Rj}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(kr.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var o=new Nj(e.getBlackMatrix()).detect();r=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=r.getRawBytes(),u=new Fa(r.getText(),s,8*s.length,i,jt.DATA_MATRIX,wr.currentTimeMillis()),f=r.getByteSegments();f!=null&&u.putMetadata(ha.BYTE_SEGMENTS,f);var h=r.getECLevel();return h!=null&&u.putMetadata(ha.ERROR_CORRECTION_LEVEL,h),u},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new He;var i=this.moduleSize(t,e),a=t[1],o=r[1],s=t[0],u=r[0],f=(u-s+1)/i,h=(o-a+1)/i;if(f<=0||h<=0)throw new He;var p=i/2;a+=p,s+=p;for(var g=new iu(f,h),m=0;m<h;m++)for(var x=a+m*i,b=0;b<f;b++)e.get(s+b*i,x)&&g.set(b,m);return g},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new He;var o=i-e[0];if(o===0)throw new He;return o},n.NO_POINTS=[],n}(),Dj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Dj(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Iy,t)||this}return e})(Pd);var id;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(id||(id={}));var Oj=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new nl(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new Bt;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(id.L,"L",1),n.M=new n(id.M,"M",0),n.Q=new n(id.Q,"Q",3),n.H=new n(id.H,"H",2),n}(),Pj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ES=function(){function n(e){this.errorCorrectionLevel=Oj.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return gn.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=Pj(n.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var f=u.value,h=f[0];if(h===e||h===t)return new n(f[1]);var p=n.numBitsDiffering(e,h);p<a&&(o=f[1],a=p),e!==t&&(p=n.numBitsDiffering(t,h),p<a&&(o=f[1],a=p))}}catch(g){r={error:g}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a<=3?new n(o):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),Lj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},je=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=Lj(i),o=a.next();!o.done;o=a.next()){var s=o.value;r+=s.getCount()}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),fe=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),kj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zf=function(){function n(e,t){for(var r,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var s=0,u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var h=kj(f),p=h.next();!p.done;p=h.next()){var g=p.value;s+=g.getCount()*(g.getDataCodewords()+u)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}this.totalCodewords=s}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new mt;try{return this.getVersionForNumber((e-17)/4)}catch{throw new mt}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new Bt;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var o=ES.numBitsDiffering(e,a);o<t&&(r=i+7,t=o)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new iu(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<r;o++)i===0&&(o===0||o===r-1)||i===r-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new je(7,new fe(1,19)),new je(10,new fe(1,16)),new je(13,new fe(1,13)),new je(17,new fe(1,9))),new n(2,Int32Array.from([6,18]),new je(10,new fe(1,34)),new je(16,new fe(1,28)),new je(22,new fe(1,22)),new je(28,new fe(1,16))),new n(3,Int32Array.from([6,22]),new je(15,new fe(1,55)),new je(26,new fe(1,44)),new je(18,new fe(2,17)),new je(22,new fe(2,13))),new n(4,Int32Array.from([6,26]),new je(20,new fe(1,80)),new je(18,new fe(2,32)),new je(26,new fe(2,24)),new je(16,new fe(4,9))),new n(5,Int32Array.from([6,30]),new je(26,new fe(1,108)),new je(24,new fe(2,43)),new je(18,new fe(2,15),new fe(2,16)),new je(22,new fe(2,11),new fe(2,12))),new n(6,Int32Array.from([6,34]),new je(18,new fe(2,68)),new je(16,new fe(4,27)),new je(24,new fe(4,19)),new je(28,new fe(4,15))),new n(7,Int32Array.from([6,22,38]),new je(20,new fe(2,78)),new je(18,new fe(4,31)),new je(18,new fe(2,14),new fe(4,15)),new je(26,new fe(4,13),new fe(1,14))),new n(8,Int32Array.from([6,24,42]),new je(24,new fe(2,97)),new je(22,new fe(2,38),new fe(2,39)),new je(22,new fe(4,18),new fe(2,19)),new je(26,new fe(4,14),new fe(2,15))),new n(9,Int32Array.from([6,26,46]),new je(30,new fe(2,116)),new je(22,new fe(3,36),new fe(2,37)),new je(20,new fe(4,16),new fe(4,17)),new je(24,new fe(4,12),new fe(4,13))),new n(10,Int32Array.from([6,28,50]),new je(18,new fe(2,68),new fe(2,69)),new je(26,new fe(4,43),new fe(1,44)),new je(24,new fe(6,19),new fe(2,20)),new je(28,new fe(6,15),new fe(2,16))),new n(11,Int32Array.from([6,30,54]),new je(20,new fe(4,81)),new je(30,new fe(1,50),new fe(4,51)),new je(28,new fe(4,22),new fe(4,23)),new je(24,new fe(3,12),new fe(8,13))),new n(12,Int32Array.from([6,32,58]),new je(24,new fe(2,92),new fe(2,93)),new je(22,new fe(6,36),new fe(2,37)),new je(26,new fe(4,20),new fe(6,21)),new je(28,new fe(7,14),new fe(4,15))),new n(13,Int32Array.from([6,34,62]),new je(26,new fe(4,107)),new je(22,new fe(8,37),new fe(1,38)),new je(24,new fe(8,20),new fe(4,21)),new je(22,new fe(12,11),new fe(4,12))),new n(14,Int32Array.from([6,26,46,66]),new je(30,new fe(3,115),new fe(1,116)),new je(24,new fe(4,40),new fe(5,41)),new je(20,new fe(11,16),new fe(5,17)),new je(24,new fe(11,12),new fe(5,13))),new n(15,Int32Array.from([6,26,48,70]),new je(22,new fe(5,87),new fe(1,88)),new je(24,new fe(5,41),new fe(5,42)),new je(30,new fe(5,24),new fe(7,25)),new je(24,new fe(11,12),new fe(7,13))),new n(16,Int32Array.from([6,26,50,74]),new je(24,new fe(5,98),new fe(1,99)),new je(28,new fe(7,45),new fe(3,46)),new je(24,new fe(15,19),new fe(2,20)),new je(30,new fe(3,15),new fe(13,16))),new n(17,Int32Array.from([6,30,54,78]),new je(28,new fe(1,107),new fe(5,108)),new je(28,new fe(10,46),new fe(1,47)),new je(28,new fe(1,22),new fe(15,23)),new je(28,new fe(2,14),new fe(17,15))),new n(18,Int32Array.from([6,30,56,82]),new je(30,new fe(5,120),new fe(1,121)),new je(26,new fe(9,43),new fe(4,44)),new je(28,new fe(17,22),new fe(1,23)),new je(28,new fe(2,14),new fe(19,15))),new n(19,Int32Array.from([6,30,58,86]),new je(28,new fe(3,113),new fe(4,114)),new je(26,new fe(3,44),new fe(11,45)),new je(26,new fe(17,21),new fe(4,22)),new je(26,new fe(9,13),new fe(16,14))),new n(20,Int32Array.from([6,34,62,90]),new je(28,new fe(3,107),new fe(5,108)),new je(26,new fe(3,41),new fe(13,42)),new je(30,new fe(15,24),new fe(5,25)),new je(28,new fe(15,15),new fe(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new je(28,new fe(4,116),new fe(4,117)),new je(26,new fe(17,42)),new je(28,new fe(17,22),new fe(6,23)),new je(30,new fe(19,16),new fe(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new je(28,new fe(2,111),new fe(7,112)),new je(28,new fe(17,46)),new je(30,new fe(7,24),new fe(16,25)),new je(24,new fe(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new je(30,new fe(4,121),new fe(5,122)),new je(28,new fe(4,47),new fe(14,48)),new je(30,new fe(11,24),new fe(14,25)),new je(30,new fe(16,15),new fe(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new je(30,new fe(6,117),new fe(4,118)),new je(28,new fe(6,45),new fe(14,46)),new je(30,new fe(11,24),new fe(16,25)),new je(30,new fe(30,16),new fe(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new je(26,new fe(8,106),new fe(4,107)),new je(28,new fe(8,47),new fe(13,48)),new je(30,new fe(7,24),new fe(22,25)),new je(30,new fe(22,15),new fe(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new je(28,new fe(10,114),new fe(2,115)),new je(28,new fe(19,46),new fe(4,47)),new je(28,new fe(28,22),new fe(6,23)),new je(30,new fe(33,16),new fe(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new je(30,new fe(8,122),new fe(4,123)),new je(28,new fe(22,45),new fe(3,46)),new je(30,new fe(8,23),new fe(26,24)),new je(30,new fe(12,15),new fe(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new je(30,new fe(3,117),new fe(10,118)),new je(28,new fe(3,45),new fe(23,46)),new je(30,new fe(4,24),new fe(31,25)),new je(30,new fe(11,15),new fe(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new je(30,new fe(7,116),new fe(7,117)),new je(28,new fe(21,45),new fe(7,46)),new je(30,new fe(1,23),new fe(37,24)),new je(30,new fe(19,15),new fe(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new je(30,new fe(5,115),new fe(10,116)),new je(28,new fe(19,47),new fe(10,48)),new je(30,new fe(15,24),new fe(25,25)),new je(30,new fe(23,15),new fe(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new je(30,new fe(13,115),new fe(3,116)),new je(28,new fe(2,46),new fe(29,47)),new je(30,new fe(42,24),new fe(1,25)),new je(30,new fe(23,15),new fe(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new je(30,new fe(17,115)),new je(28,new fe(10,46),new fe(23,47)),new je(30,new fe(10,24),new fe(35,25)),new je(30,new fe(19,15),new fe(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new je(30,new fe(17,115),new fe(1,116)),new je(28,new fe(14,46),new fe(21,47)),new je(30,new fe(29,24),new fe(19,25)),new je(30,new fe(11,15),new fe(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new je(30,new fe(13,115),new fe(6,116)),new je(28,new fe(14,46),new fe(23,47)),new je(30,new fe(44,24),new fe(7,25)),new je(30,new fe(59,16),new fe(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new je(30,new fe(12,121),new fe(7,122)),new je(28,new fe(12,47),new fe(26,48)),new je(30,new fe(39,24),new fe(14,25)),new je(30,new fe(22,15),new fe(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new je(30,new fe(6,121),new fe(14,122)),new je(28,new fe(6,47),new fe(34,48)),new je(30,new fe(46,24),new fe(10,25)),new je(30,new fe(2,15),new fe(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new je(30,new fe(17,122),new fe(4,123)),new je(28,new fe(29,46),new fe(14,47)),new je(30,new fe(49,24),new fe(10,25)),new je(30,new fe(24,15),new fe(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new je(30,new fe(4,122),new fe(18,123)),new je(28,new fe(13,46),new fe(32,47)),new je(30,new fe(48,24),new fe(14,25)),new je(30,new fe(42,15),new fe(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new je(30,new fe(20,117),new fe(4,118)),new je(28,new fe(40,47),new fe(7,48)),new je(30,new fe(43,24),new fe(22,25)),new je(30,new fe(10,15),new fe(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new je(30,new fe(19,118),new fe(6,119)),new je(28,new fe(18,47),new fe(31,48)),new je(30,new fe(34,24),new fe(34,25)),new je(30,new fe(20,15),new fe(61,16)))],n}(),$i;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})($i||($i={}));var H3=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[$i.DATA_MASK_000,new n($i.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[$i.DATA_MASK_001,new n($i.DATA_MASK_001,function(e,t){return(e&1)===0})],[$i.DATA_MASK_010,new n($i.DATA_MASK_010,function(e,t){return t%3===0})],[$i.DATA_MASK_011,new n($i.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[$i.DATA_MASK_100,new n($i.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[$i.DATA_MASK_101,new n($i.DATA_MASK_101,function(e,t){return e*t%6===0})],[$i.DATA_MASK_110,new n($i.DATA_MASK_110,function(e,t){return e*t%6<3})],[$i.DATA_MASK_111,new n($i.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),Mj=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new mt;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,r=i-1;r>=o;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=ES.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new mt},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Zf.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)r=this.copyBit(o,a,r);var s=Zf.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;r=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)r=this.copyBit(o,a,r);if(s=Zf.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new mt},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=H3.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),o=!0,s=new Uint8Array(t.getTotalCodewords()),u=0,f=0,h=0,p=i-1;p>0;p-=2){p===6&&p--;for(var g=0;g<i;g++)for(var m=o?i-1-g:g,x=0;x<2;x++)a.get(p-x,m)||(h++,f<<=1,this.bitMatrix.get(p-x,m)&&(f|=1),h===8&&(s[u++]=f,h=0,f=0));o=!o}if(u!==t.getTotalCodewords())throw new mt;return s},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=H3.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),W3=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jj=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,o,s;if(e.length!==t.getTotalCodewords())throw new Bt;var u=t.getECBlocksForLevel(r),f=0,h=u.getECBlocks();try{for(var p=W3(h),g=p.next();!g.done;g=p.next()){var m=g.value;f+=m.getCount()}}catch(B){i={error:B}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var x=new Array(f),b=0;try{for(var I=W3(h),C=I.next();!C.done;C=I.next())for(var m=C.value,P=0;P<m.getCount();P++){var j=m.getDataCodewords(),z=u.getECCodewordsPerBlock()+j;x[b++]=new n(j,new Uint8Array(z))}}catch(B){o={error:B}}finally{try{C&&!C.done&&(s=I.return)&&s.call(I)}finally{if(o)throw o.error}}for(var X=x[0].codewords.length,H=x.length-1;H>=0;){var D=x[H].codewords.length;if(D===X)break;H--}H++;for(var E=X-u.getECCodewordsPerBlock(),T=0,P=0;P<E;P++)for(var M=0;M<b;M++)x[M].codewords[P]=e[T++];for(var M=H;M<b;M++)x[M].codewords[E]=e[T++];for(var R=x[0].codewords.length,P=E;P<R;P++)for(var M=0;M<b;M++){var L=M<H?P:P+1;x[M].codewords[L]=e[T++]}return x},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),_s;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(_s||(_s={}));var Ir=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new Bt;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(_s.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(_s.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(_s.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(_s.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(_s.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(_s.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(_s.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(_s.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(_s.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(_s.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),Bj=function(){function n(){}return n.decode=function(e,t,r,i){var a=new AS(e),o=new cn,s=new Array,u=-1,f=-1;try{var h=null,p=!1,g=void 0;do{if(a.available()<4)g=Ir.TERMINATOR;else{var m=a.readBits(4);g=Ir.forBits(m)}switch(g){case Ir.TERMINATOR:break;case Ir.FNC1_FIRST_POSITION:case Ir.FNC1_SECOND_POSITION:p=!0;break;case Ir.STRUCTURED_APPEND:if(a.available()<16)throw new mt;u=a.readBits(8),f=a.readBits(8);break;case Ir.ECI:var x=n.parseECIValue(a);if(h=Li.getCharacterSetECIByValue(x),h===null)throw new mt;break;case Ir.HANZI:var b=a.readBits(4),I=a.readBits(g.getCharacterCountBits(t));b===n.GB2312_SUBSET&&n.decodeHanziSegment(a,o,I);break;default:var C=a.readBits(g.getCharacterCountBits(t));switch(g){case Ir.NUMERIC:n.decodeNumericSegment(a,o,C);break;case Ir.ALPHANUMERIC:n.decodeAlphanumericSegment(a,o,C,p);break;case Ir.BYTE:n.decodeByteSegment(a,o,C,h,s,i);break;case Ir.KANJI:n.decodeKanjiSegment(a,o,C);break;default:throw new mt}break}}while(g!==Ir.TERMINATOR)}catch{throw new mt}return new Om(e,o.toString(),s.length===0?null:s,r===null?null:r.toString(),u,f)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new mt;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,r--}try{t.append(As.decode(i,Dn.GB2312))}catch(u){throw new mt(u)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new mt;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,r--}try{t.append(As.decode(i,Dn.SHIFT_JIS))}catch(u){throw new mt(u)}},n.decodeByteSegment=function(e,t,r,i,a,o){if(8*r>e.available())throw new mt;for(var s=new Uint8Array(r),u=0;u<r;u++)s[u]=e.readBits(8);var f;i===null?f=Dn.guessEncoding(s,o):f=i.getName();try{t.append(As.decode(s,f))}catch(h){throw new mt(h)}a.push(s)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new mt;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new mt;var o=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(o/45))),t.append(n.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(e.available()<6)throw new mt;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new mt;var i=e.readBits(10);if(i>=1e3)throw new mt;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new mt;var a=e.readBits(7);if(a>=100)throw new mt;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new mt;var o=e.readBits(4);if(o>=10)throw new mt;t.append(n.toAlphaNumericChar(o))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new mt},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),SS=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),G3=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fj=function(){function n(){this.rsDecoder=new Pm(xo.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(iu.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new Mj(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(o){i=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new SS(!0)),a}catch(o){throw i!==null?i:o}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,o,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),h=jj.getDataBlocks(f,s,u),p=0;try{for(var g=G3(h),m=g.next();!m.done;m=g.next()){var x=m.value;p+=x.getNumDataCodewords()}}catch(H){r={error:H}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}var b=new Uint8Array(p),I=0;try{for(var C=G3(h),P=C.next();!P.done;P=C.next()){var x=P.value,j=x.getCodewords(),z=x.getNumDataCodewords();this.correctErrors(j,z);for(var X=0;X<z;X++)b[I++]=j[X]}}catch(H){a={error:H}}finally{try{P&&!P.done&&(o=C.return)&&o.call(C)}finally{if(a)throw a.error}}return Bj.decode(b,s,u,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Qi}for(var i=0;i<t;i++)e[i]=r[i]},n}(),Uj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vj=function(n){Uj(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,o=(this.getY()+t)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(Tt),zj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qj=function(){function n(e,t,r,i,a,o,s){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,o=new Int32Array(3),s=this.image,u=0;u<t;u++){var f=a+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var h=e;h<i&&!s.get(h,f);)h++;for(var p=0;h<i;){if(s.get(h,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,f,h);if(g!==null)return g}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;h++}if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,f,i);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new He},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&a.get(t,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&!a.get(t,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<o&&a.get(t,u)&&s[1]<=r;)s[1]++,u++;if(u===o||s[1]>r)return NaN;for(;u<o&&!a.get(t,u)&&s[2]<=r;)s[2]++,u++;if(s[2]>r)return NaN;var f=s[0]+s[1]+s[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(s)?n.centerFromEnd(s,u):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,o=e[0]+e[1]+e[2],s=n.centerFromEnd(e,r),u=this.crossCheckVertical(t,s,2*e[1],o);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var h=zj(this.possibleCenters),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.aboutEquals(f,u,s))return g.combineEstimate(u,s,f)}}catch(x){i={error:x}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}var m=new Vj(s,u,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},n}(),Hj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wj=function(n){Hj(e,n);function e(t,r,i,a){var o=n.call(this,t,r)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,o=(this.count*this.getX()+r)/a,s=(this.count*this.getY()+t)/a,u=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,u,a)},e}(Tt),Gj=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),A1=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$j=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(kr.TRY_HARDER)!==void 0,r=e!=null&&e.get(kr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*n.MAX_MODULES));(s<n.MIN_SKIP||t)&&(s=n.MIN_SKIP);for(var u=!1,f=new Int32Array(5),h=s-1;h<a&&!u;h+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,g=0;g<o;g++)if(i.get(g,h))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(n.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,g,r);if(m===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var x=this.findRowSkip();x>f[2]&&(h+=x-f[2]-s,g=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(n.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,o,r);m===!0&&(s=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var b=this.selectBestPatterns();return Tt.orderBestPatterns(b),new Gj(b)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&t>=o&&s.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!s.get(t-o,e-o)&&a[1]<=r;)a[1]++,o++;if(e<o||t<o||a[1]>r)return!1;for(;e>=o&&t>=o&&s.get(t-o,e-o)&&a[0]<=r;)a[0]++,o++;if(a[0]>r)return!1;var u=s.getHeight(),f=s.getWidth();for(o=1;e+o<u&&t+o<f&&s.get(t+o,e+o);)a[2]++,o++;if(e+o>=u||t+o>=f)return!1;for(;e+o<u&&t+o<f&&!s.get(t+o,e+o)&&a[3]<r;)a[3]++,o++;if(e+o>=u||t+o>=f||a[3]>=r)return!1;for(;e+o<u&&t+o<f&&s.get(t+o,e+o)&&a[4]<r;)a[4]++,o++;if(a[4]>=r)return!1;var h=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(h-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(t,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(t,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&a.get(t,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<o&&a.get(t,u);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(t,u)&&s[3]<r;)s[3]++,u++;if(u===o||s[3]>=r)return NaN;for(;u<o&&a.get(t,u)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=2*i?NaN:n.foundPatternCross(s)?n.centerFromEnd(s,u):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(u,t);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(u,t)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&a.get(u,t)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<o&&a.get(u,t);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(u,t)&&s[3]<r;)s[3]++,u++;if(u===o||s[3]>=r)return NaN;for(;u<o&&a.get(u,t)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=i?NaN:n.foundPatternCross(s)?n.centerFromEnd(s,u):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=n.centerFromEnd(e,r),s=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var u=a/7,f=!1,h=this.possibleCenters,p=0,g=h.length;p<g;p++){var m=h[p];if(m.aboutEquals(u,s,o)){h[p]=m.combineEstimate(s,o,u),f=!0;break}}if(!f){var x=new Wj(o,s,u);h.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=A1(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=n.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,o=0,s=this.possibleCenters.length;try{for(var u=A1(this.possibleCenters),f=u.next();!f.done;f=u.next()){var h=f.value;h.getCount()>=n.CENTER_QUORUM&&(a++,o+=h.getEstimatedModuleSize())}}catch(b){e={error:b}}finally{try{f&&!f.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/s,g=0;try{for(var m=A1(this.possibleCenters),x=m.next();!x.done;x=m.next()){var h=x.value;g+=Math.abs(h.getEstimatedModuleSize()-p)}}catch(b){r={error:b}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return g<=.05*o},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new He;var o=this.possibleCenters,s;if(a>3){var u=0,f=0;try{for(var h=A1(this.possibleCenters),p=h.next();!p.done;p=h.next()){var g=p.value,m=g.getEstimatedModuleSize();u+=m,f+=m*m}}catch(X){e={error:X}}finally{try{p&&!p.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}s=u/a;var x=Math.sqrt(f/a-s*s);o.sort(function(X,H){var D=Math.abs(H.getEstimatedModuleSize()-s),E=Math.abs(X.getEstimatedModuleSize()-s);return D<E?-1:D>E?1:0});for(var b=Math.max(.2*s,x),I=0;I<o.length&&o.length>3;I++){var C=o[I];Math.abs(C.getEstimatedModuleSize()-s)>b&&(o.splice(I,1),I--)}}if(o.length>3){var u=0;try{for(var P=A1(o),j=P.next();!j.done;j=P.next()){var z=j.value;u+=z.getEstimatedModuleSize()}}catch(H){r={error:H}}finally{try{j&&!j.done&&(i=P.return)&&i.call(P)}finally{if(r)throw r.error}}s=u/o.length,o.sort(function(H,D){if(D.getCount()===H.getCount()){var E=Math.abs(D.getEstimatedModuleSize()-s),T=Math.abs(H.getEstimatedModuleSize()-s);return E<T?1:E>T?-1:0}else return D.getCount()-H.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),Xj=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(kr.NEED_RESULT_POINT_CALLBACK);var t=new $j(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new He("No pattern found in proccess finder.");var o=n.computeDimension(t,r,i,a),s=Zf.getProvisionalVersionForDimension(o),u=s.getDimensionForVersion()-7,f=null;if(s.getAlignmentPatternCenters().length>0)for(var h=r.getX()-t.getX()+i.getX(),p=r.getY()-t.getY()+i.getY(),g=1-3/u,m=Math.floor(t.getX()+g*(h-t.getX())),x=Math.floor(t.getY()+g*(p-t.getY())),b=4;b<=16;b<<=1)try{f=this.findAlignmentInRegion(a,m,x,b);break}catch(j){if(!(j instanceof He))throw j}var I=n.createTransform(t,r,i,f,o),C=n.sampleGrid(this.image,I,o),P;return f===null?P=[i,t,r]:P=[i,t,r,f],new ux(C,P)},n.createTransform=function(e,t,r,i,a){var o=a-3.5,s,u,f,h;return i!==null?(s=i.getX(),u=i.getY(),f=o-3,h=f):(s=t.getX()-e.getX()+r.getX(),u=t.getY()-e.getY()+r.getY(),f=o,h=o),xS.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,h,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),s,u,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=cx.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=Hn.round(Tt.distance(e,t)/i),o=Hn.round(Tt.distance(e,r)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new He("Dimensions could be not found.")}return s},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),o=1,s=e-(r-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(t-(i-t)*o);return o=1,u<0?(o=t/(t-u),u=0):u>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,s,u),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var o=e;e=t,t=o,o=r,r=i,i=o}for(var s=Math.abs(r-e),u=Math.abs(i-t),f=-s/2,h=e<r?1:-1,p=t<i?1:-1,g=0,m=r+h,x=e,b=t;x!==m;x+=h){var I=a?b:x,C=a?x:b;if(g===1===this.image.get(I,C)){if(g===2)return Hn.distance(x,b,e,t);g++}if(f+=u,f>0){if(b===i)break;b+=p,f-=s}}return g===2?Hn.distance(r+h,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),o=Math.max(0,t-a),s=Math.min(this.image.getWidth()-1,t+a);if(s-o<e*3)throw new He("Alignment top exceeds estimated module size.");var u=Math.max(0,r-a),f=Math.min(this.image.getHeight()-1,r+a);if(f-u<e*3)throw new He("Alignment bottom exceeds estimated module size.");var h=new qj(this.image,o,u,s-o,f-u,e,this.resultPointCallback);return h.find()},n}(),Ty=function(){function n(){this.decoder=new Fj}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(kr.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var o=new Xj(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(o.getBits(),t),i=o.getPoints()}r.getOther()instanceof SS&&r.getOther().applyMirroredCorrection(i);var s=new Fa(r.getText(),r.getRawBytes(),void 0,i,jt.QR_CODE,void 0),u=r.getByteSegments();u!==null&&s.putMetadata(ha.BYTE_SEGMENTS,u);var f=r.getECLevel();return f!==null&&s.putMetadata(ha.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(s.putMetadata(ha.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(ha.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new He;var i=this.moduleSize(t,e),a=t[1],o=r[1],s=t[0],u=r[0];if(s>=u||a>=o)throw new He;if(o-a!==u-s&&(u=s+(o-a),u>=e.getWidth()))throw new He;var f=Math.round((u-s+1)/i),h=Math.round((o-a+1)/i);if(f<=0||h<=0)throw new He;if(h!==f)throw new He;var p=Math.floor(i/2);a+=p,s+=p;var g=s+Math.floor((f-1)*i)-u;if(g>0){if(g>p)throw new He;s-=g}var m=a+Math.floor((h-1)*i)-o;if(m>0){if(m>p)throw new He;a-=m}for(var x=new iu(f,h),b=0;b<h;b++)for(var I=a+Math.floor(b*i),C=0;C<f;C++)e.get(s+Math.floor(C*i),I)&&x.set(C,b);return x},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],o=e[1],s=!0,u=0;a<i&&o<r;){if(s!==t.get(a,o)){if(++u===5)break;s=!s}a++,o++}if(a===i||o===r)throw new He;return(a-e[0])/7},n.NO_POINTS=new Array,n}(),Yj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ln=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return Hn.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=Yj(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[a++]=u}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=ki.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),Kj=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),Qj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zj=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new Kj(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,o=0,s=0,u=!1;o<t.getHeight();){var f=n.findVertices(t,o,s);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,s=0;try{for(var h=(r=void 0,Qj(a)),p=h.next();!p.done;p=h.next()){var g=p.value;g[1]!=null&&(o=Math.trunc(Math.max(o,g[1].getY()))),g[3]!=null&&(o=Math.max(o,Math.trunc(g[3].getY())))}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}o+=n.ROW_STEP;continue}if(u=!0,a.push(f),!e)break;f[2]!=null?(s=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return n.copyToResult(o,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),n.copyToResult(o,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),o},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,o){for(var s=new Array(4),u=!1,f=new Int32Array(o.length);i<t;i+=n.ROW_STEP){var h=n.findGuardPattern(e,a,i,r,!1,o,f);if(h!=null){for(;i>0;){var p=n.findGuardPattern(e,a,--i,r,!1,o,f);if(p!=null)h=p;else{i++;break}}s[0]=new Tt(h[0],i),s[1]=new Tt(h[1],i),u=!0;break}}var g=i+1;if(u){for(var m=0,p=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);g<t;g++){var h=n.findGuardPattern(e,p[0],g,r,!1,o,f);if(h!=null&&Math.abs(p[0]-h[0])<n.MAX_PATTERN_DRIFT&&Math.abs(p[1]-h[1])<n.MAX_PATTERN_DRIFT)p=h,m=0;else{if(m>n.SKIPPED_ROW_COUNT_MAX)break;m++}}g-=m+1,s[2]=new Tt(p[0],g),s[3]=new Tt(p[1],g)}return g-i<n.BARCODE_MIN_HEIGHT&&ki.fill(s,null),s},n.findGuardPattern=function(e,t,r,i,a,o,s){ki.fillWithin(s,0,s.length,0);for(var u=t,f=0;e.get(u,r)&&u>0&&f++<n.MAX_PIXEL_DRIFT;)u--;for(var h=u,p=0,g=o.length,m=a;h<i;h++){var x=e.get(h,r);if(x!==m)s[p]++;else{if(p===g-1){if(n.patternMatchVariance(s,o,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([u,h]);u+=s[0]+s[1],wr.arraycopy(s,2,s,0,p-1),s[p-1]=0,s[p]=0,p--}else p++;s[p]=1,m=!m}}return p===g-1&&n.patternMatchVariance(s,o,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([u,h-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return 1/0;var u=a/o;r*=u;for(var f=0,h=0;h<i;h++){var p=e[h],g=t[h]*u,m=p>g?p-g:g-p;if(m>r)return 1/0;f+=m}return f/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),Jj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kf=function(){function n(e,t){if(t.length===0)throw new Bt;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),wr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=Jj(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(p){t={error:p}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var u=this.coefficients[0],f=this.coefficients.length,h=1;h<f;h++)u=this.field.add(this.field.multiply(e,u),this.coefficients[h]);return u},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new Bt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),o=r.length-t.length;wr.arraycopy(r,0,a,0,o);for(var s=o;s<r.length;s++)a[s]=this.field.add(t[s-o],r[s]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Bt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Bt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),s=0;s<r;s++)for(var u=t[s],f=0;f<a;f++)o[s+f]=this.field.add(o[s+f],this.field.multiply(u,i[f]));return new n(this.field,o)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Bt;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new cn,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),eB=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Bt;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new yS;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),tB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nB=function(n){tB(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,o=0;o<t;o++)i.expTable[o]=a,a=a*r%t;for(var o=0;o<t-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Kf(i,new Int32Array([0])),i.one=new Kf(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Bt;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Kf(this,i)},e.PDF417_GF=new e(Ln.NUMBER_OF_CODEWORDS,3),e}(eB),rB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iB=function(){function n(){this.field=nB.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,o=new Kf(this.field,e),s=new Int32Array(t),u=!1,f=t;f>0;f--){var h=o.evaluateAt(this.field.exp(f));s[t-f]=h,h!==0&&(u=!0)}if(!u)return 0;var p=this.field.getOne();if(r!=null)try{for(var g=rB(r),m=g.next();!m.done;m=g.next()){var x=m.value,b=this.field.exp(e.length-1-x),I=new Kf(this.field,new Int32Array([this.field.subtract(0,b),1]));p=p.multiply(I)}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}for(var C=new Kf(this.field,s),P=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),C,t),j=P[0],z=P[1],X=this.findErrorLocations(j),H=this.findErrorMagnitudes(z,j,X),f=0;f<X.length;f++){var D=e.length-1-this.field.log(X[f]);if(D<0)throw Qi.getChecksumInstance();e[D]=this.field.subtract(e[D],H[f])}return X.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,o=t,s=this.field.getZero(),u=this.field.getOne();o.getDegree()>=Math.round(r/2);){var f=a,h=s;if(a=o,s=u,a.isZero())throw Qi.getChecksumInstance();o=f;for(var p=this.field.getZero(),g=a.getCoefficient(a.getDegree()),m=this.field.inverse(g);o.getDegree()>=a.getDegree()&&!o.isZero();){var x=o.getDegree()-a.getDegree(),b=this.field.multiply(o.getCoefficient(o.getDegree()),m);p=p.add(this.field.buildMonomial(x,b)),o=o.subtract(a.multiplyByMonomial(x,b))}u=p.multiply(s).subtract(h).negative()}var I=u.getCoefficient(0);if(I===0)throw Qi.getChecksumInstance();var C=this.field.inverse(I),P=u.multiply(C),j=o.multiply(C);return[P,j]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw Qi.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,t.getCoefficient(o));for(var s=new Kf(this.field,a),u=r.length,f=new Int32Array(u),o=0;o<u;o++){var h=this.field.inverse(r[o]),p=this.field.subtract(0,e.evaluateAt(h)),g=this.field.inverse(s.evaluateAt(h));f[o]=this.field.multiply(p,g)}return f},n}(),Ry=function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var o=t==null||r==null,s=i==null||a==null;if(o&&s)throw new He;o?(t=new Tt(0,i.getY()),r=new Tt(0,a.getY())):s&&(i=new Tt(e.getWidth()-1,t.getY()),a=new Tt(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var h=new Tt(u.getX(),f);r?i=h:o=h}if(t>0){var p=r?this.bottomLeft:this.bottomRight,g=Math.trunc(p.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var m=new Tt(p.getX(),g);r?a=m:s=m}return new n(this.image,i,a,o,s)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),aB=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),hx=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(o,s,u,f,h,p){if(o==="%%")return"%";if(t[++r]!==void 0){o=f?parseInt(f.substr(1)):void 0;var g=h?parseInt(h.substr(1)):void 0,m;switch(p){case"s":m=t[r];break;case"c":m=t[r][0];break;case"f":m=parseFloat(t[r]).toFixed(o);break;case"p":m=parseFloat(t[r]).toPrecision(o);break;case"e":m=parseFloat(t[r]).toExponential(o);break;case"x":m=parseInt(t[r]).toString(g||16);break;case"d":m=parseFloat(parseInt(t[r],g||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(g);for(var x=parseInt(u),b=u&&u[0]+""=="0"?"0":" ";m.length<x;)m=s!==void 0?m+b:b+m;return m}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),oB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CS=function(){function n(e){this.boundingBox=new Ry(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new hx,i=0;try{for(var a=oB(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),sB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lB=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},B1=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(p,g){var m={getKey:function(){return p},getValue:function(){return g}};m.getValue()>r?(r=m.getValue(),i=[],i.push(m.getKey())):m.getValue()===r&&i.push(m.getKey())};try{for(var o=sB(this.values.entries()),s=o.next();!s.done;s=o.next()){var u=lB(s.value,2),f=u[0],h=u[1];a(f,h)}}catch(p){e={error:p}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return Ln.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),uB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$3=function(n){uB(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=wv(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,h=1,p=0,g=s;g<u;g++)if(r[g]!=null){var m=r[g],x=m.getRowNumber()-f;if(x===0)p++;else if(x===1)h=Math.max(h,p),p=1,f=m.getRowNumber();else if(x<0||m.getRowNumber()>=t.getRowCount()||x>g)r[g]=null;else{var b=void 0;h>2?b=(h-2)*x:b=x;for(var I=b>=g,C=1;C<=b&&!I;C++)I=r[g-C]!=null;I?r[g]=null:(f=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=wv(this.getCodewords()),s=o.next();!s.done;s=o.next()){var u=s.value;if(u!=null){var f=u.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.getCodewords(),f=-1,h=o;h<s;h++)if(u[h]!=null){var p=u[h];p.setRowNumberAsRowIndicatorColumn();var g=p.getRowNumber()-f;g===0||(g===1?f=p.getRowNumber():p.getRowNumber()>=t.getRowCount()?u[h]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new B1,o=new B1,s=new B1,u=new B1;try{for(var f=wv(i),h=f.next();!h.done;h=f.next()){var p=h.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var g=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(g*3+1);break;case 1:u.setValue(g/3),s.setValue(g%3);break;case 2:a.setValue(g+1);break}}}}catch(b){t={error:b}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Ln.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Ln.MAX_ROWS_IN_BARCODE)return null;var x=new aB(a.getValue()[0],o.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,x),x},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(o/3)!==r.getErrorCorrectionLevel()||o%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:o+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(CS),cB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fB=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ln.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(a=n.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(a=n.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=r[t],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=s[t],f[3]=u[t],t>0&&(f[0]=r[t-1],f[4]=s[t-1],f[5]=u[t-1]),t>1&&(f[8]=r[t-2],f[10]=s[t-2],f[11]=u[t-2]),t<r.length-1&&(f[1]=r[t+1],f[6]=s[t+1],f[7]=u[t+1]),t<r.length-2&&(f[9]=r[t+2],f[12]=s[t+2],f[13]=u[t+2]);try{for(var h=cB(f),p=h.next();!p.done;p=h.next()){var g=p.value;if(n.adjustRowNumber(o,g))return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new hx,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n}(),hB=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),dB=function(){function n(){}return n.initialize=function(){for(var e=0;e<Ln.SYMBOL_TABLE.length;e++)for(var t=Ln.SYMBOL_TABLE[e],r=t&1,i=0;i<Ln.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(Ln.BARS_IN_MODULE)),n.RATIOS_TABLE[e][Ln.BARS_IN_MODULE-i-1]=Math.fround(a/Ln.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=Hn.sum(e),r=new Int32Array(Ln.BARS_IN_MODULE),i=0,a=0,o=0;o<Ln.MODULES_IN_CODEWORD;o++){var s=t/(2*Ln.MODULES_IN_CODEWORD)+o*t/Ln.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return Ln.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=Hn.sum(e),r=new Array(Ln.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=Ay.MAX_VALUE,o=-1;this.bSymbolTableReady||n.initialize();for(var s=0;s<n.RATIOS_TABLE.length;s++){for(var u=0,f=n.RATIOS_TABLE[s],h=0;h<Ln.BARS_IN_MODULE;h++){var p=Math.fround(f[h]-r[h]);if(u+=Math.fround(p*p),u>=a)break}u<a&&(a=u,o=Ln.SYMBOL_TABLE[s])}return o},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(Ln.SYMBOL_TABLE.length).map(function(e){return new Array(Ln.BARS_IN_MODULE)}),n}(),pB=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),X3=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),gB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mB=function(n){gB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Ao),vB=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new mB;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new sx;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),yB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xB=function(n){yB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Ao),_B=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bB=function(n){_B(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new Bt("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new xB;i=gn.MAX_VALUE}this.buf=ki.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new sx;this.ensureCapacity(this.count+i),wr.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ki.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(vB),dr;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(dr||(dr={}));function IS(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Bp;function Gc(n){if(typeof Bp>"u"&&(Bp=IS()),Bp===null)throw new Error("BigInt is not supported!");return Bp(n)}function wB(){var n=[];n[0]=Gc(1);var e=Gc(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var AB=function(){function n(){}return n.decode=function(e,t){var r=new cn(""),i=Li.ISO8859_1;r.enableDecoding(i);for(var a=1,o=e[a++],s=new pB;a<e[0];){switch(o){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(o,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:Li.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,s);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new mt;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)o=e[a++];else throw mt.getFormatInstance()}if(r.length()===0)throw mt.getFormatInstance();var u=new Om(null,r.toString(),null,t);return u.setOther(s),u},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw mt.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(gn.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new cn;t=n.textCompaction(e,t,o),r.setFileId(o.toString());var s=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new cn;t=n.textCompaction(e,t+1,u),r.setFileName(u.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new cn;t=n.textCompaction(e,t+1,f),r.setSender(f.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new cn;t=n.textCompaction(e,t+1,h),r.setAddressee(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new cn;t=n.numericCompaction(e,t+1,p),r.setSegmentCount(gn.parseInt(p.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new cn;t=n.numericCompaction(e,t+1,g),r.setTimestamp(X3.parseLong(g.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new cn;t=n.numericCompaction(e,t+1,m),r.setChecksum(gn.parseInt(m.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var x=new cn;t=n.numericCompaction(e,t+1,x),r.setFileSize(X3.parseLong(x.toString()));break;default:throw mt.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw mt.getFormatInstance()}if(s!==-1){var b=t-s;r.isLastSegment()&&b--,r.setOptionalData(ki.copyOfRange(e,s,s+b))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),o=0,s=!1;t<e[0]&&!s;){var u=e[t++];if(u<n.TEXT_COMPACTION_MODE_LATCH)i[o]=u/30,i[o+1]=u%30,o+=2;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:i[o++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],a[o]=u,o++;break}}return n.decodeTextCompaction(i,a,o,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=dr.ALPHA,o=dr.ALPHA,s=0;s<r;){var u=e[s],f="";switch(a){case dr.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case n.LL:a=dr.LOWER;break;case n.ML:a=dr.MIXED;break;case n.PS:o=a,a=dr.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=dr.ALPHA;break}break;case dr.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case n.AS:o=a,a=dr.ALPHA_SHIFT;break;case n.ML:a=dr.MIXED;break;case n.PS:o=a,a=dr.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=dr.ALPHA;break}break;case dr.MIXED:if(u<n.PL)f=n.MIXED_CHARS[u];else switch(u){case n.PL:a=dr.PUNCT;break;case 26:f=" ";break;case n.LL:a=dr.LOWER;break;case n.AL:a=dr.ALPHA;break;case n.PS:o=a,a=dr.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=dr.ALPHA;break}break;case dr.PUNCT:if(u<n.PAL)f=n.PUNCT_CHARS[u];else switch(u){case n.PAL:a=dr.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=dr.ALPHA;break}break;case dr.ALPHA_SHIFT:if(a=o,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=dr.ALPHA;break}break;case dr.PUNCT_SHIFT:if(a=o,u<n.PAL)f=n.PUNCT_CHARS[u];else switch(u){case n.PAL:a=dr.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=dr.ALPHA;break}break}f!==""&&i.append(f),s++}},n.byteCompaction=function(e,t,r,i,a){var o=new bB,s=0,u=0,f=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),p=t[i++];i<t[0]&&!f;)switch(h[s++]=p,u=900*u+p,p=t[i++],p){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(s%5===0&&s>0){for(var g=0;g<6;++g)o.write(Number(Gc(u)>>Gc(8*(5-g))));u=0,s=0}break}i===t[0]&&p<n.TEXT_COMPACTION_MODE_LATCH&&(h[s++]=p);for(var m=0;m<s;m++)o.write(h[m]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!f;){var x=t[i++];if(x<n.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+x;else switch(x){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(s%5===0&&s>0){for(var g=0;g<6;++g)o.write(Number(Gc(u)>>Gc(8*(5-g))));u=0,s=0}}break}return a.append(As.decode(o.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,o=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var s=e[t++];if(t===e[0]&&(a=!0),s<n.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||s===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(o,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=Gc(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*Gc(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new mt;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=IS()?wB():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),E1=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EB=function(){function n(){}return n.decode=function(e,t,r,i,a,o,s){for(var u=new Ry(e,t,r,i,a),f=null,h=null,p,g=!0;;g=!1){if(t!=null&&(f=n.getRowIndicatorColumn(e,u,t,!0,o,s)),i!=null&&(h=n.getRowIndicatorColumn(e,u,i,!1,o,s)),p=n.merge(f,h),p==null)throw He.getNotFoundInstance();var m=p.getBoundingBox();if(g&&m!=null&&(m.getMinY()<u.getMinY()||m.getMaxY()>u.getMaxY()))u=m;else break}p.setBoundingBox(u);var x=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(x,h);for(var b=f!=null,I=1;I<=x;I++){var C=b?I:x-I;if(p.getDetectionResultColumn(C)===void 0){var P=void 0;C===0||C===x?P=new $3(u,C===0):P=new CS(u),p.setDetectionResultColumn(C,P);for(var j=-1,z=j,X=u.getMinY();X<=u.getMaxY();X++){if(j=n.getStartColumn(p,C,X,b),j<0||j>u.getMaxX()){if(z===-1)continue;j=z}var H=n.detectCodeword(e,u.getMinX(),u.getMaxX(),b,j,X,o,s);H!=null&&(P.setCodeword(X,H),z=j,o=Math.min(o,H.getWidth()),s=Math.max(s,H.getWidth()))}}}return n.createDecoderResult(p)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=Ry.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new fB(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),o=0;try{for(var s=E1(i),u=s.next();!u.done;u=s.next()){var f=u.value;if(o+=a-f,f>0)break}}catch(m){t={error:m}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}for(var h=e.getCodewords(),p=0;o>0&&h[p]==null;p++)o--;for(var g=0,p=i.length-1;p>=0&&(g+=a-i[p],!(i[p]>0));p--);for(var p=h.length-1;g>0&&h[p]==null;p--)g--;return e.getBoundingBox().addMissingRows(o,g,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=E1(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,o){for(var s=new $3(t,i),u=0;u<2;u++)for(var f=u===0?1:-1,h=Math.trunc(Math.trunc(r.getX())),p=Math.trunc(Math.trunc(r.getY()));p<=t.getMaxY()&&p>=t.getMinY();p+=f){var g=n.detectCodeword(e,0,e.getWidth(),i,h,p,a,o);g!=null&&(s.setCodeword(p,g),i?h=g.getStartX():h=g.getEndX())}return s},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Ln.MAX_CODEWORDS_IN_BARCODE)throw He.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=t[s][u+1].getValue(),h=s*e.getBarcodeColumnCount()+u;f.length===0?r.push(h):f.length===1?i[h]=f[0]:(o.push(h),a.push(f))}for(var p=new Array(a.length),g=0;g<p.length;g++)p[g]=a[g];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Ln.toIntArray(r),Ln.toIntArray(o),p)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<o.length;u++)t[i[u]]=a[u][o[u]];try{return n.decodeCodewords(t,e,r)}catch(h){var f=h instanceof Qi;if(!f)throw h}if(o.length===0)throw Qi.getChecksumInstance();for(var u=0;u<o.length;u++)if(o[u]<a[u].length-1){o[u]++;break}else if(o[u]=0,u===o.length-1)throw Qi.getChecksumInstance()}throw Qi.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var u=0;u<o[s].length;u++)o[s][u]=new B1;var f=0;try{for(var h=E1(e.getDetectionResultColumns()),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null)try{for(var m=(i=void 0,E1(g.getCodewords())),x=m.next();!x.done;x=m.next()){var b=x.value;if(b!=null){var I=b.getRowNumber();if(I>=0){if(I>=o.length)continue;o[I][f].setValue(b.getValue())}}}}catch(C){i={error:C}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}f++}}catch(C){t={error:C}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return o},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,o,s=i?1:-1,u=null;if(n.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodeword(r)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(t).getCodewordNearby(r),u!=null)return i?u.getStartX():u.getEndX();if(n.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodewordNearby(r)),u!=null)return i?u.getEndX():u.getStartX();for(var f=0;n.isValidBarcodeColumn(e,t-s);){t-=s;try{for(var h=(a=void 0,E1(e.getDetectionResultColumn(t).getCodewords())),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null)return(i?g.getEndX():g.getStartX())+s*f*(g.getEndX()-g.getStartX())}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,o,s,u){a=n.adjustCodewordStartColumn(e,t,r,i,a,o);var f=n.getModuleBitCount(e,t,r,i,a,o);if(f==null)return null;var h,p=Hn.sum(f);if(i)h=a+p;else{for(var g=0;g<f.length/2;g++){var m=f[g];f[g]=f[f.length-1-g],f[f.length-1-g]=m}h=a,a=h-p}if(!n.checkCodewordSkew(p,s,u))return null;var x=dB.getDecodedValue(f),b=Ln.getCodeword(x);return b===-1?null:new hB(a,h,n.getCodewordBucketNumber(x),b)},n.getModuleBitCount=function(e,t,r,i,a,o){for(var s=a,u=new Int32Array(8),f=0,h=i?1:-1,p=i;(i?s<r:s>=t)&&f<u.length;)e.get(s,o)===p?(u[f]++,s+=h):(f++,p=!p);return f===u.length||s===(i?r:t)&&f===u.length-1?u:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,o){for(var s=a,u=i?-1:1,f=0;f<2;f++){for(;(i?s>=t:s<r)&&i===e.get(s,o);){if(Math.abs(a-s)>n.CODEWORD_SKEW_SIZE)return a;s+=u}u=-u,i=!i}return s},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw mt.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var o=AB.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(r.length),o},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw Qi.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw mt.getFormatInstance();var r=e[0];if(r>e.length)throw mt.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw mt.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new hx,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new iB,n}(),SB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ny=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw He.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof mt||r instanceof Qi?He.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,o=new Array,s=Zj.detectMultiple(e,t,r);try{for(var u=SB(s.getPoints()),f=u.next();!f.done;f=u.next()){var h=f.value,p=EB.decode(s.getBits(),h[4],h[5],h[6],h[7],n.getMinCodewordWidth(h),n.getMaxCodewordWidth(h)),g=new Fa(p.getText(),p.getRawBytes(),void 0,h,jt.PDF_417);g.putMetadata(ha.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&g.putMetadata(ha.PDF417_EXTRA_METADATA,m),o.push(g)}}catch(x){i={error:x}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o.map(function(x){return x})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?gn.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*Ln.MODULES_IN_CODEWORD/Ln.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*Ln.MODULES_IN_CODEWORD/Ln.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*Ln.MODULES_IN_CODEWORD/Ln.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*Ln.MODULES_IN_CODEWORD/Ln.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),CB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y3=function(n){CB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(Ao),K3=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IB=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(kr.TRY_HARDER)!==void 0,r=e==null?null:e.get(kr.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(o){return o===jt.UPC_A||o===jt.UPC_E||o===jt.EAN_13||o===jt.EAN_8||o===jt.CODABAR||o===jt.CODE_39||o===jt.CODE_93||o===jt.CODE_128||o===jt.ITF||o===jt.RSS_14||o===jt.RSS_EXPANDED});a&&!t&&i.push(new j1(e)),r.includes(jt.QR_CODE)&&i.push(new Ty),r.includes(jt.DATA_MATRIX)&&i.push(new Iy),r.includes(jt.AZTEC)&&i.push(new Sy),r.includes(jt.PDF_417)&&i.push(new Ny),a&&t&&i.push(new j1(e))}i.length===0&&(t||i.push(new j1(e)),i.push(new Ty),i.push(new Iy),i.push(new Sy),i.push(new Ny),t&&i.push(new j1(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=K3(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new Y3("No readers where selected, nothing can be read.");try{for(var i=K3(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof Y3)continue}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new He("No MultiFormat Readers were able to detect the code.")},n}(),TB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RB=function(n){TB(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new IB;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(Pd),NB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){NB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Ny,t)||this}return e})(Pd);var DB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){DB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Ty,t)||this}return e})(Pd);var Dy;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(Dy||(Dy={}));const Fp=Dy;var TS=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new rf(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var o=r.multiply(new rf(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(o),r=o}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new Bt("No error correction bytes");var r=e.length-t;if(r<=0)throw new Bt("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);wr.arraycopy(e,0,a,0,r);var o=new rf(this.field,a);o=o.multiplyByMonomial(t,1);for(var s=o.divide(i)[1],u=s.getCoefficients(),f=t-u.length,h=0;h<f;h++)e[r+h]=0;wr.arraycopy(u,0,e,r+f,u.length)},n}(),F1=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=r[o],u=0;u<i-1;u++){var f=s[u];f===s[u+1]&&f===r[o+1][u]&&f===r[o+1][u+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var u=r[o];s+6<i&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(n.isWhiteHorizontal(u,s-4,s)||n.isWhiteHorizontal(u,s+7,s+11))&&t++,o+6<a&&r[o][s]===1&&r[o+1][s]===0&&r[o+2][s]===1&&r[o+3][s]===1&&r[o+4][s]===1&&r[o+5][s]===0&&r[o+6][s]===1&&(n.isWhiteVertical(r,s,o-4,o)||n.isWhiteVertical(r,s,o+7,o+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=r[o],u=0;u<i;u++)s[u]===1&&t++;var f=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(t*2-f)*10/f);return h*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new Bt("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var u=0,f=-1,h=0;h<a;h++){var p=t?o[s][h]:o[h][s];p===f?u++:(u>=5&&(r+=n.N1+(u-5)),u=1,f=p)}u>=5&&(r+=n.N1+(u-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),OB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PB=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=OB(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;ki.fill(o,e)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],o=t.bytes[r],s=0,u=this.width;s<u;++s)if(a[s]!==o[s])return!1;return!0},n.prototype.toString=function(){for(var e=new cn,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),Oy=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new cn;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),LB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cr=function(n){LB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(Ao),Q3=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new Zi;n.makeTypeInfoBits(e,t,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),u=n.TYPE_INFO_COORDINATES[a],f=u[0],h=u[1];if(r.setBoolean(f,h,s),a<8){var p=r.getWidth()-a-1,g=8;r.setBoolean(p,g,s)}else{var p=8,g=r.getHeight()-7+(a-8);r.setBoolean(p,g,s)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new Zi;n.makeVersionInfoBits(e,r);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+o,s),t.setBoolean(t.getHeight()-11+o,a,s)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,o=r.getWidth()-1,s=r.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<r.getHeight();){for(var u=0;u<2;++u){var f=o-u;if(n.isEmpty(r.get(f,s))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,t!==255&&F1.getDataMaskBit(t,f,s)&&(h=!h),r.setBoolean(f,s,h)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new Cr("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-gn.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new Bt("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!Oy.isValidMaskPattern(t))throw new Cr("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var o=new Zi;if(o.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new Cr("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Cr("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Cr;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new Cr;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new Cr;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)r.setNumber(e+o,t+i,a[o])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)r.setNumber(e+o,t+i,a[o])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var u=0;u!==o;u++){var f=i[u];f>=0&&n.isEmpty(t.get(f,s))&&n.embedPositionAdjustmentPattern(f-2,s-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),kB=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),Z3=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return F1.applyMaskPenaltyRule1(e)+F1.applyMaskPenaltyRule2(e)+F1.applyMaskPenaltyRule3(e)+F1.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(Fp.CHARACTER_SET)!==void 0;a&&(i=r.get(Fp.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new Zi;if(o===Ir.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Li.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(o,s);var f=new Zi;this.appendBytes(e,o,f,i);var h;if(r!==null&&r.get(Fp.QR_VERSION)!==void 0){var p=Number.parseInt(r.get(Fp.QR_VERSION).toString(),10);h=Zf.getVersionForNumber(p);var g=this.calculateBitsNeeded(o,s,f,h);if(!this.willFit(g,h,t))throw new Cr("Data too big for requested version")}else h=this.recommendVersion(t,o,s,f);var m=new Zi;m.appendBitArray(s);var x=o===Ir.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(x,h,o,m),m.appendBitArray(f);var b=h.getECBlocksForLevel(t),I=h.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(I,m);var C=this.interleaveWithECBytes(m,h.getTotalCodewords(),I,b.getNumBlocks()),P=new Oy;P.setECLevel(t),P.setMode(o),P.setVersion(h);var j=h.getDimensionForVersion(),z=new PB(j,j),X=this.chooseMaskPattern(C,t,h,z);return P.setMaskPattern(X),Q3.buildMatrix(C,t,h,X,z),P.setMatrix(z),P},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,Zf.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(t,r,i,o);return this.chooseVersion(s,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),Li.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Ir.KANJI;for(var r=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(n.isDigit(s))r=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Ir.BYTE}return i?Ir.ALPHANUMERIC:r?Ir.NUMERIC:Ir.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=As.encode(e,Li.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<Oy.NUM_MASK_PATTERNS;s++){Q3.buildMatrix(e,t,r,s,i);var u=this.calculateMaskPenalty(i);u<a&&(a=u,o=s)}return o},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Zf.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new Cr("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),o=a.getTotalECCodewords(),s=i-o,u=(e+7)/8;return s>=u},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new Cr("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var o=e-t.getSizeInBytes(),i=0;i<o;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new Cr("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,o){if(i>=r)throw new Cr("Block ID too large");var s=e%r,u=r-s,f=Math.floor(e/r),h=f+1,p=Math.floor(t/r),g=p+1,m=f-p,x=h-g;if(m!==x)throw new Cr("EC bytes mismatch");if(r!==u+s)throw new Cr("RS blocks mismatch");if(e!==(p+m)*u+(g+x)*s)throw new Cr("Total bytes mismatch");i<u?(a[0]=p,o[0]=m):(a[0]=g,o[0]=x)},n.interleaveWithECBytes=function(e,t,r,i){var a,o,s,u;if(e.getSizeInBytes()!==r)throw new Cr("Number of bits and data bytes does not match");for(var f=0,h=0,p=0,g=new Array,m=0;m<i;++m){var x=new Int32Array(1),b=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,m,x,b);var I=x[0],C=new Uint8Array(I);e.toBytes(8*f,C,0,I);var P=n.generateECBytes(C,b[0]);g.push(new kB(C,P)),h=Math.max(h,I),p=Math.max(p,P.length),f+=x[0]}if(r!==f)throw new Cr("Data bytes does not match offset");for(var j=new Zi,m=0;m<h;++m)try{for(var z=(a=void 0,Z3(g)),X=z.next();!X.done;X=z.next()){var H=X.value,C=H.getDataBytes();m<C.length&&j.appendBits(C[m],8)}}catch(M){a={error:M}}finally{try{X&&!X.done&&(o=z.return)&&o.call(z)}finally{if(a)throw a.error}}for(var m=0;m<p;++m)try{for(var D=(s=void 0,Z3(g)),E=D.next();!E.done;E=D.next()){var H=E.value,P=H.getErrorCorrectionBytes();m<P.length&&j.appendBits(P[m],8)}}catch(M){s={error:M}}finally{try{E&&!E.done&&(u=D.return)&&u.call(D)}finally{if(s)throw s.error}}if(t!==j.getSizeInBytes())throw new Cr("Interleaving error: "+t+" and "+j.getSizeInBytes()+" differ.");return j},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new TS(xo.QR_CODE_FIELD_256).encode(i,t);for(var o=new Uint8Array(t),a=0;a<t;a++)o[a]=i[r+a];return o},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Cr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case Ir.NUMERIC:n.appendNumericBytes(e,r);break;case Ir.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case Ir.BYTE:n.append8BitBytes(e,r,i);break;case Ir.KANJI:n.appendKanjiBytes(e,r);break;default:throw new Cr("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var o=n.getDigit(e.charAt(i+1)),s=n.getDigit(e.charAt(i+2));t.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<r){var o=n.getDigit(e.charAt(i+1));t.appendBits(a*10+o,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Cr;if(i+1<r){var o=n.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Cr;t.appendBits(a*45+o,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=As.encode(e,r)}catch(u){throw new Cr(u)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];t.appendBits(s,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=As.encode(e,Li.SJIS)}catch(p){throw new Cr(p)}for(var i=r.length,a=0;a<i;a+=2){var o=r[a]&255,s=r[a+1]&255,u=o<<8&4294967295|s,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new Cr("Invalid byte sequence");var h=(f>>8)*192+(f&255);t.appendBits(h,13)}},n.appendECI=function(e,t){t.appendBits(Ir.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=Li.UTF8.getName(),n})();var MB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){MB(e,n);function e(t,r,i,a,o,s,u,f){var h=n.call(this,s,u)||this;if(h.yuvData=t,h.dataWidth=r,h.dataHeight=i,h.left=a,h.top=o,a+s>r||o+u>i)throw new Bt("Crop rectangle does not fit within image data.");return f&&h.reverseHorizontal(s,u),h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Bt("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return wr.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return wr.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<r;s++){var u=s*t;wr.arraycopy(this.yuvData,o,a,u,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var u=s*t,f=0;f<t;f++){var h=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+f]=4278190080|h*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<r;a++,o+=this.dataWidth)for(var s=o+t/2,u=o,f=o+t-1;u<s;u++,f--){var h=i[u];i[u]=i[f],i[f]=h}},e.prototype.invert=function(){return new lx(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Dm);var jB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){jB(e,n);function e(t,r,i,a,o,s,u){var f=n.call(this,r,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=s,f.top=u,t.BYTES_PER_ELEMENT===4){for(var h=r*i,p=new Uint8ClampedArray(h),g=0;g<h;g++){var m=t[g],x=m>>16&255,b=m>>7&510,I=m&255;p[g]=(x+b+I)/4&255}f.luminances=p}else f.luminances=t;if(a===void 0&&(f.dataWidth=r),o===void 0&&(f.dataHeight=i),s===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+r>f.dataWidth||f.top+i>f.dataHeight)throw new Bt("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Bt("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return wr.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return wr.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<r;s++){var u=s*t;wr.arraycopy(this.luminances,o,a,u,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new lx(this)},e})(Dm);var BB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FB=function(n){BB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(Li),UB=function(){function n(){}return n.ISO_8859_1=Li.ISO8859_1,n}(),Py,VB=301,zB=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=VB);return{LOG:n,ALOG:e}};Py=zB([],[]),Py.LOG;Py.ALOG;var J3;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(J3||(J3={}));var e4=129,RS=230,qB=231,HB=235,WB=236,GB=237,$B=238,XB=239,YB=240,Av=254,KB=254,t4="[)>05",n4="[)>06",r4="",ar=0,la=1,Ya=2,Oi=3,Xi=4,Pa=5,QB=function(){function n(){}return n.prototype.getEncodingMode=function(){return ar},n.prototype.encode=function(e){var t=ol.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=ol.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Pa:e.writeCodeword(qB),e.signalEncoderChange(Pa);return;case la:e.writeCodeword(RS),e.signalEncoderChange(la);return;case Oi:e.writeCodeword($B),e.signalEncoderChange(Oi);break;case Ya:e.writeCodeword(XB),e.signalEncoderChange(Ya);break;case Xi:e.writeCodeword(YB),e.signalEncoderChange(Xi);break;default:throw new Error("Illegal mode: "+i)}else ol.isExtendedASCII(r)?(e.writeCodeword(HB),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(ol.isDigit(e)&&ol.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),ZB=function(){function n(){}return n.prototype.getEncodingMode=function(){return Pa},n.prototype.encode=function(e){var t=new cn;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=ol.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ar);break}}var a=t.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||u)if(a<=249)t.setCharAt(0,Dn.getCharAt(a));else if(a<=1555)t.setCharAt(0,Dn.getCharAt(Math.floor(a/250)+249)),t.insert(1,Dn.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,r=t.length();f<r;f++)e.writeCodeword(this.randomize255State(t.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),dx=function(){function n(){}return n.prototype.getEncodingMode=function(){return la},n.prototype.encodeMaximal=function(e){for(var t=new cn,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,r=this.encodeChar(o,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var s=Math.floor(t.length()/3*2),u=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(u);var f=e.getSymbolInfo().getDataCapacity()-u,h=Math.floor(t.length()%3);(h===2&&f!==2||h===1&&(r>3||f!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(RS),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new cn;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var u=new cn;for(t.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,t,u,i));t.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,t,u,i);break}var f=t.length();if(f%3===0){var h=ol.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(ar);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),o=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Av)}else if(o===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Av),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(o>0||e.hasMoreCharacters())&&e.writeCodeword(Av)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ar)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new cn;return a.append(r),a.append(i),a.toString()},n}(),JB=function(){function n(){}return n.prototype.getEncodingMode=function(){return Xi},n.prototype.encode=function(e){for(var t=new cn;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var o=ol.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ar);break}}}t.append(Dn.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var o=r-1,s=this.encodeToCodewords(t.toString()),u=!e.hasMoreCharacters(),f=u&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(ar)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Dn.getCharAt(e-64)):ol.illegalCharacter(Dn.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,o=t>=4?e.charAt(3).charCodeAt(0):0,s=(r<<18)+(i<<12)+(a<<6)+o,u=s>>16&255,f=s>>8&255,h=s&255,p=new cn;return p.append(u),t>=2&&p.append(f),t>=3&&p.append(h),p.toString()},n}(),eF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xn=function(){function n(e,t,r,i,a,o,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=u}return n.lookup=function(e,t,r,i,a){var o,s;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var u=tF(rF),f=u.next();!f.done;f=u.next()){var h=f.value;if(!(t===1&&h.rectangular)&&!(t===2&&!h.rectangular)&&!(r!=null&&(h.getSymbolWidth()<r.getWidth()||h.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(p){o={error:p}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),nF=function(n){eF(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(Xn),rF=[new Xn(!1,3,5,8,8,1),new Xn(!1,5,7,10,10,1),new Xn(!0,5,7,16,6,1),new Xn(!1,8,10,12,12,1),new Xn(!0,10,11,14,6,2),new Xn(!1,12,12,14,14,1),new Xn(!0,16,14,24,10,1),new Xn(!1,18,14,16,16,1),new Xn(!1,22,18,18,18,1),new Xn(!0,22,18,16,10,2),new Xn(!1,30,20,20,20,1),new Xn(!0,32,24,16,14,2),new Xn(!1,36,24,22,22,1),new Xn(!1,44,28,24,24,1),new Xn(!0,49,28,22,14,2),new Xn(!1,62,36,14,14,4),new Xn(!1,86,42,16,16,4),new Xn(!1,114,48,18,18,4),new Xn(!1,144,56,20,20,4),new Xn(!1,174,68,22,22,4),new Xn(!1,204,84,24,24,4,102,42),new Xn(!1,280,112,14,14,16,140,56),new Xn(!1,368,144,16,16,16,92,36),new Xn(!1,456,192,18,18,16,114,48),new Xn(!1,576,224,20,20,16,144,56),new Xn(!1,696,272,22,22,16,174,68),new Xn(!1,816,336,24,24,16,136,56),new Xn(!1,1050,408,18,18,36,175,68),new Xn(!1,1304,496,20,20,36,163,62),new nF],iF=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(s){return s.charCodeAt(0)}),r=new cn,i=0,a=t.length;i<a;i++){var o=String.fromCharCode(t[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new cn,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Xn.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),aF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oF=function(n){aF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Oi},e.prototype.encode=function(t){for(var r=new cn;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var o=ol.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(ar);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):ol.illegalCharacter(Dn.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(KB),t.getNewEncoding()<0&&t.signalEncoderChange(ar)},e}(dx),sF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lF=function(n){sF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ya},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}(dx),ol=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=e4+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new dx,s=[new QB,o,new lF,new oF,new JB,new ZB],u=new iF(e);u.setSymbolShape(t),u.setSizeConstraints(r,i),e.startsWith(t4)&&e.endsWith(r4)?(u.writeCodeword(WB),u.setSkipAtEnd(2),u.pos+=t4.length):e.startsWith(n4)&&e.endsWith(r4)&&(u.writeCodeword(GB),u.setSkipAtEnd(2),u.pos+=n4.length);var f=ar;for(a&&(o.encodeMaximal(u),f=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)s[f].encode(u),u.getNewEncoding()>=0&&(f=u.getNewEncoding(),u.resetEncoderSignal());var h=u.getCodewordCount();u.updateSymbolInfo();var p=u.getSymbolInfo().getDataCapacity();h<p&&f!==ar&&f!==Pa&&f!==Xi&&u.writeCodeword("þ");var g=u.getCodewords();for(g.length()<p&&g.append(e4);g.length()<p;)g.append(this.randomize253State(g.length()+1));return u.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===Oi&&i===Oi){for(var a=Math.min(t+3,e.length),o=t;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ar}else if(r===Xi&&i===Xi){for(var a=Math.min(t+4,e.length),o=t;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ar}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===ar?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(t+a===e.length){ki.fill(o,0),ki.fill(s,0);var u=this.findMinimums(i,s,gn.MAX_VALUE,o),f=this.getMinimumCount(o);if(s[ar]===u)return ar;if(f===1){if(o[Pa]>0)return Pa;if(o[Xi]>0)return Xi;if(o[Ya]>0)return Ya;if(o[Oi]>0)return Oi}return la}var h=e.charCodeAt(t+a);if(a++,this.isDigit(h)?i[ar]+=.5:this.isExtendedASCII(h)?(i[ar]=Math.ceil(i[ar]),i[ar]+=2):(i[ar]=Math.ceil(i[ar]),i[ar]++),this.isNativeC40(h)?i[la]+=2/3:this.isExtendedASCII(h)?i[la]+=8/3:i[la]+=4/3,this.isNativeText(h)?i[Ya]+=2/3:this.isExtendedASCII(h)?i[Ya]+=8/3:i[Ya]+=4/3,this.isNativeX12(h)?i[Oi]+=2/3:this.isExtendedASCII(h)?i[Oi]+=13/3:i[Oi]+=10/3,this.isNativeEDIFACT(h)?i[Xi]+=3/4:this.isExtendedASCII(h)?i[Xi]+=17/4:i[Xi]+=13/4,this.isSpecialB256(h)?i[Pa]+=4:i[Pa]++,a>=4){if(ki.fill(o,0),ki.fill(s,0),this.findMinimums(i,s,gn.MAX_VALUE,o),s[ar]<this.min(s[Pa],s[la],s[Ya],s[Oi],s[Xi]))return ar;if(s[Pa]<s[ar]||s[Pa]+1<this.min(s[la],s[Ya],s[Oi],s[Xi]))return Pa;if(s[Xi]+1<this.min(s[Pa],s[la],s[Ya],s[Oi],s[ar]))return Xi;if(s[Ya]+1<this.min(s[Pa],s[la],s[Xi],s[Oi],s[ar]))return Ya;if(s[Oi]+1<this.min(s[Pa],s[la],s[Xi],s[Ya],s[ar]))return Oi;if(s[la]+1<this.min(s[ar],s[Pa],s[Xi],s[Ya])){if(s[la]<s[Oi])return la;if(s[la]===s[Oi]){for(var p=t+a+1;p<e.length;){var g=e.charCodeAt(p);if(this.isX12TermSep(g))return Oi;if(!this.isNativeX12(g))break;p++}return la}}}}},n.min=function(e,t,r,i,a){var o=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?o:Math.min(o,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var o=t[a]=Math.ceil(e[a]);r>o&&(r=o,ki.fill(i,0)),r===o&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=gn.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),Ev=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i4=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return As.encode(e,this.charset)!=null}catch{return!1}},n}(),uF=function(){function n(e,t,r){var i,a,o,s,u,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(T){return new i4(FB.forName(T))}),this.encoders=[];var h=[];h.push(new i4(UB.ISO_8859_1));for(var p=t!=null&&t.name.startsWith("UTF"),g=0;g<e.length;g++){var m=!1;try{for(var x=(i=void 0,Ev(h)),b=x.next();!b.done;b=x.next()){var I=b.value,C=e.charAt(g),P=C.charCodeAt(0);if(P===r||I.canEncode(C)){m=!0;break}}}catch(T){i={error:T}}finally{try{b&&!b.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}if(!m)try{for(var j=(o=void 0,Ev(this.ENCODERS)),z=j.next();!z.done;z=j.next()){var I=z.value;if(I.canEncode(e.charAt(g))){h.push(I),m=!0;break}}}catch(T){o={error:T}}finally{try{z&&!z.done&&(s=j.return)&&s.call(j)}finally{if(o)throw o.error}}m||(p=!0)}if(h.length===1&&!p)this.encoders=[h[0]];else{this.encoders=[];var X=0;try{for(var H=Ev(h),D=H.next();!D.done;D=H.next()){var I=D.value;this.encoders[X++]=I}}catch(T){u={error:T}}finally{try{D&&!D.done&&(f=H.return)&&f.call(H)}finally{if(u)throw u.error}}}var E=-1;if(t!=null){for(var g=0;g<this.encoders.length;g++)if(this.encoders[g]!=null&&t.name===this.encoders[g].name){E=g;break}}this.priorityEncoderIndex=E}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return As.encode(Dn.getCharAt(e),this.encoders[t].name)},n}(),cF=3,fF=function(){function n(e,t,r){this.fnc1=r;var i=new uF(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===r?1e3:o}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new cn,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,o){var s=e.charAt(i).charCodeAt(0),u=0,f=t.length();t.getPriorityEncoderIndex()>=0&&(s===o||t.canEncode(s,t.getPriorityEncoderIndex()))&&(u=t.getPriorityEncoderIndex(),f=u+1);for(var h=u;h<f;h++)(s===o||t.canEncode(s,h))&&this.addEdge(r,i+1,new a4(s,t,h,a,o))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new a4[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var o=1;o<=i;o++){for(var s=0;s<t.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,t,a,o,a[o][s],r);for(var s=0;s<t.length();s++)a[o-1][s]=null}for(var u=-1,f=gn.MAX_VALUE,s=0;s<t.length();s++)if(a[i][s]!=null){var h=a[i][s];h.cachedTotalSize<f&&(f=h.cachedTotalSize,u=s)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],g=a[i][u];g!=null;){if(g.isFNC1())p.unshift(1e3);else for(var m=t.encode(g.c,g.encoderIndex),o=m.length-1;o>=0;o--)p.unshift(m[o]&255);var x=g.previous===null?0:g.previous.encoderIndex;x!==g.encoderIndex&&p.unshift(256+t.getECIValue(g.encoderIndex)),g=g.previous}for(var b=[],o=0;o<b.length;o++)b[o]=p[o];return b},n}(),a4=function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:t.encode(e,r).length,s=i===null?0:i.encoderIndex;s!==r&&(o+=cF),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),hF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var o4;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(o4||(o4={}));(function(n){hF(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(fF);var dF=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),s4=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),pF=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),gF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),px=function(n){gF(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+gn.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(pF),mF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vF=function(n){mF(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(px);function yF(n,e,t){return new vF(n,e,t)}function S1(n,e,t){return new px(n,e,t)}var xF=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],af=0,Bg=1,bs=2,NS=3,Xl=4,_F=new px(null,0,0),Sv=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],bF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function wF(n){var e,t;try{for(var r=bF(n),i=r.next();!i.done;i=r.next()){var a=i.value;ki.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[af][Xl]=0,n[Bg][Xl]=0,n[Bg][af]=28,n[NS][Xl]=0,n[bs][Xl]=0,n[bs][af]=15,n}var DS=wF(ki.createInt32Array(6,6)),AF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EF=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=Sv[this.mode][e];i=S1(i,a&65535,a>>16),r+=a>>16}var o=e===bs?4:5;return i=S1(i,t,o),new n(i,e,0,r+o)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===bs?4:5;return r=S1(r,DS[this.mode][e],i),r=S1(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===Xl||this.mode===bs){var a=Sv[r][af];t=S1(t,a&65535,a>>16),i+=a>>16,r=af}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new n(t,r,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=yF(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Sv[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new Zi;try{for(var s=AF(i),u=s.next();!u.done;u=s.next()){var f=u.value;f.appendTo(o,e)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o},n.prototype.toString=function(){return Dn.format("%s bits=%d bytes=%d",xF[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(_F,af,0,0),n}();function SF(n){var e=Dn.getCharCode(" "),t=Dn.getCharCode("."),r=Dn.getCharCode(",");n[af][e]=1;for(var i=Dn.getCharCode("Z"),a=Dn.getCharCode("A"),o=a;o<=i;o++)n[af][o]=o-a+2;n[Bg][e]=1;for(var s=Dn.getCharCode("z"),u=Dn.getCharCode("a"),o=u;o<=s;o++)n[Bg][o]=o-u+2;n[bs][e]=1;for(var f=Dn.getCharCode("9"),h=Dn.getCharCode("0"),o=h;o<=f;o++)n[bs][o]=o-h+2;n[bs][r]=12,n[bs][t]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],g=0;g<p.length;g++)n[NS][Dn.getCharCode(p[g])]=g;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<m.length;g++)Dn.getCharCode(m[g])>0&&(n[Xl][Dn.getCharCode(m[g])]=g);return n}var Cv=SF(ki.createInt32Array(5,256)),Up=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CF=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=Dn.getCharCode(" "),t=Dn.getCharCode(`
`),r=s4.singletonList(EF.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Dn.getCharCode("\r"):a=o===t?2:0;break;case Dn.getCharCode("."):a=o===e?3:0;break;case Dn.getCharCode(","):a=o===e?4:0;break;case Dn.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var s=s4.min(r,function(u,f){return u.getBitCount()-f.getBitCount()});return s.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var o=Up(e),s=o.next();!s.done;s=o.next()){var u=s.value;this.updateStateForChar(u,t,a)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=Cv[e.getMode()][i]>0,o=null,s=0;s<=Xl;s++){var u=Cv[s][i];if(u>0){if(o==null&&(o=e.endBinaryShift(t)),!a||s===e.getMode()||s===bs){var f=o.latchAndAppend(s,u);r.push(f)}if(!a&&DS[e.getMode()][s]>=0){var h=o.shiftAndAppend(s,u);r.push(h)}}}if(e.getBinaryShiftByteCount()>0||Cv[e.getMode()][i]===0){var p=e.addBinaryShiftChar(t);r.push(p)}},n.updateStateListForPair=function(e,t,r){var i,a,o=[];try{for(var s=Up(e),u=s.next();!u.done;u=s.next()){var f=u.value;this.updateStateForPair(f,t,r,o)}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Xl,r)),e.getMode()!==Xl&&i.push(a.shiftAndAppend(Xl,r)),r===3||r===4){var o=a.latchAndAppend(bs,16-r).latchAndAppend(bs,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(s)}},n.simplifyStates=function(e){var t,r,i,a,o=[];try{for(var s=Up(e),u=s.next();!u.done;u=s.next()){var f=u.value,h=!0,p=function(I){if(I.isBetterThanOrEqualTo(f))return h=!1,"break";f.isBetterThanOrEqualTo(I)&&(o=o.filter(function(C){return C!==I}))};try{for(var g=(i=void 0,Up(o)),m=g.next();!m.done;m=g.next()){var x=m.value,b=p(x);if(b==="break")break}}catch(I){i={error:I}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}h&&o.push(f)}}catch(I){t={error:I}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o},n}(),IF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new CF(e).encode(),a=gn.truncDivision(i.getSize()*t,100)+11,o=i.getSize()+a,s,u,f,h,p;if(r!==n.DEFAULT_AZTEC_LAYERS){if(s=r<0,u=Math.abs(r),u>(s?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Bt(Dn.format("Illegal value %s for layers",r));f=n.totalBitsInLayer(u,s),h=n.WORD_SIZE[u];var g=f-f%h;if(p=n.stuffBits(i,h),p.getSize()+a>g)throw new Bt("Data to large for user specified layer");if(s&&p.getSize()>h*64)throw new Bt("Data to large for user specified layer")}else{h=0,p=null;for(var m=0;;m++){if(m>n.MAX_NB_BITS)throw new Bt("Data too large for an Aztec code");if(s=m<=3,u=s?m+1:m,f=n.totalBitsInLayer(u,s),!(o>f)){(p==null||h!==n.WORD_SIZE[u])&&(h=n.WORD_SIZE[u],p=n.stuffBits(i,h));var g=f-f%h;if(!(s&&p.getSize()>h*64)&&p.getSize()+a<=g)break}}}var x=n.generateCheckWords(p,f,h),b=p.getSize()/h,I=n.generateModeMessage(s,u,b),C=(s?11:14)+u*4,P=new Int32Array(C),j;if(s){j=C;for(var m=0;m<P.length;m++)P[m]=m}else{j=C+1+2*gn.truncDivision(gn.truncDivision(C,2)-1,15);for(var z=gn.truncDivision(C,2),X=gn.truncDivision(j,2),m=0;m<z;m++){var H=m+gn.truncDivision(m,15);P[z-m-1]=X-H-1,P[z+m]=X+H+1}}for(var D=new iu(j),m=0,E=0;m<u;m++){for(var T=(u-m)*4+(s?9:12),M=0;M<T;M++)for(var R=M*2,L=0;L<2;L++)x.get(E+R+L)&&D.set(P[m*2+L],P[m*2+M]),x.get(E+T*2+R+L)&&D.set(P[m*2+M],P[C-1-m*2-L]),x.get(E+T*4+R+L)&&D.set(P[C-1-m*2-L],P[C-1-m*2-M]),x.get(E+T*6+R+L)&&D.set(P[C-1-m*2-M],P[m*2+L]);E+=T*8}if(n.drawModeMessage(D,s,j,I),s)n.drawBullsEye(D,gn.truncDivision(j,2),5);else{n.drawBullsEye(D,gn.truncDivision(j,2),7);for(var m=0,M=0;m<gn.truncDivision(C,2)-1;m+=15,M+=16)for(var L=gn.truncDivision(j,2)&1;L<j;L+=2)D.set(gn.truncDivision(j,2)-M,L),D.set(gn.truncDivision(j,2)+M,L),D.set(L,gn.truncDivision(j,2)-M),D.set(L,gn.truncDivision(j,2)+M)}var B=new dF;return B.setCompact(s),B.setSize(j),B.setLayers(u),B.setCodeWords(b),B.setMatrix(D),B},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new Zi;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=gn.truncDivision(r,2);if(t)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+gn.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},n.generateCheckWords=function(e,t,r){var i,a,o=e.getSize()/r,s=new TS(n.getGF(r)),u=gn.truncDivision(t,r),f=n.bitsToWords(e,r,u);s.encode(f,u-o);var h=t%r,p=new Zi;p.appendBits(0,h);try{for(var g=IF(Array.from(f)),m=g.next();!m.done;m=g.next()){var x=m.value;p.appendBits(x,r)}}catch(b){i={error:b}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}return p},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,o;for(a=0,o=e.getSize()/t;a<o;a++){for(var s=0,u=0;u<t;u++)s|=e.get(a*t+u)?1<<t-u-1:0;i[a]=s}return i},n.getGF=function(e){switch(e){case 4:return xo.AZTEC_PARAM;case 6:return xo.AZTEC_DATA_6;case 8:return xo.AZTEC_DATA_8;case 10:return xo.AZTEC_DATA_10;case 12:return xo.AZTEC_DATA_12;default:throw new Bt("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new Zi,i=e.getSize(),a=(1<<t)-2,o=0;o<i;o+=t){for(var s=0,u=0;u<t;u++)(o+u>=i||e.get(o+u))&&(s|=1<<t-1-u);(s&a)===a?(r.appendBits(s&a,t),o--):(s&a)===0?(r.appendBits(s|1,t),o--):r.appendBits(s,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();const TF=({onScanSuccess:n,onClose:e})=>{const t=pe.useRef(null),r=pe.useRef(null);return pe.useEffect(()=>{const i=new RB;return r.current=i,i.decodeFromVideoDevice(null,t.current,a=>{a&&(i.reset(),n(a.getText()))}),()=>{try{i.reset()}catch{}}},[n]),w.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"#000000e6",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[w.jsx("video",{ref:t,style:{width:"90%",maxWidth:"500px",borderRadius:"12px",border:"3px solid white"},muted:!0,autoPlay:!0,playsInline:!0}),w.jsx("button",{onClick:()=>{var i;(i=r.current)==null||i.reset(),e()},style:{marginTop:"1rem",padding:"10px 20px",backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer"},children:"סגור סורק"})]})};function OS(n){const e=[...new Set(n)].sort((t,r)=>t-r);for(let t=1;t<=e.length+1;t++)if(!e.includes(t))return t}async function l4({name:n,quantity:e,allowMerge:t=!1,existingItemId:r=null,imageUrl:i=null,publicComment:a="",internalComment:o="",createdBy:s="",updatedBy:u="",createdAt:f=null,updatedAt:h=null}){if(n=n.trim(),t&&r){const I=Ar(kt,"items",r),j=(await yr(Gu(On(kt,"items"),Ju("__name__","==",r)))).docs[0].data().quantity+e,z={quantity:j};return i&&(z.imageUrl=i),await Qa(I,z),{merged:!0,newQuantity:j}}const g=(await yr(On(kt,"items"))).docs.map(I=>I.data().ItemId).filter(I=>typeof I=="number"),m=OS(g),x=On(kt,"items"),b=Ar(x);return await tx(b,{name:n,quantity:e,imageUrl:i,ItemId:m,isActive:!0,createdAt:f,updatedAt:h,createdBy:s,updatedBy:u,publicComment:a,internalComment:o}),{added:!0,ItemId:m}}async function RF(n,e=""){const t=Ar(kt,"items",n),r=await Ad(t);if(!r.exists())throw new Error("Item not found");const{ItemId:i,...a}=r.data();await Cm(On(kt,"deletedItems"),{...a,deletedAt:Ai(),deletedBy:e}),await Sm(t)}async function NF(n,e=""){const t=Ar(kt,"deletedItems",n),r=await Ad(t);if(!r.exists())throw new Error("Deleted item not found");const i=r.data(),o=(await yr(On(kt,"items"))).docs.map(u=>u.data().ItemId).filter(u=>typeof u=="number"),s=OS(o);await tx(Ar(On(kt,"items")),{...i,ItemId:s,createdAt:Ai(),updatedAt:Ai(),createdBy:e,updatedBy:e,isActive:!0}),await Sm(t)}async function DF(n){const e=Gu(On(kt,"items"),Ju("ItemId","==",Number(n))),t=await yr(e);if(!t.empty){const r=t.docs[0];return{id:r.id,...r.data()}}throw new Error("לא נמצא מוצר עם ברקוד זה")}const OF=({item:n,onConfirm:e,onCancel:t})=>{const[r,i]=pe.useState(1),a=r>=1&&r<=n.quantity;return w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"modal-box",dir:"rtl",children:[w.jsx("h3",{style:{textAlign:"center"},children:n.name}),w.jsx("img",{src:n.imageUrl,alt:n.name,style:{width:"100%",maxHeight:"200px",objectFit:"cover"}}),w.jsxs("p",{children:["מזהה מוצר: ",n.ItemId]}),w.jsxs("p",{children:["כמות זמינה: ",n.quantity]}),w.jsxs("div",{style:{marginTop:"1rem"},children:[w.jsx("label",{children:"בחר כמות:"}),w.jsx("input",{type:"number",value:r,min:1,max:n.quantity,onChange:o=>i(+o.target.value),style:{width:"100%",padding:"10px",marginTop:"0.5rem",border:a?"1px solid #ccc":"2px solid red"}}),!a&&w.jsxs("p",{style:{color:"red",marginTop:"0.5rem"},children:["כמות לא תקינה. יש לבחור בין 1 ל־",n.quantity]})]}),w.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"space-between"},children:[w.jsx("button",{className:"btn btn-red",onClick:t,children:"ביטול"}),w.jsx("button",{className:"btn btn-green",onClick:()=>e(r),disabled:!a,children:"אישור"})]})]})})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LF=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),u4=n=>{const e=LF(n);return e.charAt(0).toUpperCase()+e.slice(1)},PS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),kF=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=pe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},u)=>pe.createElement("svg",{ref:u,...MF,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:PS("lucide",i),...!a&&!kF(s)&&{"aria-hidden":"true"},...s},[...o.map(([f,h])=>pe.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=(n,e)=>{const t=pe.forwardRef(({className:r,...i},a)=>pe.createElement(jF,{ref:a,iconNode:e,className:PS(`lucide-${PF(u4(n))}`,`lucide-${n}`,r),...i}));return t.displayName=u4(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],FF=Wr("arrow-right",BF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sh=Wr("calendar",UF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zF=Wr("chart-column",VF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],S0=Wr("chevron-left",qF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C0=Wr("chevron-right",HF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ld=Wr("circle-check-big",WF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],I0=Wr("circle-x",GF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],XF=Wr("clipboard-check",$F);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gx=Wr("clock",YF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],QF=Wr("download",KF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],mx=Wr("ellipsis",ZF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vx=Wr("eye",JF);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],LS=Wr("map-pin",eU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M5 12h14",key:"1ays0h"}]],nU=Wr("minus",tU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Es=Wr("package",rU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Lm=Wr("phone",iU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oU=Wr("plus",aU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kS=Wr("save",sU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],MS=Wr("search",lU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jS=Wr("square-pen",uU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],BS=Wr("trash-2",cU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FS=Wr("user",fU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dU=Wr("x",hU),pU=({currentPage:n,totalItems:e,itemsPerPage:t,onPageChange:r,className:i=""})=>{const a=Math.ceil(e/t),o=window.innerWidth<=768;if(a<=1)return null;const u=(()=>{const p=o?5:7,g=Math.floor(p/2);let m=Math.max(1,n-g),x=Math.min(a,m+p-1);x-m+1<p&&(m=Math.max(1,x-p+1));const b=[];m>1&&(b.push(1),m>2&&b.push("..."));for(let I=m;I<=x;I++)b.push(I);return x<a&&(x<a-1&&b.push("..."),b.push(a)),b})(),f=(n-1)*t+1,h=Math.min(n*t,e);return w.jsxs("div",{className:`pagination-container ${i}`,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",margin:"1.5rem 0",direction:"rtl"},children:[w.jsxs("div",{style:{fontSize:o?"0.875rem":"1rem",color:"#6b7280",textAlign:"center"},children:["מציג ",f,"-",h," מתוך ",e," מוצרים"]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:o?"0.25rem":"0.5rem",flexWrap:"wrap",justifyContent:"center"},children:[w.jsx("button",{onClick:()=>r(n-1),disabled:n===1,style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",border:"1px solid #d1d5db",borderRadius:"8px",background:n===1?"#f9fafb":"white",color:n===1?"#9ca3af":"#374151",cursor:n===1?"not-allowed":"pointer",transition:"all 0.2s ease"},children:w.jsx(C0,{size:o?16:20})}),u.map((p,g)=>{if(p==="...")return w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",color:"#9ca3af"},children:w.jsx(mx,{size:o?16:20})},`dots-${g}`);const m=p===n;return w.jsx("button",{onClick:()=>r(p),style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",border:m?"2px solid #3b82f6":"1px solid #d1d5db",borderRadius:"8px",background:m?"#3b82f6":"white",color:m?"white":"#374151",cursor:"pointer",transition:"all 0.2s ease",fontWeight:m?"bold":"normal",fontSize:o?"14px":"16px"},children:p},p)}),w.jsx("button",{onClick:()=>r(n+1),disabled:n===a,style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",border:"1px solid #d1d5db",borderRadius:"8px",background:n===a?"#f9fafb":"white",color:n===a?"#9ca3af":"#374151",cursor:n===a?"not-allowed":"pointer",transition:"all 0.2s ease"},children:w.jsx(S0,{size:o?16:20})})]})]})},US=({showCatalogPopup:n,setShowCatalogPopup:e,searchTerm:t,setSearchTerm:r,availableItems:i,toggleSelectItem:a,changeQty:o,form:s,loadingItems:u,setAvailableItems:f,hideBarcodeScanner:h=!1})=>{const[p,g]=pe.useState(!1),[m,x]=pe.useState(null),[b,I]=pe.useState([]),[C,P]=pe.useState(1),[j,z]=pe.useState(window.innerWidth<=768),X=j?6:8;if(pe.useEffect(()=>{const U=()=>{const Q=window.innerWidth<=768;Q!==j&&(z(Q),P(1))};return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[j]),pe.useEffect(()=>{P(1)},[t]),pe.useEffect(()=>{n&&(console.log("🔍 Modal נפתח, מאתחל local state עם פריטים:",i.length),I([...i]))},[n,i]),!n)return null;const H=async U=>{console.log("📱 ברקוד נסרק:",U);try{const Q=await DF(U);console.log("🔍 פריט נמצא במאגר:",Q);const ae=i.find(me=>me.ItemId===Q.ItemId||me.id===Q.id);if(console.log("🔍 מחפש פריט ברשימה זמינה:",ae),!ae){console.log("❌ הפריט לא נמצא ברשימת הפריטים הזמינים לתקופה זו"),alert("הפריט לא זמין לתקופת ההזמנה שלך"),g(!1);return}if(b.some(me=>(me.ItemId===Q.ItemId||me.id===Q.id)&&me.selected)){console.log("⚠️ המוצר כבר נבחר ברשימה"),alert("המוצר כבר נבחר ברשימה"),g(!1);return}ae.quantity>0?(console.log("✅ המוצר זמין, פותח מודל אישור"),x(ae),g(!1)):(console.log("❌ המוצר לא זמין במלאי לתקופה זו"),alert("המוצר לא זמין במלאי לתקופה זו"),g(!1))}catch(Q){console.error("❌ שגיאה באיתור הפריט:",Q),alert(Q.message),g(!1)}},D=U=>{console.log("🔄 משנה בחירה עבור פריט:",U),I(Q=>Q.map(ae=>ae.id===U?{...ae,selected:!ae.selected,selectedQty:ae.selected?0:1}:ae))},E=(U,Q)=>{let ae=parseInt(Q)||0;ae>U.quantity&&(ae=U.quantity),ae<0&&(ae=0),console.log("🔢 משנה כמות עבור",U.name,"לכמות:",ae),I(Y=>Y.map(me=>me.id===U.id?{...me,selectedQty:ae,selected:ae>0}:me))},T=()=>{console.log("💾 מחיל שינויים על state הראשי..."),b.forEach(U=>{const Q=i.find(ae=>ae.id===U.id);Q&&(U.selected!==Q.selected&&a(U.id),U.selectedQty!==Q.selectedQty&&o(U.id,U.selectedQty))})},M=()=>{console.log("✅ מאשר בחירות ומחיל שינויים..."),T(),e(!1)},R=(U="unknown")=>{console.log("❌ מבטל בחירות וסוגר מודל - מקור:",U),e(!1)},L=U=>{U.target===U.currentTarget?(console.log("🖱️ קליק על overlay - סוגר מודל"),R("overlay-click")):console.log("🖱️ קליק בתוך המודל - לא סוגר")},B=b.filter(U=>U.name.toLowerCase().includes(t.toLowerCase())),q=(C-1)*X,te=q+X,V=B.slice(q,te);return console.log("📊 סטטיסטיקות פריטים:",{totalItems:b.length,filteredItems:B.length,currentPageItems:V.length,currentPage:C,itemsPerPage:X}),w.jsxs("div",{className:"modal-overlay",onClick:L,children:[w.jsxs("div",{className:"modal-box",dir:"rtl",onClick:U=>U.stopPropagation(),children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[!h&&w.jsx("button",{style:{width:"180px"},className:"btn btn-gray",onClick:()=>{console.log("📱 פותח סורק ברקוד..."),g(!0)},children:"סריקת ברקוד"}),w.jsx("input",{type:"text",placeholder:"חיפוש מוצר...",value:t,onChange:U=>{console.log("🔍 חיפוש משתנה ל:",U.target.value),r(U.target.value)},style:{padding:"8px",border:"1px solid #ccc",borderRadius:"6px",width:h?"100%":"60%"}})]}),w.jsxs("h3",{style:{textAlign:"center",marginBottom:"1rem"},children:["מוצרים זמינים (",s.pickupDate," → ",s.returnDate,")"]}),t&&w.jsx("div",{style:{background:"#f0f9ff",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #0ea5e9",textAlign:"center"},children:w.jsxs("p",{style:{margin:0,color:"#0369a1",fontSize:"0.9rem"},children:["🔍 נמצאו ",B.length,' מוצרים עבור "',t,'"']})}),u?w.jsx("p",{style:{textAlign:"center"},children:"טוען מוצרים…"}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"modal-grid",children:V.length===0?w.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"#6b7280"},children:t?`לא נמצאו מוצרים לחיפוש "${t}"`:"לא נמצאו מוצרים זמינים"}):V.map(U=>w.jsxs("div",{className:`item-card ${U.selected?"selected":""}`,children:[w.jsx("img",{src:U.imageUrl||"/no-image-available.png",alt:U.name,className:"item-image"}),w.jsx("h4",{children:U.name}),w.jsxs("p",{children:["זמין: ",U.quantity]}),w.jsxs("p",{children:["מזהה מוצר: ",U.ItemId]}),w.jsxs("div",{style:{margin:"0.5rem 0"},children:[w.jsx("label",{style:{marginBottom:"0.3rem",display:"block"},children:"כמות:"}),w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[w.jsx("button",{onClick:()=>E(U,Math.max(0,U.selectedQty-1)),disabled:U.selectedQty<=0,style:{width:"30px",height:"30px",borderRadius:"50%",border:"1px solid #ccc",backgroundColor:U.selectedQty<=0?"#f5f5f5":"#fff",cursor:U.selectedQty<=0?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",color:U.selectedQty<=0?"#ccc":"#333"},children:"-"}),w.jsx("input",{type:"number",min:0,max:U.quantity,value:U.selectedQty,onChange:Q=>E(U,Q.target.value),onBlur:Q=>{(parseInt(Q.target.value)||0)>U.quantity&&E(U,U.quantity)},style:{width:"50px",height:"30px",padding:"5px",textAlign:"center",borderRadius:"6px",border:U.selectedQty>U.quantity?"2px solid red":"1px solid #ccc",backgroundColor:U.selectedQty>0?"#e3f2fd":"#fff",fontSize:"14px",fontWeight:"bold",appearance:"textfield",MozAppearance:"textfield"}}),w.jsx("button",{onClick:()=>E(U,Math.min(U.quantity,U.selectedQty+1)),disabled:U.selectedQty>=U.quantity,style:{width:"30px",height:"30px",borderRadius:"50%",border:"1px solid #ccc",backgroundColor:U.selectedQty>=U.quantity?"#f5f5f5":"#fff",cursor:U.selectedQty>=U.quantity?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",color:U.selectedQty>=U.quantity?"#ccc":"#333"},children:"+"})]}),U.selectedQty>U.quantity&&w.jsxs("div",{style:{color:"red",fontSize:"0.8rem",marginTop:"0.2rem"},children:["מקסימום: ",U.quantity]})]}),w.jsx("button",{onClick:()=>D(U.id),className:`btn ${U.selected?"btn-red":"btn-blue"}`,style:{width:"100%",marginTop:"0.5rem"},children:U.selected?"❌ הסר מוצר":"🛒 בחר מוצר"})]},U.id))}),w.jsx(pU,{currentPage:C,totalItems:B.length,itemsPerPage:X,onPageChange:P})]}),w.jsxs("div",{className:"modal-actions",children:[w.jsx("button",{className:"btn btn-blue",onClick:()=>{console.log("✅ לחיצה על כפתור אישור"),M()},children:"✔️ אישור"}),w.jsx("button",{className:"btn btn-gray",onClick:()=>{console.log("❌ לחיצה על כפתור ביטול"),R("cancel-button")},children:"❌ ביטול"})]})]}),!h&&p&&w.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e4,backgroundColor:"rgba(0, 0, 0, 0.8)"},onClick:U=>{console.log("📱 קליק על רקע הסורק"),U.stopPropagation()},children:w.jsx(TF,{onScanSuccess:H,onClose:()=>{console.log("📱 סורק ברקוד נסגר"),g(!1)}})}),!h&&m&&w.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10001,backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:U=>{console.log("📦 קליק על רקע מודל תוצאת סריקה"),U.stopPropagation()},children:w.jsx(OF,{item:m,onCancel:()=>{console.log("❌ מבטל תוצאת סריקה"),x(null),g(!1)},onConfirm:U=>{console.log("✅ מאשר הוספת פריט מסריקה:",m.name,"כמות:",U),I(ae=>{const Y=ae.map(me=>me.id===m.id||me.ItemId===m.ItemId?(console.log("📝 מעדכן פריט ב-localItems:",me.name,"כמות חדשה:",U),{...me,selected:!0,selectedQty:U}):me);return console.log("📊 localItems אחרי עדכון:",Y.filter(me=>me.selected)),Y}),x(null),console.log("🎯 פריט נוסף בהצלחה מסריקה, המודל נשאר פתוח להמשך בחירה");const Q=b.findIndex(ae=>ae.id===m.id||ae.ItemId===m.ItemId);if(Q>=0){const ae=Math.ceil((Q+1)/X);console.log("📄 מעבר לעמוד",ae,"כדי להציג את הפריט שנוסף"),P(ae)}}})})]})},gU=({onOrderCreated:n})=>{const[e,t]=pe.useState({volunteerName:"",clientName:"",address:"",phone:"",email:"",eventType:"",pickupDate:"",eventDate:"",returnDate:""}),[r,i]=pe.useState({}),[a,o]=pe.useState(!1),[s,u]=pe.useState([]),[f,h]=pe.useState(!1),[p,g]=pe.useState(""),[m,x]=pe.useState(!1),b=X=>{t({...e,[X.target.name]:X.target.value})},I=()=>{const X={},H=new Date().toISOString().split("T")[0],{pickupDate:D,eventDate:E,returnDate:T}=e;return e.volunteerName.trim()||(X.volunteerName="שדה חובה"),e.clientName.trim()||(X.clientName="שדה חובה"),e.address.trim()||(X.address="שדה חובה"),e.phone.trim()?/^\d{10}$/.test(e.phone)||(X.phone="מספר טלפון לא תקין"):X.phone="שדה חובה",e.eventType.trim()||(X.eventType="שדה חובה"),D||(X.pickupDate="שדה חובה"),E||(X.eventDate="שדה חובה"),T||(X.returnDate="שדה חובה"),D&&D<H&&(X.pickupDate="תאריך לא יכול להיות בעבר"),E&&D&&E<D&&(X.eventDate="תאריך האירוע לא יכול להיות לפני לקיחה"),T&&D&&T<=D&&(X.returnDate="החזרה אחרי לקיחה"),i(X),Object.keys(X).length===0},C=()=>{window.confirm("האם אתה בטוח שברצונך לבטל את ההזמנה?")&&(t({volunteerName:"",clientName:"",address:"",phone:"",email:"",eventType:"",pickupDate:"",eventDate:"",returnDate:""}),i({}),u([]),g(""),o(!1))},P=async()=>{if(!I())return;const H=(await yr(On(kt,"orders"))).docs.map(T=>T.data().simpleId).filter(T=>typeof T=="number"),D=H.length>0?Math.max(...H)+1:1,E=s.filter(T=>T.selected).map(T=>({id:T.id,ItemId:T.ItemId,name:T.name,quantity:T.selectedQty,imageUrl:T.imageUrl}));x(!0);try{const T=await Cm(On(kt,"orders"),{...e,items:E,status:"open",simpleId:D,createdAt:Ai()});await Qa(T,{orderId:T.id}),t({volunteerName:"",clientName:"",address:"",phone:"",email:"",eventType:"",pickupDate:"",eventDate:"",returnDate:""}),u([]),g(""),o(!1),alert(`ההזמנה נשמרה! מס' הזמנה: ${D}`),n&&await n()}catch(T){console.error("שגיאה בשמירה:",T),alert("שגיאה בשמירת ההזמנה")}x(!1)};pe.useEffect(()=>{if(!a)return;(async()=>{h(!0);const H=D=>D?D.toDate?D.toDate():typeof D=="string"?new Date(D):D:null;try{const E=(await yr(On(kt,"items"))).docs.map(V=>({id:V.id,...V.data()})).filter(V=>V.isDeleted!==!0),T=await yr(On(kt,"orders")),M=H(e.pickupDate),R=H(e.returnDate),L=T.docs.map(V=>V.data()).filter(V=>{const U=H(V.pickupDate),Q=H(V.returnDate);return V.status==="open"&&U&&Q&&M&&R&&Q>=M&&U<=R}),B={};L.forEach(V=>{var U;(U=V.items)==null||U.forEach(Q=>{B[Q.id]=(B[Q.id]||0)+Q.quantity})});const q={};s.forEach(V=>{V.selected&&V.selectedQty>0&&(q[V.id]={selected:V.selected,selectedQty:V.selectedQty})});const te=E.map(V=>{const U=(V.quantity||0)-(B[V.id]||0),Q=q[V.id];return{...V,quantity:U,selected:Q?Q.selected:!1,selectedQty:Q?Q.selectedQty:0}}).filter(V=>V.quantity>0);u(te)}catch(D){console.error("שגיאה בחישוב זמינות:",D),u([])}h(!1)})()},[a,e.pickupDate,e.returnDate]);const j=X=>{u(H=>H.map(D=>D.id===X?{...D,selected:!D.selected,selectedQty:D.selected?0:1}:D))},z=(X,H)=>{u(D=>D.map(E=>E.id===X?{...E,selected:H>0,selectedQty:H}:E))};return w.jsxs("div",{className:"new-loan-container",children:[w.jsx(zk,{form:e,errors:r,handleChange:b,handleConfirm:P,handleClear:C,setShowCatalogPopup:o,saving:m}),w.jsx(US,{showCatalogPopup:a,setShowCatalogPopup:o,searchTerm:p,setSearchTerm:g,setAvailableItems:u,availableItems:s,toggleSelectItem:j,changeQty:z,form:e,loadingItems:f})]})},mU=({onRequestSubmitted:n})=>{const{user:e}=xf(),[t,r]=pe.useState({clientName:"",address:"",phone:"",email:"",eventType:"",pickupDate:"",eventDate:"",returnDate:""}),[i,a]=pe.useState({}),[o,s]=pe.useState(!1),[u,f]=pe.useState([]),[h,p]=pe.useState(!1),[g,m]=pe.useState(""),[x,b]=pe.useState(!1),I=pe.useCallback(D=>{const{name:E,value:T}=D.target;r(M=>({...M,[E]:T}))},[]),C=()=>{const D={},E=new Date().toISOString().split("T")[0],{pickupDate:T,eventDate:M,returnDate:R}=t;return t.clientName.trim()||(D.clientName="שדה חובה"),t.address.trim()||(D.address="שדה חובה"),t.phone.trim()?/^\d{10}$/.test(t.phone)||(D.phone="מספר טלפון לא תקין"):D.phone="שדה חובה",t.eventType.trim()||(D.eventType="שדה חובה"),T||(D.pickupDate="שדה חובה"),M||(D.eventDate="שדה חובה"),R||(D.returnDate="שדה חובה"),T&&T<E&&(D.pickupDate="תאריך לא יכול להיות בעבר"),M&&T&&M<T&&(D.eventDate="תאריך האירוע לא יכול להיות לפני לקיחה"),R&&T&&R<=T&&(D.returnDate="החזרה אחרי לקיחה"),a(D),Object.keys(D).length===0},P=()=>{window.confirm("האם אתה בטוח שברצונך לבטל את הבקשה?")&&(r({clientName:"",address:"",phone:"",email:"",eventType:"",pickupDate:"",eventDate:"",returnDate:""}),a({}),f([]),m(""),s(!1))},j=async()=>{if(!C())return;const D=u.filter(E=>E.selected).map(E=>({id:E.id,ItemId:E.ItemId,name:E.name,quantity:E.selectedQty,imageUrl:E.imageUrl}));if(D.length===0){alert("יש לבחור לפחות פריט אחד");return}b(!0);try{await Cm(On(kt,"orderRequests"),{...t,items:D,status:"pending",requestedBy:e.uid,requestedByUsername:e.username,requestedByEmail:e.email,requestedAt:Ai(),approvedBy:null,approvedAt:null}),r({clientName:"",address:"",phone:"",email:"",eventType:"",pickupDate:"",eventDate:"",returnDate:""}),f([]),m(""),s(!1),alert("🎉 הבקשה נשלחה בהצלחה! תקבל עדכון כאשר הבקשה תאושר."),n&&await n()}catch(E){console.error("שגיאה בשליחת הבקשה:",E),alert("שגיאה בשליחת הבקשה. אנא נסה שוב.")}b(!1)};pe.useEffect(()=>{if(!o)return;(async()=>{p(!0);const E=T=>T?T.toDate?T.toDate():typeof T=="string"?new Date(T):T:null;try{const M=(await yr(On(kt,"items"))).docs.map(Q=>({id:Q.id,...Q.data()})).filter(Q=>Q.isDeleted!==!0),R=await yr(On(kt,"orders")),L=E(t.pickupDate),B=E(t.returnDate),q=R.docs.map(Q=>Q.data()).filter(Q=>{const ae=E(Q.pickupDate),Y=E(Q.returnDate);return Q.status==="open"&&ae&&Y&&L&&B&&Y>=L&&ae<=B}),te={};q.forEach(Q=>{var ae;(ae=Q.items)==null||ae.forEach(Y=>{te[Y.id]=(te[Y.id]||0)+Y.quantity})});const V={};u.forEach(Q=>{Q.selected&&Q.selectedQty>0&&(V[Q.id]={selected:Q.selected,selectedQty:Q.selectedQty})});const U=M.map(Q=>{const ae=(Q.quantity||0)-(te[Q.id]||0),Y=V[Q.id];return{...Q,quantity:ae,selected:Y?Y.selected:!1,selectedQty:Y?Y.selectedQty:0}}).filter(Q=>Q.quantity>0);f(U)}catch(T){console.error("שגיאה בחישוב זמינות:",T),f([])}p(!1)})()},[o,t.pickupDate,t.returnDate]);const z=D=>{f(E=>E.map(T=>T.id===D?{...T,selected:!T.selected,selectedQty:T.selected?0:1}:T))},X=(D,E)=>{f(T=>T.map(M=>M.id===D?{...M,selected:E>0,selectedQty:E}:M))},H=[{label:"שם לקוח",name:"clientName",required:!0},{label:"מקום מגורים",name:"address",required:!0},{label:"מספר פלאפון",name:"phone",required:!0},{label:"אימייל",name:"email",required:!1},{label:"סוג האירוע",name:"eventType",required:!0},{label:"תאריך לקיחת מוצרים",name:"pickupDate",type:"date",required:!0},{label:"תאריך האירוע",name:"eventDate",type:"date",required:!0},{label:"תאריך החזרת מוצרים",name:"returnDate",type:"date",required:!0}];return w.jsxs("div",{className:"new-loan-container",children:[w.jsxs("div",{className:"loan-form-box",children:[w.jsx("h2",{style:{textAlign:"center"},children:"🙏 בקשת השאלה"}),w.jsx("p",{style:{textAlign:"center",color:"#666",marginBottom:"2rem"},children:"מלא את הפרטים והבקשה תישלח לאישור המנהלים"}),H.map(({label:D,name:E,type:T="text",required:M})=>w.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[w.jsxs("label",{htmlFor:E,style:{display:"block",marginBottom:"0.3rem",maxWidth:"400px",margin:"0 auto",textAlign:"right"},children:[D,M&&" *"]}),w.jsx("input",{id:E,type:T,name:E,value:t[E]||"",onChange:I,autoComplete:"off",min:T==="date"?E==="pickupDate"?new Date().toISOString().split("T")[0]:E==="eventDate"||E==="returnDate"?t.pickupDate||new Date().toISOString().split("T")[0]:void 0:void 0,style:{display:"block",width:"100%",maxWidth:"400px",margin:"0 auto",padding:"10px",border:i[E]?"1px solid red":"1px solid #ccc",borderRadius:"6px",fontSize:"1rem"}}),i[E]&&w.jsx("div",{style:{color:"red",fontSize:"0.85rem",maxWidth:"400px",margin:"0.3rem auto 0",textAlign:"right"},children:i[E]})]},E)),w.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1.5rem"},children:w.jsx("button",{className:"btn btn-blue",onClick:()=>s(!0),children:"בחירת מוצרים"})}),w.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[w.jsx("button",{className:"btn btn-green",onClick:j,disabled:x,children:x?"שולח בקשה...":"📨 שלח בקשה לאישור"}),w.jsx("button",{className:"btn btn-red",onClick:P,disabled:x,children:"ביטול"})]})]}),w.jsx(US,{showCatalogPopup:o,setShowCatalogPopup:s,searchTerm:g,setSearchTerm:m,setAvailableItems:f,availableItems:u,toggleSelectItem:z,changeQty:X,form:t,loadingItems:h,hideBarcodeScanner:!0})]})},vU=()=>{const{user:n}=xf(),[e,t]=pe.useState([]),[r,i]=pe.useState(!0),[a,o]=pe.useState(null),[s,u]=pe.useState(null),f=async()=>{try{i(!0);const b=(await yr(On(kt,"orderRequests"))).docs.map(I=>({id:I.id,...I.data()})).filter(I=>I.status==="pending").sort((I,C)=>{var z,X;const P=((z=I.requestedAt)==null?void 0:z.seconds)||0;return(((X=C.requestedAt)==null?void 0:X.seconds)||0)-P});t(b)}catch(x){console.error("שגיאה בטעינת בקשות:",x)}finally{i(!1)}};pe.useEffect(()=>{f()},[]);const h=async x=>{if(window.confirm(`האם אתה בטוח שברצונך לאשר את הבקשה של ${x.clientName}?`)){u(x.id),console.log("🚀 מתחיל אישור בקשה:",x);try{console.log("📦 טוען נתוני מלאי והזמנות...");const b=await yr(On(kt,"items")),I=await yr(On(kt,"orders")),C=q=>q?q.toDate?q.toDate():typeof q=="string"?new Date(q):q:null,P=C(x.pickupDate),j=C(x.returnDate),z=I.docs.map(q=>q.data()).filter(q=>{const te=C(q.pickupDate),V=C(q.returnDate);return q.status==="open"&&te&&V&&P&&j&&V>=P&&te<=j}),X={};z.forEach(q=>{var te;(te=q.items)==null||te.forEach(V=>{X[V.id]=(X[V.id]||0)+V.quantity})});const H=b.docs.map(q=>({id:q.id,...q.data()}));console.log("🔍 בודק זמינות פריטים...",x.items);let D=!0,E=[];for(const q of x.items){console.log(`🔎 בודק פריט: ${q.name}`,q);const te=H.find(U=>U.id===q.id);if(!te){console.log(`❌ פריט לא נמצא במלאי: ${q.name}`),D=!1,E.push(`${q.name} (לא נמצא במלאי)`);continue}const V=(te.quantity||0)-(X[q.id]||0);console.log(`📊 ${q.name}: מלאי=${te.quantity}, שמור=${X[q.id]||0}, זמין=${V}, נדרש=${q.quantity}`),q.quantity>V&&(D=!1,E.push(`${q.name} (זמין: ${V}, נדרש: ${q.quantity})`))}if(!D){console.log("❌ לא כל הפריטים זמינים:",E),alert(`לא ניתן לאשר את הבקשה - פריטים לא זמינים:
${E.join(`
`)}`),u(null);return}console.log("✅ כל הפריטים זמינים, ממשיך ליצירת הזמנה..."),console.log("🔢 יוצר מזהה הזמנה חדש...");const M=(await yr(On(kt,"orders"))).docs.map(q=>q.data().simpleId).filter(q=>typeof q=="number"),R=M.length>0?Math.max(...M)+1:1;console.log("🎯 מזהה הזמנה חדש:",R),console.log("📝 יוצר הזמנה חדשה..."),console.log("👤 פרטי משתמש:",n);const L={clientName:x.clientName,address:x.address,phone:x.phone,email:x.email,eventType:x.eventType,pickupDate:x.pickupDate,eventDate:x.eventDate,returnDate:x.returnDate,items:x.items,simpleId:R,status:"open",volunteerName:`מאושר ע"י ${(n==null?void 0:n.username)||(n==null?void 0:n.email)||"מנהל"}`,createdAt:Ai(),approvedBy:(n==null?void 0:n.uid)||"unknown",approvedByUsername:(n==null?void 0:n.username)||(n==null?void 0:n.email)||"מנהל",approvedAt:Ai(),orderId:null};console.log("💾 שומר הזמנה חדשה:",L);const B=await Cm(On(kt,"orders"),L);console.log("✅ הזמנה נשמרה עם ID:",B.id),await Qa(B,{orderId:B.id}),console.log("🔄 עדכון orderId הושלם"),console.log("📋 מעדכן סטטוס בקשה לאושרה..."),await Qa(Ar(kt,"orderRequests",x.id),{status:"approved",approvedBy:(n==null?void 0:n.uid)||"unknown",approvedByUsername:(n==null?void 0:n.username)||(n==null?void 0:n.email)||"מנהל",approvedAt:Ai(),orderId:B.id}),console.log("🎉 תהליך האישור הושלם בהצלחה!"),alert(`✅ הבקשה אושרה בהצלחה! מספר הזמנה: ${R}`),await f()}catch(b){console.error("❌ שגיאה באישור הבקשה:",b),console.error("Stack trace:",b.stack),alert(`שגיאה באישור הבקשה: ${b.message}`)}finally{u(null)}}},p=async x=>{const b=prompt(`מדוע אתה דוחה את הבקשה של ${x.clientName}?
(ההודעה הזו תישלח ללקוח)`);if(b!==null){u(x.id),console.log("🚫 מתחיל דחיית בקשה:",x.id,"סיבה:",b);try{console.log("📝 מעדכן סטטוס בקשה לנדחתה..."),console.log("👤 פרטי משתמש:",n),await Qa(Ar(kt,"orderRequests",x.id),{status:"rejected",rejectedBy:(n==null?void 0:n.uid)||"unknown",rejectedByUsername:(n==null?void 0:n.username)||(n==null?void 0:n.email)||"מנהל",rejectedAt:Ai(),rejectionReason:b}),console.log("✅ בקשה נדחתה בהצלחה"),alert("❌ הבקשה נדחתה. הלקוח יקבל הודעה."),await f()}catch(I){console.error("❌ שגיאה בדחיית הבקשה:",I),console.error("Stack trace:",I.stack),alert(`שגיאה בדחיית הבקשה: ${I.message}`)}finally{u(null)}}},g=x=>new Date(x).toLocaleDateString("he-IL"),m=x=>x?(x.seconds?new Date(x.seconds*1e3):new Date(x)).toLocaleString("he-IL"):"";return r?w.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",direction:"rtl"},children:w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),w.jsx("p",{children:"טוען בקשות..."})]})}):w.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto",direction:"rtl"},children:[w.jsxs("div",{style:{background:"linear-gradient(to right, #f59e0b, #d97706)",color:"white",padding:"2rem",borderRadius:"12px",marginBottom:"2rem",textAlign:"center"},children:[w.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",margin:0},children:"📋 בקשות להזמנה"}),w.jsx("p",{style:{fontSize:"1.1rem",opacity:.9,margin:"0.5rem 0 0 0"},children:"בקשות ממתינות לאישור מנהלים"})]}),e.length===0?w.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[w.jsx(Es,{size:64,style:{color:"#d1d5db",marginBottom:"1rem"}}),w.jsx("h3",{style:{fontSize:"1.5rem",color:"#6b7280",margin:"0 0 0.5rem 0"},children:"אין בקשות ממתינות"}),w.jsx("p",{style:{color:"#9ca3af"},children:"כל הבקשות עובדו או שאין בקשות חדשות"})]}):w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem"},children:e.map(x=>{var b;return w.jsxs("div",{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:I=>{I.currentTarget.style.transform="translateY(-2px)",I.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.15)"},onMouseLeave:I=>{I.currentTarget.style.transform="translateY(0)",I.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #f3f4f6"},children:[w.jsxs("div",{children:[w.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0,color:"#1f2937"},children:x.clientName}),w.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0.25rem 0 0 0"},children:["נשלח: ",m(x.requestedAt)]})]}),w.jsx("div",{style:{background:"#fef3c7",color:"#92400e",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"bold"},children:"ממתין"})]}),w.jsxs("div",{style:{display:"grid",gap:"0.75rem",marginBottom:"1.5rem"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(FS,{size:16,style:{color:"#6b7280"}}),w.jsxs("span",{style:{fontSize:"0.875rem"},children:["מבקש: ",x.requestedByUsername]})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(Lm,{size:16,style:{color:"#6b7280"}}),w.jsx("span",{style:{fontSize:"0.875rem"},children:x.phone})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(LS,{size:16,style:{color:"#6b7280"}}),w.jsx("span",{style:{fontSize:"0.875rem"},children:x.address})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(sh,{size:16,style:{color:"#6b7280"}}),w.jsxs("span",{style:{fontSize:"0.875rem"},children:[g(x.pickupDate)," → ",g(x.returnDate)]})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(Es,{size:16,style:{color:"#6b7280"}}),w.jsxs("span",{style:{fontSize:"0.875rem"},children:[(b=x.items)==null?void 0:b.reduce((I,C)=>I+C.quantity,0)," פריטים"]})]})]}),w.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"center"},children:[w.jsxs("button",{onClick:()=>o(x),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:[w.jsx(vx,{size:16}),"הצג פרטים"]}),w.jsxs("button",{onClick:()=>h(x),disabled:s===x.id,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:s===x.id?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:s===x.id?"not-allowed":"pointer",fontSize:"0.875rem",fontWeight:"500"},children:[w.jsx(Ld,{size:16}),s===x.id?"מעבד...":"אשר"]}),w.jsxs("button",{onClick:()=>p(x),disabled:s===x.id,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:s===x.id?"#9ca3af":"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:s===x.id?"not-allowed":"pointer",fontSize:"0.875rem",fontWeight:"500"},children:[w.jsx(I0,{size:16}),"דחה"]})]})]},x.id)})}),a&&w.jsx(yU,{request:a,onClose:()=>o(null),onApprove:()=>{o(null),h(a)},onReject:()=>{o(null),p(a)},processing:s===a.id}),w.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},yU=({request:n,onClose:e,onApprove:t,onReject:r,processing:i})=>{var s,u;const a=f=>new Date(f).toLocaleDateString("he-IL"),o=f=>{f.target===f.currentTarget&&e()};return w.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:9999},onClick:o,children:w.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"100%",maxWidth:"42rem",maxHeight:"90vh",overflow:"hidden",direction:"rtl"},onClick:f=>f.stopPropagation(),children:[w.jsxs("div",{style:{background:"#1f2937",color:"white",padding:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:0},children:["פרטי בקשה - ",n.clientName]}),w.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer"},children:"×"})]}),w.jsxs("div",{style:{padding:"1.5rem",overflowY:"auto",maxHeight:"calc(90vh - 180px)"},children:[w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:"פרטי הלקוח"}),w.jsxs("div",{style:{background:"#f9fafb",padding:"1rem",borderRadius:"8px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"שם לקוח"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.clientName})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"טלפון"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.phone})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"כתובת"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.address})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"אימייל"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.email||"לא צוין"})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"סוג אירוע"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.eventType})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"תאריכים"}),w.jsxs("span",{style:{fontWeight:"bold"},children:[a(n.pickupDate)," → ",a(n.returnDate)]})]})]})]}),w.jsxs("div",{children:[w.jsxs("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:["פריטים מבוקשים (",((s=n.items)==null?void 0:s.length)||0,")"]}),w.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:(u=n.items)==null?void 0:u.map((f,h)=>w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[w.jsx("img",{src:f.imageUrl||"/no-image-available.png",alt:f.name,style:{width:"3rem",height:"3rem",objectFit:"cover",borderRadius:"6px",border:"1px solid #e5e7eb"}}),w.jsxs("div",{style:{flex:1},children:[w.jsx("h4",{style:{fontSize:"1rem",fontWeight:"500",margin:0,color:"#1f2937"},children:f.name}),w.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0.25rem 0 0 0"},children:["מזהה: ",f.ItemId]})]}),w.jsxs("div",{style:{background:"#3b82f6",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"bold"},children:["×",f.quantity]})]},h))})]})]}),w.jsxs("div",{style:{background:"#f9fafb",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"center",gap:"1rem"},children:[w.jsxs("button",{onClick:t,disabled:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:i?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:i?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500"},children:[w.jsx(Ld,{size:20}),i?"מעבד...":"אשר בקשה"]}),w.jsxs("button",{onClick:r,disabled:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:i?"#9ca3af":"#ef4444",color:"white",border:"none",borderRadius:"8px",cursor:i?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500"},children:[w.jsx(I0,{size:20}),"דחה בקשה"]}),w.jsx("button",{onClick:e,style:{padding:"0.75rem 1.5rem",background:"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"500"},children:"סגור"})]})]})})},xU=()=>{const{user:n}=xf(),[e,t]=pe.useState([]),[r,i]=pe.useState(!0),[a,o]=pe.useState(null),[s,u]=pe.useState(null),f=async()=>{if(!(n!=null&&n.uid)){console.log("❌ אין משתמש מחובר:",n),i(!1);return}try{i(!0),console.log("🔍 מחפש הזמנות עבור משתמש:",n.uid);const x=Gu(On(kt,"orderRequests"),Ju("requestedBy","==",n.uid));console.log("📋 מבצע שאילתה ל-orderRequests...");const b=await yr(x);console.log("📊 נמצאו",b.size,"בקשות");const I=b.docs.map(P=>{const j={id:P.id,type:"request",...P.data()};return console.log("📝 בקשה נמצאה:",j),j});console.log('✅ סה"כ בקשות שנמצאו:',I.length);const C=[...I].sort((P,j)=>{var H,D,E,T;const z=((H=P.requestedAt)==null?void 0:H.seconds)||((D=P.createdAt)==null?void 0:D.seconds)||0;return(((E=j.requestedAt)==null?void 0:E.seconds)||((T=j.createdAt)==null?void 0:T.seconds)||0)-z});console.log("🎯 הזמנות סופיות:",C),t(C)}catch(x){console.error("❌ שגיאה בטעינת ההזמנות:",x),console.error("Stack trace:",x.stack)}finally{i(!1)}},h=async x=>{const b=p(x).text;if(window.confirm(`האם אתה בטוח שברצונך למחוק את ההזמנה?

פרטים:
• לקוח: ${x.clientName}
• סטטוס: ${b}
• תאריך: ${g(x.pickupDate)}

פעולה זו אינה ניתנת לביטול.`)){u(x.id),console.log("🗑️ מוחק הזמנה:",x.id);try{await Sm(Ar(kt,"orderRequests",x.id)),console.log("✅ הזמנה נמחקה בהצלחה"),t(I=>I.filter(C=>C.id!==x.id)),alert("🗑️ ההזמנה נמחקה בהצלחה מהרשימה שלך")}catch(I){console.error("❌ שגיאה במחיקת הזמנה:",I),alert(`שגיאה במחיקת ההזמנה: ${I.message}`)}finally{u(null)}}};pe.useEffect(()=>{console.log("👤 משתמש השתנה:",n),n!=null&&n.uid?(console.log("🚀 קורא לטעינת הזמנות..."),f()):(console.log("⏳ מחכה למשתמש להיטען..."),i(!1))},[n]);const p=x=>{switch(x.status){case"pending":return{text:"מחכה לאישור",color:"#f59e0b",bgColor:"#fef3c7",icon:w.jsx(gx,{size:16})};case"approved":return{text:"מאושר",color:"#10b981",bgColor:"#d1fae5",icon:w.jsx(Ld,{size:16})};case"rejected":return{text:"נדחה",color:"#ef4444",bgColor:"#fee2e2",icon:w.jsx(I0,{size:16})};default:return{text:"לא ידוע",color:"#6b7280",bgColor:"#f3f4f6",icon:w.jsx(Es,{size:16})}}},g=x=>new Date(x).toLocaleDateString("he-IL"),m=x=>x?(x.seconds?new Date(x.seconds*1e3):new Date(x)).toLocaleString("he-IL"):"";return r?w.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",direction:"rtl"},children:w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),w.jsx("p",{children:"טוען הזמנות..."})]})}):w.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto",direction:"rtl"},children:[w.jsxs("div",{style:{background:"linear-gradient(to right, #3b82f6, #1e40af)",color:"white",padding:"2rem",borderRadius:"12px",marginBottom:"2rem",textAlign:"center"},children:[w.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",margin:0},children:"📋 ההזמנות שלי"}),w.jsx("p",{style:{fontSize:"1.1rem",opacity:.9,margin:"0.5rem 0 0 0"},children:"כל הבקשות וההזמנות שלך במקום אחד"})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[w.jsxs("div",{style:{background:"#fef3c7",padding:"1.5rem",borderRadius:"12px",textAlign:"center",border:"1px solid #fde68a"},children:[w.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#92400e"},children:e.filter(x=>x.status==="pending").length}),w.jsx("div",{style:{color:"#92400e",fontSize:"0.875rem"},children:"מחכות לאישור"})]}),w.jsxs("div",{style:{background:"#d1fae5",padding:"1.5rem",borderRadius:"12px",textAlign:"center",border:"1px solid #a7f3d0"},children:[w.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#065f46"},children:e.filter(x=>x.status==="approved").length}),w.jsx("div",{style:{color:"#065f46",fontSize:"0.875rem"},children:"מאושרות"})]}),w.jsxs("div",{style:{background:"#fee2e2",padding:"1.5rem",borderRadius:"12px",textAlign:"center",border:"1px solid #fecaca"},children:[w.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#991b1b"},children:e.filter(x=>x.status==="rejected").length}),w.jsx("div",{style:{color:"#991b1b",fontSize:"0.875rem"},children:"נדחו"})]}),w.jsxs("div",{style:{background:"#eff6ff",padding:"1.5rem",borderRadius:"12px",textAlign:"center",border:"1px solid #dbeafe"},children:[w.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e40af"},children:e.length}),w.jsx("div",{style:{color:"#1e40af",fontSize:"0.875rem"},children:'סה"כ הזמנות'})]})]}),e.length===0?w.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[w.jsx(Es,{size:64,style:{color:"#d1d5db",marginBottom:"1rem"}}),w.jsx("h3",{style:{fontSize:"1.5rem",color:"#6b7280",margin:"0 0 0.5rem 0"},children:"אין הזמנות עדיין"}),w.jsx("p",{style:{color:"#9ca3af",marginBottom:"1.5rem"},children:"עדיין לא שלחת בקשות השאלה"}),w.jsx("a",{href:"/request",style:{display:"inline-block",background:"#3b82f6",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",textDecoration:"none",fontWeight:"500"},children:"📝 צור בקשת השאלה ראשונה"})]}):w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem"},children:e.map(x=>{var I;const b=p(x);return w.jsxs("div",{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:C=>{C.currentTarget.style.transform="translateY(-2px)",C.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.15)"},onMouseLeave:C=>{C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #f3f4f6"},children:[w.jsxs("div",{children:[w.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0,color:"#1f2937"},children:x.clientName}),w.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0.25rem 0 0 0"},children:["נשלח: ",m(x.requestedAt)]})]}),w.jsxs("div",{style:{background:b.bgColor,color:b.color,padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.25rem"},children:[b.icon,b.text]})]}),w.jsxs("div",{style:{display:"grid",gap:"0.75rem",marginBottom:"1.5rem"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(Lm,{size:16,style:{color:"#6b7280"}}),w.jsx("span",{style:{fontSize:"0.875rem"},children:x.phone})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(LS,{size:16,style:{color:"#6b7280"}}),w.jsx("span",{style:{fontSize:"0.875rem"},children:x.address})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(sh,{size:16,style:{color:"#6b7280"}}),w.jsxs("span",{style:{fontSize:"0.875rem"},children:[g(x.pickupDate)," → ",g(x.returnDate)]})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(Es,{size:16,style:{color:"#6b7280"}}),w.jsxs("span",{style:{fontSize:"0.875rem"},children:[(I=x.items)==null?void 0:I.reduce((C,P)=>C+P.quantity,0)," פריטים"]})]}),x.status==="rejected"&&x.rejectionReason&&w.jsxs("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",padding:"0.75rem",marginTop:"0.5rem"},children:[w.jsx("div",{style:{fontSize:"0.75rem",color:"#991b1b",fontWeight:"bold",marginBottom:"0.25rem"},children:"סיבת דחייה:"}),w.jsx("div",{style:{fontSize:"0.875rem",color:"#7f1d1d"},children:x.rejectionReason})]})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem"},children:[w.jsxs("button",{onClick:()=>o(x),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:[w.jsx(vx,{size:16}),"הצג פרטים"]}),w.jsxs("button",{onClick:()=>h(x),disabled:s===x.id,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:s===x.id?"#9ca3af":"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:s===x.id?"not-allowed":"pointer",fontSize:"0.875rem",fontWeight:"500",opacity:s===x.id?.6:1},children:[w.jsx(BS,{size:16}),s===x.id?"מוחק...":"מחק"]})]})]},x.id)})}),a&&w.jsx(_U,{order:a,onClose:()=>o(null)}),w.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},_U=({order:n,onClose:e})=>{var o,s;const t=u=>{switch(u.status){case"pending":return{text:"מחכה לאישור",color:"#f59e0b",bgColor:"#fef3c7",icon:w.jsx(gx,{size:20})};case"approved":return{text:"מאושר",color:"#10b981",bgColor:"#d1fae5",icon:w.jsx(Ld,{size:20})};case"rejected":return{text:"נדחה",color:"#ef4444",bgColor:"#fee2e2",icon:w.jsx(I0,{size:20})};default:return{text:"לא ידוע",color:"#6b7280",bgColor:"#f3f4f6",icon:w.jsx(Es,{size:20})}}},r=u=>new Date(u).toLocaleDateString("he-IL"),i=t(n),a=u=>{u.target===u.currentTarget&&e()};return w.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:9999},onClick:a,children:w.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"100%",maxWidth:"42rem",maxHeight:"90vh",overflow:"hidden",direction:"rtl"},onClick:u=>u.stopPropagation(),children:[w.jsxs("div",{style:{background:i.color,color:"white",padding:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.icon,w.jsxs("div",{children:[w.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:0},children:["הזמנה - ",n.clientName]}),w.jsx("p",{style:{fontSize:"0.875rem",margin:"0.25rem 0 0 0",opacity:.9},children:i.text})]})]}),w.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer"},children:"×"})]}),w.jsxs("div",{style:{padding:"1.5rem",overflowY:"auto",maxHeight:"calc(90vh - 180px)"},children:[w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:"פרטי ההזמנה"}),w.jsxs("div",{style:{background:"#f9fafb",padding:"1rem",borderRadius:"8px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"שם לקוח"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.clientName})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"טלפון"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.phone})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"כתובת"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.address})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"אימייל"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.email||"לא צוין"})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"סוג אירוע"}),w.jsx("span",{style:{fontWeight:"bold"},children:n.eventType})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"תאריכים"}),w.jsxs("span",{style:{fontWeight:"bold"},children:[r(n.pickupDate)," → ",r(n.returnDate)]})]})]})]}),w.jsxs("div",{children:[w.jsxs("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:["פריטים (",((o=n.items)==null?void 0:o.length)||0,")"]}),w.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:(s=n.items)==null?void 0:s.map((u,f)=>w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[w.jsx("img",{src:u.imageUrl||"/no-image-available.png",alt:u.name,style:{width:"3rem",height:"3rem",objectFit:"cover",borderRadius:"6px",border:"1px solid #e5e7eb"}}),w.jsxs("div",{style:{flex:1},children:[w.jsx("h4",{style:{fontSize:"1rem",fontWeight:"500",margin:0,color:"#1f2937"},children:u.name}),w.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0.25rem 0 0 0"},children:["מזהה: ",u.ItemId]})]}),w.jsxs("div",{style:{background:"#3b82f6",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"bold"},children:["×",u.quantity]})]},f))})]}),n.status==="rejected"&&n.rejectionReason&&w.jsxs("div",{style:{marginTop:"2rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",padding:"1rem"},children:[w.jsx("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#991b1b",margin:"0 0 0.5rem 0"},children:"סיבת דחייה:"}),w.jsx("p",{style:{fontSize:"0.875rem",color:"#7f1d1d",margin:0},children:n.rejectionReason})]})]}),w.jsx("div",{style:{background:"#f9fafb",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"center"},children:w.jsx("button",{onClick:e,style:{padding:"0.75rem 1.5rem",background:"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"500"},children:"סגור"})})]})})},bU=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],wU=["א","ב","ג","ד","ה","ו","ש"],AU=n=>new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),EU=n=>{const e=new Date(n.getFullYear(),n.getMonth(),1).getDay();return e===0?6:e-1},SU=({currentDate:n,events:e=[],setCurrentDate:t,setSelectedEvents:r,setSelectedDate:i,setShowReport:a})=>{const o=g=>{if(!Array.isArray(e))return[];const m=new Date(n.getFullYear(),n.getMonth(),g);return e.filter(x=>{if(!x.date)return!1;const b=new Date(x.date);return b.getDate()===m.getDate()&&b.getMonth()===m.getMonth()&&b.getFullYear()===m.getFullYear()})},s=g=>{const m=o(g),x=new Map;return m.forEach(b=>{x.has(b.orderId)||x.set(b.orderId,{...b,allEventsForOrder:m.filter(I=>I.orderId===b.orderId)})}),Array.from(x.values())},u=g=>{const m=o(g);m.length>0&&m.every(b=>b.type==="השאלה פעילה")||m.length>0&&(r(m),i(new Date(n.getFullYear(),n.getMonth(),g)),a(!0))},f=AU(n),h=EU(n),p=[];for(let g=0;g<h;g++)p.push(w.jsx("div",{className:"day-cell empty"},`empty-${g}`));for(let g=1;g<=f;g++){const m=o(g),x=s(g),b=m.filter(z=>z.type==="השאלה"),I=m.filter(z=>z.type==="החזרה");m.filter(z=>z.type==="השאלה פעילה");const C=m.length>0,P=x.length;let j="day-cell";C&&(j+=" has-events"),b.length>0&&(j+=" pickup-day"),I.length>0&&(j+=" return-day"),p.push(w.jsxs("div",{className:j,onClick:()=>u(g),style:{cursor:m.some(z=>z.type!=="השאלה פעילה")?"pointer":"default"},children:[w.jsx("span",{className:"day-number",children:g}),w.jsxs("div",{className:"event-icons",children:[b.length>0&&w.jsxs("div",{className:"event-tag pickup-tag",title:"איסוף מוצרים",children:["📦 ",b.length>1&&b.length]}),I.length>0&&w.jsxs("div",{className:"event-tag return-tag",title:"החזרת מוצרים",children:["🔄 ",I.length>1&&I.length]})]}),P>0&&w.jsx("div",{className:"event-count",title:`${P} הזמנות`,children:P})]},g))}return w.jsxs("div",{className:"calendar-container",children:[w.jsxs("div",{className:"calendar-header",children:[w.jsx("button",{onClick:()=>t(new Date(n.getFullYear(),n.getMonth()-1,1)),children:w.jsx(C0,{size:20})}),w.jsxs("h2",{className:"calendar-title",children:[w.jsx(sh,{size:24})," ",bU[n.getMonth()]," ",n.getFullYear()]}),w.jsx("button",{onClick:()=>t(new Date(n.getFullYear(),n.getMonth()+1,1)),children:w.jsx(S0,{size:20})})]}),w.jsx("div",{className:"day-names",children:wU.map(g=>w.jsx("div",{className:"day-name",children:g},g))}),w.jsx("div",{className:"calendar-grid",children:p}),w.jsxs("div",{className:"calendar-footer",children:[w.jsxs("div",{className:"calendar-legend",children:[w.jsx("span",{className:"legend-item",children:"📦 איסוף מוצרים"}),w.jsx("span",{className:"legend-item",children:"🔄 החזרת מוצרים"})]}),w.jsxs("div",{className:"calendar-stats",children:['לחץ על יום עם אירועים כדי לראות פרטים • סה"כ אירועים: ',Array.isArray(e)?e.length:0]}),(!Array.isArray(e)||e.length===0)&&w.jsx("div",{className:"warning",children:"אין אירועים נטענים - בדוק את החיבור למסד הנתונים"})]})]})},CU=({show:n,selectedDate:e,selectedEvents:t,allItems:r,setShowReport:i,setShowItemsModal:a,setEditItemModal:o,fetchItemsAndOrders:s,onStartReturnInspection:u})=>{if(pe.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),!n)return null;const f=async x=>{try{return await Sm(Ar(kt,"orders",x)),!0}catch(b){throw console.error("Error deleting order:",b),b}},p=(x=>{const b=new Map;return x.forEach(I=>{b.has(I.orderId)||b.set(I.orderId,{orderId:I.orderId,clientName:I.clientName,phone:I.phone,items:I.items,pickupDate:I.pickupDate,returnDate:I.returnDate,events:[]}),b.get(I.orderId).events.push(I)}),Array.from(b.values())})(t),g=async x=>{if(x&&window.confirm("האם אתה בטוח שברצונך למחוק את ההזמנה?"))try{await f(x),await s(),i(!1),alert("ההזמנה נמחקה בהצלחה.")}catch(b){console.error(b),alert("מחיקה נכשלה. נסה שוב.")}},m=x=>{x.target===x.currentTarget&&i(!1)};return w.jsxs(w.Fragment,{children:[w.jsx("style",{jsx:!0,global:!0,children:`
        .modal-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          background-color: rgba(0, 0, 0, 0.5) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          padding: 1rem !important;
          z-index: 99999 !important;
        }
        
        .modal-content {
          background: white !important;
          border-radius: 12px !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          width: 100% !important;
          max-width: 32rem !important;
          max-height: 90vh !important;
          overflow: hidden !important;
          position: relative !important;
          z-index: 100000 !important;
        }
        
        @media (min-width: 768px) {
          .modal-content {
            max-width: 42rem !important;
          }
        }
      `}),w.jsx("div",{className:"modal-overlay",onClick:m,children:w.jsxs("div",{className:"modal-content",dir:"rtl",onClick:x=>x.stopPropagation(),children:[w.jsxs("div",{style:{background:"linear-gradient(to right, #2563eb, #1d4ed8)",color:"white",padding:"1.5rem"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx(sh,{size:24}),w.jsxs("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:["אירועים ליום ",e==null?void 0:e.toLocaleDateString("he-IL")]})]}),w.jsx("button",{onClick:()=>i(!1),style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:"×"})]}),w.jsxs("div",{style:{marginTop:"0.5rem",color:"#bfdbfe"},children:[p.length," הזמנ",p.length!==1?"ות":"ה"]})]}),w.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",maxHeight:"calc(90vh - 200px)"},children:w.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:p.map((x,b)=>w.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",background:"white",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[w.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #f3f4f6"},children:[w.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.75rem"},children:w.jsxs("div",{style:{flex:1},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[w.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:"bold",color:"#1f2937",margin:0},children:x.clientName}),w.jsxs("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",background:"#3b82f6",color:"white"},children:["הזמנה #",b+1]})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",fontSize:"0.875rem",color:"#4b5563",marginBottom:"0.5rem"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[w.jsx(Lm,{size:16}),w.jsx("span",{children:x.phone})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[w.jsx(sh,{size:16}),w.jsxs("span",{children:[new Date(x.pickupDate).toLocaleDateString("he-IL")," - ",new Date(x.returnDate).toLocaleDateString("he-IL")]})]})]}),w.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"0.75rem"},children:x.events.map((I,C)=>w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500",background:I.type==="השאלה"?"#10b981":I.type==="החזרה"?"#f59e0b":"#3b82f6",color:"white"},children:[w.jsx("span",{children:I.icon}),w.jsx("span",{children:I.description}),I.isMultiDay&&w.jsxs("span",{style:{fontSize:"0.65rem",opacity:.8},children:["(יום ",I.dayNumber,"/",I.totalDays,")"]})]},C))})]})}),x.items&&x.items.length>0&&w.jsxs("div",{style:{marginBottom:"1rem"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[w.jsx(Es,{size:16,style:{color:"#6b7280"}}),w.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:["פריטים (",x.items.reduce((I,C)=>I+(C.quantity||1),0),")"]})]}),w.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[x.items.slice(0,3).map((I,C)=>w.jsxs("div",{style:{background:"#f9fafb",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",color:"#4b5563",border:"1px solid #e5e7eb"},children:[I.name," ",I.quantity>1?`(×${I.quantity})`:""]},C)),x.items.length>3&&w.jsxs("div",{style:{background:"#eff6ff",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",color:"#2563eb",border:"1px solid #dbeafe"},children:["+",x.items.length-3," נוספים"]})]})]})]}),w.jsx("div",{style:{padding:"1rem",background:"#f9fafb"},children:w.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"0.75rem",flexWrap:"wrap"},children:[x.events.some(I=>I.icon==="📦")&&w.jsxs("button",{onClick:()=>o({open:!0,eventId:`${x.orderId}-edit`,items:x.items.map(I=>({...I}))}),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#2563eb",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[w.jsx(jS,{size:16}),"ערוך הזמנה"]}),w.jsxs("button",{onClick:()=>{const I=t.filter(C=>C.orderId===x.orderId);a(I)},style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#059669",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[w.jsx(vx,{size:16}),"הצג פרטים"]}),x.events.some(I=>I.icon==="📦")&&w.jsxs("button",{onClick:()=>g(x.orderId),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#dc2626",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[w.jsx(BS,{size:16}),"מחק"]}),u&&x.events.some(I=>I.type==="החזרה")&&w.jsxs("button",{onClick:()=>u(x.orderId),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#f59e0b",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[w.jsx(XF,{size:16}),"בדיקת החזרה"]})]})})]},x.orderId))})}),w.jsx("div",{style:{background:"#f9fafb",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb"},children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("div",{style:{fontSize:"0.875rem",color:"#4b5563"},children:['סה"כ ',p.reduce((x,b)=>{var I;return x+(((I=b.items)==null?void 0:I.reduce((C,P)=>C+(P.quantity||1),0))||0)},0)," פריטים"]}),w.jsx("button",{onClick:()=>i(!1),style:{background:"#2563eb",color:"white",padding:"0.5rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"סגור"})]})})]})})]})},IU=({show:n,setShow:e,selectedEvents:t,allItems:r})=>{var o;if(pe.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),!n)return null;const i=((o=t==null?void 0:t[0])==null?void 0:o.items)||[],a=s=>{s.target===s.currentTarget&&e(!1)};return w.jsxs(w.Fragment,{children:[w.jsx("style",{jsx:!0,global:!0,children:`
        .items-modal-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          background-color: rgba(0, 0, 0, 0.5) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          padding: 1rem !important;
          z-index: 99999 !important;
        }
        
        .items-modal-content {
          background: white !important;
          border-radius: 12px !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          width: 100% !important;
          max-width: 28rem !important;
          max-height: 90vh !important;
          overflow: hidden !important;
          position: relative !important;
          z-index: 100000 !important;
        }
      `}),w.jsx("div",{className:"items-modal-overlay",onClick:a,children:w.jsxs("div",{className:"items-modal-content",dir:"rtl",onClick:s=>s.stopPropagation(),children:[w.jsxs("div",{style:{background:"linear-gradient(to right, #059669, #047857)",color:"white",padding:"1.5rem"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx(Es,{size:24}),w.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:"רשימת מוצרים"})]}),w.jsx("button",{onClick:()=>e(!1),style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:w.jsx(dU,{size:20})})]}),w.jsxs("div",{style:{marginTop:"0.5rem",color:"#a7f3d0"},children:[i.length," פריט",i.length!==1?"ים":""," בהזמנה"]})]}),w.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",maxHeight:"calc(90vh - 180px)"},children:i.length>0?w.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:i.map((s,u)=>(r.find(f=>f.name===s.name),w.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",padding:"1rem",background:"#f9fafb"},children:w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.imageUrl&&w.jsx("img",{src:s.imageUrl,alt:s.name,style:{width:"4rem",height:"4rem",objectFit:"cover",borderRadius:"8px",border:"2px solid #e5e7eb"}}),w.jsxs("div",{style:{flex:1},children:[w.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"bold",color:"#1f2937",marginBottom:"0.25rem"},children:s.name}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",fontSize:"0.875rem",color:"#6b7280"},children:[w.jsxs("span",{children:[w.jsx("strong",{children:"כמות:"})," ",s.quantity]}),w.jsxs("span",{children:[w.jsx("strong",{children:"מזהה מוצר:"}),w.jsx("code",{style:{background:"#f3f4f6",padding:"0.125rem 0.375rem",borderRadius:"4px",marginRight:"0.25rem"},children:s.itemId||"לא נמצא"})]})]})]}),w.jsxs("div",{style:{background:"#2563eb",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"bold"},children:["×",s.quantity]})]})},u)))}):w.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[w.jsx(Es,{size:48,style:{color:"#d1d5db",marginBottom:"1rem"}}),w.jsx("p",{children:"אין פריטים בהזמנה זו"})]})}),w.jsx("div",{style:{background:"#f9fafb",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb"},children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("div",{style:{fontSize:"0.875rem",color:"#4b5563"},children:['סה"כ כמות: ',i.reduce((s,u)=>s+(u.quantity||1),0)]}),w.jsx("button",{onClick:()=>e(!1),style:{background:"#059669",color:"white",padding:"0.5rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"500"},children:"סגור"})]})})]})})]})},TU=({show:n,data:e,setData:t,allItems:r,setShowReport:i,fetchItemsAndOrders:a,allEvents:o})=>{const[s,u]=pe.useState({items:[]}),[f,h]=pe.useState(!1),[p,g]=pe.useState(""),[m,x]=pe.useState({pickupDate:null,returnDate:null});if(pe.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),pe.useEffect(()=>{if(n&&e.eventId&&o.length>0){console.log("🚀 Initializing edit modal");const D=e.eventId.split("-")[0],E=o.filter(T=>T.orderId===D);if(E.length>0){const T=E[0];x({pickupDate:new Date(T.pickupDate),returnDate:new Date(T.returnDate)}),console.log("📅 Order dates:",{pickup:T.pickupDate,return:T.returnDate})}u({items:[...e.items||[]]})}},[n,e,o]),!n)return null;const b=D=>{var te,V;const E=r.find(U=>U.name===D);if(!E)return console.warn(`❌ Stock not found for ${D}`),0;const T=E.quantity||0,M=(te=e.eventId)==null?void 0:te.split("-")[0];if(!m.pickupDate||!m.returnDate)return console.warn("⚠️ Missing pickup/return dates for current order."),T;console.log(`🔎 Checking "${D}" availability from ${m.pickupDate.toDateString()} to ${m.returnDate.toDateString()}`),console.log(`📦 Total stock from database: ${T}`);let R=0;const L=new Set;o.forEach(U=>{if(U.orderId===M||L.has(`${U.orderId}-${D}`))return;const Q=new Date(U.pickupDate),ae=new Date(U.returnDate);if(Q<=m.returnDate&&ae>=m.pickupDate&&U.items){const me=U.items.find(G=>G.name===D);me&&(console.log(`➡️ Overlapping Order ID: ${U.orderId}`),console.log(`    Dates: ${Q.toDateString()} - ${ae.toDateString()}`),console.log(`    Reserved: ${me.quantity}`),R+=me.quantity||0,L.add(`${U.orderId}-${D}`))}});const B=((V=s.items.find(U=>U.name===D))==null?void 0:V.quantity)||0,q=T-R-B;return console.log(`✅ Available: ${q} = ${T} - ${R} - ${B} (already in order)`),Math.max(0,q)},I=D=>{console.log("➕ Trying to add item:",D.name);const E=b(D.name);if(E<=0){alert(`❌ לא ניתן להוסיף מ-${D.name}. זמין: ${E}`);return}const T=s.items.findIndex(M=>M.name===D.name);if(T>=0){const M=[...s.items];M[T]={...M[T],quantity:M[T].quantity+1},u({...s,items:M})}else{const M={name:D.name,quantity:1,ItemId:D.ItemId||D.itemId||D.id,itemId:D.ItemId||D.itemId||D.id,id:D.id,imageUrl:D.imageUrl||""};u({...s,items:[...s.items,M]})}},C=(D,E)=>{var L;if(console.log(`🔄 Updating ${D} to quantity: ${E}`),E<=0){u({...s,items:s.items.filter(B=>B.name!==D)});return}const T=((L=s.items.find(B=>B.name===D))==null?void 0:L.quantity)||0,M=b(D)+T;if(E>M){alert(`❌ לא ניתן להזמין ${E} מ-${D}. זמין: ${M}`);return}const R=s.items.map(B=>B.name===D?{...B,quantity:E}:B);u({...s,items:R})},P=D=>{console.log("🗑️ Removing item:",D),u({...s,items:s.items.filter(E=>E.name!==D)})},j=async()=>{var D;try{h(!0);const E=(D=e.eventId)==null?void 0:D.split("-")[0];if(!E)throw new Error("שגיאה: לא נמצא מזהה הזמנה");console.log("💾 Saving items:",s.items);const T=s.items.map(M=>({...M,ItemId:M.ItemId||M.itemId||M.id,itemId:M.ItemId||M.itemId||M.id}));await Qa(Ar(kt,"orders",E),{items:T}),await a(),t({open:!1,eventId:null,items:[]}),i(!1),alert("🎉 השינויים נשמרו בהצלחה!")}catch(E){console.error("❌ שגיאה בשמירה:",E),alert(E.message||"שמירה נכשלה. נסה שוב.")}finally{h(!1)}},z=()=>{t({open:!1,eventId:null,items:[]})},X=r.filter(D=>D.name.toLowerCase().includes(p.toLowerCase())),H=D=>{D.target===D.currentTarget&&z()};return w.jsxs(w.Fragment,{children:[w.jsx("style",{jsx:!0,global:!0,children:`
        .edit-modal-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          background-color: rgba(0, 0, 0, 0.5) !important;
          display: flex !important;
          align-items: flex-start !important;
          justify-content: center !important;
          padding: 0.5rem !important;
          z-index: 99999 !important;
          overflow-x: hidden !important;
          padding-top: 1rem !important;
        }
        
        .edit-modal-content {
          background: white !important;
          border-radius: 12px !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          width: 100% !important;
          max-width: 56rem !important;
          max-height: 96vh !important;
          overflow: hidden !important;
          position: relative !important;
          z-index: 100000 !important;
          display: flex !important;
          flex-direction: column !important;
        }

        @media (max-width: 768px) {
          .edit-modal-overlay {
            padding: 0.25rem !important;
            padding-top: 0.5rem !important;
          }
          
          .edit-modal-content {
            max-height: 98vh !important;
            border-radius: 8px !important;
          }
          
          .modal-footer-mobile {
            flex-direction: column !important;
            gap: 0.5rem !important;
          }
          
          .modal-footer-mobile button {
            width: 100% !important;
          }
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),w.jsx("div",{className:"edit-modal-overlay",onClick:H,children:w.jsxs("div",{className:"edit-modal-content",dir:"rtl",onClick:D=>D.stopPropagation(),children:[w.jsxs("div",{style:{background:"linear-gradient(to right, #2563eb, #1d4ed8)",color:"white",padding:"1rem",flexShrink:0},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(jS,{size:24}),w.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:"עריכת הזמנה"})]}),w.jsx("button",{onClick:z,style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:"×"})]}),m.pickupDate&&m.returnDate&&w.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#bfdbfe"},children:["📅 תאריכי ההזמנה: ",m.pickupDate.toLocaleDateString("he-IL")," - ",m.returnDate.toLocaleDateString("he-IL")]})]}),w.jsxs("div",{style:{padding:"1rem",overflowY:"auto",flex:1},children:[w.jsxs("div",{style:{marginBottom:"1.5rem"},children:[w.jsxs("h4",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:["פריטים נוכחיים בהזמנה (",s.items.length,")"]}),s.items.length>0?w.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:s.items.map((D,E)=>{const T=r.find(L=>L.name===D.name),R=b(D.name)+D.quantity;return w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#f9fafb",padding:"0.75rem",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flex:1,minWidth:0},children:[(T==null?void 0:T.imageUrl)&&w.jsx("img",{src:T.imageUrl,alt:D.name,style:{width:"2.5rem",height:"2.5rem",objectFit:"cover",borderRadius:"6px",flexShrink:0}}),w.jsxs("div",{style:{minWidth:0,flex:1},children:[w.jsx("div",{style:{fontWeight:"500",color:"#1f2937",fontSize:"0.9rem"},children:D.name}),w.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["מזהה: ",(T==null?void 0:T.ItemId)||(T==null?void 0:T.itemId)||"לא נמצא"]}),w.jsxs("div",{style:{fontSize:"0.7rem",color:"#059669",fontWeight:"500"},children:["מקסימום: ",R]})]})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",flexShrink:0},children:[w.jsx("button",{onClick:()=>C(D.name,D.quantity-1),style:{background:"#ef4444",color:"white",width:"1.8rem",height:"1.8rem",borderRadius:"50%",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},disabled:f,children:w.jsx(nU,{size:12})}),w.jsx("span",{style:{width:"1.5rem",textAlign:"center",fontWeight:"500",fontSize:"0.9rem"},children:D.quantity}),w.jsx("button",{onClick:()=>C(D.name,D.quantity+1),style:{background:D.quantity>=R?"#9ca3af":"#10b981",color:"white",width:"1.8rem",height:"1.8rem",borderRadius:"50%",border:"none",cursor:D.quantity>=R?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center"},disabled:f||D.quantity>=R,children:w.jsx(oU,{size:12})}),w.jsx("button",{onClick:()=>P(D.name),style:{background:"#ef4444",color:"white",padding:"0.2rem 0.5rem",borderRadius:"6px",border:"none",cursor:"pointer",marginRight:"0.3rem",fontSize:"0.75rem"},disabled:f,children:"הסר"})]})]},E)})}):w.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"#6b7280"},children:"אין פריטים בהזמנה"})]}),w.jsxs("div",{children:[w.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:"הוסף פריטים מהמלאי"}),w.jsx("div",{style:{marginBottom:"1rem"},children:w.jsxs("div",{style:{position:"relative"},children:[w.jsx(MS,{size:18,style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#6b7280"}}),w.jsx("input",{type:"text",placeholder:"חפש פריט...",value:p,onChange:D=>g(D.target.value),style:{width:"100%",padding:"0.75rem 2.8rem 0.75rem 0.75rem",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box"},disabled:f})]})}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"0.75rem",maxHeight:"10rem",overflowY:"auto",overflowX:"hidden"},children:X.map((D,E)=>{var B;const T=s.items.some(q=>q.name===D.name),M=T?(B=s.items.find(q=>q.name===D.name))==null?void 0:B.quantity:0,R=b(D.name),L=M<R+M;return w.jsx("div",{onClick:()=>!f&&L&&I(D),style:{padding:"0.6rem",borderRadius:"8px",border:T?"2px solid #3b82f6":"1px solid #e5e7eb",background:T?"#eff6ff":"white",cursor:f||!L?"not-allowed":"pointer",transition:"all 0.2s",opacity:f||!L?.6:1},children:w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[D.imageUrl&&w.jsx("img",{src:D.imageUrl,alt:D.name,style:{width:"2rem",height:"2rem",objectFit:"cover",borderRadius:"6px",flexShrink:0}}),w.jsxs("div",{style:{flex:1,minWidth:0},children:[w.jsx("div",{style:{fontWeight:"500",fontSize:"0.8rem",color:"#1f2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:D.name}),w.jsxs("div",{style:{fontSize:"0.7rem",color:"#6b7280"},children:["מזהה: ",D.itemId||D.ItemId]}),w.jsxs("div",{style:{fontSize:"0.65rem",color:R>0?"#059669":"#dc2626",fontWeight:"500"},children:["זמין: ",R]}),T&&w.jsxs("div",{style:{fontSize:"0.65rem",color:"#2563eb",fontWeight:"500"},children:["בהזמנה: ",M]})]})]})},E)})})]})]}),w.jsx("div",{style:{background:"#f9fafb",padding:"1rem",borderTop:"1px solid #e5e7eb",flexShrink:0},children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"modal-footer-mobile",children:[w.jsxs("div",{style:{fontSize:"0.875rem",color:"#4b5563"},children:['סה"כ פריטים: ',s.items.reduce((D,E)=>D+E.quantity,0)]}),w.jsxs("div",{style:{display:"flex",gap:"0.75rem"},className:"modal-footer-mobile",children:[w.jsx("button",{onClick:z,disabled:f,style:{background:"#6b7280",color:"white",padding:"0.5rem 1.5rem",borderRadius:"8px",border:"none",cursor:f?"not-allowed":"pointer",fontSize:"0.875rem",opacity:f?.6:1},children:"ביטול"}),w.jsx("button",{onClick:j,disabled:f||s.items.length===0,style:{background:s.items.length===0?"#9ca3af":"#2563eb",color:"white",padding:"0.5rem 1.5rem",borderRadius:"8px",border:"none",cursor:s.items.length===0||f?"not-allowed":"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:f?w.jsxs(w.Fragment,{children:[w.jsx("div",{style:{width:"1rem",height:"1rem",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"שומר..."]}):w.jsxs(w.Fragment,{children:[w.jsx(kS,{size:16}),"שמור שינויים"]})})]})]})})]})})]})},RU=({show:n,order:e,onClose:t,onCompleteInspection:r,allItems:i=[],updateItemQuantities:a})=>{const[o,s]=pe.useState([]),[u,f]=pe.useState(""),[h,p]=pe.useState(!1);if(pe.useEffect(()=>{if(n&&(e!=null&&e.items)){const b=e.items.map(I=>({itemId:I.id||I.itemId,name:I.name,quantityExpected:I.quantity||1,quantityReturned:I.quantity||1,isFullyReturned:!0,condition:"good",damageDescription:"",repairCost:0,notes:""}));s(b),f("")}},[n,e]),pe.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),!n||!e)return null;const g=(b,I,C)=>{s(P=>P.map((j,z)=>{if(z===b){const X={...j,[I]:C};return X.isFullyReturned=C>=j.quantityExpected,C<j.quantityExpected?X.condition="lost":X.condition==="lost"&&(X.condition="good"),X}return j}))},m=async()=>{const b=o.reduce((j,z)=>j+z.quantityExpected,0),I=o.reduce((j,z)=>j+z.quantityReturned,0);o.filter(j=>j.condition==="damaged").length,o.filter(j=>j.condition==="lost").length;const C=Math.round(I/b*100),P=`האם אתה בטוח שברצונך לסיים את בדיקת ההחזרה?

סיכום:
• פריטים שהושאלו: ${b}/${b}
• פריטים שחזרו: ${I}/${b}
• אחוז החזרה: ${C}%

ההזמנה תעבור לאיסוף ההזמנות הסגורות.`;if(window.confirm(P))try{p(!0);const j=o.reduce((E,T)=>E+T.quantityExpected,0),z=o.reduce((E,T)=>E+T.quantityReturned,0),X=o.filter(E=>E.condition==="damaged").length,H=o.reduce((E,T)=>E+(T.repairCost||0),0),D={totalItemsExpected:j,totalItemsReturned:z,totalDamages:X,totalRepairCost:H,managerNotes:u,customerNotified:!1,customerAgreedToCharges:!1};for(const E of o){const T=i.find(M=>M.id===E.itemId||M.name===E.name);if(T){let M=0;const R=E.quantityExpected-E.quantityReturned,L=E.condition==="damaged"?E.quantityReturned:0;M=R+L;const B=T.quantity-M,q=Math.max(0,B);console.log(`עדכון מלאי - ${T.name}:`,{originalStock:T.quantity,expectedReturn:E.quantityExpected,quantityReturned:E.quantityReturned,condition:E.condition,itemsNotReturned:R,damagedItems:L,totalToRemove:M,newStock:q}),M>0&&await Qa(Ar(kt,"items",T.id),{quantity:q,lastUpdated:Ai()})}}await r(e.id,o,D),a&&await a(),t()}catch(j){console.error("Error completing return inspection:",j),alert("שגיאה בהשלמת בדיקת החזרה. נסה שוב.")}finally{p(!1)}},x=b=>{b.target===b.currentTarget&&window.confirm("האם אתה בטוח שברצונך לסגור את חלון בדיקת החזרה?")&&t()};return w.jsxs(w.Fragment,{children:[w.jsx("style",{jsx:!0,global:!0,children:`
        .return-inspection-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          background-color: rgba(0, 0, 0, 0.7) !important;
          display: flex !important;
          align-items: flex-start !important;
          justify-content: center !important;
          padding: 0.5rem !important;
          z-index: 99999 !important;
          overflow-x: hidden !important;
          padding-top: 1rem !important;
        }
        
        .return-inspection-content {
          background: white !important;
          border-radius: 12px !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          width: 100% !important;
          max-width: 56rem !important;
          max-height: 96vh !important;
          overflow: hidden !important;
          position: relative !important;
          z-index: 100000 !important;
          display: flex !important;
          flex-direction: column !important;
        }

        @media (max-width: 768px) {
          .return-inspection-overlay {
            padding: 0.25rem !important;
            padding-top: 0.5rem !important;
          }
          
          .return-inspection-content {
            max-height: 98vh !important;
            border-radius: 8px !important;
          }
          
          .footer-mobile {
            flex-direction: column !important;
            gap: 0.5rem !important;
            align-items: stretch !important;
          }
          
          .footer-mobile button {
            width: 100% !important;
          }
          
          .footer-mobile .summary-text {
            text-align: center !important;
            margin-bottom: 0.5rem !important;
          }
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),w.jsx("div",{className:"return-inspection-overlay",onClick:x,children:w.jsxs("div",{className:"return-inspection-content",dir:"rtl",onClick:b=>b.stopPropagation(),children:[w.jsx("div",{style:{background:"linear-gradient(to right, #fb923c, #f97316)",color:"white",padding:"1rem",flexShrink:0},children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx(Ld,{size:24}),w.jsxs("div",{children:[w.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:"בדיקת החזרת מוצרים"}),w.jsxs("div",{style:{fontSize:"0.875rem",marginTop:"0.25rem",opacity:.9},children:["לקוח: ",e.clientName," • ",e.phone]})]})]}),w.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:"×"})]})}),w.jsx("div",{style:{padding:"1rem",overflowY:"auto",flex:1},children:w.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:o.map((b,I)=>{var C,P;return w.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"12px",padding:"1rem",background:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[w.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx("img",{src:((C=e.items.find(j=>j.id===b.itemId))==null?void 0:C.imageUrl)||"/no-image-available.png",alt:b.name,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb",flexShrink:0}}),w.jsxs("div",{style:{minWidth:0,flex:1},children:[w.jsx("h4",{style:{fontSize:"1rem",fontWeight:"bold",margin:0,color:"#1f2937"},children:b.name}),w.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:["מזהה: ",b.ItemId||((P=e.items.find(j=>j.id===b.itemId))==null?void 0:P.ItemId)||b.itemId]}),w.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["כמות מוזמנת: ",b.quantityExpected]})]})]})}),w.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem"},children:[w.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"כמות שחזרה:"}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx("button",{onClick:()=>{const j=Math.max(0,b.quantityReturned-1);g(I,"quantityReturned",j)},disabled:b.quantityReturned<=0,style:{background:b.quantityReturned<=0?"#d1d5db":"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",fontSize:"18px",fontWeight:"bold",cursor:b.quantityReturned<=0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:b.quantityReturned<=0?.6:1},children:"-"}),w.jsx("span",{style:{fontSize:"1.5rem",fontWeight:"bold",minWidth:"40px",textAlign:"center",color:"#1f2937"},children:b.quantityReturned}),w.jsx("button",{onClick:()=>{const j=Math.min(b.quantityExpected,b.quantityReturned+1);g(I,"quantityReturned",j)},disabled:b.quantityReturned>=b.quantityExpected,style:{background:b.quantityReturned>=b.quantityExpected?"#d1d5db":"#10b981",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",fontSize:"18px",fontWeight:"bold",cursor:b.quantityReturned>=b.quantityExpected?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:b.quantityReturned>=b.quantityExpected?.6:1},children:"+"})]})]}),b.quantityReturned<b.quantityExpected&&w.jsx("div",{style:{marginTop:"0.75rem",padding:"0.5rem",background:"#fef3c7",borderRadius:"6px",textAlign:"center"},children:w.jsxs("span",{style:{fontSize:"0.875rem",color:"#92400e",fontWeight:"500"},children:["⚠️ חסרים ",b.quantityExpected-b.quantityReturned," פריטים"]})})]},I)})})}),w.jsx("div",{style:{background:"#f9fafb",padding:"1rem",borderTop:"1px solid #e5e7eb",flexShrink:0},children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"footer-mobile",children:[w.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},className:"summary-text",children:"בדיקת החזרה תעביר את ההזמנה להיסטוריה"}),w.jsxs("div",{style:{display:"flex",gap:"0.75rem"},className:"footer-mobile",children:[w.jsx("button",{onClick:t,disabled:h,style:{background:"#6b7280",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:h?"not-allowed":"pointer",fontSize:"0.875rem",opacity:h?.6:1},children:"ביטול"}),w.jsx("button",{onClick:m,disabled:h,style:{background:"#f59e0b",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:h?"not-allowed":"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.5rem",opacity:h?.6:1,justifyContent:"center"},children:h?w.jsxs(w.Fragment,{children:[w.jsx("div",{style:{width:"1rem",height:"1rem",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"מעבד..."]}):w.jsxs(w.Fragment,{children:[w.jsx(kS,{size:16}),"השלם בדיקת החזרה"]})})]})]})})]})})]})},NU=({allItems:n,itemsMap:e,events:t,setAllItems:r,setItemsMap:i,setEvents:a,fetchItemsAndOrders:o})=>{const[s,u]=pe.useState(new Date),[f,h]=pe.useState([]),[p,g]=pe.useState(!1),[m,x]=pe.useState(null),[b,I]=pe.useState(!1),[C,P]=pe.useState({open:!1,eventId:null,items:[]}),[j,z]=pe.useState({show:!1,order:null}),X=async E=>{try{const T=t.filter(M=>M.orderId===E);if(T.length>0){const M={id:E,clientName:T[0].clientName,phone:T[0].phone,items:T[0].items,pickupDate:T[0].pickupDate,returnDate:T[0].returnDate};z({show:!0,order:M}),g(!1)}}catch(T){console.error("Error initializing return inspection:",T),alert("שגיאה בהתחלת בדיקת החזרה. נסה שוב.")}},H=async E=>{try{const T={status:"closed","returnInspection.inspectionStatus":"completed","returnInspection.inspectedBy":"סגירה ידנית","returnInspection.inspectionDate":Ai(),"returnInspection.managerNotes":"הזמנה נסגרה ידנית על ידי המנהל","returnInspection.totalItemsReturned":0,"returnInspection.totalDamages":0,"returnInspection.totalRepairCost":0,closedAt:Ai(),manuallyClosedAt:Ai()};await Qa(Ar(kt,"orders",E),T),await o(),g(!1),alert("ההזמנה נסגרה ידנית והועברה להיסטוריה!")}catch(T){console.error("Error manually closing order:",T),alert("שגיאה בסגירת ההזמנה. נסה שוב.")}},D=async(E,T,M)=>{try{const R={status:"closed",returnInspection:{inspectionStatus:"completed",inspectedBy:"מנהל המערכת",inspectionDate:Ai(),itemInspections:T.map(L=>({itemId:L.itemId,name:L.name,quantityExpected:L.quantityExpected,quantityReturned:L.quantityReturned,condition:L.condition,damageDescription:L.damageDescription||"",repairCost:L.repairCost||0,notes:L.notes||"",inspectedAt:new Date().toISOString()})),totalItemsReturned:M.totalItemsReturned,totalItemsExpected:M.totalItemsExpected,totalDamages:M.totalDamages,totalRepairCost:M.totalRepairCost,managerNotes:M.managerNotes,customerNotified:M.customerNotified,customerAgreedToCharges:M.customerAgreedToCharges},closedAt:Ai()};await Qa(Ar(kt,"orders",E),R),await o(),z({show:!1,order:null}),alert("בדיקת החזרה הושלמה בהצלחה! ההזמנה הועברה להיסטוריה.")}catch(R){console.error("Error completing return inspection:",R),alert("שגיאה בהשלמת בדיקת החזרה. נסה שוב.")}};return w.jsxs("div",{className:"mt-6",children:[w.jsx(SU,{currentDate:s,events:t,setCurrentDate:u,setSelectedEvents:h,setSelectedDate:x,setShowReport:g}),w.jsx(CU,{show:p,selectedDate:m,selectedEvents:f,allItems:n,setShowReport:g,setShowItemsModal:I,setEditItemModal:P,fetchItemsAndOrders:o,onStartReturnInspection:X,onCloseOrderManually:H}),w.jsx(IU,{show:!!b,setShow:()=>I(!1),selectedEvents:b,allItems:n}),w.jsx(TU,{show:C.open,data:C,setData:P,allItems:n,setShowReport:g,fetchItemsAndOrders:o,allEvents:t}),w.jsx(RU,{show:j.show,order:j.order,onClose:()=>z({show:!1,order:null}),onCompleteInspection:D,allItems:n,updateItemQuantities:o})]})},c4=n=>{const e=new Date(n);return e.setHours(0,0,0,0),e},DU=async(n,e)=>{const t=c4(new Date);for(const r of n.docs){const i=r.data();!i.pickupDate||i.stockUpdated||c4(new Date(i.pickupDate))>t||await Qa(Ar(e,"orders",r.id),{stockUpdated:!0})}},OU=(n,e)=>n.docs.flatMap(t=>{const r=t.data();if(r.status==="closed")return[];const i=(o=[])=>o.map(s=>{const u=e.find(f=>f.id===s.id);return{...s,imageUrl:(u==null?void 0:u.imageUrl)||null,itemId:(u==null?void 0:u.itemId)||"לא נמצא"}}),a=[];if(r.pickupDate&&r.returnDate){const o=new Date(r.pickupDate),s=new Date(r.returnDate);o.setHours(0,0,0,0),s.setHours(0,0,0,0);const u=Math.ceil((s-o)/(1e3*60*60*24));for(let f=0;f<=u;f++){if(f!==0&&f!==u)continue;const h=new Date(o);h.setDate(o.getDate()+f);let p,g,m;f===0?(p="השאלה",g="📦",m="איסוף מוצרים"):f===u&&(p="החזרה",g="🔄",m="החזרת מוצרים"),a.push({id:`${t.id}-${h.toISOString().slice(0,10)}`,orderId:t.id,date:new Date(h),clientName:r.clientName,phone:r.phone,type:p,icon:g,description:m,items:i(r.items),pickupDate:r.pickupDate,returnDate:r.returnDate,dayNumber:f+1,totalDays:u+1,isMultiDay:u>0})}}return a}),PU=async(n,e,t,r)=>{try{const a=(await yr(On(n,"items"))).docs.map(f=>{const h=f.data();return{id:f.id,itemId:h.ItemId,name:h.name,imageUrl:h.imageUrl,quantity:h.quantity||0,isDeleted:h.isDeleted||!1}}).filter(f=>!f.isDeleted);console.log("📊 Items loaded with quantities:",a.map(f=>({name:f.name,quantity:f.quantity}))),e(a);const o={};a.forEach(f=>{o[f.name]=f.imageUrl||null}),t(o);const s=await yr(On(n,"orders"));await DU(s,n);const u=OU(s,a);r(u)}catch(i){console.error("שגיאה בטעינת ההזמנות והפריטים:",i)}},LU=()=>{const[n,e]=pe.useState([]),[t,r]=pe.useState({}),[i,a]=pe.useState([]),[o,s]=pe.useState(!0),[u,f]=pe.useState(null),h=async()=>{try{s(!0),f(null),await PU(kt,e,r,a)}catch(p){console.error("Error fetching calendar data:",p),f("שגיאה בטעינת נתוני היומן. אנא נסה שוב.")}finally{s(!1)}};return pe.useEffect(()=>{h()},[]),o?w.jsx("div",{className:"flex justify-center items-center min-h-screen",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full border-blue-600 border-t-transparent"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"טוען נתוני יומן..."})]})}):u?w.jsx("div",{className:"flex justify-center items-center min-h-screen",children:w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-red-600 mb-4",children:u}),w.jsx("button",{onClick:h,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"נסה שוב"})]})}):w.jsx("div",{className:"container mx-auto px-4",children:w.jsx(NU,{allItems:n,itemsMap:t,events:i,setAllItems:e,setItemsMap:r,setEvents:a,fetchItemsAndOrders:h})})};function VS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=VS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Jf(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=VS(n))&&(r&&(r+=" "),r+=e);return r}function kU(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}kU(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var T0=n=>typeof n=="number"&&!isNaN(n),lh=n=>typeof n=="string",ec=n=>typeof n=="function",MU=n=>lh(n)||T0(n),Ly=n=>lh(n)||ec(n)?n:null,jU=(n,e)=>n===!1||T0(n)&&n>0?n:e,ky=n=>pe.isValidElement(n)||lh(n)||ec(n)||T0(n);function BU(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function FU({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:s,done:u,nodeRef:f,isIn:h,playToast:p}){let g=t?`${n}--${o}`:n,m=t?`${e}--${o}`:e,x=pe.useRef(0);return pe.useLayoutEffect(()=>{let b=f.current,I=g.split(" "),C=P=>{P.target===f.current&&(p(),b.removeEventListener("animationend",C),b.removeEventListener("animationcancel",C),x.current===0&&P.type!=="animationcancel"&&b.classList.remove(...I))};b.classList.add(...I),b.addEventListener("animationend",C),b.addEventListener("animationcancel",C)},[]),pe.useEffect(()=>{let b=f.current,I=()=>{b.removeEventListener("animationend",I),r?BU(b,u,i):u()};h||(s?I():(x.current=1,b.className+=` ${m}`,b.addEventListener("animationend",I)))},[h]),kn.createElement(kn.Fragment,null,a)}}function f4(n,e){return{content:zS(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function zS(n,e,t=!1){return pe.isValidElement(n)&&!lh(n.type)?pe.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):ec(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function UU({closeToast:n,theme:e,ariaLabel:t="close"}){return kn.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},kn.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},kn.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function VU({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:a,controlledProgress:o,progress:s,rtl:u,isIn:f,theme:h}){let p=i||o&&s===0,g={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};o&&(g.transform=`scaleX(${s})`);let m=Jf("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),x=ec(a)?a({rtl:u,type:r,defaultClassName:m}):Jf(m,a),b={[o&&s>=1?"onTransitionEnd":"onAnimationEnd"]:o&&s<1?null:()=>{f&&t()}};return kn.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},kn.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),kn.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:g,...b}))}var zU=1,qS=()=>`${zU++}`;function qU(n,e,t){let r=1,i=0,a=[],o=[],s=e,u=new Map,f=new Set,h=P=>(f.add(P),()=>f.delete(P)),p=()=>{o=Array.from(u.values()),f.forEach(P=>P())},g=({containerId:P,toastId:j,updateId:z})=>{let X=P?P!==n:n!==1,H=u.has(j)&&z==null;return X||H},m=(P,j)=>{u.forEach(z=>{var X;(j==null||j===z.props.toastId)&&((X=z.toggle)==null||X.call(z,P))})},x=P=>{var j,z;(z=(j=P.props)==null?void 0:j.onClose)==null||z.call(j,P.removalReason),P.isActive=!1},b=P=>{if(P==null)u.forEach(x);else{let j=u.get(P);j&&x(j)}p()},I=()=>{i-=a.length,a=[]},C=P=>{var j,z;let{toastId:X,updateId:H}=P.props,D=H==null;P.staleId&&u.delete(P.staleId),P.isActive=!0,u.set(X,P),p(),t(f4(P,D?"added":"updated")),D&&((z=(j=P.props).onOpen)==null||z.call(j))};return{id:n,props:s,observe:h,toggle:m,removeToast:b,toasts:u,clearQueue:I,buildToast:(P,j)=>{if(g(j))return;let{toastId:z,updateId:X,data:H,staleId:D,delay:E}=j,T=X==null;T&&i++;let M={...s,style:s.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([L,B])=>B!=null)),toastId:z,updateId:X,data:H,isIn:!1,className:Ly(j.className||s.toastClassName),progressClassName:Ly(j.progressClassName||s.progressClassName),autoClose:j.isLoading?!1:jU(j.autoClose,s.autoClose),closeToast(L){u.get(z).removalReason=L,b(z)},deleteToast(){let L=u.get(z);if(L!=null){if(t(f4(L,"removed")),u.delete(z),i--,i<0&&(i=0),a.length>0){C(a.shift());return}p()}}};M.closeButton=s.closeButton,j.closeButton===!1||ky(j.closeButton)?M.closeButton=j.closeButton:j.closeButton===!0&&(M.closeButton=ky(s.closeButton)?s.closeButton:!0);let R={content:P,props:M,staleId:D};s.limit&&s.limit>0&&i>s.limit&&T?a.push(R):T0(E)?setTimeout(()=>{C(R)},E):C(R)},setProps(P){s=P},setToggle:(P,j)=>{let z=u.get(P);z&&(z.toggle=j)},isToastActive:P=>{var j;return(j=u.get(P))==null?void 0:j.isActive},getSnapshot:()=>o}}var Ka=new Map,s0=[],My=new Set,HU=n=>My.forEach(e=>e(n)),HS=()=>Ka.size>0;function WU(){s0.forEach(n=>GS(n.content,n.options)),s0=[]}var GU=(n,{containerId:e})=>{var t;return(t=Ka.get(e||1))==null?void 0:t.toasts.get(n)};function WS(n,e){var t;if(e)return!!((t=Ka.get(e))!=null&&t.isToastActive(n));let r=!1;return Ka.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function $U(n){if(!HS()){s0=s0.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||MU(n))Ka.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Ka.get(n.containerId);e?e.removeToast(n.id):Ka.forEach(t=>{t.removeToast(n.id)})}}var XU=(n={})=>{Ka.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function GS(n,e){ky(n)&&(HS()||s0.push({content:n,options:e}),Ka.forEach(t=>{t.buildToast(n,e)}))}function YU(n){var e;(e=Ka.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function $S(n,e){Ka.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function KU(n){let e=n.containerId||1;return{subscribe(t){let r=qU(e,n,HU);Ka.set(e,r);let i=r.observe(t);return WU(),()=>{i(),Ka.delete(e)}},setProps(t){var r;(r=Ka.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Ka.get(e))==null?void 0:t.getSnapshot()}}}function QU(n){return My.add(n),()=>{My.delete(n)}}function ZU(n){return n&&(lh(n.toastId)||T0(n.toastId))?n.toastId:qS()}function R0(n,e){return GS(n,e),e.toastId}function km(n,e){return{...e,type:e&&e.type||n,toastId:ZU(e)}}function Mm(n){return(e,t)=>R0(e,km(n,t))}function mn(n,e){return R0(n,km("default",e))}mn.loading=(n,e)=>R0(n,km("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function JU(n,{pending:e,error:t,success:r},i){let a;e&&(a=lh(e)?mn.loading(e,i):mn.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(f,h,p)=>{if(h==null){mn.dismiss(a);return}let g={type:f,...o,...i,data:p},m=lh(h)?{render:h}:h;return a?mn.update(a,{...g,...m}):mn(m.render,{...g,...m}),p},u=ec(n)?n():n;return u.then(f=>s("success",r,f)).catch(f=>s("error",t,f)),u}mn.promise=JU;mn.success=Mm("success");mn.info=Mm("info");mn.error=Mm("error");mn.warning=Mm("warning");mn.warn=mn.warning;mn.dark=(n,e)=>R0(n,km("default",{theme:"dark",...e}));function eV(n){$U(n)}mn.dismiss=eV;mn.clearWaitingQueue=XU;mn.isActive=WS;mn.update=(n,e={})=>{let t=GU(n,e);if(t){let{props:r,content:i}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:qS()};a.toastId!==n&&(a.staleId=n);let o=a.render||i;delete a.render,R0(o,a)}};mn.done=n=>{mn.update(n,{progress:1})};mn.onChange=QU;mn.play=n=>$S(!0,n);mn.pause=n=>$S(!1,n);function tV(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=pe.useRef(KU(n)).current;i(n);let a=(e=pe.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function o(s){if(!a)return[];let u=new Map;return n.newestOnTop&&a.reverse(),a.forEach(f=>{let{position:h}=f.props;u.has(h)||u.set(h,[]),u.get(h).push(f)}),Array.from(u,f=>s(f[0],f[1]))}return{getToastToRender:o,isToastActive:WS,count:a==null?void 0:a.length}}function nV(n){let[e,t]=pe.useState(!1),[r,i]=pe.useState(!1),a=pe.useRef(null),o=pe.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:u,closeToast:f,onClick:h,closeOnClick:p}=n;YU({id:n.toastId,containerId:n.containerId,fn:t}),pe.useEffect(()=>{if(n.pauseOnFocusLoss)return g(),()=>{m()}},[n.pauseOnFocusLoss]);function g(){document.hasFocus()||C(),window.addEventListener("focus",I),window.addEventListener("blur",C)}function m(){window.removeEventListener("focus",I),window.removeEventListener("blur",C)}function x(D){if(n.draggable===!0||n.draggable===D.pointerType){P();let E=a.current;o.canCloseOnClick=!0,o.canDrag=!0,E.style.transition="none",n.draggableDirection==="x"?(o.start=D.clientX,o.removalDistance=E.offsetWidth*(n.draggablePercent/100)):(o.start=D.clientY,o.removalDistance=E.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function b(D){let{top:E,bottom:T,left:M,right:R}=a.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&n.pauseOnHover&&D.clientX>=M&&D.clientX<=R&&D.clientY>=E&&D.clientY<=T?C():I()}function I(){t(!0)}function C(){t(!1)}function P(){o.didMove=!1,document.addEventListener("pointermove",z),document.addEventListener("pointerup",X)}function j(){document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",X)}function z(D){let E=a.current;if(o.canDrag&&E){o.didMove=!0,e&&C(),n.draggableDirection==="x"?o.delta=D.clientX-o.start:o.delta=D.clientY-o.start,o.start!==D.clientX&&(o.canCloseOnClick=!1);let T=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;E.style.transform=`translate3d(${T},0)`,E.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function X(){j();let D=a.current;if(o.canDrag&&o.didMove&&D){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let H={onPointerDown:x,onPointerUp:b};return s&&u&&(H.onMouseEnter=C,n.stacked||(H.onMouseLeave=I)),p&&(H.onClick=D=>{h&&h(D),o.canCloseOnClick&&f(!0)}),{playToast:I,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:H}}var rV=typeof window<"u"?pe.useLayoutEffect:pe.useEffect,jm=({theme:n,type:e,isLoading:t,...r})=>kn.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function iV(n){return kn.createElement(jm,{...n},kn.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function aV(n){return kn.createElement(jm,{...n},kn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function oV(n){return kn.createElement(jm,{...n},kn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function sV(n){return kn.createElement(jm,{...n},kn.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function lV(){return kn.createElement("div",{className:"Toastify__spinner"})}var jy={info:aV,warning:iV,success:oV,error:sV,spinner:lV},uV=n=>n in jy;function cV({theme:n,type:e,isLoading:t,icon:r}){let i=null,a={theme:n,type:e};return r===!1||(ec(r)?i=r({...a,isLoading:t}):pe.isValidElement(r)?i=pe.cloneElement(r,a):t?i=jy.spinner():uV(e)&&(i=jy[e](a))),i}var fV=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:a}=nV(n),{closeButton:o,children:s,autoClose:u,onClick:f,type:h,hideProgressBar:p,closeToast:g,transition:m,position:x,className:b,style:I,progressClassName:C,updateId:P,role:j,progress:z,rtl:X,toastId:H,deleteToast:D,isIn:E,isLoading:T,closeOnClick:M,theme:R,ariaLabel:L}=n,B=Jf("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":M}),q=ec(b)?b({rtl:X,position:x,type:h,defaultClassName:B}):Jf(B,b),te=cV(n),V=!!z||!u,U={closeToast:g,type:h,theme:R},Q=null;return o===!1||(ec(o)?Q=o(U):pe.isValidElement(o)?Q=pe.cloneElement(o,U):Q=UU(U)),kn.createElement(m,{isIn:E,done:D,position:x,preventExitTransition:t,nodeRef:r,playToast:a},kn.createElement("div",{id:H,tabIndex:0,onClick:f,"data-in":E,className:q,...i,style:I,ref:r,...E&&{role:j,"aria-label":L}},te!=null&&kn.createElement("div",{className:Jf("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},te),zS(s,n,!e),Q,!n.customProgressBar&&kn.createElement(VU,{...P&&!V?{key:`p-${P}`}:{},rtl:X,theme:R,delay:u,isRunning:e,isIn:E,closeToast:g,hide:p,type:h,className:C,controlledProgress:V,progress:z||0})))},hV=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),dV=FU(hV("bounce",!0)),pV={position:"top-right",transition:dV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function gV(n){let e={...pV,...n},t=n.stacked,[r,i]=pe.useState(!0),a=pe.useRef(null),{getToastToRender:o,isToastActive:s,count:u}=tV(e),{className:f,style:h,rtl:p,containerId:g,hotKeys:m}=e;function x(I){let C=Jf("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":p});return ec(f)?f({position:I,rtl:p,defaultClassName:C}):Jf(C,Ly(f))}function b(){t&&(i(!0),mn.play())}return rV(()=>{var I;if(t){let C=a.current.querySelectorAll('[data-in="true"]'),P=12,j=(I=e.position)==null?void 0:I.includes("top"),z=0,X=0;Array.from(C).reverse().forEach((H,D)=>{let E=H;E.classList.add("Toastify__toast--stacked"),D>0&&(E.dataset.collapsed=`${r}`),E.dataset.pos||(E.dataset.pos=j?"top":"bot");let T=z*(r?.2:1)+(r?0:P*D);E.style.setProperty("--y",`${j?T:T*-1}px`),E.style.setProperty("--g",`${P}`),E.style.setProperty("--s",`${1-(r?X:0)}`),z+=E.offsetHeight,X+=.025})}},[r,u,t]),pe.useEffect(()=>{function I(C){var P;let j=a.current;m(C)&&((P=j.querySelector('[tabIndex="0"]'))==null||P.focus(),i(!1),mn.pause()),C.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(i(!0),mn.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[m]),kn.createElement("section",{ref:a,className:"Toastify",id:g,onMouseEnter:()=>{t&&(i(!1),mn.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((I,C)=>{let P=C.length?{...h}:{...h,pointerEvents:"none"};return kn.createElement("div",{tabIndex:-1,className:x(I),"data-stacked":t,style:P,key:`c-${I}`},C.map(({content:j,props:z})=>kn.createElement(fV,{...z,stacked:t,collapseAll:b,isIn:s(z.toastId,z.containerId),key:`t-${z.key}`},j)))}))}var Gh={},Iv={exports:{}},Tv,h4;function mV(){if(h4)return Tv;h4=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tv=n,Tv}var Rv,d4;function vV(){if(d4)return Rv;d4=1;var n=mV();function e(){}function t(){}return t.resetWarningCache=e,Rv=function(){function r(o,s,u,f,h,p){if(p!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Rv}var p4;function yV(){return p4||(p4=1,Iv.exports=vV()()),Iv.exports}var g4;function xV(){if(g4)return Gh;g4=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.default=void 0;var n=Object.assign||function(D){for(var E=1;E<arguments.length;E++){var T=arguments[E];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(D[M]=T[M])}return D},e=function(){function D(E,T){for(var M=0;M<T.length;M++){var R=T[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,T,M){return T&&D(E.prototype,T),M&&D(E,M),E}}(),t,r;Gh.confirmAlert=H;var i=Kg(),a=f(i),o=yV(),s=f(o),u=Q4();function f(D){return D&&D.__esModule?D:{default:D}}function h(D,E){if(!(D instanceof E))throw new TypeError("Cannot call a class as a function")}function p(D,E){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:D}function g(D,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);D.prototype=Object.create(E&&E.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(D,E):D.__proto__=E)}var m=(r=t=function(D){g(E,D);function E(){var T,M,R,L;h(this,E);for(var B=arguments.length,q=Array(B),te=0;te<B;te++)q[te]=arguments[te];return L=(M=(R=p(this,(T=E.__proto__||Object.getPrototypeOf(E)).call.apply(T,[this].concat(q))),R),R.handleClickButton=function(V){V.onClick&&V.onClick(),R.close()},R.handleClickOverlay=function(V){var U=R.props,Q=U.closeOnClickOutside,ae=U.onClickOutside,Y=V.target===R.overlay;Q&&Y&&(ae(),R.close()),V.stopPropagation()},R.close=function(){var V=R.props.afterClose;X(),j(R.props),C(V)},R.keyboard=function(V){var U=R.props,Q=U.closeOnEscape,ae=U.onKeypressEscape,Y=U.onkeyPress,me=U.keyCodeForClose,G=V.keyCode,Z=G===27;me.includes(G)&&R.close(),Q&&Z&&(ae(V),R.close()),Y&&Y()},R.componentDidMount=function(){document.addEventListener("keydown",R.keyboard,!1)},R.componentWillUnmount=function(){document.removeEventListener("keydown",R.keyboard,!1),R.props.willUnmount()},R.renderCustomUI=function(){var V=R.props,U=V.title,Q=V.message,ae=V.buttons,Y=V.customUI,me={title:U,message:Q,buttons:ae,onClose:R.close};return Y(me)},M),p(R,L)}return e(E,[{key:"render",value:function(){var M=this,R=this.props,L=R.title,B=R.message,q=R.buttons,te=R.childrenElement,V=R.customUI,U=R.overlayClassName;return a.default.createElement("div",{className:"react-confirm-alert-overlay "+U,ref:function(ae){return M.overlay=ae},onClick:this.handleClickOverlay},a.default.createElement("div",{className:"react-confirm-alert"},V?this.renderCustomUI():a.default.createElement("div",{className:"react-confirm-alert-body"},L&&a.default.createElement("h1",null,L),B,te(),a.default.createElement("div",{className:"react-confirm-alert-button-group"},q.map(function(Q,ae){return a.default.createElement("button",n({key:ae,className:Q.className},Q,{onClick:function(me){return M.handleClickButton(Q)}}),Q.label)})))))}}]),E}(i.Component),t.propTypes={title:s.default.string,message:s.default.string,buttons:s.default.array.isRequired,childrenElement:s.default.func,customUI:s.default.func,closeOnClickOutside:s.default.bool,closeOnEscape:s.default.bool,keyCodeForClose:s.default.arrayOf(s.default.number),willUnmount:s.default.func,afterClose:s.default.func,onClickOutside:s.default.func,onKeypressEscape:s.default.func,onkeyPress:s.default.func,overlayClassName:s.default.string},t.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},r);Gh.default=m;var x=null,b="react-confirm-alert";function I(){var D=document.getElementById("react-confirm-alert-firm-svg");if(!D){var E="http://www.w3.org/2000/svg",T=document.createElementNS(E,"feGaussianBlur");T.setAttribute("stdDeviation","0.3");var M=document.createElementNS(E,"filter");M.setAttribute("id","gaussian-blur"),M.appendChild(T);var R=document.createElementNS(E,"svg");R.setAttribute("id","react-confirm-alert-firm-svg"),R.setAttribute("class","react-confirm-alert-svg"),R.appendChild(M),document.body.appendChild(R)}}function C(D){var E=document.getElementById("react-confirm-alert-firm-svg");E&&E.parentNode.removeChild(E),document.body.children[0].classList.remove("react-confirm-alert-blur"),D()}function P(D){var E=document.getElementById(D.targetId||b);D.targetId&&!E&&console.error("React Confirm Alert:","Can not get element id (#"+D.targetId+")"),E?(x=(0,u.createRoot)(E),x.render(a.default.createElement(m,D))):(document.body.children[0].classList.add("react-confirm-alert-blur"),E=document.createElement("div"),E.id=b,document.body.appendChild(E),x=(0,u.createRoot)(E),x.render(a.default.createElement(m,D)))}function j(D){var E=document.getElementById(D.targetId||b);E&&x.unmount(E)}function z(){document.body.classList.add("react-confirm-alert-body-element")}function X(){document.body.classList.remove("react-confirm-alert-body-element")}function H(D){z(),I(),P(D)}return Gh}var _V=xV();function bV(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}function XS(n,e){return new Promise(function(t,r){let i;return wV(n).then(function(a){try{return i=a,t(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const wV=n=>new Promise((e,t)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const a=new DataView(i);let o=0;if(a.getUint16(o)!==65496)return t("not a valid JPEG");for(o+=2;;){const s=a.getUint16(o);if(s===65498)break;const u=a.getUint16(o+2);if(s===65505&&a.getUint32(o+4)===1165519206){const f=o+10;let h;switch(a.getUint16(f)){case 18761:h=!0;break;case 19789:h=!1;break;default:return t("TIFF header contains invalid endian")}if(a.getUint16(f+2,h)!==42)return t("TIFF header contains invalid version");const p=a.getUint32(f+4,h),g=f+p+2+12*a.getUint16(f+p,h);for(let m=f+p+2;m<g;m+=12)if(a.getUint16(m,h)==274){if(a.getUint16(m+2,h)!==3)return t("Orientation data type is invalid");if(a.getUint32(m+4,h)!==1)return t("Orientation data count is invalid");a.setUint16(m+8,1,h);break}return e(i.slice(o,o+2+u))}o+=2+u}return e(new Blob)}),r.readAsArrayBuffer(n)});var Fg={},AV={get exports(){return Fg},set exports(n){Fg=n}};(function(n){var e,t,r={};AV.exports=r,r.parse=function(i,a){for(var o=r.bin.readUshort,s=r.bin.readUint,u=0,f={},h=new Uint8Array(i),p=h.length-4;s(h,p)!=101010256;)p--;u=p,u+=4;var g=o(h,u+=4);o(h,u+=2);var m=s(h,u+=2),x=s(h,u+=4);u+=4,u=x;for(var b=0;b<g;b++){s(h,u),u+=4,u+=4,u+=4,s(h,u+=4),m=s(h,u+=4);var I=s(h,u+=4),C=o(h,u+=4),P=o(h,u+2),j=o(h,u+4);u+=6;var z=s(h,u+=8);u+=4,u+=C+P+j,r._readLocal(h,z,f,m,I,a)}return f},r._readLocal=function(i,a,o,s,u,f){var h=r.bin.readUshort,p=r.bin.readUint;p(i,a),h(i,a+=4),h(i,a+=2);var g=h(i,a+=2);p(i,a+=2),p(i,a+=4),a+=4;var m=h(i,a+=8),x=h(i,a+=2);a+=2;var b=r.bin.readUTF8(i,a,m);if(a+=m,a+=x,f)o[b]={size:u,csize:s};else{var I=new Uint8Array(i.buffer,a);if(g==0)o[b]=new Uint8Array(I.buffer.slice(a,a+s));else{if(g!=8)throw"unknown compression method: "+g;var C=new Uint8Array(u);r.inflateRaw(I,C),o[b]=C}}},r.inflateRaw=function(i,a){return r.F.inflate(i,a)},r.inflate=function(i,a){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),a)},r.deflate=function(i,a){a==null&&(a={level:6});var o=0,s=new Uint8Array(50+Math.floor(1.1*i.length));s[o]=120,s[o+1]=156,o+=2,o=r.F.deflateRaw(i,s,o,a.level);var u=r.adler(i,0,i.length);return s[o+0]=u>>>24&255,s[o+1]=u>>>16&255,s[o+2]=u>>>8&255,s[o+3]=u>>>0&255,new Uint8Array(s.buffer,0,o+4)},r.deflateRaw=function(i,a){a==null&&(a={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),s=r.F.deflateRaw(i,o,s,a.level);return new Uint8Array(o.buffer,0,s)},r.encode=function(i,a){a==null&&(a=!1);var o=0,s=r.bin.writeUint,u=r.bin.writeUshort,f={};for(var h in i){var p=!r._noNeed(h)&&!a,g=i[h],m=r.crc.crc(g,0,g.length);f[h]={cpr:p,usize:g.length,crc:m,file:p?r.deflateRaw(g):g}}for(var h in f)o+=f[h].file.length+30+46+2*r.bin.sizeUTF8(h);o+=22;var x=new Uint8Array(o),b=0,I=[];for(var h in f){var C=f[h];I.push(b),b=r._writeHeader(x,b,h,C,0)}var P=0,j=b;for(var h in f)C=f[h],I.push(b),b=r._writeHeader(x,b,h,C,1,I[P++]);var z=b-j;return s(x,b,101010256),b+=4,u(x,b+=4,P),u(x,b+=2,P),s(x,b+=2,z),s(x,b+=4,j),b+=4,b+=2,x.buffer},r._noNeed=function(i){var a=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},r._writeHeader=function(i,a,o,s,u,f){var h=r.bin.writeUint,p=r.bin.writeUshort,g=s.file;return h(i,a,u==0?67324752:33639248),a+=4,u==1&&(a+=2),p(i,a,20),p(i,a+=2,0),p(i,a+=2,s.cpr?8:0),h(i,a+=2,0),h(i,a+=4,s.crc),h(i,a+=4,g.length),h(i,a+=4,s.usize),p(i,a+=4,r.bin.sizeUTF8(o)),p(i,a+=2,0),a+=2,u==1&&(a+=2,a+=2,h(i,a+=6,f),a+=4),a+=r.bin.writeUTF8(i,a,o),u==0&&(i.set(g,a),a+=g.length),a},r.crc={table:function(){for(var i=new Uint32Array(256),a=0;a<256;a++){for(var o=a,s=0;s<8;s++)1&o?o=3988292384^o>>>1:o>>>=1;i[a]=o}return i}(),update:function(i,a,o,s){for(var u=0;u<s;u++)i=r.crc.table[255&(i^a[o+u])]^i>>>8;return i},crc:function(i,a,o){return 4294967295^r.crc.update(4294967295,i,a,o)}},r.adler=function(i,a,o){for(var s=1,u=0,f=a,h=a+o;f<h;){for(var p=Math.min(f+5552,h);f<p;)u+=s+=i[f++];s%=65521,u%=65521}return u<<16|s},r.bin={readUshort:function(i,a){return i[a]|i[a+1]<<8},writeUshort:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255},readUint:function(i,a){return 16777216*i[a+3]+(i[a+2]<<16|i[a+1]<<8|i[a])},writeUint:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255,i[a+2]=o>>16&255,i[a+3]=o>>24&255},readASCII:function(i,a,o){for(var s="",u=0;u<o;u++)s+=String.fromCharCode(i[a+u]);return s},writeASCII:function(i,a,o){for(var s=0;s<o.length;s++)i[a+s]=o.charCodeAt(s)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,a,o){for(var s,u="",f=0;f<o;f++)u+="%"+r.bin.pad(i[a+f].toString(16));try{s=decodeURIComponent(u)}catch{return r.bin.readASCII(i,a,o)}return s},writeUTF8:function(i,a,o){for(var s=o.length,u=0,f=0;f<s;f++){var h=o.charCodeAt(f);if((4294967168&h)==0)i[a+u]=h,u++;else if((4294965248&h)==0)i[a+u]=192|h>>6,i[a+u+1]=128|h>>0&63,u+=2;else if((4294901760&h)==0)i[a+u]=224|h>>12,i[a+u+1]=128|h>>6&63,i[a+u+2]=128|h>>0&63,u+=3;else{if((4292870144&h)!=0)throw"e";i[a+u]=240|h>>18,i[a+u+1]=128|h>>12&63,i[a+u+2]=128|h>>6&63,i[a+u+3]=128|h>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var a=i.length,o=0,s=0;s<a;s++){var u=i.charCodeAt(s);if((4294967168&u)==0)o++;else if((4294965248&u)==0)o+=2;else if((4294901760&u)==0)o+=3;else{if((4292870144&u)!=0)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,a,o,s){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],f=r.F.U,h=r.F._goodIndex;r.F._hash;var p=r.F._putsE,g=0,m=o<<3,x=0,b=i.length;if(s==0){for(;g<b;)p(a,m,g+(R=Math.min(65535,b-g))==b?1:0),m=r.F._copyExact(i,g,R,a,m+8),g+=R;return m>>>3}var I=f.lits,C=f.strt,P=f.prev,j=0,z=0,X=0,H=0,D=0,E=0;for(b>2&&(C[E=r.F._hash(i,0)]=0),g=0;g<b;g++){if(D=E,g+1<b-2){E=r.F._hash(i,g+1);var T=g+1&32767;P[T]=C[E],C[E]=T}if(x<=g){(j>14e3||z>26697)&&b-g>100&&(x<g&&(I[j]=g-x,j+=2,x=g),m=r.F._writeBlock(g==b-1||x==b?1:0,I,j,H,i,X,g-X,a,m),j=z=H=0,X=g);var M=0;g<b-2&&(M=r.F._bestMatch(i,g,P,D,Math.min(u[2],b-g),u[3]));var R=M>>>16,L=65535&M;if(M!=0){L=65535&M;var B=h(R=M>>>16,f.of0);f.lhst[257+B]++;var q=h(L,f.df0);f.dhst[q]++,H+=f.exb[B]+f.dxb[q],I[j]=R<<23|g-x,I[j+1]=L<<16|B<<8|q,j+=2,x=g+R}else f.lhst[i[g]]++;z++}}for(X==g&&i.length!=0||(x<g&&(I[j]=g-x,j+=2,x=g),m=r.F._writeBlock(1,I,j,H,i,X,g-X,a,m),j=0,z=0,j=z=H=0,X=g);(7&m)!=0;)m++;return m>>>3},r.F._bestMatch=function(i,a,o,s,u,f){var h=32767&a,p=o[h],g=h-p+32768&32767;if(p==h||s!=r.F._hash(i,a-g))return 0;for(var m=0,x=0,b=Math.min(32767,a);g<=b&&--f!=0&&p!=h;){if(m==0||i[a+m]==i[a+m-g]){var I=r.F._howLong(i,a,g);if(I>m){if(x=g,(m=I)>=u)break;g+2<I&&(I=g+2);for(var C=0,P=0;P<I-2;P++){var j=a-g+P+32768&32767,z=j-o[j]+32768&32767;z>C&&(C=z,p=j)}}}g+=(h=p)-(p=o[h])+32768&32767}return m<<16|x},r.F._howLong=function(i,a,o){if(i[a]!=i[a-o]||i[a+1]!=i[a+1-o]||i[a+2]!=i[a+2-o])return 0;var s=a,u=Math.min(i.length,a+258);for(a+=3;a<u&&i[a]==i[a-o];)a++;return a-s},r.F._hash=function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,a,o,s,u,f,h,p,g){var m,x,b,I,C,P,j,z,X,H=r.F.U,D=r.F._putsF,E=r.F._putsE;H.lhst[256]++,x=(m=r.F.getTrees())[0],b=m[1],I=m[2],C=m[3],P=m[4],j=m[5],z=m[6],X=m[7];var T=32+((g+3&7)==0?0:8-(g+3&7))+(h<<3),M=s+r.F.contSize(H.fltree,H.lhst)+r.F.contSize(H.fdtree,H.dhst),R=s+r.F.contSize(H.ltree,H.lhst)+r.F.contSize(H.dtree,H.dhst);R+=14+3*j+r.F.contSize(H.itree,H.ihst)+(2*H.ihst[16]+3*H.ihst[17]+7*H.ihst[18]);for(var L=0;L<286;L++)H.lhst[L]=0;for(L=0;L<30;L++)H.dhst[L]=0;for(L=0;L<19;L++)H.ihst[L]=0;var B=T<M&&T<R?0:M<R?1:2;if(D(p,g,i),D(p,g+1,B),g+=3,B==0){for(;(7&g)!=0;)g++;g=r.F._copyExact(u,f,h,p,g)}else{var q,te;if(B==1&&(q=H.fltree,te=H.fdtree),B==2){r.F.makeCodes(H.ltree,x),r.F.revCodes(H.ltree,x),r.F.makeCodes(H.dtree,b),r.F.revCodes(H.dtree,b),r.F.makeCodes(H.itree,I),r.F.revCodes(H.itree,I),q=H.ltree,te=H.dtree,E(p,g,C-257),E(p,g+=5,P-1),E(p,g+=5,j-4),g+=4;for(var V=0;V<j;V++)E(p,g+3*V,H.itree[1+(H.ordr[V]<<1)]);g+=3*j,g=r.F._codeTiny(z,H.itree,p,g),g=r.F._codeTiny(X,H.itree,p,g)}for(var U=f,Q=0;Q<o;Q+=2){for(var ae=a[Q],Y=ae>>>23,me=U+(8388607&ae);U<me;)g=r.F._writeLit(u[U++],q,p,g);if(Y!=0){var G=a[Q+1],Z=G>>16,ne=G>>8&255,oe=255&G;E(p,g=r.F._writeLit(257+ne,q,p,g),Y-H.of0[ne]),g+=H.exb[ne],D(p,g=r.F._writeLit(oe,te,p,g),Z-H.df0[oe]),g+=H.dxb[oe],U+=Y}}g=r.F._writeLit(256,q,p,g)}return g},r.F._copyExact=function(i,a,o,s,u){var f=u>>>3;return s[f]=o,s[f+1]=o>>>8,s[f+2]=255-s[f],s[f+3]=255-s[f+1],f+=4,s.set(new Uint8Array(i.buffer,a,o),f),u+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,a=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),s=[],u=r.F._lenCodes(i.ltree,s),f=[],h=r.F._lenCodes(i.dtree,f),p=0;p<s.length;p+=2)i.ihst[s[p]]++;for(p=0;p<f.length;p+=2)i.ihst[f[p]]++;for(var g=r.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[a,o,g,u,h,m,s,f]},r.F.getSecond=function(i){for(var a=[],o=0;o<i.length;o+=2)a.push(i[o+1]);return a},r.F.nonZero=function(i){for(var a="",o=0;o<i.length;o+=2)i[o+1]!=0&&(a+=(o>>1)+",");return a},r.F.contSize=function(i,a){for(var o=0,s=0;s<a.length;s++)o+=a[s]*i[1+(s<<1)];return o},r.F._codeTiny=function(i,a,o,s){for(var u=0;u<i.length;u+=2){var f=i[u],h=i[u+1];s=r.F._writeLit(f,a,o,s);var p=f==16?2:f==17?3:7;f>15&&(r.F._putsE(o,s,h,p),s+=p)}return s},r.F._lenCodes=function(i,a){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var s=0;s<o;s+=2){var u=i[s+1],f=s+3<o?i[s+3]:-1,h=s+5<o?i[s+5]:-1,p=s==0?-1:i[s-1];if(u==0&&f==u&&h==u){for(var g=s+5;g+2<o&&i[g+2]==u;)g+=2;(m=Math.min(g+1-s>>>1,138))<11?a.push(17,m-3):a.push(18,m-11),s+=2*m-2}else if(u==p&&f==u&&h==u){for(g=s+5;g+2<o&&i[g+2]==u;)g+=2;var m=Math.min(g+1-s>>>1,6);a.push(16,m-3),s+=2*m-2}else a.push(u,0)}return o>>>1},r.F._hufTree=function(i,a,o){var s=[],u=i.length,f=a.length,h=0;for(h=0;h<f;h+=2)a[h]=0,a[h+1]=0;for(h=0;h<u;h++)i[h]!=0&&s.push({lit:h,f:i[h]});var p=s.length,g=s.slice(0);if(p==0)return 0;if(p==1){var m=s[0].lit;return g=m==0?1:0,a[1+(m<<1)]=1,a[1+(g<<1)]=1,1}s.sort(function(z,X){return z.f-X.f});var x=s[0],b=s[1],I=0,C=1,P=2;for(s[0]={lit:-1,f:x.f+b.f,l:x,r:b,d:0};C!=p-1;)x=I!=C&&(P==p||s[I].f<s[P].f)?s[I++]:s[P++],b=I!=C&&(P==p||s[I].f<s[P].f)?s[I++]:s[P++],s[C++]={lit:-1,f:x.f+b.f,l:x,r:b};var j=r.F.setDepth(s[C-1],0);for(j>o&&(r.F.restrictDepth(g,o,j),j=o),h=0;h<p;h++)a[1+(g[h].lit<<1)]=g[h].d;return j},r.F.setDepth=function(i,a){return i.lit!=-1?(i.d=a,a):Math.max(r.F.setDepth(i.l,a+1),r.F.setDepth(i.r,a+1))},r.F.restrictDepth=function(i,a,o){var s=0,u=1<<o-a,f=0;for(i.sort(function(p,g){return g.d==p.d?p.f-g.f:g.d-p.d}),s=0;s<i.length&&i[s].d>a;s++){var h=i[s].d;i[s].d=a,f+=u-(1<<o-h)}for(f>>>=o-a;f>0;)(h=i[s].d)<a?(i[s].d++,f-=1<<a-h-1):s++;for(;s>=0;s--)i[s].d==a&&f<0&&(i[s].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,a){var o=0;return a[16|o]<=i&&(o|=16),a[8|o]<=i&&(o|=8),a[4|o]<=i&&(o|=4),a[2|o]<=i&&(o|=2),a[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,a,o,s){return r.F._putsF(o,s,a[i<<1]),s+a[1+(i<<1)]},r.F.inflate=function(i,a){var o=Uint8Array;if(i[0]==3&&i[1]==0)return a||new o(0);var s=r.F,u=s._bitsF,f=s._bitsE,h=s._decodeTiny,p=s.makeCodes,g=s.codes2map,m=s._get17,x=s.U,b=a==null;b&&(a=new o(i.length>>>2<<3));for(var I,C,P=0,j=0,z=0,X=0,H=0,D=0,E=0,T=0,M=0;P==0;)if(P=u(i,M,1),j=u(i,M+1,2),M+=3,j!=0){if(b&&(a=r.F._check(a,T+(1<<17))),j==1&&(I=x.flmap,C=x.fdmap,D=511,E=31),j==2){z=f(i,M,5)+257,X=f(i,M+5,5)+1,H=f(i,M+10,4)+4,M+=14;for(var R=0;R<38;R+=2)x.itree[R]=0,x.itree[R+1]=0;var L=1;for(R=0;R<H;R++){var B=f(i,M+3*R,3);x.itree[1+(x.ordr[R]<<1)]=B,B>L&&(L=B)}M+=3*H,p(x.itree,L),g(x.itree,L,x.imap),I=x.lmap,C=x.dmap,M=h(x.imap,(1<<L)-1,z+X,i,M,x.ttree);var q=s._copyOut(x.ttree,0,z,x.ltree);D=(1<<q)-1;var te=s._copyOut(x.ttree,z,X,x.dtree);E=(1<<te)-1,p(x.ltree,q),g(x.ltree,q,I),p(x.dtree,te),g(x.dtree,te,C)}for(;;){var V=I[m(i,M)&D];M+=15&V;var U=V>>>4;if(!(U>>>8))a[T++]=U;else{if(U==256)break;var Q=T+U-254;if(U>264){var ae=x.ldef[U-257];Q=T+(ae>>>3)+f(i,M,7&ae),M+=7&ae}var Y=C[m(i,M)&E];M+=15&Y;var me=Y>>>4,G=x.ddef[me],Z=(G>>>4)+u(i,M,15&G);for(M+=15&G,b&&(a=r.F._check(a,T+(1<<17)));T<Q;)a[T]=a[T++-Z],a[T]=a[T++-Z],a[T]=a[T++-Z],a[T]=a[T++-Z];T=Q}}}else{(7&M)!=0&&(M+=8-(7&M));var ne=4+(M>>>3),oe=i[ne-4]|i[ne-3]<<8;b&&(a=r.F._check(a,T+oe)),a.set(new o(i.buffer,i.byteOffset+ne,oe),T),M=ne+oe<<3,T+=oe}return a.length==T?a:a.slice(0,T)},r.F._check=function(i,a){var o=i.length;if(a<=o)return i;var s=new Uint8Array(Math.max(o<<1,a));return s.set(i,0),s},r.F._decodeTiny=function(i,a,o,s,u,f){for(var h=r.F._bitsE,p=r.F._get17,g=0;g<o;){var m=i[p(s,u)&a];u+=15&m;var x=m>>>4;if(x<=15)f[g]=x,g++;else{var b=0,I=0;x==16?(I=3+h(s,u,2),u+=2,b=f[g-1]):x==17?(I=3+h(s,u,3),u+=3):x==18&&(I=11+h(s,u,7),u+=7);for(var C=g+I;g<C;)f[g]=b,g++}}return u},r.F._copyOut=function(i,a,o,s){for(var u=0,f=0,h=s.length>>>1;f<o;){var p=i[f+a];s[f<<1]=0,s[1+(f<<1)]=p,p>u&&(u=p),f++}for(;f<h;)s[f<<1]=0,s[1+(f<<1)]=0,f++;return u},r.F.makeCodes=function(i,a){for(var o,s,u,f,h=r.F.U,p=i.length,g=h.bl_count,m=0;m<=a;m++)g[m]=0;for(m=1;m<p;m+=2)g[i[m]]++;var x=h.next_code;for(o=0,g[0]=0,s=1;s<=a;s++)o=o+g[s-1]<<1,x[s]=o;for(u=0;u<p;u+=2)(f=i[u+1])!=0&&(i[u]=x[f],x[f]++)},r.F.codes2map=function(i,a,o){for(var s=i.length,u=r.F.U.rev15,f=0;f<s;f+=2)if(i[f+1]!=0)for(var h=f>>1,p=i[f+1],g=h<<4|p,m=a-p,x=i[f]<<m,b=x+(1<<m);x!=b;)o[u[x]>>>15-a]=g,x++},r.F.revCodes=function(i,a){for(var o=r.F.U.rev15,s=15-a,u=0;u<i.length;u+=2){var f=i[u]<<a-i[u+1];i[u]=o[f]>>>s}},r.F._putsE=function(i,a,o){o<<=7&a;var s=a>>>3;i[s]|=o,i[s+1]|=o>>>8},r.F._putsF=function(i,a,o){o<<=7&a;var s=a>>>3;i[s]|=o,i[s+1]|=o>>>8,i[s+2]|=o>>>16},r.F._bitsE=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8)>>>(7&a)&(1<<o)-1},r.F._bitsF=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)&(1<<o)-1},r.F._get17=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)},r.F._get25=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16|i[3+(a>>>3)]<<24)>>>(7&a)},r.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,a=0;a<32768;a++){var o=a;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[a]=(o>>>16|o<<16)>>>17}function s(u,f,h){for(;f--!=0;)u.push(0,h)}for(a=0;a<32;a++)i.ldef[a]=i.of0[a]<<3|i.exb[a],i.ddef[a]=i.df0[a]<<4|i.dxb[a];s(i.fltree,144,8),s(i.fltree,112,9),s(i.fltree,24,7),s(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),s(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),s(i.itree,19,0),s(i.ltree,286,0),s(i.dtree,30,0),s(i.ttree,320,0)}()})();var EV=bV({__proto__:null,default:Fg},[Fg]);const rl=function(){var n={nextZero(h,p){for(;h[p]!=0;)p++;return p},readUshort:(h,p)=>h[p]<<8|h[p+1],writeUshort(h,p,g){h[p]=g>>8&255,h[p+1]=255&g},readUint:(h,p)=>16777216*h[p]+(h[p+1]<<16|h[p+2]<<8|h[p+3]),writeUint(h,p,g){h[p]=g>>24&255,h[p+1]=g>>16&255,h[p+2]=g>>8&255,h[p+3]=255&g},readASCII(h,p,g){let m="";for(let x=0;x<g;x++)m+=String.fromCharCode(h[p+x]);return m},writeASCII(h,p,g){for(let m=0;m<g.length;m++)h[p+m]=g.charCodeAt(m)},readBytes(h,p,g){const m=[];for(let x=0;x<g;x++)m.push(h[p+x]);return m},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,p,g){let m,x="";for(let b=0;b<g;b++)x+=`%${n.pad(h[p+b].toString(16))}`;try{m=decodeURIComponent(x)}catch{return n.readASCII(h,p,g)}return m}};function e(h,p,g,m){const x=p*g,b=a(m),I=Math.ceil(p*b/8),C=new Uint8Array(4*x),P=new Uint32Array(C.buffer),{ctype:j}=m,{depth:z}=m,X=n.readUshort;if(j==6){const ae=x<<2;if(z==8)for(var H=0;H<ae;H+=4)C[H]=h[H],C[H+1]=h[H+1],C[H+2]=h[H+2],C[H+3]=h[H+3];if(z==16)for(H=0;H<ae;H++)C[H]=h[H<<1]}else if(j==2){const ae=m.tabs.tRNS;if(ae==null){if(z==8)for(H=0;H<x;H++){var D=3*H;P[H]=255<<24|h[D+2]<<16|h[D+1]<<8|h[D]}if(z==16)for(H=0;H<x;H++)D=6*H,P[H]=255<<24|h[D+4]<<16|h[D+2]<<8|h[D]}else{var E=ae[0];const Y=ae[1],me=ae[2];if(z==8)for(H=0;H<x;H++){var T=H<<2;D=3*H,P[H]=255<<24|h[D+2]<<16|h[D+1]<<8|h[D],h[D]==E&&h[D+1]==Y&&h[D+2]==me&&(C[T+3]=0)}if(z==16)for(H=0;H<x;H++)T=H<<2,D=6*H,P[H]=255<<24|h[D+4]<<16|h[D+2]<<8|h[D],X(h,D)==E&&X(h,D+2)==Y&&X(h,D+4)==me&&(C[T+3]=0)}}else if(j==3){const ae=m.tabs.PLTE,Y=m.tabs.tRNS,me=Y?Y.length:0;if(z==1)for(var M=0;M<g;M++){var R=M*I,L=M*p;for(H=0;H<p;H++){T=L+H<<2;var B=3*(q=h[R+(H>>3)]>>7-((7&H)<<0)&1);C[T]=ae[B],C[T+1]=ae[B+1],C[T+2]=ae[B+2],C[T+3]=q<me?Y[q]:255}}if(z==2)for(M=0;M<g;M++)for(R=M*I,L=M*p,H=0;H<p;H++)T=L+H<<2,B=3*(q=h[R+(H>>2)]>>6-((3&H)<<1)&3),C[T]=ae[B],C[T+1]=ae[B+1],C[T+2]=ae[B+2],C[T+3]=q<me?Y[q]:255;if(z==4)for(M=0;M<g;M++)for(R=M*I,L=M*p,H=0;H<p;H++)T=L+H<<2,B=3*(q=h[R+(H>>1)]>>4-((1&H)<<2)&15),C[T]=ae[B],C[T+1]=ae[B+1],C[T+2]=ae[B+2],C[T+3]=q<me?Y[q]:255;if(z==8)for(H=0;H<x;H++){var q;T=H<<2,B=3*(q=h[H]),C[T]=ae[B],C[T+1]=ae[B+1],C[T+2]=ae[B+2],C[T+3]=q<me?Y[q]:255}}else if(j==4){if(z==8)for(H=0;H<x;H++){T=H<<2;var te=h[V=H<<1];C[T]=te,C[T+1]=te,C[T+2]=te,C[T+3]=h[V+1]}if(z==16)for(H=0;H<x;H++){var V;T=H<<2,te=h[V=H<<2],C[T]=te,C[T+1]=te,C[T+2]=te,C[T+3]=h[V+2]}}else if(j==0)for(E=m.tabs.tRNS?m.tabs.tRNS:-1,M=0;M<g;M++){const ae=M*I,Y=M*p;if(z==1)for(var U=0;U<p;U++){var Q=(te=255*(h[ae+(U>>>3)]>>>7-(7&U)&1))==255*E?0:255;P[Y+U]=Q<<24|te<<16|te<<8|te}else if(z==2)for(U=0;U<p;U++)Q=(te=85*(h[ae+(U>>>2)]>>>6-((3&U)<<1)&3))==85*E?0:255,P[Y+U]=Q<<24|te<<16|te<<8|te;else if(z==4)for(U=0;U<p;U++)Q=(te=17*(h[ae+(U>>>1)]>>>4-((1&U)<<2)&15))==17*E?0:255,P[Y+U]=Q<<24|te<<16|te<<8|te;else if(z==8)for(U=0;U<p;U++)Q=(te=h[ae+U])==E?0:255,P[Y+U]=Q<<24|te<<16|te<<8|te;else if(z==16)for(U=0;U<p;U++)te=h[ae+(U<<1)],Q=X(h,ae+(U<<1))==E?0:255,P[Y+U]=Q<<24|te<<16|te<<8|te}return C}function t(h,p,g,m){const x=a(h),b=Math.ceil(g*x/8),I=new Uint8Array((b+1+h.interlace)*m);return p=h.tabs.CgBI?i(p,I):r(p,I),h.interlace==0?p=o(p,h,0,g,m):h.interlace==1&&(p=function(P,j){const z=j.width,X=j.height,H=a(j),D=H>>3,E=Math.ceil(z*H/8),T=new Uint8Array(X*E);let M=0;const R=[0,0,4,0,2,0,1],L=[0,4,0,2,0,1,0],B=[8,8,8,4,4,2,2],q=[8,8,4,4,2,2,1];let te=0;for(;te<7;){const U=B[te],Q=q[te];let ae=0,Y=0,me=R[te];for(;me<X;)me+=U,Y++;let G=L[te];for(;G<z;)G+=Q,ae++;const Z=Math.ceil(ae*H/8);o(P,j,M,ae,Y);let ne=0,oe=R[te];for(;oe<X;){let ge=L[te],Ee=M+ne*Z<<3;for(;ge<z;){var V;if(H==1&&(V=(V=P[Ee>>3])>>7-(7&Ee)&1,T[oe*E+(ge>>3)]|=V<<7-((7&ge)<<0)),H==2&&(V=(V=P[Ee>>3])>>6-(7&Ee)&3,T[oe*E+(ge>>2)]|=V<<6-((3&ge)<<1)),H==4&&(V=(V=P[Ee>>3])>>4-(7&Ee)&15,T[oe*E+(ge>>1)]|=V<<4-((1&ge)<<2)),H>=8){const we=oe*E+ge*D;for(let Ie=0;Ie<D;Ie++)T[we+Ie]=P[(Ee>>3)+Ie]}Ee+=H,ge+=Q}ne++,oe+=U}ae*Y!=0&&(M+=Y*(1+Z)),te+=1}return T}(p,h)),p}function r(h,p){return i(new Uint8Array(h.buffer,2,h.length-6),p)}var i=function(){const h={H:{}};return h.H.N=function(p,g){const m=Uint8Array;let x,b,I=0,C=0,P=0,j=0,z=0,X=0,H=0,D=0,E=0;if(p[0]==3&&p[1]==0)return g||new m(0);const T=h.H,M=T.b,R=T.e,L=T.R,B=T.n,q=T.A,te=T.Z,V=T.m,U=g==null;for(U&&(g=new m(p.length>>>2<<5));I==0;)if(I=M(p,E,1),C=M(p,E+1,2),E+=3,C!=0){if(U&&(g=h.H.W(g,D+(1<<17))),C==1&&(x=V.J,b=V.h,X=511,H=31),C==2){P=R(p,E,5)+257,j=R(p,E+5,5)+1,z=R(p,E+10,4)+4,E+=14;let ae=1;for(var Q=0;Q<38;Q+=2)V.Q[Q]=0,V.Q[Q+1]=0;for(Q=0;Q<z;Q++){const G=R(p,E+3*Q,3);V.Q[1+(V.X[Q]<<1)]=G,G>ae&&(ae=G)}E+=3*z,B(V.Q,ae),q(V.Q,ae,V.u),x=V.w,b=V.d,E=L(V.u,(1<<ae)-1,P+j,p,E,V.v);const Y=T.V(V.v,0,P,V.C);X=(1<<Y)-1;const me=T.V(V.v,P,j,V.D);H=(1<<me)-1,B(V.C,Y),q(V.C,Y,x),B(V.D,me),q(V.D,me,b)}for(;;){const ae=x[te(p,E)&X];E+=15&ae;const Y=ae>>>4;if(!(Y>>>8))g[D++]=Y;else{if(Y==256)break;{let me=D+Y-254;if(Y>264){const ge=V.q[Y-257];me=D+(ge>>>3)+R(p,E,7&ge),E+=7&ge}const G=b[te(p,E)&H];E+=15&G;const Z=G>>>4,ne=V.c[Z],oe=(ne>>>4)+M(p,E,15&ne);for(E+=15&ne;D<me;)g[D]=g[D++-oe],g[D]=g[D++-oe],g[D]=g[D++-oe],g[D]=g[D++-oe];D=me}}}}else{(7&E)!=0&&(E+=8-(7&E));const ae=4+(E>>>3),Y=p[ae-4]|p[ae-3]<<8;U&&(g=h.H.W(g,D+Y)),g.set(new m(p.buffer,p.byteOffset+ae,Y),D),E=ae+Y<<3,D+=Y}return g.length==D?g:g.slice(0,D)},h.H.W=function(p,g){const m=p.length;if(g<=m)return p;const x=new Uint8Array(m<<1);return x.set(p,0),x},h.H.R=function(p,g,m,x,b,I){const C=h.H.e,P=h.H.Z;let j=0;for(;j<m;){const z=p[P(x,b)&g];b+=15&z;const X=z>>>4;if(X<=15)I[j]=X,j++;else{let H=0,D=0;X==16?(D=3+C(x,b,2),b+=2,H=I[j-1]):X==17?(D=3+C(x,b,3),b+=3):X==18&&(D=11+C(x,b,7),b+=7);const E=j+D;for(;j<E;)I[j]=H,j++}}return b},h.H.V=function(p,g,m,x){let b=0,I=0;const C=x.length>>>1;for(;I<m;){const P=p[I+g];x[I<<1]=0,x[1+(I<<1)]=P,P>b&&(b=P),I++}for(;I<C;)x[I<<1]=0,x[1+(I<<1)]=0,I++;return b},h.H.n=function(p,g){const m=h.H.m,x=p.length;let b,I,C,P;const j=m.j;for(var z=0;z<=g;z++)j[z]=0;for(z=1;z<x;z+=2)j[p[z]]++;const X=m.K;for(b=0,j[0]=0,I=1;I<=g;I++)b=b+j[I-1]<<1,X[I]=b;for(C=0;C<x;C+=2)P=p[C+1],P!=0&&(p[C]=X[P],X[P]++)},h.H.A=function(p,g,m){const x=p.length,b=h.H.m.r;for(let I=0;I<x;I+=2)if(p[I+1]!=0){const C=I>>1,P=p[I+1],j=C<<4|P,z=g-P;let X=p[I]<<z;const H=X+(1<<z);for(;X!=H;)m[b[X]>>>15-g]=j,X++}},h.H.l=function(p,g){const m=h.H.m.r,x=15-g;for(let b=0;b<p.length;b+=2){const I=p[b]<<g-p[b+1];p[b]=m[I]>>>x}},h.H.M=function(p,g,m){m<<=7&g;const x=g>>>3;p[x]|=m,p[x+1]|=m>>>8},h.H.I=function(p,g,m){m<<=7&g;const x=g>>>3;p[x]|=m,p[x+1]|=m>>>8,p[x+2]|=m>>>16},h.H.e=function(p,g,m){return(p[g>>>3]|p[1+(g>>>3)]<<8)>>>(7&g)&(1<<m)-1},h.H.b=function(p,g,m){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)&(1<<m)-1},h.H.Z=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)},h.H.i=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16|p[3+(g>>>3)]<<24)>>>(7&g)},h.H.m=function(){const p=Uint16Array,g=Uint32Array;return{K:new p(16),j:new p(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new p(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new g(32),J:new p(512),_:[],h:new p(32),$:[],w:new p(32768),C:[],v:[],d:new p(32768),D:[],u:new p(512),Q:[],r:new p(32768),s:new g(286),Y:new g(30),a:new g(19),t:new g(15e3),k:new p(65536),g:new p(32768)}}(),function(){const p=h.H.m;for(var g=0;g<32768;g++){let x=g;x=(2863311530&x)>>>1|(1431655765&x)<<1,x=(3435973836&x)>>>2|(858993459&x)<<2,x=(4042322160&x)>>>4|(252645135&x)<<4,x=(4278255360&x)>>>8|(16711935&x)<<8,p.r[g]=(x>>>16|x<<16)>>>17}function m(x,b,I){for(;b--!=0;)x.push(0,I)}for(g=0;g<32;g++)p.q[g]=p.S[g]<<3|p.T[g],p.c[g]=p.p[g]<<4|p.z[g];m(p._,144,8),m(p._,112,9),m(p._,24,7),m(p._,8,8),h.H.n(p._,9),h.H.A(p._,9,p.J),h.H.l(p._,9),m(p.$,32,5),h.H.n(p.$,5),h.H.A(p.$,5,p.h),h.H.l(p.$,5),m(p.Q,19,0),m(p.C,286,0),m(p.D,30,0),m(p.v,320,0)}(),h.H.N}();function a(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function o(h,p,g,m,x){let b=a(p);const I=Math.ceil(m*b/8);let C,P;b=Math.ceil(b/8);let j=h[g],z=0;if(j>1&&(h[g]=[0,0,1][j-2]),j==3)for(z=b;z<I;z++)h[z+1]=h[z+1]+(h[z+1-b]>>>1)&255;for(let X=0;X<x;X++)if(C=g+X*I,P=C+X+1,j=h[P-1],z=0,j==0)for(;z<I;z++)h[C+z]=h[P+z];else if(j==1){for(;z<b;z++)h[C+z]=h[P+z];for(;z<I;z++)h[C+z]=h[P+z]+h[C+z-b]}else if(j==2)for(;z<I;z++)h[C+z]=h[P+z]+h[C+z-I];else if(j==3){for(;z<b;z++)h[C+z]=h[P+z]+(h[C+z-I]>>>1);for(;z<I;z++)h[C+z]=h[P+z]+(h[C+z-I]+h[C+z-b]>>>1)}else{for(;z<b;z++)h[C+z]=h[P+z]+s(0,h[C+z-I],0);for(;z<I;z++)h[C+z]=h[P+z]+s(h[C+z-b],h[C+z-I],h[C+z-b-I])}return h}function s(h,p,g){const m=h+p-g,x=m-h,b=m-p,I=m-g;return x*x<=b*b&&x*x<=I*I?h:b*b<=I*I?p:g}function u(h,p,g){g.width=n.readUint(h,p),p+=4,g.height=n.readUint(h,p),p+=4,g.depth=h[p],p++,g.ctype=h[p],p++,g.compress=h[p],p++,g.filter=h[p],p++,g.interlace=h[p],p++}function f(h,p,g,m,x,b,I,C,P){const j=Math.min(p,x),z=Math.min(g,b);let X=0,H=0;for(let te=0;te<z;te++)for(let V=0;V<j;V++)if(I>=0&&C>=0?(X=te*p+V<<2,H=(C+te)*x+I+V<<2):(X=(-C+te)*p-I+V<<2,H=te*x+V<<2),P==0)m[H]=h[X],m[H+1]=h[X+1],m[H+2]=h[X+2],m[H+3]=h[X+3];else if(P==1){var D=h[X+3]*.00392156862745098,E=h[X]*D,T=h[X+1]*D,M=h[X+2]*D,R=m[H+3]*(1/255),L=m[H]*R,B=m[H+1]*R,q=m[H+2]*R;const U=1-D,Q=D+R*U,ae=Q==0?0:1/Q;m[H+3]=255*Q,m[H+0]=(E+L*U)*ae,m[H+1]=(T+B*U)*ae,m[H+2]=(M+q*U)*ae}else if(P==2)D=h[X+3],E=h[X],T=h[X+1],M=h[X+2],R=m[H+3],L=m[H],B=m[H+1],q=m[H+2],D==R&&E==L&&T==B&&M==q?(m[H]=0,m[H+1]=0,m[H+2]=0,m[H+3]=0):(m[H]=E,m[H+1]=T,m[H+2]=M,m[H+3]=D);else if(P==3){if(D=h[X+3],E=h[X],T=h[X+1],M=h[X+2],R=m[H+3],L=m[H],B=m[H+1],q=m[H+2],D==R&&E==L&&T==B&&M==q)continue;if(D<220&&R>20)return!1}return!0}return{decode:function(p){const g=new Uint8Array(p);let m=8;const x=n,b=x.readUshort,I=x.readUint,C={tabs:{},frames:[]},P=new Uint8Array(g.length);let j,z=0,X=0;const H=[137,80,78,71,13,10,26,10];for(var D=0;D<8;D++)if(g[D]!=H[D])throw"The input is not a PNG file!";for(;m<g.length;){const te=x.readUint(g,m);m+=4;const V=x.readASCII(g,m,4);if(m+=4,V=="IHDR")u(g,m,C);else if(V=="iCCP"){for(var E=m;g[E]!=0;)E++;x.readASCII(g,m,E-m),g[E+1];const U=g.slice(E+2,m+te);let Q=null;try{Q=r(U)}catch{Q=i(U)}C.tabs[V]=Q}else if(V=="CgBI")C.tabs[V]=g.slice(m,m+4);else if(V=="IDAT"){for(D=0;D<te;D++)P[z+D]=g[m+D];z+=te}else if(V=="acTL")C.tabs[V]={num_frames:I(g,m),num_plays:I(g,m+4)},j=new Uint8Array(g.length);else if(V=="fcTL"){X!=0&&((q=C.frames[C.frames.length-1]).data=t(C,j.slice(0,X),q.rect.width,q.rect.height),X=0);const U={x:I(g,m+12),y:I(g,m+16),width:I(g,m+4),height:I(g,m+8)};let Q=b(g,m+22);Q=b(g,m+20)/(Q==0?100:Q);const ae={rect:U,delay:Math.round(1e3*Q),dispose:g[m+24],blend:g[m+25]};C.frames.push(ae)}else if(V=="fdAT"){for(D=0;D<te-4;D++)j[X+D]=g[m+D+4];X+=te-4}else if(V=="pHYs")C.tabs[V]=[x.readUint(g,m),x.readUint(g,m+4),g[m+8]];else if(V=="cHRM")for(C.tabs[V]=[],D=0;D<8;D++)C.tabs[V].push(x.readUint(g,m+4*D));else if(V=="tEXt"||V=="zTXt"){C.tabs[V]==null&&(C.tabs[V]={});var T=x.nextZero(g,m),M=x.readASCII(g,m,T-m),R=m+te-T-1;if(V=="tEXt")B=x.readASCII(g,T+1,R);else{var L=r(g.slice(T+2,T+2+R));B=x.readUTF8(L,0,L.length)}C.tabs[V][M]=B}else if(V=="iTXt"){C.tabs[V]==null&&(C.tabs[V]={}),T=0,E=m,T=x.nextZero(g,E),M=x.readASCII(g,E,T-E);const U=g[E=T+1];var B;g[E+1],E+=2,T=x.nextZero(g,E),x.readASCII(g,E,T-E),E=T+1,T=x.nextZero(g,E),x.readUTF8(g,E,T-E),R=te-((E=T+1)-m),U==0?B=x.readUTF8(g,E,R):(L=r(g.slice(E,E+R)),B=x.readUTF8(L,0,L.length)),C.tabs[V][M]=B}else if(V=="PLTE")C.tabs[V]=x.readBytes(g,m,te);else if(V=="hIST"){const U=C.tabs.PLTE.length/3;for(C.tabs[V]=[],D=0;D<U;D++)C.tabs[V].push(b(g,m+2*D))}else if(V=="tRNS")C.ctype==3?C.tabs[V]=x.readBytes(g,m,te):C.ctype==0?C.tabs[V]=b(g,m):C.ctype==2&&(C.tabs[V]=[b(g,m),b(g,m+2),b(g,m+4)]);else if(V=="gAMA")C.tabs[V]=x.readUint(g,m)/1e5;else if(V=="sRGB")C.tabs[V]=g[m];else if(V=="bKGD")C.ctype==0||C.ctype==4?C.tabs[V]=[b(g,m)]:C.ctype==2||C.ctype==6?C.tabs[V]=[b(g,m),b(g,m+2),b(g,m+4)]:C.ctype==3&&(C.tabs[V]=g[m]);else if(V=="IEND")break;m+=te,x.readUint(g,m),m+=4}var q;return X!=0&&((q=C.frames[C.frames.length-1]).data=t(C,j.slice(0,X),q.rect.width,q.rect.height)),C.data=t(C,P,C.width,C.height),delete C.compress,delete C.interlace,delete C.filter,C},toRGBA8:function(p){const g=p.width,m=p.height;if(p.tabs.acTL==null)return[e(p.data,g,m,p).buffer];const x=[];p.frames[0].data==null&&(p.frames[0].data=p.data);const b=g*m*4,I=new Uint8Array(b),C=new Uint8Array(b),P=new Uint8Array(b);for(let z=0;z<p.frames.length;z++){const X=p.frames[z],H=X.rect.x,D=X.rect.y,E=X.rect.width,T=X.rect.height,M=e(X.data,E,T,p);if(z!=0)for(var j=0;j<b;j++)P[j]=I[j];if(X.blend==0?f(M,E,T,I,g,m,H,D,0):X.blend==1&&f(M,E,T,I,g,m,H,D,1),x.push(I.buffer.slice(0)),X.dispose!=0){if(X.dispose==1)f(C,E,T,I,g,m,H,D,0);else if(X.dispose==2)for(j=0;j<b;j++)I[j]=P[j]}}return x},_paeth:s,_copyTile:f,_bin:n}}();(function(){const{_copyTile:n}=rl,{_bin:e}=rl,t=rl._paeth;var r={table:function(){const E=new Uint32Array(256);for(let T=0;T<256;T++){let M=T;for(let R=0;R<8;R++)1&M?M=3988292384^M>>>1:M>>>=1;E[T]=M}return E}(),update(E,T,M,R){for(let L=0;L<R;L++)E=r.table[255&(E^T[M+L])]^E>>>8;return E},crc:(E,T,M)=>4294967295^r.update(4294967295,E,T,M)};function i(E,T,M,R){T[M]+=E[0]*R>>4,T[M+1]+=E[1]*R>>4,T[M+2]+=E[2]*R>>4,T[M+3]+=E[3]*R>>4}function a(E){return Math.max(0,Math.min(255,E))}function o(E,T){const M=E[0]-T[0],R=E[1]-T[1],L=E[2]-T[2],B=E[3]-T[3];return M*M+R*R+L*L+B*B}function s(E,T,M,R,L,B,q){q==null&&(q=1);const te=R.length,V=[];for(var U=0;U<te;U++){const oe=R[U];V.push([oe>>>0&255,oe>>>8&255,oe>>>16&255,oe>>>24&255])}for(U=0;U<te;U++){let oe=4294967295;for(var Q=0,ae=0;ae<te;ae++){var Y=o(V[U],V[ae]);ae!=U&&Y<oe&&(oe=Y,Q=ae)}}const me=new Uint32Array(L.buffer),G=new Int16Array(T*M*4),Z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(U=0;U<Z.length;U++)Z[U]=255*((Z[U]+.5)/16-.5);for(let oe=0;oe<M;oe++)for(let ge=0;ge<T;ge++){var ne;U=4*(oe*T+ge),q!=2?ne=[a(E[U]+G[U]),a(E[U+1]+G[U+1]),a(E[U+2]+G[U+2]),a(E[U+3]+G[U+3])]:(Y=Z[4*(3&oe)+(3&ge)],ne=[a(E[U]+Y),a(E[U+1]+Y),a(E[U+2]+Y),a(E[U+3]+Y)]),Q=0;let Ee=16777215;for(ae=0;ae<te;ae++){const Ge=o(ne,V[ae]);Ge<Ee&&(Ee=Ge,Q=ae)}const we=V[Q],Ie=[ne[0]-we[0],ne[1]-we[1],ne[2]-we[2],ne[3]-we[3]];q==1&&(ge!=T-1&&i(Ie,G,U+4,7),oe!=M-1&&(ge!=0&&i(Ie,G,U+4*T-4,3),i(Ie,G,U+4*T,5),ge!=T-1&&i(Ie,G,U+4*T+4,1))),B[U>>2]=Q,me[U>>2]=R[Q]}}function u(E,T,M,R,L){L==null&&(L={});const{crc:B}=r,q=e.writeUint,te=e.writeUshort,V=e.writeASCII;let U=8;const Q=E.frames.length>1;let ae,Y=!1,me=33+(Q?20:0);if(L.sRGB!=null&&(me+=13),L.pHYs!=null&&(me+=21),L.iCCP!=null&&(ae=pako.deflate(L.iCCP),me+=21+ae.length+4),E.ctype==3){for(var G=E.plte.length,Z=0;Z<G;Z++)E.plte[Z]>>>24!=255&&(Y=!0);me+=8+3*G+4+(Y?8+1*G+4:0)}for(var ne=0;ne<E.frames.length;ne++)Q&&(me+=38),me+=(we=E.frames[ne]).cimg.length+12,ne!=0&&(me+=4);me+=12;const oe=new Uint8Array(me),ge=[137,80,78,71,13,10,26,10];for(Z=0;Z<8;Z++)oe[Z]=ge[Z];if(q(oe,U,13),U+=4,V(oe,U,"IHDR"),U+=4,q(oe,U,T),U+=4,q(oe,U,M),U+=4,oe[U]=E.depth,U++,oe[U]=E.ctype,U++,oe[U]=0,U++,oe[U]=0,U++,oe[U]=0,U++,q(oe,U,B(oe,U-17,17)),U+=4,L.sRGB!=null&&(q(oe,U,1),U+=4,V(oe,U,"sRGB"),U+=4,oe[U]=L.sRGB,U++,q(oe,U,B(oe,U-5,5)),U+=4),L.iCCP!=null){const Ie=13+ae.length;q(oe,U,Ie),U+=4,V(oe,U,"iCCP"),U+=4,V(oe,U,"ICC profile"),U+=11,U+=2,oe.set(ae,U),U+=ae.length,q(oe,U,B(oe,U-(Ie+4),Ie+4)),U+=4}if(L.pHYs!=null&&(q(oe,U,9),U+=4,V(oe,U,"pHYs"),U+=4,q(oe,U,L.pHYs[0]),U+=4,q(oe,U,L.pHYs[1]),U+=4,oe[U]=L.pHYs[2],U++,q(oe,U,B(oe,U-13,13)),U+=4),Q&&(q(oe,U,8),U+=4,V(oe,U,"acTL"),U+=4,q(oe,U,E.frames.length),U+=4,q(oe,U,L.loop!=null?L.loop:0),U+=4,q(oe,U,B(oe,U-12,12)),U+=4),E.ctype==3){for(q(oe,U,3*(G=E.plte.length)),U+=4,V(oe,U,"PLTE"),U+=4,Z=0;Z<G;Z++){const Ie=3*Z,Ge=E.plte[Z],We=255&Ge,st=Ge>>>8&255,ut=Ge>>>16&255;oe[U+Ie+0]=We,oe[U+Ie+1]=st,oe[U+Ie+2]=ut}if(U+=3*G,q(oe,U,B(oe,U-3*G-4,3*G+4)),U+=4,Y){for(q(oe,U,G),U+=4,V(oe,U,"tRNS"),U+=4,Z=0;Z<G;Z++)oe[U+Z]=E.plte[Z]>>>24&255;U+=G,q(oe,U,B(oe,U-G-4,G+4)),U+=4}}let Ee=0;for(ne=0;ne<E.frames.length;ne++){var we=E.frames[ne];Q&&(q(oe,U,26),U+=4,V(oe,U,"fcTL"),U+=4,q(oe,U,Ee++),U+=4,q(oe,U,we.rect.width),U+=4,q(oe,U,we.rect.height),U+=4,q(oe,U,we.rect.x),U+=4,q(oe,U,we.rect.y),U+=4,te(oe,U,R[ne]),U+=2,te(oe,U,1e3),U+=2,oe[U]=we.dispose,U++,oe[U]=we.blend,U++,q(oe,U,B(oe,U-30,30)),U+=4);const Ie=we.cimg;q(oe,U,(G=Ie.length)+(ne==0?0:4)),U+=4;const Ge=U;V(oe,U,ne==0?"IDAT":"fdAT"),U+=4,ne!=0&&(q(oe,U,Ee++),U+=4),oe.set(Ie,U),U+=G,q(oe,U,B(oe,Ge,U-Ge)),U+=4}return q(oe,U,0),U+=4,V(oe,U,"IEND"),U+=4,q(oe,U,B(oe,U-4,4)),U+=4,oe.buffer}function f(E,T,M){for(let R=0;R<E.frames.length;R++){const L=E.frames[R];L.rect.width;const B=L.rect.height,q=new Uint8Array(B*L.bpl+B);L.cimg=m(L.img,B,L.bpp,L.bpl,q,T,M)}}function h(E,T,M,R,L){const B=L[0],q=L[1],te=L[2],V=L[3],U=L[4],Q=L[5];let ae=6,Y=8,me=255;for(var G=0;G<E.length;G++){const de=new Uint8Array(E[G]);for(var Z=de.length,ne=0;ne<Z;ne+=4)me&=de[ne+3]}const oe=me!=255,ge=function(ft,Ke,ze,nt,it,lt){const ht=[];for(var vt=0;vt<ft.length;vt++){const Dt=new Uint8Array(ft[vt]),ct=new Uint32Array(Dt.buffer);var Rt;let vn=0,zt=0,Yn=Ke,Kt=ze,An=nt?1:0;if(vt!=0){const pi=lt||nt||vt==1||ht[vt-2].dispose!=0?1:2;let on=0,pa=1e9;for(let Cn=0;Cn<pi;Cn++){var bt=new Uint8Array(ft[vt-1-Cn]);const Mr=new Uint32Array(ft[vt-1-Cn]);let sr=Ke,yn=ze,It=-1,nn=-1;for(let Mn=0;Mn<ze;Mn++)for(let pr=0;pr<Ke;pr++)ct[Nt=Mn*Ke+pr]!=Mr[Nt]&&(pr<sr&&(sr=pr),pr>It&&(It=pr),Mn<yn&&(yn=Mn),Mn>nn&&(nn=Mn));It==-1&&(sr=yn=It=nn=0),it&&((1&sr)==1&&sr--,(1&yn)==1&&yn--);const Si=(It-sr+1)*(nn-yn+1);Si<pa&&(pa=Si,on=Cn,vn=sr,zt=yn,Yn=It-sr+1,Kt=nn-yn+1)}bt=new Uint8Array(ft[vt-1-on]),on==1&&(ht[vt-1].dispose=2),Rt=new Uint8Array(Yn*Kt*4),n(bt,Ke,ze,Rt,Yn,Kt,-vn,-zt,0),An=n(Dt,Ke,ze,Rt,Yn,Kt,-vn,-zt,3)?1:0,An==1?g(Dt,Ke,ze,Rt,{x:vn,y:zt,width:Yn,height:Kt}):n(Dt,Ke,ze,Rt,Yn,Kt,-vn,-zt,0)}else Rt=Dt.slice(0);ht.push({rect:{x:vn,y:zt,width:Yn,height:Kt},img:Rt,blend:An,dispose:0})}if(nt)for(vt=0;vt<ht.length;vt++){if((_t=ht[vt]).blend==1)continue;const Dt=_t.rect,ct=ht[vt-1].rect,vn=Math.min(Dt.x,ct.x),zt=Math.min(Dt.y,ct.y),Yn={x:vn,y:zt,width:Math.max(Dt.x+Dt.width,ct.x+ct.width)-vn,height:Math.max(Dt.y+Dt.height,ct.y+ct.height)-zt};ht[vt-1].dispose=1,vt-1!=0&&p(ft,Ke,ze,ht,vt-1,Yn,it),p(ft,Ke,ze,ht,vt,Yn,it)}let wt=0;if(ft.length!=1)for(var Nt=0;Nt<ht.length;Nt++){var _t;wt+=(_t=ht[Nt]).rect.width*_t.rect.height}return ht}(E,T,M,B,q,te),Ee={},we=[],Ie=[];if(R!=0){const de=[];for(ne=0;ne<ge.length;ne++)de.push(ge[ne].img.buffer);const ft=function(it){let lt=0;for(var ht=0;ht<it.length;ht++)lt+=it[ht].byteLength;const vt=new Uint8Array(lt);let Rt=0;for(ht=0;ht<it.length;ht++){const bt=new Uint8Array(it[ht]),wt=bt.length;for(let Nt=0;Nt<wt;Nt+=4){let _t=bt[Nt],Dt=bt[Nt+1],ct=bt[Nt+2];const vn=bt[Nt+3];vn==0&&(_t=Dt=ct=0),vt[Rt+Nt]=_t,vt[Rt+Nt+1]=Dt,vt[Rt+Nt+2]=ct,vt[Rt+Nt+3]=vn}Rt+=wt}return vt.buffer}(de),Ke=b(ft,R);for(ne=0;ne<Ke.plte.length;ne++)we.push(Ke.plte[ne].est.rgba);let ze=0;for(ne=0;ne<ge.length;ne++){const nt=(We=ge[ne]).img.length;var Ge=new Uint8Array(Ke.inds.buffer,ze>>2,nt>>2);Ie.push(Ge);const it=new Uint8Array(Ke.abuf,ze,nt);Q&&s(We.img,We.rect.width,We.rect.height,we,it,Ge),We.img.set(it),ze+=nt}}else for(G=0;G<ge.length;G++){var We=ge[G];const de=new Uint32Array(We.img.buffer);var st=We.rect.width;for(Z=de.length,Ge=new Uint8Array(Z),Ie.push(Ge),ne=0;ne<Z;ne++){const ft=de[ne];if(ne!=0&&ft==de[ne-1])Ge[ne]=Ge[ne-1];else if(ne>st&&ft==de[ne-st])Ge[ne]=Ge[ne-st];else{let Ke=Ee[ft];if(Ke==null&&(Ee[ft]=Ke=we.length,we.push(ft),we.length>=300))break;Ge[ne]=Ke}}}const ut=we.length;for(ut<=256&&U==0&&(Y=ut<=2?1:ut<=4?2:ut<=16?4:8,Y=Math.max(Y,V)),G=0;G<ge.length;G++){(We=ge[G]).rect.x,We.rect.y,st=We.rect.width;const de=We.rect.height;let ft=We.img;new Uint32Array(ft.buffer);let Ke=4*st,ze=4;if(ut<=256&&U==0){Ke=Math.ceil(Y*st/8);var qe=new Uint8Array(Ke*de);const nt=Ie[G];for(let it=0;it<de;it++){ne=it*Ke;const lt=it*st;if(Y==8)for(var De=0;De<st;De++)qe[ne+De]=nt[lt+De];else if(Y==4)for(De=0;De<st;De++)qe[ne+(De>>1)]|=nt[lt+De]<<4-4*(1&De);else if(Y==2)for(De=0;De<st;De++)qe[ne+(De>>2)]|=nt[lt+De]<<6-2*(3&De);else if(Y==1)for(De=0;De<st;De++)qe[ne+(De>>3)]|=nt[lt+De]<<7-1*(7&De)}ft=qe,ae=3,ze=1}else if(oe==0&&ge.length==1){qe=new Uint8Array(st*de*3);const nt=st*de;for(ne=0;ne<nt;ne++){const it=3*ne,lt=4*ne;qe[it]=ft[lt],qe[it+1]=ft[lt+1],qe[it+2]=ft[lt+2]}ft=qe,ae=2,ze=3,Ke=3*st}We.img=ft,We.bpl=Ke,We.bpp=ze}return{ctype:ae,depth:Y,plte:we,frames:ge}}function p(E,T,M,R,L,B,q){const te=Uint8Array,V=Uint32Array,U=new te(E[L-1]),Q=new V(E[L-1]),ae=L+1<E.length?new te(E[L+1]):null,Y=new te(E[L]),me=new V(Y.buffer);let G=T,Z=M,ne=-1,oe=-1;for(let Ee=0;Ee<B.height;Ee++)for(let we=0;we<B.width;we++){const Ie=B.x+we,Ge=B.y+Ee,We=Ge*T+Ie,st=me[We];st==0||R[L-1].dispose==0&&Q[We]==st&&(ae==null||ae[4*We+3]!=0)||(Ie<G&&(G=Ie),Ie>ne&&(ne=Ie),Ge<Z&&(Z=Ge),Ge>oe&&(oe=Ge))}ne==-1&&(G=Z=ne=oe=0),q&&((1&G)==1&&G--,(1&Z)==1&&Z--),B={x:G,y:Z,width:ne-G+1,height:oe-Z+1};const ge=R[L];ge.rect=B,ge.blend=1,ge.img=new Uint8Array(B.width*B.height*4),R[L-1].dispose==0?(n(U,T,M,ge.img,B.width,B.height,-B.x,-B.y,0),g(Y,T,M,ge.img,B)):n(Y,T,M,ge.img,B.width,B.height,-B.x,-B.y,0)}function g(E,T,M,R,L){n(E,T,M,R,L.width,L.height,-L.x,-L.y,2)}function m(E,T,M,R,L,B,q){const te=[];let V,U=[0,1,2,3,4];B!=-1?U=[B]:(T*R>5e5||M==1)&&(U=[0]),q&&(V={level:0});const Q=EV;for(var ae=0;ae<U.length;ae++){for(let G=0;G<T;G++)x(L,E,G,R,M,U[ae]);te.push(Q.deflate(L,V))}let Y,me=1e9;for(ae=0;ae<te.length;ae++)te[ae].length<me&&(Y=ae,me=te[ae].length);return te[Y]}function x(E,T,M,R,L,B){const q=M*R;let te=q+M;if(E[te]=B,te++,B==0)if(R<500)for(var V=0;V<R;V++)E[te+V]=T[q+V];else E.set(new Uint8Array(T.buffer,q,R),te);else if(B==1){for(V=0;V<L;V++)E[te+V]=T[q+V];for(V=L;V<R;V++)E[te+V]=T[q+V]-T[q+V-L]+256&255}else if(M==0){for(V=0;V<L;V++)E[te+V]=T[q+V];if(B==2)for(V=L;V<R;V++)E[te+V]=T[q+V];if(B==3)for(V=L;V<R;V++)E[te+V]=T[q+V]-(T[q+V-L]>>1)+256&255;if(B==4)for(V=L;V<R;V++)E[te+V]=T[q+V]-t(T[q+V-L],0,0)+256&255}else{if(B==2)for(V=0;V<R;V++)E[te+V]=T[q+V]+256-T[q+V-R]&255;if(B==3){for(V=0;V<L;V++)E[te+V]=T[q+V]+256-(T[q+V-R]>>1)&255;for(V=L;V<R;V++)E[te+V]=T[q+V]+256-(T[q+V-R]+T[q+V-L]>>1)&255}if(B==4){for(V=0;V<L;V++)E[te+V]=T[q+V]+256-t(0,T[q+V-R],0)&255;for(V=L;V<R;V++)E[te+V]=T[q+V]+256-t(T[q+V-L],T[q+V-R],T[q+V-L-R])&255}}}function b(E,T){const M=new Uint8Array(E),R=M.slice(0),L=new Uint32Array(R.buffer),B=I(R,T),q=B[0],te=B[1],V=M.length,U=new Uint8Array(V>>2);let Q;if(M.length<2e7)for(var ae=0;ae<V;ae+=4)Q=C(q,Y=M[ae]*(1/255),me=M[ae+1]*(1/255),G=M[ae+2]*(1/255),Z=M[ae+3]*(1/255)),U[ae>>2]=Q.ind,L[ae>>2]=Q.est.rgba;else for(ae=0;ae<V;ae+=4){var Y=M[ae]*.00392156862745098,me=M[ae+1]*(1/255),G=M[ae+2]*(1/255),Z=M[ae+3]*(1/255);for(Q=q;Q.left;)Q=P(Q.est,Y,me,G,Z)<=0?Q.left:Q.right;U[ae>>2]=Q.ind,L[ae>>2]=Q.est.rgba}return{abuf:R.buffer,inds:U,plte:te}}function I(E,T,M){M==null&&(M=1e-4);const R=new Uint32Array(E.buffer),L={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};L.bst=X(E,L.i0,L.i1),L.est=H(L.bst);const B=[L];for(;B.length<T;){let te=0,V=0;for(var q=0;q<B.length;q++)B[q].est.L>te&&(te=B[q].est.L,V=q);if(te<M)break;const U=B[V],Q=j(E,R,U.i0,U.i1,U.est.e,U.est.eMq255);if(U.i0>=Q||U.i1<=Q){U.est.L=0;continue}const ae={i0:U.i0,i1:Q,bst:null,est:null,tdst:0,left:null,right:null};ae.bst=X(E,ae.i0,ae.i1),ae.est=H(ae.bst);const Y={i0:Q,i1:U.i1,bst:null,est:null,tdst:0,left:null,right:null};for(Y.bst={R:[],m:[],N:U.bst.N-ae.bst.N},q=0;q<16;q++)Y.bst.R[q]=U.bst.R[q]-ae.bst.R[q];for(q=0;q<4;q++)Y.bst.m[q]=U.bst.m[q]-ae.bst.m[q];Y.est=H(Y.bst),U.left=ae,U.right=Y,B[V]=ae,B.push(Y)}for(B.sort((te,V)=>V.bst.N-te.bst.N),q=0;q<B.length;q++)B[q].ind=q;return[L,B]}function C(E,T,M,R,L){if(E.left==null)return E.tdst=function(ae,Y,me,G,Z){const ne=Y-ae[0],oe=me-ae[1],ge=G-ae[2],Ee=Z-ae[3];return ne*ne+oe*oe+ge*ge+Ee*Ee}(E.est.q,T,M,R,L),E;const B=P(E.est,T,M,R,L);let q=E.left,te=E.right;B>0&&(q=E.right,te=E.left);const V=C(q,T,M,R,L);if(V.tdst<=B*B)return V;const U=C(te,T,M,R,L);return U.tdst<V.tdst?U:V}function P(E,T,M,R,L){const{e:B}=E;return B[0]*T+B[1]*M+B[2]*R+B[3]*L-E.eMq}function j(E,T,M,R,L,B){for(R-=4;M<R;){for(;z(E,M,L)<=B;)M+=4;for(;z(E,R,L)>B;)R-=4;if(M>=R)break;const q=T[M>>2];T[M>>2]=T[R>>2],T[R>>2]=q,M+=4,R-=4}for(;z(E,M,L)>B;)M-=4;return M+4}function z(E,T,M){return E[T]*M[0]+E[T+1]*M[1]+E[T+2]*M[2]+E[T+3]*M[3]}function X(E,T,M){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=[0,0,0,0],B=M-T>>2;for(let q=T;q<M;q+=4){const te=E[q]*.00392156862745098,V=E[q+1]*(1/255),U=E[q+2]*(1/255),Q=E[q+3]*(1/255);L[0]+=te,L[1]+=V,L[2]+=U,L[3]+=Q,R[0]+=te*te,R[1]+=te*V,R[2]+=te*U,R[3]+=te*Q,R[5]+=V*V,R[6]+=V*U,R[7]+=V*Q,R[10]+=U*U,R[11]+=U*Q,R[15]+=Q*Q}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:L,N:B}}function H(E){const{R:T}=E,{m:M}=E,{N:R}=E,L=M[0],B=M[1],q=M[2],te=M[3],V=R==0?0:1/R,U=[T[0]-L*L*V,T[1]-L*B*V,T[2]-L*q*V,T[3]-L*te*V,T[4]-B*L*V,T[5]-B*B*V,T[6]-B*q*V,T[7]-B*te*V,T[8]-q*L*V,T[9]-q*B*V,T[10]-q*q*V,T[11]-q*te*V,T[12]-te*L*V,T[13]-te*B*V,T[14]-te*q*V,T[15]-te*te*V],Q=U,ae=D;let Y=[Math.random(),Math.random(),Math.random(),Math.random()],me=0,G=0;if(R!=0)for(let ne=0;ne<16&&(Y=ae.multVec(Q,Y),G=Math.sqrt(ae.dot(Y,Y)),Y=ae.sml(1/G,Y),!(ne!=0&&Math.abs(G-me)<1e-9));ne++)me=G;const Z=[L*V,B*V,q*V,te*V];return{Cov:U,q:Z,e:Y,L:me,eMq255:ae.dot(ae.sml(255,Z),Y),eMq:ae.dot(Y,Z),rgba:(Math.round(255*Z[3])<<24|Math.round(255*Z[2])<<16|Math.round(255*Z[1])<<8|Math.round(255*Z[0])<<0)>>>0}}var D={multVec:(E,T)=>[E[0]*T[0]+E[1]*T[1]+E[2]*T[2]+E[3]*T[3],E[4]*T[0]+E[5]*T[1]+E[6]*T[2]+E[7]*T[3],E[8]*T[0]+E[9]*T[1]+E[10]*T[2]+E[11]*T[3],E[12]*T[0]+E[13]*T[1]+E[14]*T[2]+E[15]*T[3]],dot:(E,T)=>E[0]*T[0]+E[1]*T[1]+E[2]*T[2]+E[3]*T[3],sml:(E,T)=>[E*T[0],E*T[1],E*T[2],E*T[3]]};rl.encode=function(T,M,R,L,B,q,te){L==null&&(L=0),te==null&&(te=!1);const V=h(T,M,R,L,[!1,!1,!1,0,te,!1]);return f(V,-1),u(V,M,R,B,q)},rl.encodeLL=function(T,M,R,L,B,q,te,V){const U={ctype:0+(L==1?0:2)+(B==0?0:4),depth:q,frames:[]},Q=(L+B)*q,ae=Q*M;for(let Y=0;Y<T.length;Y++)U.frames.push({rect:{x:0,y:0,width:M,height:R},img:new Uint8Array(T[Y]),blend:0,dispose:1,bpp:Math.ceil(Q/8),bpl:Math.ceil(ae/8)});return f(U,0,!0),u(U,M,R,te,V)},rl.encode.compress=h,rl.encode.dither=s,rl.quantize=b,rl.quantize.getKDtree=I,rl.quantize.getNearest=C})();const YS={toArrayBuffer(n,e){const t=n.width,r=n.height,i=t<<2,a=n.getContext("2d").getImageData(0,0,t,r),o=new Uint32Array(a.data.buffer),s=(32*t+31)/32<<2,u=s*r,f=122+u,h=new ArrayBuffer(f),p=new DataView(h),g=1<<20;let m,x,b,I,C=g,P=0,j=0,z=0;function X(E){p.setUint16(j,E,!0),j+=2}function H(E){p.setUint32(j,E,!0),j+=4}function D(E){j+=E}X(19778),H(f),D(4),H(122),H(108),H(t),H(-r>>>0),X(1),X(32),H(3),H(u),H(2835),H(2835),D(8),H(16711680),H(65280),H(255),H(4278190080),H(1466527264),function E(){for(;P<r&&C>0;){for(I=122+P*s,m=0;m<i;)C--,x=o[z++],b=x>>>24,p.setUint32(I+m,x<<8|b),m+=4;P++}z<o.length?(C=g,setTimeout(E,YS._dly)):e(h)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var vo={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},SV={[vo.CHROME]:16384,[vo.FIREFOX]:11180,[vo.DESKTOP_SAFARI]:16384,[vo.IE]:8192,[vo.IOS]:4096,[vo.ETC]:8192};const yx=typeof window<"u",KS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ug=yx&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CV=(yx||KS)&&(Ug&&Ug.getOriginalSymbol(window,"File")||typeof File<"u"&&File),QS=(yx||KS)&&(Ug&&Ug.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function xx(n,e,t=Date.now()){return new Promise(r=>{const i=n.split(","),a=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let s=o.length;const u=new Uint8Array(s);for(;s--;)u[s]=o.charCodeAt(s);const f=new Blob([u],{type:a});f.name=e,f.lastModified=t,r(f)})}function ZS(n){return new Promise((e,t)=>{const r=new QS;r.onload=()=>e(r.result),r.onerror=i=>t(i),r.readAsDataURL(n)})}function JS(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>t(i),r.src=n})}function Qf(){if(Qf.cachedResult!==void 0)return Qf.cachedResult;let n=vo.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=vo.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=vo.IOS:/Safari/i.test(e)?n=vo.DESKTOP_SAFARI:/Firefox/i.test(e)?n=vo.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=vo.IE),Qf.cachedResult=n,Qf.cachedResult}function e8(n,e){const t=Qf(),r=SV[t];let i=n,a=e,o=i*a;const s=i>a?a/i:i/a;for(;o>r*r;){const u=(r+i)/2,f=(r+a)/2;u<f?(a=f,i=f*s):(a=u*s,i=u),o=i*a}return{width:i,height:a}}function Bm(n,e){let t,r;try{if(t=new OffscreenCanvas(n,e),r=t.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),r=t.getContext("2d")}return t.width=n,t.height=e,[t,r]}function t8(n,e){const{width:t,height:r}=e8(n.width,n.height),[i,a]=Bm(t,r);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,i.width,i.height)),a.drawImage(n,0,0,i.width,i.height),i}function og(){return og.cachedResult!==void 0||(og.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),og.cachedResult}function Vg(n,e={}){return new Promise(function(t,r){let i,a;var o=function(){try{return a=t8(i,e.fileType||n.type),t([i,a])}catch(u){return r(u)}},s=function(u){try{var f=function(h){try{throw h}catch(p){return r(p)}};try{let h;return ZS(n).then(function(p){try{return h=p,JS(h).then(function(g){try{return i=g,function(){try{return o()}catch(m){return r(m)}}()}catch(m){return f(m)}},f)}catch(g){return f(g)}},f)}catch(h){f(h)}}catch(h){return r(h)}};try{if(og()||[vo.DESKTOP_SAFARI,vo.MOBILE_SAFARI].includes(Qf()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(u){try{return i=u,o()}catch{return s()}},s)}catch{s()}})}function zg(n,e,t,r,i=1){return new Promise(function(a,o){let s;if(e==="image/png"){let f,h,p;return f=n.getContext("2d"),{data:h}=f.getImageData(0,0,n.width,n.height),p=rl.encode([h.buffer],n.width,n.height,4096*i),s=new Blob([p],{type:e}),s.name=t,s.lastModified=r,u.call(this)}{let f=function(){return u.call(this)};if(e==="image/bmp")return new Promise(h=>YS.toBlob(n,h)).then((function(h){try{return s=h,s.name=t,s.lastModified=r,f.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return f.call(this)};if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:i}).then((function(p){try{return s=p,s.name=t,s.lastModified=r,h.call(this)}catch(g){return o(g)}}).bind(this),o);{let p;return p=n.toDataURL(e,i),xx(p,t,r).then((function(g){try{return s=g,h.call(this)}catch(m){return o(m)}}).bind(this),o)}}}function u(){return a(s)}})}function $l(n){n.width=0,n.height=0}function ad(){return new Promise(function(n,e){let t,r,i,a;return ad.cachedResult!==void 0?n(ad.cachedResult):xx("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return t=o,Vg(t).then(function(s){try{return r=s[1],zg(r,t.type,t.name,t.lastModified).then(function(u){try{return i=u,$l(r),Vg(i).then(function(f){try{return a=f[0],ad.cachedResult=a.width===1&&a.height===2,n(ad.cachedResult)}catch(h){return e(h)}},e)}catch(f){return e(f)}},e)}catch(u){return e(u)}},e)}catch(s){return e(s)}},e)})}function n8(n){return new Promise((e,t)=>{const r=new QS;r.onload=i=>{const a=new DataView(i.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const o=a.byteLength;let s=2;for(;s<o;){if(a.getUint16(s+2,!1)<=8)return e(-1);const u=a.getUint16(s,!1);if(s+=2,u==65505){if(a.getUint32(s+=2,!1)!=1165519206)return e(-1);const f=a.getUint16(s+=6,!1)==18761;s+=a.getUint32(s+4,f);const h=a.getUint16(s,f);s+=2;for(let p=0;p<h;p++)if(a.getUint16(s+12*p,f)==274)return e(a.getUint16(s+12*p+8,f))}else{if((65280&u)!=65280)break;s+=a.getUint16(s,!1)}}return e(-1)},r.onerror=i=>t(i),r.readAsArrayBuffer(n)})}function r8(n,e){const{width:t}=n,{height:r}=n,{maxWidthOrHeight:i}=e;let a,o=n;return isFinite(i)&&(t>i||r>i)&&([o,a]=Bm(t,r),t>r?(o.width=i,o.height=r/t*i):(o.width=t/r*i,o.height=i),a.drawImage(n,0,0,o.width,o.height),$l(n)),o}function i8(n,e){const{width:t}=n,{height:r}=n,[i,a]=Bm(t,r);switch(e>4&&e<9?(i.width=r,i.height=t):(i.width=t,i.height=r),e){case 2:a.transform(-1,0,0,1,t,0);break;case 3:a.transform(-1,0,0,-1,t,r);break;case 4:a.transform(1,0,0,-1,0,r);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,r,0);break;case 7:a.transform(0,-1,-1,0,r,t);break;case 8:a.transform(0,-1,1,0,0,t)}return a.drawImage(n,0,0,t,r),$l(n),i}function m4(n,e,t=0){return new Promise(function(r,i){let a,o,s,u,f,h,p,g,m,x,b,I,C,P,j,z,X,H,D,E;function T(R=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=R,e.onProgress(Math.min(a,100))}function M(R){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(R,a),100),e.onProgress(a)}return a=t,o=e.maxIteration||10,s=1024*e.maxSizeMB*1024,T(),Vg(n,e).then((function(R){try{return[,u]=R,T(),f=r8(u,e),T(),new Promise(function(L,B){var q;if(!(q=e.exifOrientation))return n8(n).then((function(V){try{return q=V,te.call(this)}catch(U){return B(U)}}).bind(this),B);function te(){return L(q)}return te.call(this)}).then((function(L){try{return h=L,T(),ad().then((function(B){try{return p=B?f:i8(f,h),T(),g=e.initialQuality||1,m=e.fileType||n.type,zg(p,m,n.name,n.lastModified,g).then((function(q){try{{let V=function(){if(o--&&(j>s||j>C)){let Q,ae;return Q=E?.95*D.width:D.width,ae=E?.95*D.height:D.height,[X,H]=Bm(Q,ae),H.drawImage(D,0,0,Q,ae),g*=m==="image/png"?.85:.95,zg(X,m,n.name,n.lastModified,g).then(function(Y){try{return z=Y,$l(D),D=X,j=z.size,M(Math.min(99,Math.floor((P-j)/(P-s)*100))),V}catch(me){return i(me)}},i)}return[1]},U=function(){return $l(D),$l(X),$l(f),$l(p),$l(u),M(100),r(z)};if(x=q,T(),b=x.size>s,I=x.size>n.size,!b&&!I)return M(100),r(x);var te;return C=n.size,P=x.size,j=P,D=p,E=!e.alwaysKeepResolution&&b,(te=(function(Q){for(;Q;){if(Q.then)return void Q.then(te,i);try{if(Q.pop){if(Q.length)return Q.pop()?U.call(this):Q;Q=V}else Q=Q.call(this)}catch(ae){return i(ae)}}}).bind(this))(V)}}catch(V){return i(V)}}).bind(this),i)}catch(q){return i(q)}}).bind(this),i)}catch(B){return i(B)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)})}const IV=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Nv;function TV(n,e){return new Promise((t,r)=>{Nv||(Nv=function(o){const s=[];return s.push(o),URL.createObjectURL(new Blob(s))}(IV));const i=new Worker(Nv);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();t(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Oa(n,e){return new Promise(function(t,r){let i,a,o,s,u,f;if(i={...e},o=0,{onProgress:s}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{o=m,typeof s=="function"&&s(o)},!(n instanceof Blob||n instanceof CV))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||f)return m4(n,i).then((function(m){try{return a=m,g.call(this)}catch(x){return r(x)}}).bind(this),r);var h=(function(){try{return g.call(this)}catch(m){return r(m)}}).bind(this),p=function(m){try{return m4(n,i).then(function(x){try{return a=x,h()}catch(b){return r(b)}},r)}catch(x){return r(x)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",TV(n,i).then(function(m){try{return a=m,h()}catch{return p()}},p)}catch{p()}function g(){try{a.name=n.name,a.lastModified=n.lastModified}catch{}try{i.preserveExif&&n.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===n.type)&&(a=XS(n,a))}catch{}return t(a)}})}Oa.getDataUrlFromFile=ZS,Oa.getFilefromDataUrl=xx,Oa.loadImage=JS,Oa.drawImageInCanvas=t8,Oa.drawFileInCanvas=Vg,Oa.canvasToFile=zg,Oa.getExifOrientation=n8,Oa.handleMaxWidthOrHeight=r8,Oa.followExifOrientation=i8,Oa.cleanupCanvasMemory=$l,Oa.isAutoOrientationInBrowser=ad,Oa.approximateBelowMaximumCanvasSizeOfBrowser=e8,Oa.copyExifWithoutOrientation=XS,Oa.getBrowserName=Qf,Oa.version="2.0.2";const l0=n=>n.images&&Array.isArray(n.images)?{...n,images:n.images.filter(e=>e&&e.trim()),primaryImage:n.images[0]||null}:n.imageUrl&&n.imageUrl.trim()?{...n,images:[n.imageUrl],primaryImage:n.imageUrl}:{...n,images:[],primaryImage:null},RV=n=>l0(n).primaryImage,a8=n=>l0(n).images,NV=async(n,e,t,r,i)=>{try{console.log("🔄 מתחיל migration של מוצרים קיימים...");const a=await r(i(n,"items")),o=[];a.docs.forEach(s=>{const u=s.data();u.images&&Array.isArray(u.images)||u.imageUrl&&u.imageUrl.trim()&&o.push({id:s.id,images:[u.imageUrl]})}),console.log(`📊 נמצאו ${o.length} מוצרים לעדכון`);for(const s of o)await e(t(n,"items",s.id),{images:s.images}),console.log(`✅ עודכן מוצר: ${s.id}`);return console.log("🎉 Migration הושלם בהצלחה!"),{success:!0,updatedCount:o.length}}catch(a){return console.error("❌ שגיאה ב-migration:",a),{success:!1,error:a.message}}},qg=({item:n,width:e="100%",height:t="200px",showNavigation:r=!0,className:i="",style:a={},borderRadius:o="8px"})=>{const s=a8(n),[u,f]=pe.useState(0),[h,p]=pe.useState(!1),[g,m]=pe.useState(!1);if(pe.useEffect(()=>{const C=()=>{const P=window.innerWidth<=768,j=window.location.pathname.includes("/management")||document.querySelector(".product-card-mobile")!==null||i.includes("management")||a.managementMode===!0;p(P),m(j)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[i,a]),s.length===0)return w.jsx("div",{style:{width:e,height:t,borderRadius:o,border:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",background:"#f9fafb",...a},className:i,children:w.jsx("img",{src:"/no-image-available.png",alt:"אין תמונה זמינה",style:{maxWidth:"80%",maxHeight:"80%",objectFit:"contain",opacity:.5}})});if(s.length===1)return w.jsx("div",{style:{width:e,height:t,borderRadius:o,overflow:"hidden",position:"relative",...a},className:i,children:w.jsx("img",{src:s[0],alt:n.name||"תמונת מוצר",style:{width:"100%",height:"100%",objectFit:"contain",background:"white"}})});const x=()=>{f(C=>(C+1)%s.length)},b=()=>{f(C=>(C-1+s.length)%s.length)},I=C=>{f(C)};return w.jsxs("div",{style:{width:e,height:t,borderRadius:o,overflow:"hidden",position:"relative",background:"#f3f4f6",...a},className:i,children:[w.jsx("img",{src:s[u],alt:`${n.name||"מוצר"} - תמונה ${u+1}`,style:{width:"100%",height:"100%",objectFit:"contain",transition:"opacity 0.3s ease",background:"white"}}),s.length>1&&w.jsx(w.Fragment,{children:h&&g?w.jsx("button",{onClick:x,style:{position:"absolute",right:"8px",bottom:"8px",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:10,fontSize:"14px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},"aria-label":"תמונה הבאה",children:"›"}):w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:b,style:{position:"absolute",left:"2px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",zIndex:10},onMouseEnter:C=>{C.currentTarget.style.background="rgba(0, 0, 0, 0.9)",C.currentTarget.style.transform="translateY(-50%) scale(1.1)"},onMouseLeave:C=>{C.currentTarget.style.background="rgba(0, 0, 0, 0.7)",C.currentTarget.style.transform="translateY(-50%) scale(1)"},"aria-label":"תמונה קודמת",children:w.jsx(S0,{size:20})}),w.jsx("button",{onClick:x,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",zIndex:10},onMouseEnter:C=>{C.currentTarget.style.background="rgba(0, 0, 0, 0.9)",C.currentTarget.style.transform="translateY(-50%) scale(1.1)"},onMouseLeave:C=>{C.currentTarget.style.background="rgba(0, 0, 0, 0.7)",C.currentTarget.style.transform="translateY(-50%) scale(1)"},"aria-label":"תמונה הבאה",children:w.jsx(C0,{size:20})})]})}),!(h&&g)&&s.length>1&&s.length<=5&&w.jsx("div",{style:{position:"absolute",bottom:"4px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"6px",zIndex:10},children:s.map((C,P)=>w.jsx("button",{onClick:()=>I(P),style:{width:"8px",height:"8px",borderRadius:"50%",border:"none",background:P===u?"white":"rgba(255, 255, 255, 0.5)",cursor:"pointer",transition:"all 0.2s ease"},"aria-label":`תמונה ${P+1}`},P))}),!(h&&g)&&s.length>5&&w.jsxs("div",{style:{position:"absolute",bottom:"4px",right:"4px",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",fontWeight:"bold",zIndex:10},children:[u+1," / ",s.length]}),h&&g&&s.length>1&&w.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:5},onTouchStart:C=>{const P=C.touches[0];C.currentTarget.startX=P.clientX},onTouchEnd:C=>{const P=C.changedTouches[0];if(!C.currentTarget.startX)return;const j=C.currentTarget.startX-P.clientX;Math.abs(j)>50&&(j>0?x():b())}}),h&&g&&s.length>1&&w.jsxs("div",{style:{position:"absolute",bottom:"2px",right:"2px",background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"1px 4px",borderRadius:"4px",fontSize:"8px",zIndex:10},children:[u+1,"/",s.length]}),w.jsx("div",{tabIndex:0,onKeyDown:C=>{C.key==="ArrowRight"&&x(),C.key==="ArrowLeft"&&b()},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",outline:"none"},"aria-label":"גלריית תמונות - השתמש בחצים לניווט"})]})},DV=async n=>{const e="https://api.cloudinary.com/v1_1/dpegnxew7/image/upload",t=new FormData;return t.append("file",n),t.append("upload_preset","GmachSystem"),(await(await fetch(e,{method:"POST",body:t})).json()).secure_url},OV=({editingItem:n,name:e,quantity:t,imageUrl:r,imageFile:i,onNameChange:a,onQuantityChange:o,onImageUrlChange:s,onImageFileChange:u,onCancel:f,onSubmit:h,publicComment:p,internalComment:g,onPublicCommentChange:m,onInternalCommentChange:x})=>{const b=pe.useRef(null),[I,C]=pe.useState([]),[P,j]=pe.useState(!1);pe.useEffect(()=>{if(n){const M=a8(n);C(M.map((R,L)=>({id:Date.now()+L,url:R,isUploaded:!0})))}else C([])},[n]),pe.useEffect(()=>{const M=L=>{b.current&&!b.current.contains(L.target)&&f()},R=L=>{L.key==="Escape"&&f()};return document.addEventListener("mousedown",M),document.addEventListener("keydown",R),()=>{document.removeEventListener("mousedown",M),document.removeEventListener("keydown",R)}},[f]);const z=()=>{if(r&&r.trim()){const M={id:Date.now(),url:r.trim(),isUploaded:!0};C(R=>[...R,M]),s({target:{value:""}})}},X=async M=>{if(M){j(!0);try{const R=await Oa(M,{maxSizeMB:.5,maxWidthOrHeight:1024,useWebWorker:!0}),L=await DV(R),B={id:Date.now(),url:L,isUploaded:!0};C(q=>[...q,B]),mn.success("התמונה הועלתה בהצלחה!")}catch(R){mn.error("שגיאה בהעלאת התמונה: "+R.message)}finally{j(!1)}}},H=M=>{C(R=>R.filter(L=>L.id!==M))},D=M=>{M!==0&&C(R=>{const L=[...R];return[L[M-1],L[M]]=[L[M],L[M-1]],L})},E=M=>{M!==I.length-1&&C(R=>{const L=[...R];return[L[M],L[M+1]]=[L[M+1],L[M]],L})},T=async M=>{M.preventDefault();const R=I.map(B=>B.url);R[0];const L={name:e,quantity:t,publicComment:p,internalComment:g,images:R,imageUrl:R[0]||null};await h(M,L)};return w.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,direction:"ltr",padding:"1rem"},children:w.jsxs("div",{ref:b,style:{position:"relative",background:"white",padding:"2rem",borderRadius:"12px",width:"95%",maxWidth:"600px",direction:"rtl",textAlign:"initial",maxHeight:"90vh",overflowY:"auto",boxSizing:"border-box"},children:[w.jsx("button",{onClick:f,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",lineHeight:1,color:"#666",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"סגור",children:"×"}),w.jsx("h3",{style:{textAlign:"center",marginBottom:"2rem",fontSize:"1.5rem",color:"#333"},children:n?"עריכת מוצר":"הוספת מוצר חדש"}),w.jsxs("form",{onSubmit:T,children:[w.jsxs("div",{style:C1,children:[w.jsx("label",{style:I1,children:"שם המוצר:"}),w.jsx("input",{dir:"rtl",type:"text",value:e,onChange:a,required:!0,style:$h})]}),w.jsxs("div",{style:C1,children:[w.jsx("label",{style:I1,children:"כמות:"}),w.jsx("input",{dir:"rtl",type:"number",value:t,onChange:o,required:!0,style:$h})]}),w.jsxs("div",{style:C1,children:[w.jsx("label",{style:I1,children:"הערה לפרסום (חיצונית):"}),w.jsx("input",{dir:"rtl",type:"text",value:p,onChange:m,style:$h})]}),w.jsxs("div",{style:C1,children:[w.jsx("label",{style:I1,children:"הערה פנימית:"}),w.jsx("input",{dir:"rtl",type:"text",value:g,onChange:x,style:$h})]}),w.jsxs("div",{style:C1,children:[w.jsx("label",{style:I1,children:"תמונות המוצר:"}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[w.jsx("input",{dir:"rtl",type:"text",value:r,onChange:s,placeholder:"הדבק כתובת תמונה (URL)",style:{...$h,flex:1,margin:0}}),w.jsx("button",{type:"button",onClick:z,disabled:!r.trim(),style:{padding:"8px 12px",backgroundColor:r.trim()?"#1976d2":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:r.trim()?"pointer":"not-allowed",whiteSpace:"nowrap"},children:"הוסף"})]}),w.jsxs("div",{style:{marginBottom:"1rem"},children:[w.jsx("input",{type:"file",accept:"image/*",onChange:M=>{const R=M.target.files[0];R&&(X(R),M.target.value="")},style:{...$h,padding:"8px"},disabled:P}),P&&w.jsx("div",{style:{fontSize:"0.875rem",color:"#1976d2",marginTop:"0.5rem"},children:"מעלה תמונה..."})]}),I.length>0&&w.jsxs("div",{style:{marginBottom:"1rem"},children:[w.jsxs("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem"},children:["תמונות (",I.length,")"]}),w.jsx("div",{style:{marginBottom:"1rem"},children:w.jsx(qg,{item:{images:I.map(M=>M.url)},width:"100%",height:"200px",showNavigation:!0})}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.5rem"},children:I.map((M,R)=>w.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",padding:"0.5rem",background:"#f9fafb",position:"relative"},children:[w.jsx("img",{src:M.url,alt:`תמונה ${R+1}`,style:{width:"100%",height:"80px",objectFit:"cover",borderRadius:"4px",marginBottom:"0.5rem"}}),w.jsx("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"rgba(0,0,0,0.7)",color:"white",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:R+1}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"0.25rem"},children:[w.jsx("button",{type:"button",onClick:()=>D(R),disabled:R===0,style:{padding:"2px 4px",fontSize:"0.75rem",backgroundColor:R===0?"#ccc":"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:R===0?"not-allowed":"pointer",flex:1},children:"↑"}),w.jsx("button",{type:"button",onClick:()=>E(R),disabled:R===I.length-1,style:{padding:"2px 4px",fontSize:"0.75rem",backgroundColor:R===I.length-1?"#ccc":"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:R===I.length-1?"not-allowed":"pointer",flex:1},children:"↓"}),w.jsx("button",{type:"button",onClick:()=>H(M.id),style:{padding:"2px 4px",fontSize:"0.75rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",flex:1},children:"✕"})]})]},M.id))})]})]}),w.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem",flexWrap:"wrap"},children:[w.jsx("button",{type:"submit",disabled:P,style:{...PV,minWidth:"120px",opacity:P?.6:1,cursor:P?"not-allowed":"pointer"},children:P?"מעלה...":n?"שמור שינויים":"הוסף מוצר"}),w.jsx("button",{type:"button",onClick:f,disabled:P,style:{...LV,minWidth:"120px",opacity:P?.6:1,cursor:P?"not-allowed":"pointer"},children:"ביטול"})]})]})]})})},C1={marginBottom:"1.5rem",width:"100%"},I1={display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"1rem"},$h={width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid #e0e0e0",fontSize:"16px",boxSizing:"border-box",transition:"border-color 0.2s ease",backgroundColor:"#fff",fontFamily:"inherit",outline:"none"},PV={padding:"12px 20px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s ease",flex:"1",maxWidth:"200px"},LV={padding:"12px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s ease",flex:"1",maxWidth:"200px"};var o8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v4=kn.createContext&&kn.createContext(o8),kV=["attr","size","title"];function MV(n,e){if(n==null)return{};var t=jV(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function jV(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Hg(){return Hg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hg.apply(this,arguments)}function y4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Wg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(t),!0).forEach(function(r){BV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y4(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function BV(n,e,t){return e=FV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FV(n){var e=UV(n,"string");return typeof e=="symbol"?e:e+""}function UV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function s8(n){return n&&n.map((e,t)=>kn.createElement(e.tag,Wg({key:t},e.attr),s8(e.child)))}function Fm(n){return e=>kn.createElement(VV,Hg({attr:Wg({},n.attr)},e),s8(n.child))}function VV(n){var e=t=>{var{attr:r,size:i,title:a}=n,o=MV(n,kV),s=i||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),kn.createElement("svg",Hg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:u,style:Wg(Wg({color:n.color||t.color},t.style),n.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&kn.createElement("title",null,a),n.children)};return v4!==void 0?kn.createElement(v4.Consumer,null,t=>e(t)):e(o8)}function zV(n){return Fm({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function qV(n){return Fm({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function x4(n){return Fm({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function HV(n){return Fm({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(n)}const _4=({currentPage:n,totalItems:e,itemsPerPage:t,onPageChange:r,className:i=""})=>{const a=Math.ceil(e/t),o=window.innerWidth<=768;if(a<=1)return null;const u=(()=>{const p=o?5:7,g=Math.floor(p/2);let m=Math.max(1,n-g),x=Math.min(a,m+p-1);x-m+1<p&&(m=Math.max(1,x-p+1));const b=[];m>1&&(b.push(1),m>2&&b.push("..."));for(let I=m;I<=x;I++)b.push(I);return x<a&&(x<a-1&&b.push("..."),b.push(a)),b})(),f=(n-1)*t+1,h=Math.min(n*t,e);return w.jsxs("div",{className:`pagination-container ${i}`,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",margin:"2rem 0",direction:"rtl"},children:[w.jsxs("div",{style:{fontSize:o?"0.875rem":"1rem",color:"#6b7280",textAlign:"center"},children:["מציג ",f,"-",h," מתוך ",e," מוצרים"]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:o?"0.25rem":"0.5rem",flexWrap:"wrap",justifyContent:"center"},children:[w.jsx("button",{onClick:()=>r(n-1),disabled:n===1,style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",border:"1px solid #d1d5db",borderRadius:"8px",background:n===1?"#f9fafb":"white",color:n===1?"#9ca3af":"#374151",cursor:n===1?"not-allowed":"pointer",transition:"all 0.2s ease"},children:w.jsx(C0,{size:o?16:20})}),u.map((p,g)=>{if(p==="...")return w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",color:"#9ca3af"},children:w.jsx(mx,{size:o?16:20})},`dots-${g}`);const m=p===n;return w.jsx("button",{onClick:()=>r(p),style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",border:m?"2px solid #3b82f6":"1px solid #d1d5db",borderRadius:"8px",background:m?"#3b82f6":"white",color:m?"white":"#374151",cursor:"pointer",transition:"all 0.2s ease",fontWeight:m?"bold":"normal",fontSize:o?"14px":"16px"},children:p},p)}),w.jsx("button",{onClick:()=>r(n+1),disabled:n===a,style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",border:"1px solid #d1d5db",borderRadius:"8px",background:n===a?"#f9fafb":"white",color:n===a?"#9ca3af":"#374151",cursor:n===a?"not-allowed":"pointer",transition:"all 0.2s ease"},children:w.jsx(S0,{size:o?16:20})})]})]})},WV=()=>{const[n,e]=pe.useState(""),[t,r]=pe.useState(""),[i,a]=pe.useState([]),[o,s]=pe.useState([]),[u,f]=pe.useState(""),[h,p]=pe.useState(""),[g,m]=pe.useState(null),[x,b]=pe.useState(""),[I,C]=pe.useState(!1),[P,j]=pe.useState(!1),[z,X]=pe.useState(null),[H,D]=pe.useState(""),[E,T]=pe.useState(""),[M,R]=pe.useState(1),[L,B]=pe.useState(1),[q,te]=pe.useState(window.innerWidth<=768),{user:V}=xf(),U=(V==null?void 0:V.username)||"משתמש לא ידוע",Q=pe.useRef(null),ae=q?12:20,Y=q?12:20;pe.useEffect(()=>{const qe=()=>{const De=window.innerWidth<=768;De!==q&&(te(De),R(1),B(1))};return window.addEventListener("resize",qe),()=>window.removeEventListener("resize",qe)},[q]),pe.useEffect(()=>{R(1)},[u]),pe.useEffect(()=>{B(1)},[h]),pe.useEffect(()=>{const qe=document.createElement("style");return qe.innerHTML=`
      input[type=number]::-webkit-inner-spin-button,
      input[type=number]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      input[type=number] { -moz-appearance: textfield; }
      
      /* רספונסיביות משופרת */
      .products-grid-mobile {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1.2rem;
        padding: 0;
      }
      
      .product-card-mobile {
        min-height: 380px;
        padding: 1rem;
      }
      
      .product-card-mobile img {
        height: 140px;
      }
      
      .product-card-mobile h3 {
        font-size: 1rem;
        margin: 0.5rem 0;
      }
      
      .product-card-mobile p {
        font-size: 0.875rem;
        margin: 0.25rem 0;
      }
      
      .product-card-mobile .button-group {
        flex-direction: row;
        gap: 0.5rem;
        width: 100%;
      }
      
      .product-card-mobile button {
        font-size: 0.8rem;
        padding: 6px 10px;
        flex: 1;
      }
      
      /* מובייל בלבד */
      @media (max-width: 768px) {
        .products-grid-mobile {
          grid-template-columns: 1fr 1fr !important;
          gap: 0.75rem !important;
          padding: 0 0.5rem;
        }
        
        .product-card-mobile {
          min-height: 320px !important;
          padding: 0.75rem !important;
        }
        
        .product-card-mobile img {
          height: 100px !important;
        }
        
        .product-card-mobile h3 {
          font-size: 0.9rem !important;
          margin: 0.5rem 0 !important;
        }
        
        .product-card-mobile p {
          font-size: 0.8rem !important;
          margin: 0.25rem 0 !important;
        }
        
        .product-card-mobile .button-group {
          flex-direction: column !important;
          gap: 0.3rem !important;
        }
        
        .product-card-mobile button {
          font-size: 0.75rem !important;
          padding: 4px 8px !important;
          width: 100% !important;
        }
      }
    `,document.head.appendChild(qe),()=>document.head.removeChild(qe)},[]);const me=async()=>{const De=(await yr(On(kt,"orders"))).docs.map(ze=>ze.data()).filter(ze=>ze.status==="open"),de=new Set;De.forEach(ze=>{var nt;(nt=ze.items)==null||nt.forEach(it=>{de.add(it.id)})});const Ke=(await yr(On(kt,"items"))).docs.filter(ze=>ze.data().isDeleted!==!0).map(ze=>{const nt=ze.data(),it=l0(nt);return{id:ze.id,...it,inUse:de.has(ze.id)}});a(Ke)},G=async()=>{const De=(await yr(On(kt,"deletedItems"))).docs.map(de=>{const ft=de.data();return{id:de.id,...l0(ft)}});s(De)};pe.useEffect(()=>{const qe=async()=>{try{console.log("🔄 בדיקת migration למבנה תמונות חדש...");const de=await NV(kt,Qa,Ar,yr,On);console.log("📊 תוצאות migration:",de)}catch{console.log("⚠️ Migration כבר רץ או שאין צורך בו")}};localStorage.getItem("imagesMigrationComplete")?(me(),G()):qe().then(()=>{localStorage.setItem("imagesMigrationComplete","true"),me(),G()})},[]),pe.useEffect(()=>{const qe=de=>{P&&Q.current&&!Q.current.contains(de.target)&&j(!1)},De=de=>{de.key==="Escape"&&j(!1)};return document.addEventListener("mousedown",qe),document.addEventListener("keydown",De),()=>{document.removeEventListener("mousedown",qe),document.removeEventListener("keydown",De)}},[P]);const Z=i.filter(qe=>qe.name.toLowerCase().includes(u.toLowerCase())),ne=o.filter(qe=>qe.name.toLowerCase().includes(h.toLowerCase())),oe=(M-1)*ae,ge=oe+ae,Ee=Z.slice(oe,ge),we=(L-1)*Y,Ie=we+Y,Ge=ne.slice(we,Ie),We=async qe=>{if(window.confirm("האם את/ה בטוח/ה שברצונך למחוק את המוצר?"))try{await RF(qe,U),mn.success("המוצר הוסר מהרשימה."),me(),G();const De=Z.length-1,de=Math.ceil(De/ae);M>de&&de>0&&R(de)}catch{mn.error("שגיאה במחיקת המוצר")}},st=async qe=>{if(window.confirm("האם ברצונך להשיב את המוצר למלאי?"))try{await NF(qe,U),mn.success("המוצר הושב למלאי בהצלחה."),me(),G();const De=ne.length-1,de=Math.ceil(De/Y);L>de&&de>0&&B(de)}catch{mn.error("שגיאה בהחזרת המוצר")}},ut=async(qe,De=null)=>{var de,ft;qe.preventDefault();try{const Ke=De||{name:n,quantity:parseInt(t),images:x?[x]:[],imageUrl:x,publicComment:H,internalComment:E},ze=Gu(On(kt,"items"),Ju("name","==",Ke.name.trim())),nt=await yr(ze);if(z)await Qa(Ar(kt,"items",z.id),{name:Ke.name,quantity:parseInt(Ke.quantity),images:Ke.images||[],imageUrl:((de=Ke.images)==null?void 0:de[0])||null,publicComment:Ke.publicComment,internalComment:Ke.internalComment,updatedBy:U,updatedAt:Ai()}),mn.success("המוצר עודכן בהצלחה");else if(nt.empty)await l4({name:Ke.name,quantity:parseInt(Ke.quantity),images:Ke.images||[],imageUrl:((ft=Ke.images)==null?void 0:ft[0])||null,publicComment:Ke.publicComment,internalComment:Ke.internalComment,createdBy:U,updatedBy:U,createdAt:Ai(),updatedAt:Ai()}),mn.success(`המוצר "${Ke.name}" נוסף בהצלחה`);else{const it=nt.docs[0].data();_V.confirmAlert({title:"המוצר כבר קיים",message:`המוצר "${Ke.name}" כבר קיים בכמות ${it.quantity}.
האם להוסיף ${Ke.quantity}?`,buttons:[{label:"כן",onClick:async()=>{var lt;await l4({name:Ke.name,quantity:parseInt(Ke.quantity),images:Ke.images||[],imageUrl:((lt=Ke.images)==null?void 0:lt[0])||null,publicComment:Ke.publicComment,internalComment:Ke.internalComment,createdBy:U,updatedBy:U,createdAt:Ai(),updatedAt:Ai()}),mn.success("הכמות עודכנה בהצלחה"),me(),G()}},{label:"לא",onClick:()=>mn.info("בוטל")}]});return}e(""),r(""),m(null),b(""),D(""),T(""),C(!1),X(null),me(),G()}catch(Ke){console.error("שגיאה בהוספת המוצר:",Ke),mn.error("הוספת המוצר נכשלה")}};return w.jsxs("div",{className:"page-container",style:{padding:"1rem",direction:"rtl"},children:[w.jsxs("div",{style:{width:"100%"},children:[w.jsx("h2",{children:"ניהול מוצרים"}),w.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},children:[w.jsxs("button",{onClick:()=>{X(null),e(""),r(""),b(""),m(null),C(!0),D(""),T("")},className:"btn-primary",style:{backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[w.jsx(qV,{size:14})," הוספת מוצר"]}),w.jsxs("button",{onClick:()=>j(!0),className:"btn-secondary",style:{backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[w.jsx(x4,{size:14})," מוצרים שנמחקו"]})]}),w.jsx("input",{type:"text",dir:"rtl",placeholder:"חיפוש מוצר...",value:u,onChange:qe=>f(qe.target.value),className:"search-input",style:{padding:"10px",borderRadius:"6px",fontSize:"1rem",border:"1px solid #ccc",width:"100%",marginBottom:"1rem",boxSizing:"border-box"}}),u&&w.jsx("div",{style:{background:"#f0f9ff",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #0ea5e9"},children:w.jsxs("p",{style:{margin:0,color:"#0369a1"},children:["🔍 נמצאו ",Z.length,' מוצרים עבור "',u,'"']})}),w.jsx("div",{className:"products-grid-mobile",children:Ee.length===0?w.jsx("p",{style:{gridColumn:"1 / -1",textAlign:"center"},children:u?`לא נמצאו מוצרים לחיפוש "${u}"`:"לא נמצא מוצרים במלאי."}):Ee.map(qe=>w.jsxs("div",{className:"product-card product-card-mobile",style:{width:"100%",border:"1px solid #e0e0e0",borderRadius:"10px",backgroundColor:"#fff",padding:"1rem",boxShadow:"0 2px 6px rgba(0,0,0,0.06)",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textAlign:"center",transition:"transform 0.2s",boxSizing:"border-box"},children:[w.jsx(qg,{item:qe,width:"100%",height:"140px",showNavigation:!0,style:{marginBottom:"0.5rem"}}),w.jsx("h3",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:qe.name}),w.jsxs("p",{style:{margin:"0.25rem 0"},children:["כמות: ",qe.quantity]}),qe.internalComment&&w.jsxs("p",{style:{fontSize:"0.8rem",color:"#999",marginTop:"0.25rem",margin:"0.25rem 0"},children:["📌 ",qe.internalComment]}),w.jsxs("p",{style:{fontSize:"0.85rem",color:"#555",margin:"0.25rem 0"},children:["מזהה מוצר: ",qe.ItemId]}),qe.inUse&&w.jsx("p",{style:{color:"#d97706",fontWeight:"bold",fontSize:"0.85rem",margin:"0.25rem 0"},children:"🕐 מוצר זה נמצא בהזמנה פעילה"}),w.jsxs("div",{className:"button-group",style:{display:"flex",gap:"0.5rem",marginTop:"auto",width:"100%"},children:[w.jsxs("button",{onClick:()=>{X(qe),e(qe.name),r(qe.quantity.toString()),b(RV(qe)||""),m(null),C(!0),D(qe.publicComment||""),T(qe.internalComment||"")},style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"6px 10px",borderRadius:"5px",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",flex:"1"},children:[w.jsx(zV,{size:14})," עריכה"]}),w.jsxs("button",{onClick:()=>We(qe.id),style:{backgroundColor:"#d32f2f",color:"white",border:"none",padding:"6px 10px",borderRadius:"5px",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",flex:"1"},children:[w.jsx(x4,{size:14})," מחיקה"]})]})]},qe.id))}),w.jsx(_4,{currentPage:M,totalItems:Z.length,itemsPerPage:ae,onPageChange:R})]}),P&&w.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"1rem"},children:w.jsxs("div",{className:"modal-content",ref:Q,style:{position:"relative",backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"80%",overflowY:"auto",padding:"2rem",direction:"rtl"},children:[w.jsx("h2",{children:"מוצרים שנמחקו"}),w.jsx("button",{onClick:()=>j(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:"×"}),w.jsx("input",{type:"text",dir:"rtl",placeholder:"חיפוש מוצרים שנמחקו...",value:h,onChange:qe=>p(qe.target.value),className:"search-input",style:{padding:"10px",borderRadius:"6px",fontSize:"1rem",border:"1px solid #ccc",width:"100%",margin:"1rem 0",boxSizing:"border-box"}}),h&&w.jsx("div",{style:{background:"#fef2f2",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #fca5a5"},children:w.jsxs("p",{style:{margin:0,color:"#dc2626"},children:["🔍 נמצאו ",ne.length,' מוצרים שנמחקו עבור "',h,'"']})}),w.jsx("div",{className:"products-grid-mobile",children:Ge.length===0?w.jsx("p",{style:{gridColumn:"1 / -1",textAlign:"center"},children:h?`לא נמצאו מוצרים שנמחקו לחיפוש "${h}"`:"אין פריטים שנמחקו."}):Ge.map(qe=>w.jsxs("div",{className:"product-card-mobile",style:{width:"100%",border:"1px solid #e0e0e0",borderRadius:"10px",backgroundColor:"#fff",padding:"1rem",boxShadow:"0 2px 6px rgba(0,0,0,0.06)",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textAlign:"center",boxSizing:"border-box"},children:[w.jsx(qg,{item:qe,width:"100%",height:"120px",showNavigation:!0,style:{marginBottom:"0.5rem"}}),w.jsx("h3",{style:{margin:"0.5rem 0"},children:qe.name}),w.jsxs("p",{style:{margin:"0.25rem 0"},children:["כמות: ",qe.quantity]}),w.jsxs("button",{onClick:()=>st(qe.id),style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"6px 10px",borderRadius:"5px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",marginTop:"auto"},children:[w.jsx(HV,{size:14})," השבה"]})]},qe.id))}),w.jsx(_4,{currentPage:L,totalItems:ne.length,itemsPerPage:Y,onPageChange:B})]})}),I&&w.jsx(OV,{editingItem:z,name:n,quantity:t,imageUrl:x,imageFile:g,publicComment:H,internalComment:E,onNameChange:qe=>e(qe.target.value.trimStart()),onQuantityChange:qe=>r(qe.target.value.trimStart()),onImageUrlChange:qe=>b(qe.target.value),onImageFileChange:qe=>m(qe.target.files[0]),onPublicCommentChange:qe=>D(qe.target.value),onInternalCommentChange:qe=>T(qe.target.value),onCancel:()=>C(!1),onSubmit:ut}),w.jsx(gV,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},GV=()=>{const{user:n}=xf(),[e,t]=pe.useState([]),[r,i]=pe.useState(""),[a,o]=pe.useState(null);pe.useEffect(()=>{(async()=>{const m=On(kt,"users"),b=(await yr(m)).docs.map(I=>({id:I.id,...I.data()}));t(b)})()},[]),pe.useEffect(()=>{(async()=>{try{const m=Ar(kt,"settings","onlineOrdering"),x=await Ad(m);x.exists()&&o(x.data().enabled)}catch(m){console.error("שגיאה בטעינת ההגדרה:",m)}})()},[]);const s=async(g,m)=>{const x=Ar(kt,"users",g);await Qa(x,{role:m}),t(e.map(b=>b.id===g?{...b,role:m}:b))},u=async()=>{try{const g=!a;await Qa(Ar(kt,"settings","onlineOrdering"),{enabled:g}),o(g)}catch(g){alert("שגיאה בעדכון ההגדרה: "+g.message)}},f={container:{padding:"1rem",direction:"rtl",maxWidth:"100%",overflow:"hidden"},header:{fontSize:"1.8rem",marginBottom:"2rem",textAlign:"center",color:"#333",fontWeight:"600"},toggleBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",marginBottom:"2rem",backgroundColor:"#f8f9fa",padding:"16px 24px",borderRadius:"15px",border:"2px solid #e9ecef",maxWidth:"400px",margin:"0 auto 2rem auto",boxSizing:"border-box",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},toggleSwitch:{width:"50px",height:"28px",borderRadius:"50px",backgroundColor:a?"#4caf50":"#e74c3c",position:"relative",cursor:"pointer",transition:"0.3s",flexShrink:0},toggleCircle:{position:"absolute",top:"3px",left:a?"25px":"3px",width:"22px",height:"22px",borderRadius:"50%",backgroundColor:"white",transition:"0.3s",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},searchBox:{padding:"12px 16px",width:"100%",maxWidth:"500px",borderRadius:"10px",border:"2px solid #ddd",fontSize:"16px",marginBottom:"2rem",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s ease",display:"block",margin:"0 auto 2rem auto"},tableContainer:{overflowX:"auto",marginTop:"1rem",borderRadius:"12px",border:"1px solid #ddd",maxWidth:"1200px",margin:"0 auto",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},table:{width:"100%",borderCollapse:"collapse",minWidth:"600px",backgroundColor:"white"},th:{border:"1px solid #ddd",padding:"12px 8px",backgroundColor:"#f8f9fa",fontWeight:"600",fontSize:"0.9rem",textAlign:"center",whiteSpace:"nowrap"},td:{border:"1px solid #ddd",padding:"12px 8px",textAlign:"center",fontSize:"0.85rem",verticalAlign:"middle"},button:{padding:"8px 12px",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"0.8rem",fontWeight:"500",whiteSpace:"nowrap",minWidth:"100px",transition:"opacity 0.2s ease"},promoteBtn:{backgroundColor:"#28a745",color:"white"},demoteBtn:{backgroundColor:"#dc3545",color:"white"}};if(!n||n.role!=="MainAdmin")return w.jsx("div",{style:{padding:"2rem",textAlign:"center",direction:"rtl"},children:w.jsx("p",{children:"אין לך גישה לעמוד זה"})});const h=e.filter(g=>g.username&&g.username.toLowerCase().includes(r.toLowerCase())),p=({user:g})=>w.jsxs("div",{style:{backgroundColor:"white",border:"1px solid #ddd",borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[w.jsx("h4",{style:{margin:0,color:"#333",fontSize:"1.1rem"},children:g.username}),w.jsx("span",{style:{backgroundColor:g.role==="MainAdmin"?"#6f42c1":g.role==="GmachAdmin"?"#17a2b8":"#6c757d",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"500"},children:g.role==="User"?"משתמש רגיל":g.role==="GmachAdmin"?'מנהל גמ"ח':g.role==="MainAdmin"?"מנהל ראשי":g.role})]}),w.jsxs("p",{style:{margin:"0.5rem 0",color:"#666",fontSize:"0.9rem",wordBreak:"break-all"},children:["📧 ",g.email]}),g.role!=="MainAdmin"&&w.jsx("div",{style:{marginTop:"1rem"},children:g.role==="User"?w.jsx("button",{style:{...f.button,...f.promoteBtn,width:"100%"},onClick:()=>s(g.id,"GmachAdmin"),children:'שדרג למנהל גמ"ח'}):w.jsx("button",{style:{...f.button,...f.demoteBtn,width:"100%"},onClick:()=>s(g.id,"User"),children:"החזר למשתמש רגיל"})})]});return w.jsxs(w.Fragment,{children:[w.jsx("style",{children:`
          @media (max-width: 768px) {
            .desktop-table {
              display: none !important;
            }
            .mobile-cards {
              display: block !important;
            }
            .container-mobile {
              padding: 1rem !important;
            }
            .header-mobile {
              font-size: 1.5rem !important;
              margin-bottom: 1.5rem !important;
            }
            .toggle-mobile {
              max-width: 100% !important;
              margin: 0 0 1.5rem 0 !important;
              padding: 12px 16px !important;
            }
            .search-mobile {
              margin: 0 0 1.5rem 0 !important;
              max-width: 100% !important;
            }
          }
          
          @media (min-width: 769px) {
            .desktop-table {
              display: table !important;
            }
            .mobile-cards {
              display: none !important;
            }
            .container-desktop {
              padding: 2rem !important;
              max-width: 1400px !important;
              margin: 0 auto !important;
            }
          }
          
          input:focus {
            border-color: #1976d2 !important;
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1) !important;
          }
          
          button:hover {
            opacity: 0.9;
          }
          
          button:active {
            transform: translateY(1px);
          }
        `}),w.jsxs("div",{style:f.container,className:"container-mobile container-desktop",children:[w.jsx("h2",{style:f.header,className:"header-mobile",children:"ניהול משתמשים"}),a!==null&&w.jsxs("div",{style:f.toggleBox,className:"toggle-mobile",children:[w.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:"הזמנות דרך האתר:"}),w.jsx("div",{style:f.toggleSwitch,onClick:u,children:w.jsx("div",{style:f.toggleCircle})})]}),w.jsx("input",{type:"text",placeholder:"חיפוש משתמש...",value:r,onChange:g=>i(g.target.value),style:f.searchBox,className:"search-mobile",dir:"rtl"}),w.jsx("div",{style:f.tableContainer,className:"desktop-table",children:w.jsxs("table",{style:f.table,children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{style:f.th,children:"שם משתמש"}),w.jsx("th",{style:f.th,children:"אימייל"}),w.jsx("th",{style:f.th,children:"הרשאה"}),w.jsx("th",{style:f.th,children:"פעולה"})]})}),w.jsx("tbody",{children:h.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem",color:"#666"},children:"לא נמצאו משתמשים תואמים"})}):h.map(g=>w.jsxs("tr",{children:[w.jsx("td",{style:f.td,children:g.username}),w.jsx("td",{style:f.td,children:g.email}),w.jsx("td",{style:f.td,children:g.role==="User"?"משתמש רגיל":g.role==="GmachAdmin"?'מנהל גמ"ח':g.role==="MainAdmin"?"מנהל ראשי":g.role}),w.jsxs("td",{style:f.td,children:[g.role!=="MainAdmin"&&(g.role==="User"?w.jsx("button",{style:{...f.button,...f.promoteBtn},onClick:()=>s(g.id,"GmachAdmin"),children:'שדרג למנהל גמ"ח'}):w.jsx("button",{style:{...f.button,...f.demoteBtn},onClick:()=>s(g.id,"User"),children:"החזר למשתמש רגיל"})),g.role==="MainAdmin"&&w.jsx("span",{style:{color:"#999",fontSize:"0.8rem"},children:"---"})]})]},g.id))})]})}),w.jsx("div",{className:"mobile-cards",style:{display:"none"},children:h.length===0?w.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666",backgroundColor:"white",borderRadius:"12px",border:"1px solid #ddd"},children:"לא נמצאו משתמשים תואמים"}):h.map(g=>w.jsx(p,{user:g},g.id))})]})]})},$V=({currentPage:n,totalItems:e,itemsPerPage:t,onPageChange:r,className:i=""})=>{const a=Math.ceil(e/t),o=window.innerWidth<=768;if(a<=1)return null;const u=(()=>{const p=o?5:7,g=Math.floor(p/2);let m=Math.max(1,n-g),x=Math.min(a,m+p-1);x-m+1<p&&(m=Math.max(1,x-p+1));const b=[];m>1&&(b.push(1),m>2&&b.push("..."));for(let I=m;I<=x;I++)b.push(I);return x<a&&(x<a-1&&b.push("..."),b.push(a)),b})(),f=(n-1)*t+1,h=Math.min(n*t,e);return w.jsxs("div",{className:`pagination-container ${i}`,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",margin:"2rem 0",direction:"rtl"},children:[w.jsxs("div",{style:{fontSize:o?"0.875rem":"1rem",color:"#6b7280",textAlign:"center"},children:["מציג ",f,"-",h," מתוך ",e," מוצרים"]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:o?"0.25rem":"0.5rem",flexWrap:"wrap",justifyContent:"center"},children:[w.jsx("button",{onClick:()=>r(n-1),disabled:n===1,style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",border:"1px solid #d1d5db",borderRadius:"8px",background:n===1?"#f9fafb":"white",color:n===1?"#9ca3af":"#374151",cursor:n===1?"not-allowed":"pointer",transition:"all 0.2s ease"},children:w.jsx(C0,{size:o?16:20})}),u.map((p,g)=>{if(p==="...")return w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",color:"#9ca3af"},children:w.jsx(mx,{size:o?16:20})},`dots-${g}`);const m=p===n;return w.jsx("button",{onClick:()=>r(p),style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",border:m?"2px solid #3b82f6":"1px solid #d1d5db",borderRadius:"8px",background:m?"#3b82f6":"white",color:m?"white":"#374151",cursor:"pointer",transition:"all 0.2s ease",fontWeight:m?"bold":"normal",fontSize:o?"14px":"16px"},children:p},p)}),w.jsx("button",{onClick:()=>r(n+1),disabled:n===a,style:{display:"flex",alignItems:"center",justifyContent:"center",width:o?"36px":"40px",height:o?"36px":"40px",border:"1px solid #d1d5db",borderRadius:"8px",background:n===a?"#f9fafb":"white",color:n===a?"#9ca3af":"#374151",cursor:n===a?"not-allowed":"pointer",transition:"all 0.2s ease"},children:w.jsx(S0,{size:o?16:20})})]})]})},XV=()=>{const[n,e]=pe.useState([]),[t,r]=pe.useState(""),[i,a]=pe.useState(!0),[o,s]=pe.useState(1),[u,f]=pe.useState(window.innerWidth<=768),h=u?12:20;if(pe.useEffect(()=>{const b=()=>{const I=window.innerWidth<=768;I!==u&&(f(I),s(1))};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[u]),pe.useEffect(()=>{s(1)},[t]),pe.useEffect(()=>{const b=On(kt,"items"),I=qE(b,C=>{const P=C.docs.map(j=>{const z=j.data(),X=l0(z);return{id:j.id,...X}}).filter(j=>j.isDeleted!==!0);e(P),a(!1)});return()=>I()},[]),i)return w.jsxs("div",{style:{padding:"2rem",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px"},children:[w.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"1rem"}}),w.jsx("h2",{children:"טוען קטלוג"}),w.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]});const p=n.filter(b=>b.name.toLowerCase().includes(t.toLowerCase())),g=(o-1)*h,m=g+h,x=p.slice(g,m);return w.jsxs("div",{style:{padding:"2rem",direction:"rtl",textAlign:"right",paddingLeft:"1rem",paddingRight:"1rem"},children:[w.jsx("h2",{style:{textAlign:"center",marginBottom:"2rem",fontSize:"2rem",color:"#1f2937"},children:"📋 קטלוג מוצרים"}),w.jsx("input",{type:"text",placeholder:"חיפוש פריט",value:t,onChange:b=>r(b.target.value),dir:"rtl",style:{padding:"12px 16px",width:"100%",marginBottom:"1.5rem",borderRadius:"8px",border:"2px solid #e5e7eb",fontSize:"1rem",boxSizing:"border-box",transition:"border-color 0.2s ease"},onFocus:b=>b.target.style.borderColor="#3b82f6",onBlur:b=>b.target.style.borderColor="#e5e7eb"}),t&&w.jsx("div",{style:{background:"#f0f9ff",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid #0ea5e9",textAlign:"center"},children:w.jsxs("p",{style:{margin:0,color:"#0369a1",fontSize:"1rem"},children:["🔍 נמצאו ",p.length,' מוצרים עבור "',t,'"']})}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginTop:"1rem"},children:x.length===0?w.jsx("div",{style:{textAlign:"center",gridColumn:"1 / -1",marginTop:"3rem",padding:"2rem"},children:t?w.jsxs(w.Fragment,{children:[w.jsxs("h3",{style:{color:"#6b7280",marginBottom:"1rem"},children:['לא נמצאו פריטים עבור "',t,'"']}),w.jsx("p",{style:{color:"#9ca3af"},children:"נסה לחפש במילות מפתח אחרות"})]}):w.jsxs(w.Fragment,{children:[w.jsx("h3",{style:{color:"#6b7280",marginBottom:"1rem"},children:"לא נמצאו פריטים"}),w.jsx("p",{style:{color:"#9ca3af"},children:"אנא נסה לחפש שוב או צור קשר עם המנהלים"})]})}):x.map(b=>w.jsxs("div",{style:{border:"1px solid #e5e7eb",padding:"0.8rem",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",transition:"all 0.2s ease-in-out",minHeight:"250px",maxWidth:"100%"},onMouseEnter:I=>{I.currentTarget.style.transform="translateY(-4px)",I.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:I=>{I.currentTarget.style.transform="translateY(0)",I.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:[w.jsx(qg,{item:b,width:"100%",height:"140px",showNavigation:!0,style:{marginBottom:"0.5rem",borderRadius:"4px"}}),w.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[w.jsx("h3",{style:{marginBottom:"0.5rem",fontSize:"0.9rem",lineHeight:"1.2",textAlign:"center",color:"#1f2937",fontWeight:"600"},children:b.name}),b.publicComment&&w.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",textAlign:"center",margin:"0.3rem 0",fontStyle:"italic",background:"#f9fafb",padding:"0.25rem 0.5rem",borderRadius:"4px"},children:["📝 ",b.publicComment]}),w.jsxs("div",{style:{fontSize:"0.7rem",color:"#9ca3af",textAlign:"center",marginTop:"auto",paddingTop:"0.5rem"},children:["מזהה: ",b.ItemId]})]})]},b.ItemId))}),w.jsx($V,{currentPage:o,totalItems:p.length,itemsPerPage:h,onPageChange:s}),w.jsx("style",{jsx:!0,children:`
        @media (max-width: 768px) {
          div[style*="gridTemplateColumns"] {
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 0.8rem !important;
          }
        }
        
        @media (max-width: 480px) {
          div[style*="gridTemplateColumns"] {
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 0.6rem !important;
          }
        }
      `})]})},YV="modulepreload",KV=function(n){return"/"+n},b4={},By=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=o(t.map(f=>{if(f=KV(f),f in b4)return;b4[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":YV,h||(g.as="script"),g.crossOrigin="",g.href=f,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((m,x)=>{g.addEventListener("load",m),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function or(n){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(n)}var Ma=Uint8Array,Yo=Uint16Array,_x=Int32Array,Um=new Ma([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vm=new Ma([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fy=new Ma([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l8=function(n,e){for(var t=new Yo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new _x(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},u8=l8(Um,2),c8=u8.b,Uy=u8.r;c8[28]=258,Uy[258]=28;var f8=l8(Vm,0),QV=f8.b,w4=f8.r,Vy=new Yo(32768);for(var Rr=0;Rr<32768;++Rr){var Hc=(Rr&43690)>>1|(Rr&21845)<<1;Hc=(Hc&52428)>>2|(Hc&13107)<<2,Hc=(Hc&61680)>>4|(Hc&3855)<<4,Vy[Rr]=((Hc&65280)>>8|(Hc&255)<<8)>>1}var eu=function(n,e,t){for(var r=n.length,i=0,a=new Yo(e);i<r;++i)n[i]&&++a[n[i]-1];var o=new Yo(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(t){s=new Yo(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],h=e-n[i],p=o[n[i]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)s[Vy[p]>>u]=f}else for(s=new Yo(r),i=0;i<r;++i)n[i]&&(s[i]=Vy[o[n[i]-1]++]>>15-n[i]);return s},df=new Ma(288);for(var Rr=0;Rr<144;++Rr)df[Rr]=8;for(var Rr=144;Rr<256;++Rr)df[Rr]=9;for(var Rr=256;Rr<280;++Rr)df[Rr]=7;for(var Rr=280;Rr<288;++Rr)df[Rr]=8;var u0=new Ma(32);for(var Rr=0;Rr<32;++Rr)u0[Rr]=5;var ZV=eu(df,9,0),JV=eu(df,9,1),ez=eu(u0,5,0),tz=eu(u0,5,1),Dv=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},el=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},Ov=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},bx=function(n){return(n+7)/8|0},h8=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ma(n.subarray(e,t))},nz=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],il=function(n,e,t){var r=new Error(e||nz[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,il),!t)throw r;return r},rz=function(n,e,t,r){var i=n.length,a=0;if(!i||e.f&&!e.l)return t||new Ma(0);var o=!t,s=o||e.i!=2,u=e.i;o&&(t=new Ma(i*3));var f=function(We){var st=t.length;if(We>st){var ut=new Ma(Math.max(st*2,We));ut.set(t),t=ut}},h=e.f||0,p=e.p||0,g=e.b||0,m=e.l,x=e.d,b=e.m,I=e.n,C=i*8;do{if(!m){h=el(n,p,1);var P=el(n,p+1,3);if(p+=3,P)if(P==1)m=JV,x=tz,b=9,I=5;else if(P==2){var H=el(n,p,31)+257,D=el(n,p+10,15)+4,E=H+el(n,p+5,31)+1;p+=14;for(var T=new Ma(E),M=new Ma(19),R=0;R<D;++R)M[Fy[R]]=el(n,p+R*3,7);p+=D*3;for(var L=Dv(M),B=(1<<L)-1,q=eu(M,L,1),R=0;R<E;){var te=q[el(n,p,B)];p+=te&15;var j=te>>4;if(j<16)T[R++]=j;else{var V=0,U=0;for(j==16?(U=3+el(n,p,3),p+=2,V=T[R-1]):j==17?(U=3+el(n,p,7),p+=3):j==18&&(U=11+el(n,p,127),p+=7);U--;)T[R++]=V}}var Q=T.subarray(0,H),ae=T.subarray(H);b=Dv(Q),I=Dv(ae),m=eu(Q,b,1),x=eu(ae,I,1)}else il(1);else{var j=bx(p)+4,z=n[j-4]|n[j-3]<<8,X=j+z;if(X>i){u&&il(0);break}s&&f(g+z),t.set(n.subarray(j,X),g),e.b=g+=z,e.p=p=X*8,e.f=h;continue}if(p>C){u&&il(0);break}}s&&f(g+131072);for(var Y=(1<<b)-1,me=(1<<I)-1,G=p;;G=p){var V=m[Ov(n,p)&Y],Z=V>>4;if(p+=V&15,p>C){u&&il(0);break}if(V||il(2),Z<256)t[g++]=Z;else if(Z==256){G=p,m=null;break}else{var ne=Z-254;if(Z>264){var R=Z-257,oe=Um[R];ne=el(n,p,(1<<oe)-1)+c8[R],p+=oe}var ge=x[Ov(n,p)&me],Ee=ge>>4;ge||il(3),p+=ge&15;var ae=QV[Ee];if(Ee>3){var oe=Vm[Ee];ae+=Ov(n,p)&(1<<oe)-1,p+=oe}if(p>C){u&&il(0);break}s&&f(g+131072);var we=g+ne;if(g<ae){var Ie=a-ae,Ge=Math.min(ae,we);for(Ie+g<0&&il(3);g<Ge;++g)t[g]=r[Ie+g]}for(;g<we;++g)t[g]=t[g-ae]}}e.l=m,e.p=G,e.b=g,e.f=h,m&&(h=1,e.m=b,e.d=x,e.n=I)}while(!h);return g!=t.length&&o?h8(t,0,g):t.subarray(0,g)},Fu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},T1=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Pv=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return{t:p8,l:0};if(i==1){var o=new Ma(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(X,H){return X.f-H.f}),t.push({s:-1,f:25001});var s=t[0],u=t[1],f=0,h=1,p=2;for(t[0]={s:-1,f:s.f+u.f,l:s,r:u};h!=i-1;)s=t[t[f].f<t[p].f?f++:p++],u=t[f!=h&&t[f].f<t[p].f?f++:p++],t[h++]={s:-1,f:s.f+u.f,l:s,r:u};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var m=new Yo(g+1),x=zy(t[h-1],m,0);if(x>e){var r=0,b=0,I=x-e,C=1<<I;for(a.sort(function(H,D){return m[D.s]-m[H.s]||H.f-D.f});r<i;++r){var P=a[r].s;if(m[P]>e)b+=C-(1<<x-m[P]),m[P]=e;else break}for(b>>=I;b>0;){var j=a[r].s;m[j]<e?b-=1<<e-m[j]++-1:++r}for(;r>=0&&b;--r){var z=a[r].s;m[z]==e&&(--m[z],++b)}x=e}return{t:new Ma(m),l:x}},zy=function(n,e,t){return n.s==-1?Math.max(zy(n.l,e,t+1),zy(n.r,e,t+1)):e[n.s]=t},A4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Yo(++e),r=0,i=n[0],a=1,o=function(u){t[r++]=u},s=1;s<=e;++s)if(n[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=n[s]}return{c:t.subarray(0,r),n:e}},R1=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},d8=function(n,e,t){var r=t.length,i=bx(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},E4=function(n,e,t,r,i,a,o,s,u,f,h){Fu(e,h++,t),++i[256];for(var p=Pv(i,15),g=p.t,m=p.l,x=Pv(a,15),b=x.t,I=x.l,C=A4(g),P=C.c,j=C.n,z=A4(b),X=z.c,H=z.n,D=new Yo(19),E=0;E<P.length;++E)++D[P[E]&31];for(var E=0;E<X.length;++E)++D[X[E]&31];for(var T=Pv(D,7),M=T.t,R=T.l,L=19;L>4&&!M[Fy[L-1]];--L);var B=f+5<<3,q=R1(i,df)+R1(a,u0)+o,te=R1(i,g)+R1(a,b)+o+14+3*L+R1(D,M)+2*D[16]+3*D[17]+7*D[18];if(u>=0&&B<=q&&B<=te)return d8(e,h,n.subarray(u,u+f));var V,U,Q,ae;if(Fu(e,h,1+(te<q)),h+=2,te<q){V=eu(g,m,0),U=g,Q=eu(b,I,0),ae=b;var Y=eu(M,R,0);Fu(e,h,j-257),Fu(e,h+5,H-1),Fu(e,h+10,L-4),h+=14;for(var E=0;E<L;++E)Fu(e,h+3*E,M[Fy[E]]);h+=3*L;for(var me=[P,X],G=0;G<2;++G)for(var Z=me[G],E=0;E<Z.length;++E){var ne=Z[E]&31;Fu(e,h,Y[ne]),h+=M[ne],ne>15&&(Fu(e,h,Z[E]>>5&127),h+=Z[E]>>12)}}else V=ZV,U=df,Q=ez,ae=u0;for(var E=0;E<s;++E){var oe=r[E];if(oe>255){var ne=oe>>18&31;T1(e,h,V[ne+257]),h+=U[ne+257],ne>7&&(Fu(e,h,oe>>23&31),h+=Um[ne]);var ge=oe&31;T1(e,h,Q[ge]),h+=ae[ge],ge>3&&(T1(e,h,oe>>5&8191),h+=Vm[ge])}else T1(e,h,V[oe]),h+=U[oe]}return T1(e,h,V[256]),h+U[256]},iz=new _x([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),p8=new Ma(0),az=function(n,e,t,r,i,a){var o=a.z||n.length,s=new Ma(r+o+5*(1+Math.ceil(o/7e3))+i),u=s.subarray(r,s.length-i),f=a.l,h=(a.r||0)&7;if(e){h&&(u[0]=a.r>>3);for(var p=iz[e-1],g=p>>13,m=p&8191,x=(1<<t)-1,b=a.p||new Yo(32768),I=a.h||new Yo(x+1),C=Math.ceil(t/3),P=2*C,j=function(qe){return(n[qe]^n[qe+1]<<C^n[qe+2]<<P)&x},z=new _x(25e3),X=new Yo(288),H=new Yo(32),D=0,E=0,T=a.i||0,M=0,R=a.w||0,L=0;T+2<o;++T){var B=j(T),q=T&32767,te=I[B];if(b[q]=te,I[B]=q,R<=T){var V=o-T;if((D>7e3||M>24576)&&(V>423||!f)){h=E4(n,u,0,z,X,H,E,M,L,T-L,h),M=D=E=0,L=T;for(var U=0;U<286;++U)X[U]=0;for(var U=0;U<30;++U)H[U]=0}var Q=2,ae=0,Y=m,me=q-te&32767;if(V>2&&B==j(T-me))for(var G=Math.min(g,V)-1,Z=Math.min(32767,T),ne=Math.min(258,V);me<=Z&&--Y&&q!=te;){if(n[T+Q]==n[T+Q-me]){for(var oe=0;oe<ne&&n[T+oe]==n[T+oe-me];++oe);if(oe>Q){if(Q=oe,ae=me,oe>G)break;for(var ge=Math.min(me,oe-2),Ee=0,U=0;U<ge;++U){var we=T-me+U&32767,Ie=b[we],Ge=we-Ie&32767;Ge>Ee&&(Ee=Ge,te=we)}}}q=te,te=b[q],me+=q-te&32767}if(ae){z[M++]=268435456|Uy[Q]<<18|w4[ae];var We=Uy[Q]&31,st=w4[ae]&31;E+=Um[We]+Vm[st],++X[257+We],++H[st],R=T+Q,++D}else z[M++]=n[T],++X[n[T]]}}for(T=Math.max(T,R);T<o;++T)z[M++]=n[T],++X[n[T]];h=E4(n,u,f,z,X,H,E,M,L,T-L,h),f||(a.r=h&7|u[h/8|0]<<3,h-=7,a.h=I,a.p=b,a.i=T,a.w=R)}else{for(var T=a.w||0;T<o+f;T+=65535){var ut=T+65535;ut>=o&&(u[h/8|0]=f,ut=o),h=d8(u,h+1,n.subarray(T,ut))}a.i=o}return h8(s,0,r+bx(h)+i)},g8=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},oz=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Ma(a.length+n.length);o.set(a),o.set(n,a.length),n=o,i.w=a.length}return az(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},m8=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},sz=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=g8();i.p(e.dictionary),m8(n,2,i.d())}},lz=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&il(6,"invalid zlib data"),(n[1]>>5&1)==1&&il(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function qy(n,e){e||(e={});var t=g8();t.p(n);var r=oz(n,e,e.dictionary?6:2,4);return sz(r,e),m8(r,r.length-4,t.d()),r}function uz(n,e){return rz(n.subarray(lz(n),-4),{i:2},e,e)}var cz=typeof TextDecoder<"u"&&new TextDecoder,fz=0;try{cz.decode(p8,{stream:!0}),fz=1}catch{}var Gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Lv(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var vr={log:Lv,warn:function(n){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):Lv.call(null,arguments))},error:function(n){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):Lv(n))}};function kv(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Gf(r.response,e,t)},r.onerror=function(){vr.error("could not download file")},r.send()}function S4(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Vp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var $1,Hy,Gf=Gt.saveAs||((typeof window>"u"?"undefined":or(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Gt.URL||Gt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?S4(i.href)?kv(n,e,t):Vp(i,i.target="_blank"):Vp(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Vp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(S4(n))kv(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Vp(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:or(a)!=="object"&&(vr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return kv(n,e,t);var i=n.type==="application/octet-stream",a=/constructor/i.test(Gt.HTMLElement)||Gt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":or(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var h=s.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},s.readAsDataURL(n)}else{var u=Gt.URL||Gt.webkitURL,f=u.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function v8(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,o=i.exec(n);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return s.length==1&&(s="0"+s),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+s+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mv(n,e){var t=n[0],r=n[1],i=n[2],a=n[3];t=Ta(t,r,i,a,e[0],7,-680876936),a=Ta(a,t,r,i,e[1],12,-389564586),i=Ta(i,a,t,r,e[2],17,606105819),r=Ta(r,i,a,t,e[3],22,-1044525330),t=Ta(t,r,i,a,e[4],7,-176418897),a=Ta(a,t,r,i,e[5],12,1200080426),i=Ta(i,a,t,r,e[6],17,-1473231341),r=Ta(r,i,a,t,e[7],22,-45705983),t=Ta(t,r,i,a,e[8],7,1770035416),a=Ta(a,t,r,i,e[9],12,-1958414417),i=Ta(i,a,t,r,e[10],17,-42063),r=Ta(r,i,a,t,e[11],22,-1990404162),t=Ta(t,r,i,a,e[12],7,1804603682),a=Ta(a,t,r,i,e[13],12,-40341101),i=Ta(i,a,t,r,e[14],17,-1502002290),t=Ra(t,r=Ta(r,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ra(a,t,r,i,e[6],9,-1069501632),i=Ra(i,a,t,r,e[11],14,643717713),r=Ra(r,i,a,t,e[0],20,-373897302),t=Ra(t,r,i,a,e[5],5,-701558691),a=Ra(a,t,r,i,e[10],9,38016083),i=Ra(i,a,t,r,e[15],14,-660478335),r=Ra(r,i,a,t,e[4],20,-405537848),t=Ra(t,r,i,a,e[9],5,568446438),a=Ra(a,t,r,i,e[14],9,-1019803690),i=Ra(i,a,t,r,e[3],14,-187363961),r=Ra(r,i,a,t,e[8],20,1163531501),t=Ra(t,r,i,a,e[13],5,-1444681467),a=Ra(a,t,r,i,e[2],9,-51403784),i=Ra(i,a,t,r,e[7],14,1735328473),t=Na(t,r=Ra(r,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Na(a,t,r,i,e[8],11,-2022574463),i=Na(i,a,t,r,e[11],16,1839030562),r=Na(r,i,a,t,e[14],23,-35309556),t=Na(t,r,i,a,e[1],4,-1530992060),a=Na(a,t,r,i,e[4],11,1272893353),i=Na(i,a,t,r,e[7],16,-155497632),r=Na(r,i,a,t,e[10],23,-1094730640),t=Na(t,r,i,a,e[13],4,681279174),a=Na(a,t,r,i,e[0],11,-358537222),i=Na(i,a,t,r,e[3],16,-722521979),r=Na(r,i,a,t,e[6],23,76029189),t=Na(t,r,i,a,e[9],4,-640364487),a=Na(a,t,r,i,e[12],11,-421815835),i=Na(i,a,t,r,e[15],16,530742520),t=Da(t,r=Na(r,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Da(a,t,r,i,e[7],10,1126891415),i=Da(i,a,t,r,e[14],15,-1416354905),r=Da(r,i,a,t,e[5],21,-57434055),t=Da(t,r,i,a,e[12],6,1700485571),a=Da(a,t,r,i,e[3],10,-1894986606),i=Da(i,a,t,r,e[10],15,-1051523),r=Da(r,i,a,t,e[1],21,-2054922799),t=Da(t,r,i,a,e[8],6,1873313359),a=Da(a,t,r,i,e[15],10,-30611744),i=Da(i,a,t,r,e[6],15,-1560198380),r=Da(r,i,a,t,e[13],21,1309151649),t=Da(t,r,i,a,e[4],6,-145523070),a=Da(a,t,r,i,e[11],10,-1120210379),i=Da(i,a,t,r,e[2],15,718787259),r=Da(r,i,a,t,e[9],21,-343485551),n[0]=Zc(t,n[0]),n[1]=Zc(r,n[1]),n[2]=Zc(i,n[2]),n[3]=Zc(a,n[3])}function zm(n,e,t,r,i,a){return e=Zc(Zc(e,n),Zc(r,a)),Zc(e<<i|e>>>32-i,t)}function Ta(n,e,t,r,i,a,o){return zm(e&t|~e&r,n,e,i,a,o)}function Ra(n,e,t,r,i,a,o){return zm(e&r|t&~r,n,e,i,a,o)}function Na(n,e,t,r,i,a,o){return zm(e^t^r,n,e,i,a,o)}function Da(n,e,t,r,i,a,o){return zm(t^(e|~r),n,e,i,a,o)}function y8(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Mv(r,hz(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Mv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Mv(r,i),r}function hz(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}$1=Gt.atob.bind(Gt),Hy=Gt.btoa.bind(Gt);var C4="0123456789abcdef".split("");function dz(n){for(var e="",t=0;t<4;t++)e+=C4[n>>8*t+4&15]+C4[n>>8*t&15];return e}function pz(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Wy(n){return y8(n).map(pz).join("")}var gz=function(n){for(var e=0;e<n.length;e++)n[e]=dz(n[e]);return n.join("")}(y8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zc(n,e){if(gz){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Gy(n,e){var t,r,i,a;if(n!==t){for(var o=(i=n,a=1+(256/n.length>>0),new Array(a+1).join(i)),s=[],u=0;u<256;u++)s[u]=u;var f=0;for(u=0;u<256;u++){var h=s[u];f=(f+h+o.charCodeAt(u))%256,s[u]=s[f],s[f]=h}t=n,r=s}else s=r;var p=e.length,g=0,m=0,x="";for(u=0;u<p;u++)m=(m+(h=s[g=(g+1)%256]))%256,s[g]=s[m],s[m]=h,o=s[(s[g]+s[m])%256],x+=String.fromCharCode(e.charCodeAt(u)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var I4={print:4,modify:8,copy:16,"annot-forms":32};function ed(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(s){if(I4.perm!==void 0)throw new Error("Invalid permission: "+s);i+=I4[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Wy(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Gy(this.encryptionKey,this.padding)}function td(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function T4(n){if(or(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var o=e[t][a];try{o[0].apply(n,r)}catch(s){Gt.console&&vr.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Gg(n){if(!(this instanceof Gg))return new Gg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function x8(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function $f(n,e,t,r,i){if(!(this instanceof $f))return new $f(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,x8.call(this,r,i)}function od(n,e,t,r,i){if(!(this instanceof od))return new od(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,x8.call(this,r,i)}function Wt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,u=16,f="S",h=null;or(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),s=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=T4;var x="1.3",b=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(O){x=O};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return I};var C=m.__private__.getPageFormat=function(O){return I[O]};i=i||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},j=P.COMPAT;function z(){this.saveGraphicsState(),de(new yt(ct,0,0,-ct,0,zi()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),f="n",j=P.ADVANCED}function X(){this.restoreGraphicsState(),f="S",j=P.COMPAT}var H=m.__private__.combineFontStyleAndFontWeight=function(O,ee){if(O=="bold"&&ee=="normal"||O=="bold"&&ee==400||O=="normal"&&ee=="italic"||O=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(O=ee==400||ee==="normal"?O==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||O!=="normal"?(ee==700?"bold":ee)+""+O:"bold"),O};m.advancedAPI=function(O){var ee=j===P.COMPAT;return ee&&z.call(this),typeof O!="function"||(O(this),ee&&X.call(this)),this},m.compatAPI=function(O){var ee=j===P.ADVANCED;return ee&&X.call(this),typeof O!="function"||(O(this),ee&&z.call(this)),this},m.isAdvancedAPI=function(){return j===P.ADVANCED};var D,E=function(O){if(j!==P.ADVANCED)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=m.roundToPrecision=m.__private__.roundToPrecision=function(O,ee){var ve=e||ee;if(isNaN(O)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(ve).replace(/0+$/,"")};D=m.hpf=m.__private__.hpf=typeof u=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return T(O,u)}:u==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return T(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return T(O,16)};var M=m.f2=m.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return T(O,2)},R=m.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return T(O,3)},L=m.scale=m.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return j===P.COMPAT?O*ct:j===P.ADVANCED?O:void 0},B=function(O){return j===P.COMPAT?zi()-O:j===P.ADVANCED?O:void 0},q=function(O){return L(B(O))};m.__private__.setPrecision=m.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var te,V="00000000000000000000000000000000",U=m.__private__.getFileId=function(){return V},Q=m.__private__.setFileId=function(O){return V=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(er=new ed(h.userPermissions,h.userPassword,h.ownerPassword,V)),V};m.setFileId=function(O){return Q(O),this},m.getFileId=function(){return U()};var ae=m.__private__.convertDateToPDFDate=function(O){var ee=O.getTimezoneOffset(),ve=ee<0?"+":"-",xe=Math.floor(Math.abs(ee/60)),Te=Math.abs(ee%60),Ve=[ve,ne(xe),"'",ne(Te),"'"].join("");return["D:",O.getFullYear(),ne(O.getMonth()+1),ne(O.getDate()),ne(O.getHours()),ne(O.getMinutes()),ne(O.getSeconds()),Ve].join("")},Y=m.__private__.convertPDFDateToDate=function(O){var ee=parseInt(O.substr(2,4),10),ve=parseInt(O.substr(6,2),10)-1,xe=parseInt(O.substr(8,2),10),Te=parseInt(O.substr(10,2),10),Ve=parseInt(O.substr(12,2),10),at=parseInt(O.substr(14,2),10);return new Date(ee,ve,xe,Te,Ve,at,0)},me=m.__private__.setCreationDate=function(O){var ee;if(O===void 0&&(O=new Date),O instanceof Date)ee=ae(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=O}return te=ee},G=m.__private__.getCreationDate=function(O){var ee=te;return O==="jsDate"&&(ee=Y(te)),ee};m.setCreationDate=function(O){return me(O),this},m.getCreationDate=function(O){return G(O)};var Z,ne=m.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},oe=m.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},ge=0,Ee=[],we=[],Ie=0,Ge=[],We=[],st=!1,ut=we,qe=function(){ge=0,Ie=0,we=[],Ee=[],Ge=[],Ji=Nr(),gi=Nr()};m.__private__.setCustomOutputDestination=function(O){st=!0,ut=O};var De=function(O){st||(ut=O)};m.__private__.resetCustomOutputDestination=function(){st=!1,ut=we};var de=m.__private__.out=function(O){return O=O.toString(),Ie+=O.length+1,ut.push(O),ut},ft=m.__private__.write=function(O){return de(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},Ke=m.__private__.getArrayBuffer=function(O){for(var ee=O.length,ve=new ArrayBuffer(ee),xe=new Uint8Array(ve);ee--;)xe[ee]=O.charCodeAt(ee);return ve},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ze};var nt=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(O){return nt=j===P.ADVANCED?O/ct:O,this};var it,lt=m.__private__.getFontSize=m.getFontSize=function(){return j===P.COMPAT?nt:nt*ct},ht=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(O){return ht=O,this},m.__private__.getR2L=m.getR2L=function(){return ht};var vt,Rt=m.__private__.setZoomMode=function(O){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))it=O;else if(isNaN(O)){if(ee.indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');it=O}else it=parseInt(O,10)};m.__private__.getZoomMode=function(){return it};var bt,wt=m.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');vt=O};m.__private__.getPageMode=function(){return vt};var Nt=m.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');bt=O};m.__private__.getLayoutMode=function(){return bt},m.__private__.setDisplayMode=m.setDisplayMode=function(O,ee,ve){return Rt(O),Nt(ee),wt(ve),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(O){if(Object.keys(_t).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[O]},m.__private__.getDocumentProperties=function(){return _t},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(O){for(var ee in _t)_t.hasOwnProperty(ee)&&O[ee]&&(_t[ee]=O[ee]);return this},m.__private__.setDocumentProperty=function(O,ee){if(Object.keys(_t).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[O]=ee};var Dt,ct,vn,zt,Yn,Kt={},An={},pi=[],on={},pa={},Cn={},Mr={},sr=null,yn=0,It=[],nn=new T4(m),Si=n.hotfixes||[],Mn={},pr={},Ua=[],yt=function O(ee,ve,xe,Te,Ve,at){if(!(this instanceof O))return new O(ee,ve,xe,Te,Ve,at);isNaN(ee)&&(ee=1),isNaN(ve)&&(ve=0),isNaN(xe)&&(xe=0),isNaN(Te)&&(Te=1),isNaN(Ve)&&(Ve=0),isNaN(at)&&(at=0),this._matrix=[ee,ve,xe,Te,Ve,at]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(O)},yt.prototype.multiply=function(O){var ee=O.sx*this.sx+O.shy*this.shx,ve=O.sx*this.shy+O.shy*this.sy,xe=O.shx*this.sx+O.sy*this.shx,Te=O.shx*this.shy+O.sy*this.sy,Ve=O.tx*this.sx+O.ty*this.shx+this.tx,at=O.tx*this.shy+O.ty*this.sy+this.ty;return new yt(ee,ve,xe,Te,Ve,at)},yt.prototype.decompose=function(){var O=this.sx,ee=this.shy,ve=this.shx,xe=this.sy,Te=this.tx,Ve=this.ty,at=Math.sqrt(O*O+ee*ee),pt=(O/=at)*ve+(ee/=at)*xe;ve-=O*pt,xe-=ee*pt;var _=Math.sqrt(ve*ve+xe*xe);return pt/=_,O*(xe/=_)<ee*(ve/=_)&&(O=-O,ee=-ee,pt=-pt,at=-at),{scale:new yt(at,0,0,_,0,0),translate:new yt(1,0,0,1,Te,Ve),rotate:new yt(O,ee,-ee,O,0,0),skew:new yt(1,0,pt,1,0,0)}},yt.prototype.toString=function(O){return this.join(" ")},yt.prototype.inversed=function(){var O=this.sx,ee=this.shy,ve=this.shx,xe=this.sy,Te=this.tx,Ve=this.ty,at=1/(O*xe-ee*ve),pt=xe*at,_=-ee*at,F=-ve*at,$=O*at;return new yt(pt,_,F,$,-pt*Te-F*Ve,-_*Te-$*Ve)},yt.prototype.applyToPoint=function(O){var ee=O.x*this.sx+O.y*this.shx+this.tx,ve=O.x*this.shy+O.y*this.sy+this.ty;return new Ls(ee,ve)},yt.prototype.applyToRectangle=function(O){var ee=this.applyToPoint(O),ve=this.applyToPoint(new Ls(O.x+O.w,O.y+O.h));return new _l(ee.x,ee.y,ve.x-ee.x,ve.y-ee.y)},yt.prototype.clone=function(){var O=this.sx,ee=this.shy,ve=this.shx,xe=this.sy,Te=this.tx,Ve=this.ty;return new yt(O,ee,ve,xe,Te,Ve)},m.Matrix=yt;var Wn=m.matrixMult=function(O,ee){return ee.multiply(O)},Gn=new yt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Gn;var gr=function(O,ee){if(!pa[O]){var ve=(ee instanceof $f?"Sh":"P")+(Object.keys(on).length+1).toString(10);ee.id=ve,pa[O]=ve,on[ve]=ee,nn.publish("addPattern",ee)}};m.ShadingPattern=$f,m.TilingPattern=od,m.addShadingPattern=function(O,ee){return E("addShadingPattern()"),gr(O,ee),this},m.beginTilingPattern=function(O){E("beginTilingPattern()"),os(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},m.endTilingPattern=function(O,ee){E("endTilingPattern()"),ee.stream=We[Z].join(`
`),gr(O,ee),nn.publish("endTilingPattern",ee),Ua.pop().restore()};var Er=m.__private__.newObject=function(){var O=Nr();return Gr(O,!0),O},Nr=m.__private__.newObjectDeferred=function(){return ge++,Ee[ge]=function(){return Ie},ge},Gr=function(O,ee){return ee=typeof ee=="boolean"&&ee,Ee[O]=Ie,ee&&de(O+" 0 obj"),O},Is=m.__private__.newAdditionalObject=function(){var O={objId:Nr(),content:""};return Ge.push(O),O},Ji=Nr(),gi=Nr(),ti=m.__private__.decodeColorString=function(O){var ee=O.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var ve=parseFloat(ee[0]);ee=[ve,ve,ve,"r"]}for(var xe="#",Te=0;Te<3;Te++)xe+=("0"+Math.floor(255*parseFloat(ee[Te])).toString(16)).slice(-2);return xe},$r=m.__private__.encodeColorString=function(O){var ee;typeof O=="string"&&(O={ch1:O});var ve=O.ch1,xe=O.ch2,Te=O.ch3,Ve=O.ch4,at=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var pt=new v8(ve);if(pt.ok)ve=pt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var _=parseInt(ve.substr(1),16);ve=_>>16&255,xe=_>>8&255,Te=255&_}if(xe===void 0||Ve===void 0&&ve===xe&&xe===Te)if(typeof ve=="string")ee=ve+" "+at[0];else switch(O.precision){case 2:ee=M(ve/255)+" "+at[0];break;case 3:default:ee=R(ve/255)+" "+at[0]}else if(Ve===void 0||or(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return ee=["1.","1.","1.",at[1]].join(" ");if(typeof ve=="string")ee=[ve,xe,Te,at[1]].join(" ");else switch(O.precision){case 2:ee=[M(ve/255),M(xe/255),M(Te/255),at[1]].join(" ");break;default:case 3:ee=[R(ve/255),R(xe/255),R(Te/255),at[1]].join(" ")}}else if(typeof ve=="string")ee=[ve,xe,Te,Ve,at[2]].join(" ");else switch(O.precision){case 2:ee=[M(ve),M(xe),M(Te),M(Ve),at[2]].join(" ");break;case 3:default:ee=[R(ve),R(xe),R(Te),R(Ve),at[2]].join(" ")}return ee},ni=m.__private__.getFilters=function(){return o},lr=m.__private__.putStream=function(O){var ee=(O=O||{}).data||"",ve=O.filters||ni(),xe=O.alreadyAppliedFilters||[],Te=O.addLength1||!1,Ve=ee.length,at=O.objectId,pt=function(Ut){return Ut};if(h!==null&&at===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(pt=er.encryptor(at,0));var _={};ve===!0&&(ve=["FlateEncode"]);var F=O.additionalKeyValues||[],$=(_=Wt.API.processDataByFilters!==void 0?Wt.API.processDataByFilters(ee,ve):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(_.data.length!==0&&(F.push({key:"Length",value:_.data.length}),Te===!0&&F.push({key:"Length1",value:Ve})),$.length!=0)if($.split("/").length-1==1)F.push({key:"Filter",value:$});else{F.push({key:"Filter",value:"["+$+"]"});for(var le=0;le<F.length;le+=1)if(F[le].key==="DecodeParms"){for(var Ce=[],ke=0;ke<_.reverseChain.split("/").length-1;ke+=1)Ce.push("null");Ce.push(F[le].value),F[le].value="["+Ce.join(" ")+"]"}}de("<<");for(var ot=0;ot<F.length;ot++)de("/"+F[ot].key+" "+F[ot].value);de(">>"),_.data.length!==0&&(de("stream"),de(pt(_.data)),de("endstream"))},jn=m.__private__.putPage=function(O){var ee=O.number,ve=O.data,xe=O.objId,Te=O.contentsObjId;Gr(xe,!0),de("<</Type /Page"),de("/Parent "+O.rootDictionaryObjId+" 0 R"),de("/Resources "+O.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(D(O.mediaBox.bottomLeftX))+" "+parseFloat(D(O.mediaBox.bottomLeftY))+" "+D(O.mediaBox.topRightX)+" "+D(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&de("/CropBox ["+D(O.cropBox.bottomLeftX)+" "+D(O.cropBox.bottomLeftY)+" "+D(O.cropBox.topRightX)+" "+D(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&de("/BleedBox ["+D(O.bleedBox.bottomLeftX)+" "+D(O.bleedBox.bottomLeftY)+" "+D(O.bleedBox.topRightX)+" "+D(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&de("/TrimBox ["+D(O.trimBox.bottomLeftX)+" "+D(O.trimBox.bottomLeftY)+" "+D(O.trimBox.topRightX)+" "+D(O.trimBox.topRightY)+"]"),O.artBox!==null&&de("/ArtBox ["+D(O.artBox.bottomLeftX)+" "+D(O.artBox.bottomLeftY)+" "+D(O.artBox.topRightX)+" "+D(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&de("/UserUnit "+O.userUnit),nn.publish("putPage",{objId:xe,pageContext:It[ee],pageNumber:ee,page:ve}),de("/Contents "+Te+" 0 R"),de(">>"),de("endobj");var Ve=ve.join(`
`);return j===P.ADVANCED&&(Ve+=`
Q`),Gr(Te,!0),lr({data:Ve,filters:ni(),objectId:Te}),de("endobj"),xe},So=m.__private__.putPages=function(){var O,ee,ve=[];for(O=1;O<=yn;O++)It[O].objId=Nr(),It[O].contentsObjId=Nr();for(O=1;O<=yn;O++)ve.push(jn({number:O,data:We[O],objId:It[O].objId,contentsObjId:It[O].contentsObjId,mediaBox:It[O].mediaBox,cropBox:It[O].cropBox,bleedBox:It[O].bleedBox,trimBox:It[O].trimBox,artBox:It[O].artBox,userUnit:It[O].userUnit,rootDictionaryObjId:Ji,resourceDictionaryObjId:gi}));Gr(Ji,!0),de("<</Type /Pages");var xe="/Kids [";for(ee=0;ee<yn;ee++)xe+=ve[ee]+" 0 R ";de(xe+"]"),de("/Count "+yn),de(">>"),de("endobj"),nn.publish("postPutPages")},Co=function(O){nn.publish("putFont",{font:O,out:de,newObject:Er,putStream:lr}),O.isAlreadyPutted!==!0&&(O.objectNumber=Er(),de("<<"),de("/Type /Font"),de("/BaseFont /"+td(O.postScriptName)),de("/Subtype /Type1"),typeof O.encoding=="string"&&de("/Encoding /"+O.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},Bi=function(){for(var O in Kt)Kt.hasOwnProperty(O)&&(p===!1||p===!0&&g.hasOwnProperty(O))&&Co(Kt[O])},ga=function(O){O.objectNumber=Er();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[D(O.x),D(O.y),D(O.x+O.width),D(O.y+O.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var ve=O.pages[1].join(`
`);lr({data:ve,additionalKeyValues:ee,objectId:O.objectNumber}),de("endobj")},Ts=function(){for(var O in Mn)Mn.hasOwnProperty(O)&&ga(Mn[O])},lu=function(O,ee){var ve,xe=[],Te=1/(ee-1);for(ve=0;ve<1;ve+=Te)xe.push(ve);if(xe.push(1),O[0].offset!=0){var Ve={offset:0,color:O[0].color};O.unshift(Ve)}if(O[O.length-1].offset!=1){var at={offset:1,color:O[O.length-1].color};O.push(at)}for(var pt="",_=0,F=0;F<xe.length;F++){for(ve=xe[F];ve>O[_+1].offset;)_++;var $=O[_].offset,le=(ve-$)/(O[_+1].offset-$),Ce=O[_].color,ke=O[_+1].color;pt+=oe(Math.round((1-le)*Ce[0]+le*ke[0]).toString(16))+oe(Math.round((1-le)*Ce[1]+le*ke[1]).toString(16))+oe(Math.round((1-le)*Ce[2]+le*ke[2]).toString(16))}return pt.trim()},Rs=function(O,ee){ee||(ee=21);var ve=Er(),xe=lu(O.colors,ee),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+ee+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lr({data:xe,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),de("endobj"),O.objectNumber=Er(),de("<< /ShadingType "+O.type),de("/ColorSpace /DeviceRGB");var Ve="/Coords ["+D(parseFloat(O.coords[0]))+" "+D(parseFloat(O.coords[1]))+" ";O.type===2?Ve+=D(parseFloat(O.coords[2]))+" "+D(parseFloat(O.coords[3])):Ve+=D(parseFloat(O.coords[2]))+" "+D(parseFloat(O.coords[3]))+" "+D(parseFloat(O.coords[4]))+" "+D(parseFloat(O.coords[5])),de(Ve+="]"),O.matrix&&de("/Matrix ["+O.matrix.toString()+"]"),de("/Function "+ve+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},ac=function(O,ee){var ve=Nr(),xe=Er();ee.push({resourcesOid:ve,objectOid:xe}),O.objectNumber=xe;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+O.boundingBox.map(D).join(" ")+"]"}),Te.push({key:"XStep",value:D(O.xStep)}),Te.push({key:"YStep",value:D(O.yStep)}),Te.push({key:"Resources",value:ve+" 0 R"}),O.matrix&&Te.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),lr({data:O.stream,additionalKeyValues:Te,objectId:O.objectNumber}),de("endobj")},Va=function(O){var ee;for(ee in on)on.hasOwnProperty(ee)&&(on[ee]instanceof $f?Rs(on[ee]):on[ee]instanceof od&&ac(on[ee],O))},za=function(O){for(var ee in O.objectNumber=Er(),de("<<"),O)switch(ee){case"opacity":de("/ca "+M(O[ee]));break;case"stroke-opacity":de("/CA "+M(O[ee]))}de(">>"),de("endobj")},ri=function(){var O;for(O in Cn)Cn.hasOwnProperty(O)&&za(Cn[O])},Io=function(){for(var O in de("/XObject <<"),Mn)Mn.hasOwnProperty(O)&&Mn[O].objectNumber>=0&&de("/"+O+" "+Mn[O].objectNumber+" 0 R");nn.publish("putXobjectDict"),de(">>")},oc=function(){er.oid=Er(),de("<<"),de("/Filter /Standard"),de("/V "+er.v),de("/R "+er.r),de("/U <"+er.toHexString(er.U)+">"),de("/O <"+er.toHexString(er.O)+">"),de("/P "+er.P),de(">>"),de("endobj")},Za=function(){for(var O in de("/Font <<"),Kt)Kt.hasOwnProperty(O)&&(p===!1||p===!0&&g.hasOwnProperty(O))&&de("/"+O+" "+Kt[O].objectNumber+" 0 R");de(">>")},pl=function(){if(Object.keys(on).length>0){for(var O in de("/Shading <<"),on)on.hasOwnProperty(O)&&on[O]instanceof $f&&on[O].objectNumber>=0&&de("/"+O+" "+on[O].objectNumber+" 0 R");nn.publish("putShadingPatternDict"),de(">>")}},To=function(O){if(Object.keys(on).length>0){for(var ee in de("/Pattern <<"),on)on.hasOwnProperty(ee)&&on[ee]instanceof m.TilingPattern&&on[ee].objectNumber>=0&&on[ee].objectNumber<O&&de("/"+ee+" "+on[ee].objectNumber+" 0 R");nn.publish("putTilingPatternDict"),de(">>")}},uu=function(){if(Object.keys(Cn).length>0){var O;for(O in de("/ExtGState <<"),Cn)Cn.hasOwnProperty(O)&&Cn[O].objectNumber>=0&&de("/"+O+" "+Cn[O].objectNumber+" 0 R");nn.publish("putGStateDict"),de(">>")}},ur=function(O){Gr(O.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Za(),pl(),To(O.objectOid),uu(),Io(),de(">>"),de("endobj")},mi=function(){var O=[];Bi(),ri(),Ts(),Va(O),nn.publish("putResources"),O.forEach(ur),ur({resourcesOid:gi,objectOid:Number.MAX_SAFE_INTEGER}),nn.publish("postPutResources")},gl=function(){nn.publish("putAdditionalObjects");for(var O=0;O<Ge.length;O++){var ee=Ge[O];Gr(ee.objId,!0),de(ee.content),de("endobj")}nn.publish("postPutAdditionalObjects")},sc=function(O){An[O.fontName]=An[O.fontName]||{},An[O.fontName][O.fontStyle]=O.id},Qo=function(O,ee,ve,xe,Te){var Ve={id:"F"+(Object.keys(Kt).length+1).toString(10),postScriptName:O,fontName:ee,fontStyle:ve,encoding:xe,isStandardFont:Te||!1,metadata:{}};return nn.publish("addFont",{font:Ve,instance:this}),Kt[Ve.id]=Ve,sc(Ve),Ve.id},cu=function(O){for(var ee=0,ve=ze.length;ee<ve;ee++){var xe=Qo.call(this,O[ee][0],O[ee][1],O[ee][2],ze[ee][3],!0);p===!1&&(g[xe]=!0);var Te=O[ee][0].split("-");sc({id:xe,fontName:Te[0],fontStyle:Te[1]||""})}nn.publish("addFonts",{fonts:Kt,dictionary:An})},Ci=function(O){return O.foo=function(){try{return O.apply(this,arguments)}catch(xe){var ee=xe.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var ve="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Gt.console)throw new Error(ve);Gt.console.error(ve,xe),Gt.alert&&alert(ve)}},O.foo.bar=O,O.foo},ml=function(O,ee){var ve,xe,Te,Ve,at,pt,_,F,$;if(Te=(ee=ee||{}).sourceEncoding||"Unicode",at=ee.outputEncoding,(ee.autoencode||at)&&Kt[Dt].metadata&&Kt[Dt].metadata[Te]&&Kt[Dt].metadata[Te].encoding&&(Ve=Kt[Dt].metadata[Te].encoding,!at&&Kt[Dt].encoding&&(at=Kt[Dt].encoding),!at&&Ve.codePages&&(at=Ve.codePages[0]),typeof at=="string"&&(at=Ve[at]),at)){for(_=!1,pt=[],ve=0,xe=O.length;ve<xe;ve++)(F=at[O.charCodeAt(ve)])?pt.push(String.fromCharCode(F)):pt.push(O[ve]),pt[ve].charCodeAt(0)>>8&&(_=!0);O=pt.join("")}for(ve=O.length;_===void 0&&ve!==0;)O.charCodeAt(ve-1)>>8&&(_=!0),ve--;if(!_)return O;for(pt=ee.noBOM?[]:[254,255],ve=0,xe=O.length;ve<xe;ve++){if(($=(F=O.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push($),pt.push(F-($<<8))}return String.fromCharCode.apply(void 0,pt)},En=m.__private__.pdfEscape=m.pdfEscape=function(O,ee){return ml(O,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ii=m.__private__.beginPage=function(O){We[++yn]=[],It[yn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Ja(yn),De(We[Z])},Zo=function(O,ee){var ve,xe,Te;switch(t=ee||t,typeof O=="string"&&(ve=C(O.toLowerCase()),Array.isArray(ve)&&(xe=ve[0],Te=ve[1])),Array.isArray(O)&&(xe=O[0]*ct,Te=O[1]*ct),isNaN(xe)&&(xe=i[0],Te=i[1]),(xe>14400||Te>14400)&&(vr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Te=Math.min(14400,Te)),i=[xe,Te],t.substr(0,1)){case"l":Te>xe&&(i=[Te,xe]);break;case"p":xe>Te&&(i=[Te,xe])}Ii(i),pu(ns),de(Ti),gu!==0&&de(gu+" J"),Ps!==0&&de(Ps+" j"),nn.publish("addPage",{pageNumber:yn})},Jo=function(O){O>0&&O<=yn&&(We.splice(O,1),It.splice(O,1),yn--,Z>yn&&(Z=yn),this.setPage(Z))},Ja=function(O){O>0&&O<=yn&&(Z=O)},Bn=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return We.length-1},es=function(O,ee,ve){var xe,Te=void 0;return ve=ve||{},O=O!==void 0?O:Kt[Dt].fontName,ee=ee!==void 0?ee:Kt[Dt].fontStyle,xe=O.toLowerCase(),An[xe]!==void 0&&An[xe][ee]!==void 0?Te=An[xe][ee]:An[O]!==void 0&&An[O][ee]!==void 0?Te=An[O][ee]:ve.disableWarning===!1&&vr.warn("Unable to look up font label for font '"+O+"', '"+ee+"'. Refer to getFontList() for available fonts."),Te||ve.noFallback||(Te=An.times[ee])==null&&(Te=An.times.normal),Te},ma=m.__private__.putInfo=function(){var O=Er(),ee=function(xe){return xe};for(var ve in h!==null&&(ee=er.encryptor(O,0)),de("<<"),de("/Producer ("+En(ee("jsPDF "+Wt.version))+")"),_t)_t.hasOwnProperty(ve)&&_t[ve]&&de("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+En(ee(_t[ve]))+")");de("/CreationDate ("+En(ee(te))+")"),de(">>"),de("endobj")},Ro=m.__private__.putCatalog=function(O){var ee=(O=O||{}).rootDictionaryObjId||Ji;switch(Er(),de("<<"),de("/Type /Catalog"),de("/Pages "+ee+" 0 R"),it||(it="fullwidth"),it){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+it;ve.substr(ve.length-1)==="%"&&(it=parseInt(it)/100),typeof it=="number"&&de("/OpenAction [3 0 R /XYZ null null "+M(it)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}vt&&de("/PageMode /"+vt),nn.publish("putCatalog"),de(">>"),de("endobj")},lc=m.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ge+1)),de("/Root "+ge+" 0 R"),de("/Info "+(ge-1)+" 0 R"),h!==null&&de("/Encrypt "+er.oid+" 0 R"),de("/ID [ <"+V+"> <"+V+"> ]"),de(">>")},fu=m.__private__.putHeader=function(){de("%PDF-"+x),de("%ºß¬à")},hu=m.__private__.putXRef=function(){var O="0000000000";de("xref"),de("0 "+(ge+1)),de("0000000000 65535 f ");for(var ee=1;ee<=ge;ee++)typeof Ee[ee]=="function"?de((O+Ee[ee]()).slice(-10)+" 00000 n "):Ee[ee]!==void 0?de((O+Ee[ee]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},No=m.__private__.buildDocument=function(){qe(),De(we),nn.publish("buildDocument"),fu(),So(),gl(),mi(),h!==null&&oc(),ma(),Ro();var O=Ie;return hu(),lc(),de("startxref"),de(""+O),de("%%EOF"),De(We[Z]),we.join(`
`)},vl=m.__private__.getBlob=function(O){return new Blob([Ke(O)],{type:"application/pdf"})},Do=m.output=m.__private__.output=Ci(function(O,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",O){case void 0:return No();case"save":m.save(ee.filename);break;case"arraybuffer":return Ke(No());case"blob":return vl(No());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(vl(No()))||void 0;vr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",xe=No();try{ve=Hy(xe)}catch{ve=Hy(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+ee.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Te=ee.pdfObjectUrl,Ve="");var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",pt=Gt.open();return pt!==null&&pt.document.write(at),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',F=Gt.open();if(F!==null){F.document.write(_);var $=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=ee.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Ce=Gt.open();if(Ce!==null&&(Ce.document.write(le),Ce.document.title=ee.filename),Ce||typeof safari>"u")return Ce;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",ee);default:return null}}),eo=function(O){return Array.isArray(Si)===!0&&Si.indexOf(O)>-1};switch(r){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=eo("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ct=r}var er=null;me(),Q();var Oo=function(O){return h!==null?er.encryptor(O,0):function(ee){return ee}},to=m.__private__.getPageInfo=m.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[O].objId,pageNumber:O,pageContext:It[O]}},Ft=m.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in It)if(It[ee].objId===O)break;return to(ee)},no=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:It[Z].objId,pageNumber:Z,pageContext:It[Z]}};m.addPage=function(){return Zo.apply(this,arguments),this},m.setPage=function(){return Ja.apply(this,arguments),De.call(this,We[Z]),this},m.insertPage=function(O){return this.addPage(),this.movePage(Z,O),this},m.movePage=function(O,ee){var ve,xe;if(O>ee){ve=We[O],xe=It[O];for(var Te=O;Te>ee;Te--)We[Te]=We[Te-1],It[Te]=It[Te-1];We[ee]=ve,It[ee]=xe,this.setPage(ee)}else if(O<ee){ve=We[O],xe=It[O];for(var Ve=O;Ve<ee;Ve++)We[Ve]=We[Ve+1],It[Ve]=It[Ve+1];We[ee]=ve,It[ee]=xe,this.setPage(ee)}return this},m.deletePage=function(){return Jo.apply(this,arguments),this},m.__private__.text=m.text=function(O,ee,ve,xe,Te){var Ve,at,pt,_,F,$,le,Ce,ke,ot=(xe=xe||{}).scope||this;if(typeof O=="number"&&typeof ee=="number"&&(typeof ve=="string"||Array.isArray(ve))){var Ut=ve;ve=ee,ee=O,O=Ut}if(arguments[3]instanceof yt?(E("The transform parameter of text() with a Matrix value"),ke=Te):(pt=arguments[4],_=arguments[5],or(le=arguments[3])==="object"&&le!==null||(typeof pt=="string"&&(_=pt,pt=null),typeof le=="string"&&(_=le,le=null),typeof le=="number"&&(pt=le,le=null),xe={flags:le,angle:pt,align:_})),isNaN(ee)||isNaN(ve)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return ot;var dn="",Qt=!1,Fn=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:hn,Kn=ot.internal.scaleFactor;function oo(ln){return ln=ln.split("	").join(Array(xe.TabLen||9).join(" ")),En(ln,le)}function jr(ln){for(var un,cr=ln.concat(),Br=[],lo=cr.length;lo--;)typeof(un=cr.shift())=="string"?Br.push(un):Array.isArray(ln)&&(un.length===1||un[1]===void 0&&un[2]===void 0)?Br.push(un[0]):Br.push([un[0],un[1],un[2]]);return Br}function _a(ln,un){var cr;if(typeof ln=="string")cr=un(ln)[0];else if(Array.isArray(ln)){for(var Br,lo,Dl=ln.concat(),Ol=[],Fs=Dl.length;Fs--;)typeof(Br=Dl.shift())=="string"?Ol.push(un(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(lo=un(Br[0],Br[1],Br[2]),Ol.push([lo[0],lo[1],lo[2]]));cr=Ol}return cr}var ls=!1,wl=!0;if(typeof O=="string")ls=!0;else if(Array.isArray(O)){var hc=O.concat();at=[];for(var mu,ii=hc.length;ii--;)(typeof(mu=hc.shift())!="string"||Array.isArray(mu)&&typeof mu[0]!="string")&&(wl=!1);ls=wl}if(ls===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Al=nt/ot.internal.scaleFactor,vu=Al*(Fn-1);switch(xe.baseline){case"bottom":ve-=vu;break;case"top":ve+=Al-vu;break;case"hanging":ve+=Al-2*vu;break;case"middle":ve+=Al/2-vu}if(($=xe.maxWidth||0)>0&&(typeof O=="string"?O=ot.splitTextToSize(O,$):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(ln,un){return ln.concat(ot.splitTextToSize(un,$))},[]))),Ve={text:O,x:ee,y:ve,options:xe,mutex:{pdfEscape:En,activeFontKey:Dt,fonts:Kt,activeFontSize:nt}},nn.publish("preProcessText",Ve),O=Ve.text,pt=(xe=Ve.options).angle,!(ke instanceof yt)&&pt&&typeof pt=="number"){pt*=Math.PI/180,xe.rotationDirection===0&&(pt=-pt),j===P.ADVANCED&&(pt=-pt);var yu=Math.cos(pt),dc=Math.sin(pt);ke=new yt(yu,dc,-dc,yu,0,0)}else pt&&pt instanceof yt&&(ke=pt);j!==P.ADVANCED||ke||(ke=Gn),(F=xe.charSpace||Os)!==void 0&&(dn+=D(L(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ce=xe.horizontalScale)!==void 0&&(dn+=D(100*Ce)+` Tz
`),xe.lang;var ba=-1,kd=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,_f=ot.internal.getCurrentPageInfo().pageContext;switch(kd){case 0:case!1:case"fill":ba=0;break;case 1:case!0:case"stroke":ba=1;break;case 2:case"fillThenStroke":ba=2;break;case 3:case"invisible":ba=3;break;case 4:case"fillAndAddForClipping":ba=4;break;case 5:case"strokeAndAddPathForClipping":ba=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ba=6;break;case 7:case"addToPathForClipping":ba=7}var mh=_f.usedRenderingMode!==void 0?_f.usedRenderingMode:-1;ba!==-1?dn+=ba+` Tr
`:mh!==-1&&(dn+=`0 Tr
`),ba!==-1&&(_f.usedRenderingMode=ba),_=xe.align||"left";var so,vi=nt*Fn,El=ot.internal.pageSize.getWidth(),bf=Kt[Dt];F=xe.charSpace||Os,$=xe.maxWidth||0,le=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var js=[],Sl=function(ln){return ot.getStringUnitWidth(ln,{font:bf,charSpace:F,fontSize:nt,doKerning:!1})*nt/Kn};if(Object.prototype.toString.call(O)==="[object Array]"){var ta;at=jr(O),_!=="left"&&(so=at.map(Sl));var Ri,Cl=0;if(_==="right"){ee-=so[0],O=[],ii=at.length;for(var wa=0;wa<ii;wa++)wa===0?(Ri=Vi(ee),ta=Yr(ve)):(Ri=L(Cl-so[wa]),ta=-vi),O.push([at[wa],Ri,ta]),Cl=so[wa]}else if(_==="center"){ee-=so[0]/2,O=[],ii=at.length;for(var Mo=0;Mo<ii;Mo++)Mo===0?(Ri=Vi(ee),ta=Yr(ve)):(Ri=L((Cl-so[Mo])/2),ta=-vi),O.push([at[Mo],Ri,ta]),Cl=so[Mo]}else if(_==="left"){O=[],ii=at.length;for(var us=0;us<ii;us++)O.push(at[us])}else if(_==="justify"&&bf.encoding==="Identity-H"){O=[],ii=at.length,$=$!==0?$:El;for(var jo=0,Dr=0;Dr<ii;Dr++)if(ta=Dr===0?Yr(ve):-vi,Ri=Dr===0?Vi(ee):jo,Dr<ii-1){var Bo=L(($-so[Dr])/(at[Dr].split(" ").length-1)),Kr=at[Dr].split(" ");O.push([Kr[0]+" ",Ri,ta]),jo=0;for(var Aa=1;Aa<Kr.length;Aa++){var xu=(Sl(Kr[Aa-1]+" "+Kr[Aa])-Sl(Kr[Aa]))*Kn+Bo;Aa==Kr.length-1?O.push([Kr[Aa],xu,0]):O.push([Kr[Aa]+" ",xu,0]),jo-=xu}}else O.push([at[Dr],Ri,ta]);O.push(["",jo,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],ii=at.length,$=$!==0?$:El,Dr=0;Dr<ii;Dr++)ta=Dr===0?Yr(ve):-vi,Ri=Dr===0?Vi(ee):0,Dr<ii-1?js.push(D(L(($-so[Dr])/(at[Dr].split(" ").length-1)))):js.push(0),O.push([at[Dr],Ri,ta])}}var cs=typeof xe.R2L=="boolean"?xe.R2L:ht;cs===!0&&(O=_a(O,function(ln,un,cr){return[ln.split("").reverse().join(""),un,cr]})),Ve={text:O,x:ee,y:ve,options:xe,mutex:{pdfEscape:En,activeFontKey:Dt,fonts:Kt,activeFontSize:nt}},nn.publish("postProcessText",Ve),O=Ve.text,Qt=Ve.mutex.isHex||!1;var pc=Kt[Dt].encoding;pc!=="WinAnsiEncoding"&&pc!=="StandardEncoding"||(O=_a(O,function(ln,un,cr){return[oo(ln),un,cr]})),at=jr(O),O=[];for(var Il,Tl,Rl,_u=0,gc=1,Nl=Array.isArray(at[0])?gc:_u,Bs="",bu=function(ln,un,cr){var Br="";return cr instanceof yt?(cr=typeof xe.angle=="number"?Wn(cr,new yt(1,0,0,1,ln,un)):Wn(new yt(1,0,0,1,ln,un),cr),j===P.ADVANCED&&(cr=Wn(new yt(1,0,0,-1,0,0),cr)),Br=cr.join(" ")+` Tm
`):Br=D(ln)+" "+D(un)+` Td
`,Br},Or=0;Or<at.length;Or++){switch(Bs="",Nl){case gc:Rl=(Qt?"<":"(")+at[Or][0]+(Qt?">":")"),Il=parseFloat(at[Or][1]),Tl=parseFloat(at[Or][2]);break;case _u:Rl=(Qt?"<":"(")+at[Or]+(Qt?">":")"),Il=Vi(ee),Tl=Yr(ve)}js!==void 0&&js[Or]!==void 0&&(Bs=js[Or]+` Tw
`),Or===0?O.push(Bs+bu(Il,Tl,ke)+Rl):Nl===_u?O.push(Bs+Rl):Nl===gc&&O.push(Bs+bu(Il,Tl,ke)+Rl)}O=Nl===_u?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Ha=`BT
/`;return Ha+=Dt+" "+nt+` Tf
`,Ha+=D(nt*Fn)+` TL
`,Ha+=Lo+`
`,Ha+=dn,Ha+=O,de(Ha+="ET"),g[Dt]=!0,ot};var uc=m.__private__.clip=m.clip=function(O){return de(O==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return uc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return de("n"),this};var Fi=m.__private__.isValidStyle=function(O){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(ee=!0),ee};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(O){return Fi(O)&&(f=O),this};var va=m.__private__.getStyle=m.getStyle=function(O){var ee=f;switch(O){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=O}return ee},ea=m.close=function(){return de("h"),this};m.stroke=function(){return de("S"),this},m.fill=function(O){return ro("f",O),this},m.fillEvenOdd=function(O){return ro("f*",O),this},m.fillStroke=function(O){return ro("B",O),this},m.fillStrokeEvenOdd=function(O){return ro("B*",O),this};var ro=function(O,ee){or(ee)==="object"?Po(ee,O):de(O)},ya=function(O){O===null||j===P.ADVANCED&&O===void 0||(O=va(O),de(O))};function ts(O,ee,ve,xe,Te){var Ve=new od(ee||this.boundingBox,ve||this.xStep,xe||this.yStep,this.gState,Te||this.matrix);Ve.stream=this.stream;var at=O+"$$"+this.cloneIndex+++"$$";return gr(at,Ve),Ve}var Po=function(O,ee){var ve=pa[O.key],xe=on[ve];if(xe instanceof $f)de("q"),de(du(ee)),xe.gState&&m.setGState(xe.gState),de(O.matrix.toString()+" cm"),de("/"+ve+" sh"),de("Q");else if(xe instanceof od){var Te=new yt(1,0,0,-1,0,zi());O.matrix&&(Te=Te.multiply(O.matrix||Gn),ve=ts.call(xe,O.key,O.boundingBox,O.xStep,O.yStep,Te).id),de("q"),de("/Pattern cs"),de("/"+ve+" scn"),xe.gState&&m.setGState(xe.gState),de(ee),de("Q")}},du=function(O){switch(O){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xa=m.moveTo=function(O,ee){return de(D(L(O))+" "+D(q(ee))+" m"),this},Ui=m.lineTo=function(O,ee){return de(D(L(O))+" "+D(q(ee))+" l"),this},io=m.curveTo=function(O,ee,ve,xe,Te,Ve){return de([D(L(O)),D(q(ee)),D(L(ve)),D(q(xe)),D(L(Te)),D(q(Ve)),"c"].join(" ")),this};m.__private__.line=m.line=function(O,ee,ve,xe,Te){if(isNaN(O)||isNaN(ee)||isNaN(ve)||isNaN(xe)||!Fi(Te))throw new Error("Invalid arguments passed to jsPDF.line");return j===P.COMPAT?this.lines([[ve-O,xe-ee]],O,ee,[1,1],Te||"S"):this.lines([[ve-O,xe-ee]],O,ee,[1,1]).stroke()},m.__private__.lines=m.lines=function(O,ee,ve,xe,Te,Ve){var at,pt,_,F,$,le,Ce,ke,ot,Ut,dn,Qt;if(typeof O=="number"&&(Qt=ve,ve=ee,ee=O,O=Qt),xe=xe||[1,1],Ve=Ve||!1,isNaN(ee)||isNaN(ve)||!Array.isArray(O)||!Array.isArray(xe)||!Fi(Te)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xa(ee,ve),at=xe[0],pt=xe[1],F=O.length,Ut=ee,dn=ve,_=0;_<F;_++)($=O[_]).length===2?(Ut=$[0]*at+Ut,dn=$[1]*pt+dn,Ui(Ut,dn)):(le=$[0]*at+Ut,Ce=$[1]*pt+dn,ke=$[2]*at+Ut,ot=$[3]*pt+dn,Ut=$[4]*at+Ut,dn=$[5]*pt+dn,io(le,Ce,ke,ot,Ut,dn));return Ve&&ea(),ya(Te),this},m.path=function(O){for(var ee=0;ee<O.length;ee++){var ve=O[ee],xe=ve.c;switch(ve.op){case"m":xa(xe[0],xe[1]);break;case"l":Ui(xe[0],xe[1]);break;case"c":io.apply(this,xe);break;case"h":ea()}}return this},m.__private__.rect=m.rect=function(O,ee,ve,xe,Te){if(isNaN(O)||isNaN(ee)||isNaN(ve)||isNaN(xe)||!Fi(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return j===P.COMPAT&&(xe=-xe),de([D(L(O)),D(q(ee)),D(L(ve)),D(L(xe)),"re"].join(" ")),ya(Te),this},m.__private__.triangle=m.triangle=function(O,ee,ve,xe,Te,Ve,at){if(isNaN(O)||isNaN(ee)||isNaN(ve)||isNaN(xe)||isNaN(Te)||isNaN(Ve)||!Fi(at))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-O,xe-ee],[Te-ve,Ve-xe],[O-Te,ee-Ve]],O,ee,[1,1],at,!0),this},m.__private__.roundedRect=m.roundedRect=function(O,ee,ve,xe,Te,Ve,at){if(isNaN(O)||isNaN(ee)||isNaN(ve)||isNaN(xe)||isNaN(Te)||isNaN(Ve)||!Fi(at))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*ve),Ve=Math.min(Ve,.5*xe),this.lines([[ve-2*Te,0],[Te*pt,0,Te,Ve-Ve*pt,Te,Ve],[0,xe-2*Ve],[0,Ve*pt,-Te*pt,Ve,-Te,Ve],[2*Te-ve,0],[-Te*pt,0,-Te,-Ve*pt,-Te,-Ve],[0,2*Ve-xe],[0,-Ve*pt,Te*pt,-Ve,Te,-Ve]],O+Te,ee,[1,1],at,!0),this},m.__private__.ellipse=m.ellipse=function(O,ee,ve,xe,Te){if(isNaN(O)||isNaN(ee)||isNaN(ve)||isNaN(xe)||!Fi(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*ve,at=4/3*(Math.SQRT2-1)*xe;return xa(O+ve,ee),io(O+ve,ee-at,O+Ve,ee-xe,O,ee-xe),io(O-Ve,ee-xe,O-ve,ee-at,O-ve,ee),io(O-ve,ee+at,O-Ve,ee+xe,O,ee+xe),io(O+Ve,ee+xe,O+ve,ee+at,O+ve,ee),ya(Te),this},m.__private__.circle=m.circle=function(O,ee,ve,xe){if(isNaN(O)||isNaN(ee)||isNaN(ve)||!Fi(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,ee,ve,ve,xe)},m.setFont=function(O,ee,ve){return ve&&(ee=H(ee,ve)),Dt=es(O,ee,{disableWarning:!1}),this};var Xr=m.__private__.getFont=m.getFont=function(){return Kt[es.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var O,ee,ve={};for(O in An)if(An.hasOwnProperty(O))for(ee in ve[O]=[],An[O])An[O].hasOwnProperty(ee)&&ve[O].push(ee);return ve},m.addFont=function(O,ee,ve,xe,Te){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(ve=H(ve,xe)),Te=Te||"Identity-H",Qo.call(this,O,ee,ve,Te)};var hn,ns=n.lineWidth||.200025,ao=m.__private__.getLineWidth=m.getLineWidth=function(){return ns},pu=m.__private__.setLineWidth=m.setLineWidth=function(O){return ns=O,de(D(L(O))+" w"),this};m.__private__.setLineDash=Wt.API.setLineDash=Wt.API.setLineDashPattern=function(O,ee){if(O=O||[],ee=ee||0,isNaN(ee)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(ve){return D(L(ve))}).join(" "),ee=D(L(ee)),de("["+O+"] "+ee+" d"),this};var Ns=m.__private__.getLineHeight=m.getLineHeight=function(){return nt*hn};m.__private__.getLineHeight=m.getLineHeight=function(){return nt*hn};var Ds=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(hn=O),this},qa=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return hn};Ds(n.lineHeight);var Vi=m.__private__.getHorizontalCoordinate=function(O){return L(O)},Yr=m.__private__.getVerticalCoordinate=function(O){return j===P.ADVANCED?O:It[Z].mediaBox.topRightY-It[Z].mediaBox.bottomLeftY-L(O)},cc=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(O){return D(Vi(O))},rs=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(O){return D(Yr(O))},Ti=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ti(Ti)},m.__private__.setStrokeColor=m.setDrawColor=function(O,ee,ve,xe){return Ti=$r({ch1:O,ch2:ee,ch3:ve,ch4:xe,pdfColorType:"draw",precision:2}),de(Ti),this};var is=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ti(is)},m.__private__.setFillColor=m.setFillColor=function(O,ee,ve,xe){return is=$r({ch1:O,ch2:ee,ch3:ve,ch4:xe,pdfColorType:"fill",precision:2}),de(is),this};var Lo=n.textColor||"0 g",yl=m.__private__.getTextColor=m.getTextColor=function(){return ti(Lo)};m.__private__.setTextColor=m.setTextColor=function(O,ee,ve,xe){return Lo=$r({ch1:O,ch2:ee,ch3:ve,ch4:xe,pdfColorType:"text",precision:3}),this};var Os=n.charSpace,xl=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Os||0)};m.__private__.setCharSpace=m.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Os=O,this};var gu=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(O){var ee=m.CapJoinStyles[O];if(ee===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gu=ee,de(ee+" J"),this};var Ps=0;m.__private__.setLineJoin=m.setLineJoin=function(O){var ee=m.CapJoinStyles[O];if(ee===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ps=ee,de(ee+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(D(L(O))+" M"),this},m.GState=Gg,m.setGState=function(O){(O=typeof O=="string"?Cn[Mr[O]]:as(null,O)).equals(sr)||(de("/"+O.id+" gs"),sr=O)};var as=function(O,ee){if(!O||!Mr[O]){var ve=!1;for(var xe in Cn)if(Cn.hasOwnProperty(xe)&&Cn[xe].equals(ee)){ve=!0;break}if(ve)ee=Cn[xe];else{var Te="GS"+(Object.keys(Cn).length+1).toString(10);Cn[Te]=ee,ee.id=Te}return O&&(Mr[O]=ee.id),nn.publish("addGState",ee),ee}};m.addGState=function(O,ee){return as(O,ee),this},m.saveGraphicsState=function(){return de("q"),pi.push({key:Dt,size:nt,color:Lo}),this},m.restoreGraphicsState=function(){de("Q");var O=pi.pop();return Dt=O.key,nt=O.size,Lo=O.color,sr=null,this},m.setCurrentTransformationMatrix=function(O){return de(O.toString()+" cm"),this},m.comment=function(O){return de("#"+O),this};var Ls=function(O,ee){var ve=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Ve){isNaN(Ve)||(ve=parseFloat(Ve))}});var xe=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Ve){isNaN(Ve)||(xe=parseFloat(Ve))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ve){Te=Ve.toString()}}),this},_l=function(O,ee,ve,xe){Ls.call(this,O,ee),this.type="rect";var Te=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(at){isNaN(at)||(Te=parseFloat(at))}});var Ve=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(at){isNaN(at)||(Ve=parseFloat(at))}}),this},ks=function(){this.page=yn,this.currentPage=Z,this.pages=We.slice(0),this.pagesContext=It.slice(0),this.x=vn,this.y=zt,this.matrix=Yn,this.width=ss(Z),this.height=zi(Z),this.outputDestination=ut,this.id="",this.objectNumber=-1};ks.prototype.restore=function(){yn=this.page,Z=this.currentPage,It=this.pagesContext,We=this.pages,vn=this.x,zt=this.y,Yn=this.matrix,Ms(Z,this.width),bl(Z,this.height),ut=this.outputDestination};var os=function(O,ee,ve,xe,Te){Ua.push(new ks),yn=Z=0,We=[],vn=O,zt=ee,Yn=Te,Ii([ve,xe])},fc=function(O){if(pr[O])Ua.pop().restore();else{var ee=new ks,ve="Xo"+(Object.keys(Mn).length+1).toString(10);ee.id=ve,pr[O]=ve,Mn[ve]=ee,nn.publish("addFormObject",ee),Ua.pop().restore()}};for(var ko in m.beginFormObject=function(O,ee,ve,xe,Te){return os(O,ee,ve,xe,Te),this},m.endFormObject=function(O){return fc(O),this},m.doFormObject=function(O,ee){var ve=Mn[pr[O]];return de("q"),de(ee.toString()+" cm"),de("/"+ve.id+" Do"),de("Q"),this},m.getFormObject=function(O){var ee=Mn[pr[O]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},m.save=function(O,ee){return O=O||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(Gf(vl(No()),O),typeof Gf.unload=="function"&&Gt.setTimeout&&setTimeout(Gf.unload,911),this):new Promise(function(ve,xe){try{var Te=Gf(vl(No()),O);typeof Gf.unload=="function"&&Gt.setTimeout&&setTimeout(Gf.unload,911),ve(Te)}catch(Ve){xe(Ve.message)}})},Wt.API)Wt.API.hasOwnProperty(ko)&&(ko==="events"&&Wt.API.events.length?function(O,ee){var ve,xe,Te;for(Te=ee.length-1;Te!==-1;Te--)ve=ee[Te][0],xe=ee[Te][1],O.subscribe.apply(O,[ve].concat(typeof xe=="function"?[xe]:xe))}(nn,Wt.API.events):m[ko]=Wt.API[ko]);var ss=m.getPageWidth=function(O){return(It[O=O||Z].mediaBox.topRightX-It[O].mediaBox.bottomLeftX)/ct},Ms=m.setPageWidth=function(O,ee){It[O].mediaBox.topRightX=ee*ct+It[O].mediaBox.bottomLeftX},zi=m.getPageHeight=function(O){return(It[O=O||Z].mediaBox.topRightY-It[O].mediaBox.bottomLeftY)/ct},bl=m.setPageHeight=function(O,ee){It[O].mediaBox.topRightY=ee*ct+It[O].mediaBox.bottomLeftY};return m.internal={pdfEscape:En,getStyle:va,getFont:Xr,getFontSize:lt,getCharSpace:xl,getTextColor:yl,getLineHeight:Ns,getLineHeightFactor:qa,getLineWidth:ao,write:ft,getHorizontalCoordinate:Vi,getVerticalCoordinate:Yr,getCoordinateString:cc,getVerticalCoordinateString:rs,collections:{},newObject:Er,newAdditionalObject:Is,newObjectDeferred:Nr,newObjectDeferredBegin:Gr,getFilters:ni,putStream:lr,events:nn,scaleFactor:ct,pageSize:{getWidth:function(){return ss(Z)},setWidth:function(O){Ms(Z,O)},getHeight:function(){return zi(Z)},setHeight:function(O){bl(Z,O)}},encryptionOptions:h,encryption:er,getEncryptor:Oo,output:Do,getNumberOfPages:Bn,pages:We,out:de,f2:M,f3:R,getPageInfo:to,getPageInfoByObjId:Ft,getCurrentPageInfo:no,getPDFVersion:b,Point:Ls,Rectangle:_l,Matrix:yt,hasHotfix:eo},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ss(Z)},set:function(O){Ms(Z,O)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return zi(Z)},set:function(O){bl(Z,O)},enumerable:!0,configurable:!0}),cu.call(m,ze),Dt="F1",Zo(i,t),nn.publish("initialized"),m}ed.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},ed.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ed.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},ed.prototype.processOwnerPassword=function(n,e){return Gy(Wy(e).substr(0,5),n)},ed.prototype.encryptor=function(n,e){var t=Wy(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Gy(t,r)}},Gg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||or(n)!==or(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Wt.API={events:[]},Wt.version="3.0.1";var ei=Wt.API,wx=1,gh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(n){return n.toFixed(2)},Wc=function(n){return n.toFixed(5)};ei.__acroform__={};var Eo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},R4=function(n){return n*wx},Wl=function(n){var e=new b8,t=Ct.internal.getHeight(n)||0,r=Ct.internal.getWidth(n)||0;return e.BBox=[0,0,Number(en(r)),Number(en(t))],e},mz=ei.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},vz=ei.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},yz=ei.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},fi=ei.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yz(n,e-1)},hi=ei.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mz(n,e-1)},di=ei.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vz(n,e-1)},xz=ei.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],a=n[1],o=n[2],s=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(a+s)||0,u.upperRight_X=t(i+o)||0,u.upperRight_Y=r(a)||0,[Number(en(u.lowerLeft_X)),Number(en(u.lowerLeft_Y)),Number(en(u.upperRight_X)),Number(en(u.upperRight_Y))]},_z=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=$y(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+en(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Wl(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},$y=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var a=t,o=Ct.internal.getHeight(n)||0;o=o<0?-o:o;var s=Ct.internal.getWidth(n)||0;s=s<0?-s:s;var u=function(R,L,B){if(R+1<i.length){var q=L+" "+i[R+1][0];return zp(q,n,B).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var f,h,p=zp("3",n,a).height,g=n.multiline?o-a:(o-p)/2,m=g+=2,x=0,b=0,I=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+zp(e,n,a=12).width+", FieldWidth:"+s+`
`;break}for(var C="",P=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var z=!1;if(i[j].length!==1&&I!==i[j].length-1){if((p+2)*(P+2)+2>o)continue e;C+=i[j][I],z=!0,b=j,j--}else{C=(C+=i[j][I]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var X=parseInt(j),H=u(X,C,a),D=j>=i.length-1;if(H&&!D){C+=" ",I=0;continue}if(H||D){if(D)b=X;else if(n.multiline&&(p+2)*(P+2)+2>o)continue e}else{if(!n.multiline||(p+2)*(P+2)+2>o)continue e;b=X}}for(var E="",T=x;T<=b;T++){var M=i[T];if(n.multiline){if(T===b){E+=M[I]+" ",I=(I+1)%M.length;continue}if(T===x){E+=M[M.length-1]+" ";continue}}E+=M[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,h=zp(E,n,a).width,n.textAlign){case"right":f=s-h-2;break;case"center":f=(s-h)/2;break;case"left":default:f=2}e+=en(f)+" "+en(m)+` Td
`,e+="("+gh(E)+`) Tj
`,e+=-en(f)+` 0 Td
`,m=-(a+2),h=0,x=z?b:b+1,P++,C=""}break}return r.text=e,r.fontSize=a,r},zp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},bz={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},wz=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Az=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),or(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},Ez=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(hl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(bz)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");wx=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new w8,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&wz(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],u=[],f=s.Rect;if(s.Rect&&(s.Rect=xz(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ct.createDefaultAppearanceStream(s),or(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(u=s.getKeyValueListForStream()),s.Rect=f,s.hasAppearanceStream&&!s.appearanceStreamContent){var h=_z(s);u.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(s.appearanceStreamContent){var p="";for(var g in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(g)){var m=s.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(i,s)),p+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,s)),p+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:s.objId}),i.internal.out("endobj")}a&&Az(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},_8=ei.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),or(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+gh(r(n[a].toString()))+")"):i+=n[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jv=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+gh(r(n))+")"},Yl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yl.prototype.toString=function(){return this.objId+" 0 R"},Yl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Yl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:_8(i,this.objId,this.scope)}):i instanceof Yl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var b8=function(){Yl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Eo(b8,Yl);var w8=function(){Yl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+gh(t(n))+")"}},set:function(t){n=t}})};Eo(w8,Yl);var hl=function n(){Yl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fi(e,3)},set:function(C){C?this.F=hi(e,3):this.F=di(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof $g)return;a="FieldObject"+n.FieldNum++}var C=function(P){return P};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+gh(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(C){s=C}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/wx:f},set:function(C){f=C}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof $g||this instanceof eh))return jv(p,this.objId,this.scope)},set:function(C){C=C.toString(),p=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ki?g:jv(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=this instanceof Ki?C:C.substr(0,1)==="("?Xh(C.substr(1,C.length-2)):Xh(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ki?Xh(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof Ki?"/"+C:C}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ki?m:jv(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=this instanceof Ki?C:C.substr(0,1)==="("?Xh(C.substr(1,C.length-2)):Xh(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ki?Xh(m.substr(1,m.length-1)):m},set:function(C){C=C.toString(),m=this instanceof Ki?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(C){C=!!C,b=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(C){x=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,1)},set:function(C){C?this.Ff=hi(this.Ff,1):this.Ff=di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,2)},set:function(C){C?this.Ff=hi(this.Ff,2):this.Ff=di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,3)},set:function(C){C?this.Ff=hi(this.Ff,3):this.Ff=di(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');I=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(I){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Eo(hl,Yl);var fd=function(){hl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _8(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,o,s){s||(s=1);for(var u,f=[];u=o.exec(a);)f.push(u[s]);return f}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,18)},set:function(t){t?this.Ff=hi(this.Ff,18):this.Ff=di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=hi(this.Ff,19):this.Ff=di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,20)},set:function(t){t?(this.Ff=hi(this.Ff,20),e.sort()):this.Ff=di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,22)},set:function(t){t?this.Ff=hi(this.Ff,22):this.Ff=di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(t){t?this.Ff=hi(this.Ff,23):this.Ff=di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,27)},set:function(t){t?this.Ff=hi(this.Ff,27):this.Ff=di(this.Ff,27)}}),this.hasAppearanceStream=!1};Eo(fd,hl);var hd=function(){fd.call(this),this.fontName="helvetica",this.combo=!1};Eo(hd,fd);var dd=function(){hd.call(this),this.combo=!0};Eo(dd,hd);var sg=function(){dd.call(this),this.edit=!0};Eo(sg,dd);var Ki=function(){hl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,15)},set:function(t){t?this.Ff=hi(this.Ff,15):this.Ff=di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,16)},set:function(t){t?this.Ff=hi(this.Ff,16):this.Ff=di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,17)},set:function(t){t?this.Ff=hi(this.Ff,17):this.Ff=di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(t){t?this.Ff=hi(this.Ff,26):this.Ff=di(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+gh(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){or(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Eo(Ki,hl);var lg=function(){Ki.call(this),this.pushButton=!0};Eo(lg,Ki);var pd=function(){Ki.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Eo(pd,Ki);var $g=function(){var n,e;hl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+gh(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){or(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Eo($g,hl),pd.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},pd.prototype.createOption=function(n){var e=new $g;return e.Parent=this,e.optionName=n,this.Kids.push(e),Sz.call(this.scope,e),e};var ug=function(){Ki.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};Eo(ug,Ki);var eh=function(){hl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,13)},set:function(e){e?this.Ff=hi(this.Ff,13):this.Ff=di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,21)},set:function(e){e?this.Ff=hi(this.Ff,21):this.Ff=di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(e){e?this.Ff=hi(this.Ff,23):this.Ff=di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,24)},set:function(e){e?this.Ff=hi(this.Ff,24):this.Ff=di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,25)},set:function(e){e?this.Ff=hi(this.Ff,25):this.Ff=di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(e){e?this.Ff=hi(this.Ff,26):this.Ff=di(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Eo(eh,hl);var cg=function(){eh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,14)},set:function(n){n?this.Ff=hi(this.Ff,14):this.Ff=di(this.Ff,14)}}),this.password=!0};Eo(cg,eh);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Wl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=$y(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+en(Ct.internal.getWidth(n))+" "+en(Ct.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+en(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Wl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=Ct.internal.getHeight(n),o=Ct.internal.getWidth(n),s=$y(n,n.caption);return i.push("1 g"),i.push("0 0 "+en(o)+" "+en(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+en(o-1)+" "+en(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+en(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Wl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(Ct.internal.getWidth(n))+" "+en(Ct.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ct.RadioButton.Circle.YesNormal,e.D[n]=Ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Wl(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Ct.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Wc(Ct.internal.getWidth(n)/2)+" "+Wc(Ct.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Wl(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ct.internal.Bezier_C).toFixed(5)),o=Number((r*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wc(Ct.internal.getWidth(n)/2)+" "+Wc(Ct.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Wc(Ct.internal.getWidth(n)/2)+" "+Wc(Ct.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Wl(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wc(Ct.internal.getWidth(n)/2)+" "+Wc(Ct.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ct.RadioButton.Cross.YesNormal,e.D[n]=Ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Wl(n);e.scope=n.scope;var t=[],r=Ct.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+en(Ct.internal.getWidth(n)-2)+" "+en(Ct.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),t.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),t.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),t.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Wl(n);e.scope=n.scope;var t=Ct.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+en(Ct.internal.getWidth(n))+" "+en(Ct.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+en(Ct.internal.getWidth(n)-2)+" "+en(Ct.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(en(t.x1.x)+" "+en(t.x1.y)+" m"),r.push(en(t.x2.x)+" "+en(t.x2.y)+" l"),r.push(en(t.x4.x)+" "+en(t.x4.y)+" m"),r.push(en(t.x3.x)+" "+en(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Wl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(Ct.internal.getWidth(n))+" "+en(Ct.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ct.internal.getWidth(n),t=Ct.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ct.internal.getWidth=function(n){var e=0;return or(n)==="object"&&(e=R4(n.Rect[2])),e},Ct.internal.getHeight=function(n){var e=0;return or(n)==="object"&&(e=R4(n.Rect[3])),e};var Sz=ei.addField=function(n){if(Ez(this,n),!(n instanceof hl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ei.AcroFormChoiceField=fd,ei.AcroFormListBox=hd,ei.AcroFormComboBox=dd,ei.AcroFormEditBox=sg,ei.AcroFormButton=Ki,ei.AcroFormPushButton=lg,ei.AcroFormRadioButton=pd,ei.AcroFormCheckBox=ug,ei.AcroFormTextField=eh,ei.AcroFormPasswordField=cg,ei.AcroFormAppearance=Ct,ei.AcroForm={ChoiceField:fd,ListBox:hd,ComboBox:dd,EditBox:sg,Button:Ki,PushButton:lg,RadioButton:pd,CheckBox:ug,TextField:eh,PasswordField:cg,Appearance:Ct},Wt.AcroForm={ChoiceField:fd,ListBox:hd,ComboBox:dd,EditBox:sg,Button:Ki,PushButton:lg,RadioButton:pd,CheckBox:ug,TextField:eh,PasswordField:cg,Appearance:Ct};Wt.AcroForm;function A8(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(R,L){var B,q,te,V,U,Q=e;if((L=L||e)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(H(R))for(U in t)for(te=t[U],B=0;B<te.length;B+=1){for(V=!0,q=0;q<te[B].length;q+=1)if(te[B][q]!==void 0&&te[B][q]!==R[q]){V=!1;break}if(V===!0){Q=U;break}}else for(U in t)for(te=t[U],B=0;B<te.length;B+=1){for(V=!0,q=0;q<te[B].length;q+=1)if(te[B][q]!==void 0&&te[B][q]!==R.charCodeAt(q)){V=!1;break}if(V===!0){Q=U;break}}return Q===e&&L!==e&&(Q=L),Q},i=function R(L){for(var B=this.internal.write,q=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:L.width}),V.push({key:"Height",value:L.height}),L.colorSpace===I.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===I.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var U="",Q=0,ae=L.transparency.length;Q<ae;Q++)U+=L.transparency[Q]+" "+L.transparency[Q]+" ";V.push({key:"Mask",value:"["+U+"]"})}L.sMask!==void 0&&V.push({key:"SMask",value:L.objectId+1+" 0 R"});var Y=L.filter!==void 0?["/"+L.filter]:void 0;if(q({data:L.data,additionalKeyValues:V,alreadyAppliedFilters:Y,objectId:L.objectId}),B("endobj"),"sMask"in L&&L.sMask!==void 0){var me="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,G={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:me,data:L.sMask};"filter"in L&&(G.filter=L.filter),R.call(this,G)}if(L.colorSpace===I.INDEXED){var Z=this.internal.newObject();q({data:E(new Uint8Array(L.palette)),objectId:Z}),B("endobj")}},a=function(){var R=this.internal.collections.addImage_images;for(var L in R)i.call(this,R[L])},o=function(){var R,L=this.internal.collections.addImage_images,B=this.internal.write;for(var q in L)B("/I"+(R=L[q]).index,R.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var R=this.internal.collections.addImage_images;return s.call(this),R},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(R){return typeof n["process"+R.toUpperCase()]=="function"},p=function(R){return or(R)==="object"&&R.nodeType===1},g=function(R,L){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var B=""+R.getAttribute("src");if(B.indexOf("data:image/")===0)return $1(unescape(B).split("base64,").pop());var q=n.loadFile(B,!0);if(q!==void 0)return q}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var te;switch(L){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;case"JPEG":case"JPG":default:te="image/jpeg"}return $1(R.toDataURL(te,1).split("base64,").pop())}},m=function(R){var L=this.internal.collections.addImage_images;if(L){for(var B in L)if(R===L[B].alias)return L[B]}},x=function(R,L,B){return R||L||(R=-96,L=-96),R<0&&(R=-1*B.width*72/R/this.internal.scaleFactor),L<0&&(L=-1*B.height*72/L/this.internal.scaleFactor),R===0&&(R=L*B.width/B.height),L===0&&(L=R*B.height/B.width),[R,L]},b=function(R,L,B,q,te,V){var U=x.call(this,B,q,te),Q=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,Y=u.call(this);if(B=U[0],q=U[1],Y[te.index]=te,V){V*=Math.PI/180;var me=Math.cos(V),G=Math.sin(V),Z=function(oe){return oe.toFixed(4)},ne=[Z(me),Z(G),Z(-1*G),Z(me),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,Q(R),ae(L+q),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([Q(B),"0","0",Q(q),"0","0","cm"].join(" "))):this.internal.write([Q(B),"0","0",Q(q),Q(R),ae(L+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},I=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=n.__addimage__.sHashCode=function(R){var L,B,q=0;if(typeof R=="string")for(B=R.length,L=0;L<B;L++)q=(q<<5)-q+R.charCodeAt(L),q|=0;else if(H(R))for(B=R.byteLength/2,L=0;L<B;L++)q=(q<<5)-q+R[L],q|=0;return q},j=n.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var L=!0;return R.length===0&&(L=!1),R.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(L=!1),L},z=n.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var L=R.indexOf(",");return L<0?null:R.substring(0,L).trim().endsWith("base64")?R.substring(L+1):null},X=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(R){return X()&&R instanceof ArrayBuffer};var H=n.__addimage__.isArrayBufferView=function(R){return X()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},D=n.__addimage__.binaryStringToUint8Array=function(R){for(var L=R.length,B=new Uint8Array(L),q=0;q<L;q++)B[q]=R.charCodeAt(q);return B},E=n.__addimage__.arrayBufferToBinaryString=function(R){for(var L="",B=H(R)?R:new Uint8Array(R),q=0;q<B.length;q+=8192)L+=String.fromCharCode.apply(null,B.subarray(q,q+8192));return L};n.addImage=function(){var R,L,B,q,te,V,U,Q,ae;if(typeof arguments[1]=="number"?(L=e,B=arguments[1],q=arguments[2],te=arguments[3],V=arguments[4],U=arguments[5],Q=arguments[6],ae=arguments[7]):(L=arguments[1],B=arguments[2],q=arguments[3],te=arguments[4],V=arguments[5],U=arguments[6],Q=arguments[7],ae=arguments[8]),or(R=arguments[0])==="object"&&!p(R)&&"imageData"in R){var Y=R;R=Y.imageData,L=Y.format||L||e,B=Y.x||B||0,q=Y.y||q||0,te=Y.w||Y.width||te,V=Y.h||Y.height||V,U=Y.alias||U,Q=Y.compression||Q,ae=Y.rotation||Y.angle||ae}var me=this.internal.getFilters();if(Q===void 0&&me.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(B)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var G=T.call(this,R,L,U,Q);return b.call(this,B,q,te,V,G,ae),this};var T=function(R,L,B,q){var te,V,U;if(typeof R=="string"&&r(R)===e){R=unescape(R);var Q=M(R,!1);(Q!==""||(Q=n.loadFile(R,!0))!==void 0)&&(R=Q)}if(p(R)&&(R=g(R,L)),L=r(R,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((U=B)==null||U.length===0)&&(B=function(ae){return typeof ae=="string"||H(ae)?P(ae):H(ae.data)?P(ae.data):null}(R)),(te=m.call(this,B))||(X()&&(R instanceof Uint8Array||L==="RGBA"||(V=R,R=D(R))),te=this["process"+L.toUpperCase()](R,f.call(this),B,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in n.image_compression?ae:C.NONE}(q),V)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},M=n.__addimage__.convertBase64ToBinaryString=function(R,L){L=typeof L!="boolean"||L;var B,q="";if(typeof R=="string"){var te;B=(te=z(R))!==null&&te!==void 0?te:R;try{q=$1(B)}catch(V){if(L)throw j(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};n.getImageProperties=function(R){var L,B,q="";if(p(R)&&(R=g(R)),typeof R=="string"&&r(R)===e&&((q=M(R,!1))===""&&(q=n.loadFile(R)||""),R=q),B=r(R),!h(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!X()||R instanceof Uint8Array||(R=D(R)),!(L=this["process"+B.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=B,L}})(Wt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Wt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,h=!1,p=0;p<f.length&&!h;p++)switch((r=f[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){r=f[g];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(b.objId),P=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+m(C(r.contents))+")",a+=" /Popup "+I.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+m(C(P))+") >>",b.content=a;var j=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(a+=" /Open true"),a+=" >>",I.content=a,this.internal.write(b.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var z=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var H=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+H+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,a,o){var s=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:u(t),y:f(r),w:u(t+i),h:f(r+a)},options:o,type:"link"})},n.textWithLink=function(t,r,i,a){var o,s,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var h=this.splitTextToSize(t,s).length;o=Math.ceil(f*h)}else s=u,o=f;return this.text(t,r,i,a),i+=.2*f,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-f,s,o,a),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Wt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=n.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(b){var I=0,C=t,P="",j=0;for(I=0;I<b.length;I+=1)C[b.charCodeAt(I)]!==void 0?(j++,typeof(C=C[b.charCodeAt(I)])=="number"&&(P+=String.fromCharCode(C),C=t,j=0),I===b.length-1&&(C=t,P+=b.charAt(I-(j-1)),I-=j-1,j=0)):(C=t,P+=b.charAt(I-j),I-=j,j=0);return P};n.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(b,I,C){return o(b)?a(b)===!1?-1:!f(b)||!o(I)&&!o(C)||!o(C)&&s(I)||s(b)&&!o(I)||s(b)&&u(I)||s(b)&&s(I)?0:h(b)&&o(I)&&!s(I)&&o(C)&&f(C)?3:s(b)||!o(C)?1:2:-1},m=function(b){var I=0,C=0,P=0,j="",z="",X="",H=(b=b||"").split("\\s+"),D=[];for(I=0;I<H.length;I+=1){for(D.push(""),C=0;C<H[I].length;C+=1)j=H[I][C],z=H[I][C-1],X=H[I][C+1],o(j)?(P=g(j,z,X),D[I]+=P!==-1?String.fromCharCode(e[j.charCodeAt(0)][P]):j):D[I]+=j;D[I]=p(D[I])}return D.join(" ")},x=n.__arabicParser__.processArabic=n.processArabic=function(){var b,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(I)){var P=0;for(C=[],P=0;P<I.length;P+=1)Array.isArray(I[P])?C.push([m(I[P][0]),I[P][1],I[P][2]]):C.push([m(I[P])]);b=C}else b=m(I);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};n.events.push(["preProcessText",x])}(Wt.API),Wt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(s){t=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Wt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(b){x=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){r.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,m=0,x=0,b=0,I=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var C=f.maxWidth;C>0?typeof u=="string"?u=this.splitTextToSize(u,C):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,z){return j.concat(I.splitTextToSize(z,C))},[])):u=Array.isArray(u)?u:[u];for(var P=0;P<u.length;P++)m<(b=this.getStringUnitWidth(u[P],{font:p})*h)&&(m=b);return m!==0&&(x=u.length),{w:m/=g,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,m&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,h,p,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,x,b,I,C=[],P=[],j=[],z={},X={},H=[],D=[],E=(g=g||{}).autoSize||!1,T=g.printHeaders!==!1,M=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,R=g.margins||Object.assign({width:this.getPageWidth()},e),L=typeof g.padding=="number"?g.padding:3,B=g.headerBackgroundColor||"#c8c8c8",q=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=q,this.setFontSize(M),p==null)P=C=Object.keys(h[0]),j=C.map(function(){return"left"});else if(Array.isArray(p)&&or(p[0])==="object")for(C=p.map(function(Y){return Y.name}),P=p.map(function(Y){return Y.prompt||Y.name||""}),j=p.map(function(Y){return Y.align||"left"}),m=0;m<p.length;m+=1)X[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(P=C=p,j=C.map(function(){return"left"}));if(E||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<C.length;m+=1){for(z[I=C[m]]=h.map(function(Y){return Y[I]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(P[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=z[I],this.setFont(void 0,"normal"),b=0;b<x.length;b+=1)H.push(this.getTextDimensions(x[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[I]=Math.max.apply(null,H)+L+L,H=[]}if(T){var te={};for(m=0;m<C.length;m+=1)te[C[m]]={},te[C[m]].text=P[m],te[C[m]].align=j[m];var V=s.call(this,te,X);D=C.map(function(Y){return new a(u,f,X[Y],V,te[Y].text,void 0,te[Y].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var U=p.reduce(function(Y,me){return Y[me.name]=me.align,Y},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var Q=s.call(this,h[m],X);for(b=0;b<C.length;b+=1){var ae=h[m][C[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:b,data:ae},this),o.call(this,new a(u,f,X[C[b]],Q,ae,m+2,U[C[b]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var s=function(u,f){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(m){var x=u[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,f[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+h+h},this).reduce(function(m,x){return Math.max(m,x)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(x)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}}(Wt.API);var E8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xy=A8(S8),C8=[100,200,300,400,500,600,700,800,900],Cz=A8(C8);function Yy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return E8[a=a||"normal"]?a:"normal"}(n.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(a){return typeof Xy[a=a||"normal"]=="number"?a:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function N4(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Iz={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},D4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function O4(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Tz(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Iz,t.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=Yy(e[s])).family]&&(a.family=i[a.family]),n.hasOwnProperty(a.family)){o=n[a.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+O4(a)+"' and default family '"+r+"'.");if(o=function(u,f){if(f[u])return f[u];var h=Xy[u],p=h<=Xy.normal?-1:1,g=N4(f,S8,h,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+u);return g}(a.stretch,o),o=function(u,f){if(f[u])return f[u];for(var h=E8[u],p=0;p<h.length;++p)if(f[h[p]])return f[h[p]];throw new Error("Could not find a matching font-style for "+u)}(a.style,o),!(o=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var h=Cz[u],p=N4(f,C8,h,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+O4(a)+"'.");return o}function P4(n){return n.trimLeft()}function Rz(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Nz(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var qp,L4,k4,Bv=["times"];(function(n){var e,t,r,i,a,o,s,u,f,h=function(G){return G=G||{},this.isStrokeTransparent=G.isStrokeTransparent||!1,this.strokeOpacity=G.strokeOpacity||1,this.strokeStyle=G.strokeStyle||"#000000",this.fillStyle=G.fillStyle||"#000000",this.isFillTransparent=G.isFillTransparent||!1,this.fillOpacity=G.fillOpacity||1,this.font=G.font||"10px sans-serif",this.textBaseline=G.textBaseline||"alphabetic",this.textAlign=G.textAlign||"left",this.lineWidth=G.lineWidth||1,this.lineJoin=G.lineJoin||"miter",this.lineCap=G.lineCap||"butt",this.path=G.path||[],this.transform=G.transform!==void 0?G.transform.clone():new u,this.globalCompositeOperation=G.globalCompositeOperation||"normal",this.globalAlpha=G.globalAlpha||1,this.clip_path=G.clip_path||[],this.currentPoint=G.currentPoint||new o,this.miterLimit=G.miterLimit||10,this.lastPoint=G.lastPoint||new o,this.lineDashOffset=G.lineDashOffset||0,this.lineDash=G.lineDash||[],this.margin=G.margin||[0,0,0,0],this.prevPageLastElemOffset=G.prevPageLastElemOffset||0,this.ignoreClearRect=typeof G.ignoreClearRect!="boolean"||G.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var p=function(G){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=G;Object.defineProperty(this,"pdf",{get:function(){return Z}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(De){ne=!!De}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(De){oe=!!De}});var ge=0;Object.defineProperty(this,"posX",{get:function(){return ge},set:function(De){isNaN(De)||(ge=De)}});var Ee=0;Object.defineProperty(this,"posY",{get:function(){return Ee},set:function(De){isNaN(De)||(Ee=De)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(De){var de;typeof De=="number"?de=[De,De,De,De]:((de=new Array(4))[0]=De[0],de[1]=De.length>=2?De[1]:de[0],de[2]=De.length>=3?De[2]:de[0],de[3]=De.length>=4?De[3]:de[1]),f.margin=de}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(De){we=De}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(De){Ie=De}});var Ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ge},set:function(De){Ge=De}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(De){De instanceof h&&(f=De)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(De){f.path=De}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(De){We=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var de;de=g(De),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var de=g(De);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var st=null;function ut(De,de){if(st===null){var ft=function(Ke){var ze=[];return Object.keys(Ke).forEach(function(nt){Ke[nt].forEach(function(it){var lt=null;switch(it){case"bold":lt={family:nt,weight:"bold"};break;case"italic":lt={family:nt,style:"italic"};break;case"bolditalic":lt={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:nt}}lt!==null&&(lt.ref={name:nt,style:it},ze.push(lt))})}),ze}(De.getFontList());st=function(Ke){for(var ze={},nt=0;nt<Ke.length;++nt){var it=Yy(Ke[nt]),lt=it.family,ht=it.stretch,vt=it.style,Rt=it.weight;ze[lt]=ze[lt]||{},ze[lt][ht]=ze[lt][ht]||{},ze[lt][ht][vt]=ze[lt][ht][vt]||{},ze[lt][ht][vt][Rt]=it}return ze}(ft.concat(de))}return st}var qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(De){st=null,qe=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var de;if(this.ctx.font=De,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var ft=de[1];de[2];var Ke=de[3],ze=de[4];de[5];var nt=de[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(it==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var lt=function(_t){var Dt,ct,vn=[],zt=_t.trim();if(zt==="")return Bv;if(zt in D4)return[D4[zt]];for(;zt!=="";){switch(ct=null,Dt=(zt=P4(zt)).charAt(0)){case'"':case"'":ct=Rz(zt.substring(1),Dt);break;default:ct=Nz(zt)}if(ct===null||(vn.push(ct[0]),(zt=P4(ct[1]))!==""&&zt.charAt(0)!==","))return Bv;zt=zt.replace(/^,/,"")}return vn}(nt);if(this.fontFaces){var ht=Tz(ut(this.pdf,this.fontFaces),lt.map(function(_t){return{family:_t,stretch:"normal",weight:Ke,style:ft}}));this.pdf.setFont(ht.ref.name,ht.ref.style)}else{var vt="";(Ke==="bold"||parseInt(Ke,10)>=700||ft==="bold")&&(vt="bold"),ft==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var Rt="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<lt.length;wt++){if(this.pdf.internal.getFont(lt[wt],vt,{noFallback:!0,disableWarning:!0})!==void 0){Rt=lt[wt];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(lt[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=lt[wt],vt="bold";else if(this.pdf.internal.getFont(lt[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=lt[wt],vt="normal";break}}if(Rt===""){for(var Nt=0;Nt<lt.length;Nt++)if(bt[lt[Nt]]){Rt=bt[lt[Nt]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};p.prototype.setLineDash=function(G){this.lineDash=G},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){z.call(this,"fill",!1)},p.prototype.stroke=function(){z.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(G,Z){if(isNaN(G)||isNaN(Z))throw vr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new o(G,Z));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(G,Z)},p.prototype.closePath=function(){var G=new o(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&or(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){G=new o(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(G.x,G.y)},p.prototype.lineTo=function(G,Z){if(isNaN(G)||isNaN(Z))throw vr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new o(G,Z));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},p.prototype.quadraticCurveTo=function(G,Z,ne,oe){if(isNaN(ne)||isNaN(oe)||isNaN(G)||isNaN(Z))throw vr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new o(ne,oe)),Ee=this.ctx.transform.applyToPoint(new o(G,Z));this.path.push({type:"qct",x1:Ee.x,y1:Ee.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},p.prototype.bezierCurveTo=function(G,Z,ne,oe,ge,Ee){if(isNaN(ge)||isNaN(Ee)||isNaN(G)||isNaN(Z)||isNaN(ne)||isNaN(oe))throw vr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(ge,Ee)),Ie=this.ctx.transform.applyToPoint(new o(G,Z)),Ge=this.ctx.transform.applyToPoint(new o(ne,oe));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:Ge.x,y2:Ge.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},p.prototype.arc=function(G,Z,ne,oe,ge,Ee){if(isNaN(G)||isNaN(Z)||isNaN(ne)||isNaN(oe)||isNaN(ge))throw vr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ee=!!Ee,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(G,Z));G=we.x,Z=we.y;var Ie=this.ctx.transform.applyToPoint(new o(0,ne)),Ge=this.ctx.transform.applyToPoint(new o(0,0));ne=Math.sqrt(Math.pow(Ie.x-Ge.x,2)+Math.pow(Ie.y-Ge.y,2))}Math.abs(ge-oe)>=2*Math.PI&&(oe=0,ge=2*Math.PI),this.path.push({type:"arc",x:G,y:Z,radius:ne,startAngle:oe,endAngle:ge,counterclockwise:Ee})},p.prototype.arcTo=function(G,Z,ne,oe,ge){throw new Error("arcTo not implemented.")},p.prototype.rect=function(G,Z,ne,oe){if(isNaN(G)||isNaN(Z)||isNaN(ne)||isNaN(oe))throw vr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(G,Z),this.lineTo(G+ne,Z),this.lineTo(G+ne,Z+oe),this.lineTo(G,Z+oe),this.lineTo(G,Z),this.lineTo(G+ne,Z),this.lineTo(G,Z)},p.prototype.fillRect=function(G,Z,ne,oe){if(isNaN(G)||isNaN(Z)||isNaN(ne)||isNaN(oe))throw vr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(G,Z,ne,oe),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},p.prototype.strokeRect=function(G,Z,ne,oe){if(isNaN(G)||isNaN(Z)||isNaN(ne)||isNaN(oe))throw vr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(G,Z,ne,oe),this.stroke())},p.prototype.clearRect=function(G,Z,ne,oe){if(isNaN(G)||isNaN(Z)||isNaN(ne)||isNaN(oe))throw vr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(G,Z,ne,oe))},p.prototype.save=function(G){G=typeof G!="boolean"||G;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),G){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},p.prototype.restore=function(G){G=typeof G!="boolean"||G;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),G&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(G){var Z,ne,oe,ge;if(G.isCanvasGradient===!0&&(G=G.getColor()),!G)return{r:0,g:0,b:0,a:0,style:G};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(G))Z=0,ne=0,oe=0,ge=0;else{var Ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(G);if(Ee!==null)Z=parseInt(Ee[1]),ne=parseInt(Ee[2]),oe=parseInt(Ee[3]),ge=1;else if((Ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(G))!==null)Z=parseInt(Ee[1]),ne=parseInt(Ee[2]),oe=parseInt(Ee[3]),ge=parseFloat(Ee[4]);else{if(ge=1,typeof G=="string"&&G.charAt(0)!=="#"){var we=new v8(G);G=we.ok?we.toHex():"#000000"}G.length===4?(Z=G.substring(1,2),Z+=Z,ne=G.substring(2,3),ne+=ne,oe=G.substring(3,4),oe+=oe):(Z=G.substring(1,3),ne=G.substring(3,5),oe=G.substring(5,7)),Z=parseInt(Z,16),ne=parseInt(ne,16),oe=parseInt(oe,16)}}return{r:Z,g:ne,b:oe,a:ge,style:G}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(G,Z,ne,oe){if(isNaN(Z)||isNaN(ne)||typeof G!="string")throw vr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!m.call(this)){var ge=Q(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;L.call(this,{text:G,x:Z,y:ne,scale:Ee,angle:ge,align:this.textAlign,maxWidth:oe})}},p.prototype.strokeText=function(G,Z,ne,oe){if(isNaN(Z)||isNaN(ne)||typeof G!="string")throw vr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){oe=isNaN(oe)?void 0:oe;var ge=Q(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;L.call(this,{text:G,x:Z,y:ne,scale:Ee,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:oe})}},p.prototype.measureText=function(G){if(typeof G!="string")throw vr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,ne=this.pdf.internal.scaleFactor,oe=Z.internal.getFontSize(),ge=Z.getStringUnitWidth(G)*oe/Z.internal.scaleFactor,Ee=function(we){var Ie=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this};return new Ee({width:ge*=Math.round(96*ne/72*1e4)/1e4})},p.prototype.scale=function(G,Z){if(isNaN(G)||isNaN(Z))throw vr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new u(G,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},p.prototype.rotate=function(G){if(isNaN(G))throw vr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new u(Math.cos(G),Math.sin(G),-Math.sin(G),Math.cos(G),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.translate=function(G,Z){if(isNaN(G)||isNaN(Z))throw vr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new u(1,0,0,1,G,Z);this.ctx.transform=this.ctx.transform.multiply(ne)},p.prototype.transform=function(G,Z,ne,oe,ge,Ee){if(isNaN(G)||isNaN(Z)||isNaN(ne)||isNaN(oe)||isNaN(ge)||isNaN(Ee))throw vr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new u(G,Z,ne,oe,ge,Ee);this.ctx.transform=this.ctx.transform.multiply(we)},p.prototype.setTransform=function(G,Z,ne,oe,ge,Ee){G=isNaN(G)?1:G,Z=isNaN(Z)?0:Z,ne=isNaN(ne)?0:ne,oe=isNaN(oe)?1:oe,ge=isNaN(ge)?0:ge,Ee=isNaN(Ee)?0:Ee,this.ctx.transform=new u(G,Z,ne,oe,ge,Ee)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(G,Z,ne,oe,ge,Ee,we,Ie,Ge){var We=this.pdf.getImageProperties(G),st=1,ut=1,qe=1,De=1;oe!==void 0&&Ie!==void 0&&(qe=Ie/oe,De=Ge/ge,st=We.width/oe*Ie/oe,ut=We.height/ge*Ge/ge),Ee===void 0&&(Ee=Z,we=ne,Z=0,ne=0),oe!==void 0&&Ie===void 0&&(Ie=oe,Ge=ge),oe===void 0&&Ie===void 0&&(Ie=We.width,Ge=We.height);for(var de,ft=this.ctx.transform.decompose(),Ke=Q(ft.rotate.shx),ze=new u,nt=(ze=(ze=(ze=ze.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new s(Ee-Z*qe,we-ne*De,oe*st,ge*ut)),it=I.call(this,nt),lt=[],ht=0;ht<it.length;ht+=1)lt.indexOf(it[ht])===-1&&lt.push(it[ht]);if(j(lt),this.autoPaging)for(var vt=lt[0],Rt=lt[lt.length-1],bt=vt;bt<Rt+1;bt++){this.pdf.setPage(bt);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=bt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=bt===1?0:_t+(bt-2)*Dt;if(this.ctx.clip_path.length!==0){var vn=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(de,this.posX+this.margin[3],-ct+Nt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=vn}var zt=JSON.parse(JSON.stringify(nt));zt=P([zt],this.posX+this.margin[3],-ct+Nt+this.ctx.prevPageLastElemOffset)[0];var Yn=(bt>vt||bt<Rt)&&b.call(this);Yn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Dt,null).clip().discardPath()),this.pdf.addImage(G,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,Ke),Yn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(G,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,Ke)};var I=function(G,Z,ne){var oe=[];Z=Z||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ge=this.posY+this.ctx.prevPageLastElemOffset;switch(G.type){default:case"mt":case"lt":oe.push(Math.floor((G.y+ge)/ne)+1);break;case"arc":oe.push(Math.floor((G.y+ge-G.radius)/ne)+1),oe.push(Math.floor((G.y+ge+G.radius)/ne)+1);break;case"qct":var Ee=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,G.x1,G.y1,G.x,G.y);oe.push(Math.floor((Ee.y+ge)/ne)+1),oe.push(Math.floor((Ee.y+Ee.h+ge)/ne)+1);break;case"bct":var we=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,G.x1,G.y1,G.x2,G.y2,G.x,G.y);oe.push(Math.floor((we.y+ge)/ne)+1),oe.push(Math.floor((we.y+we.h+ge)/ne)+1);break;case"rect":oe.push(Math.floor((G.y+ge)/ne)+1),oe.push(Math.floor((G.y+G.h+ge)/ne)+1)}for(var Ie=0;Ie<oe.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Ie];)C.call(this);return oe},C=function(){var G=this.fillStyle,Z=this.strokeStyle,ne=this.font,oe=this.lineCap,ge=this.lineWidth,Ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=G,this.strokeStyle=Z,this.font=ne,this.lineCap=oe,this.lineWidth=ge,this.lineJoin=Ee},P=function(G,Z,ne){for(var oe=0;oe<G.length;oe++)switch(G[oe].type){case"bct":G[oe].x2+=Z,G[oe].y2+=ne;case"qct":G[oe].x1+=Z,G[oe].y1+=ne;case"mt":case"lt":case"arc":default:G[oe].x+=Z,G[oe].y+=ne}return G},j=function(G){return G.sort(function(Z,ne){return Z-ne})},z=function(G,Z){for(var ne,oe,ge=this.fillStyle,Ee=this.strokeStyle,we=this.lineCap,Ie=this.lineWidth,Ge=Math.abs(Ie*this.ctx.transform.scaleX),We=this.lineJoin,st=JSON.parse(JSON.stringify(this.path)),ut=JSON.parse(JSON.stringify(this.path)),qe=[],De=0;De<ut.length;De++)if(ut[De].x!==void 0)for(var de=I.call(this,ut[De]),ft=0;ft<de.length;ft+=1)qe.indexOf(de[ft])===-1&&qe.push(de[ft]);for(var Ke=0;Ke<qe.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<qe[Ke];)C.call(this);if(j(qe),this.autoPaging)for(var ze=qe[0],nt=qe[qe.length-1],it=ze;it<nt+1;it++){this.pdf.setPage(it),this.fillStyle=ge,this.strokeStyle=Ee,this.lineCap=we,this.lineWidth=Ge,this.lineJoin=We;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=it===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=it===1?0:vt+(it-2)*Rt;if(this.ctx.clip_path.length!==0){var wt=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(ne,this.posX+this.margin[3],-bt+ht+this.ctx.prevPageLastElemOffset),X.call(this,G,!0),this.path=wt}if(oe=JSON.parse(JSON.stringify(st)),this.path=P(oe,this.posX+this.margin[3],-bt+ht+this.ctx.prevPageLastElemOffset),Z===!1||it===0){var Nt=(it>ze||it<nt)&&b.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Rt,null).clip().discardPath()),X.call(this,G,Z),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ie}else this.lineWidth=Ge,X.call(this,G,Z),this.lineWidth=Ie;this.path=st},X=function(G,Z){if((G!=="stroke"||Z||!x.call(this))&&(G==="stroke"||Z||!m.call(this))){for(var ne,oe,ge=[],Ee=this.path,we=0;we<Ee.length;we++){var Ie=Ee[we];switch(Ie.type){case"begin":ge.push({begin:!0});break;case"close":ge.push({close:!0});break;case"mt":ge.push({start:Ie,deltas:[],abs:[]});break;case"lt":var Ge=ge.length;if(Ee[we-1]&&!isNaN(Ee[we-1].x)&&(ne=[Ie.x-Ee[we-1].x,Ie.y-Ee[we-1].y],Ge>0)){for(;Ge>=0;Ge--)if(ge[Ge-1].close!==!0&&ge[Ge-1].begin!==!0){ge[Ge-1].deltas.push(ne),ge[Ge-1].abs.push(Ie);break}}break;case"bct":ne=[Ie.x1-Ee[we-1].x,Ie.y1-Ee[we-1].y,Ie.x2-Ee[we-1].x,Ie.y2-Ee[we-1].y,Ie.x-Ee[we-1].x,Ie.y-Ee[we-1].y],ge[ge.length-1].deltas.push(ne);break;case"qct":var We=Ee[we-1].x+2/3*(Ie.x1-Ee[we-1].x),st=Ee[we-1].y+2/3*(Ie.y1-Ee[we-1].y),ut=Ie.x+2/3*(Ie.x1-Ie.x),qe=Ie.y+2/3*(Ie.y1-Ie.y),De=Ie.x,de=Ie.y;ne=[We-Ee[we-1].x,st-Ee[we-1].y,ut-Ee[we-1].x,qe-Ee[we-1].y,De-Ee[we-1].x,de-Ee[we-1].y],ge[ge.length-1].deltas.push(ne);break;case"arc":ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(ge[ge.length-1].abs)&&ge[ge.length-1].abs.push(Ie)}}oe=Z?null:G==="stroke"?"stroke":"fill";for(var ft=!1,Ke=0;Ke<ge.length;Ke++)if(ge[Ke].arc)for(var ze=ge[Ke].abs,nt=0;nt<ze.length;nt++){var it=ze[nt];it.type==="arc"?E.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,Z,!ft):B.call(this,it.x,it.y),ft=!0}else if(ge[Ke].close===!0)this.pdf.internal.out("h"),ft=!1;else if(ge[Ke].begin!==!0){var lt=ge[Ke].start.x,ht=ge[Ke].start.y;q.call(this,ge[Ke].deltas,lt,ht),ft=!0}oe&&T.call(this,oe),Z&&M.call(this)}},H=function(G){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return G-ne;case"top":return G+Z-ne;case"hanging":return G+Z-2*ne;case"middle":return G+Z/2-ne;case"ideographic":return G;case"alphabetic":default:return G}},D=function(G){return G+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var G=function(){};return G.colorStops=[],G.addColorStop=function(Z,ne){this.colorStops.push([Z,ne])},G.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},G.isCanvasGradient=!0,G},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(G,Z,ne,oe,ge,Ee,we,Ie,Ge){for(var We=V.call(this,ne,oe,ge,Ee),st=0;st<We.length;st++){var ut=We[st];st===0&&(Ge?R.call(this,ut.x1+G,ut.y1+Z):B.call(this,ut.x1+G,ut.y1+Z)),te.call(this,G,Z,ut.x2,ut.y2,ut.x3,ut.y3,ut.x4,ut.y4)}Ie?M.call(this):T.call(this,we)},T=function(G){switch(G){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(G,Z){this.pdf.internal.out(t(G)+" "+r(Z)+" m")},L=function(G){var Z;switch(G.align){case"right":case"end":Z="right";break;case"center":Z="center";break;case"left":case"start":default:Z="left"}var ne=this.pdf.getTextDimensions(G.text),oe=H.call(this,G.y),ge=D.call(this,oe)-ne.h,Ee=this.ctx.transform.applyToPoint(new o(G.x,oe)),we=this.ctx.transform.decompose(),Ie=new u;Ie=(Ie=(Ie=Ie.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Ge,We,st,ut=this.ctx.transform.applyToRectangle(new s(G.x,oe,ne.w,ne.h)),qe=Ie.applyToRectangle(new s(G.x,ge,ne.w,ne.h)),De=I.call(this,qe),de=[],ft=0;ft<De.length;ft+=1)de.indexOf(De[ft])===-1&&de.push(De[ft]);if(j(de),this.autoPaging)for(var Ke=de[0],ze=de[de.length-1],nt=Ke;nt<ze+1;nt++){this.pdf.setPage(nt);var it=nt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[2],vt=ht-this.margin[0],Rt=this.pdf.internal.pageSize.width-this.margin[1],bt=Rt-this.margin[3],wt=nt===1?0:lt+(nt-2)*vt;if(this.ctx.clip_path.length!==0){var Nt=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ge,this.posX+this.margin[3],-1*wt+it),X.call(this,"fill",!0),this.path=Nt}var _t=P([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-wt+it+this.ctx.prevPageLastElemOffset)[0];G.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*G.scale),st=this.lineWidth,this.lineWidth=st*G.scale);var Dt=this.autoPaging!=="text";if(Dt||_t.y+_t.h<=ht){if(Dt||_t.y>=it&&_t.x<=Rt){var ct=Dt?G.text:this.pdf.splitTextToSize(G.text,G.maxWidth||Rt-_t.x)[0],vn=P([JSON.parse(JSON.stringify(ut))],this.posX+this.margin[3],-wt+it+this.ctx.prevPageLastElemOffset)[0],zt=Dt&&(nt>Ke||nt<ze)&&b.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,vt,null).clip().discardPath()),this.pdf.text(ct,vn.x,vn.y,{angle:G.angle,align:Z,renderingMode:G.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else _t.y<ht&&(this.ctx.prevPageLastElemOffset+=ht-_t.y);G.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=st)}else G.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*G.scale),st=this.lineWidth,this.lineWidth=st*G.scale),this.pdf.text(G.text,Ee.x+this.posX,Ee.y+this.posY,{angle:G.angle,align:Z,renderingMode:G.renderingMode,maxWidth:G.maxWidth}),G.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=st)},B=function(G,Z,ne,oe){ne=ne||0,oe=oe||0,this.pdf.internal.out(t(G+ne)+" "+r(Z+oe)+" l")},q=function(G,Z,ne){return this.pdf.lines(G,Z,ne,null,null)},te=function(G,Z,ne,oe,ge,Ee,we,Ie){this.pdf.internal.out([e(i(ne+G)),e(a(oe+Z)),e(i(ge+G)),e(a(Ee+Z)),e(i(we+G)),e(a(Ie+Z)),"c"].join(" "))},V=function(G,Z,ne,oe){for(var ge=2*Math.PI,Ee=Math.PI/2;Z>ne;)Z-=ge;var we=Math.abs(ne-Z);we<ge&&oe&&(we=ge-we);for(var Ie=[],Ge=oe?-1:1,We=Z;we>1e-5;){var st=We+Ge*Math.min(we,Ee);Ie.push(U.call(this,G,We,st)),we-=Math.abs(st-We),We=st}return Ie},U=function(G,Z,ne){var oe=(ne-Z)/2,ge=G*Math.cos(oe),Ee=G*Math.sin(oe),we=ge,Ie=-Ee,Ge=we*we+Ie*Ie,We=Ge+we*ge+Ie*Ee,st=4/3*(Math.sqrt(2*Ge*We)-We)/(we*Ee-Ie*ge),ut=we-st*Ie,qe=Ie+st*we,De=ut,de=-qe,ft=oe+Z,Ke=Math.cos(ft),ze=Math.sin(ft);return{x1:G*Math.cos(Z),y1:G*Math.sin(Z),x2:ut*Ke-qe*ze,y2:ut*ze+qe*Ke,x3:De*Ke-de*ze,y3:De*ze+de*Ke,x4:G*Math.cos(ne),y4:G*Math.sin(ne)}},Q=function(G){return 180*G/Math.PI},ae=function(G,Z,ne,oe,ge,Ee){var we=G+.5*(ne-G),Ie=Z+.5*(oe-Z),Ge=ge+.5*(ne-ge),We=Ee+.5*(oe-Ee),st=Math.min(G,ge,we,Ge),ut=Math.max(G,ge,we,Ge),qe=Math.min(Z,Ee,Ie,We),De=Math.max(Z,Ee,Ie,We);return new s(st,qe,ut-st,De-qe)},Y=function(G,Z,ne,oe,ge,Ee,we,Ie){var Ge,We,st,ut,qe,De,de,ft,Ke,ze,nt,it,lt,ht,vt=ne-G,Rt=oe-Z,bt=ge-ne,wt=Ee-oe,Nt=we-ge,_t=Ie-Ee;for(We=0;We<41;We++)Ke=(de=(st=G+(Ge=We/40)*vt)+Ge*((qe=ne+Ge*bt)-st))+Ge*(qe+Ge*(ge+Ge*Nt-qe)-de),ze=(ft=(ut=Z+Ge*Rt)+Ge*((De=oe+Ge*wt)-ut))+Ge*(De+Ge*(Ee+Ge*_t-De)-ft),We==0?(nt=Ke,it=ze,lt=Ke,ht=ze):(nt=Math.min(nt,Ke),it=Math.min(it,ze),lt=Math.max(lt,Ke),ht=Math.max(ht,ze));return new s(Math.round(nt),Math.round(it),Math.round(lt-nt),Math.round(ht-it))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var G,Z,ne=(G=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:G,lineDashOffset:Z}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(Wt.API),function(n){var e=function(a){var o,s,u,f,h,p,g,m,x,b;for(s=[],u=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(b=h%85))/85)-(x=h%85))/85)-(m=h%85))/85)-(g=h%85))/85)%85,s.push(p+33,g+33,m+33,x+33,b+33)):s.push(122);return function(I,C){for(var P=C;P>0;P--)I.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},t=function(a){var o,s,u,f,h,p=String,g="length",m=255,x="charCodeAt",b="slice",I="replace";for(a[b](-2),a=a[b](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),u=[],f=0,h=(a+=o="uuuuu"[b](a[g]%5||5))[g];h>f;f+=5)s=52200625*(a[x](f)-33)+614125*(a[x](f+1)-33)+7225*(a[x](f+2)-33)+85*(a[x](f+3)-33)+(a[x](f+4)-33),u.push(m&s>>24,m&s>>16,m&s>>8,m&s);return function(C,P){for(var j=P;j>0;j--)C.pop()}(u,o[g]),p.fromCharCode.apply(p,u)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",u=0;u<a.length;u+=2)s+=String.fromCharCode("0x"+(a[u]+a[u+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=qy(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};n.processDataByFilters=function(a,o){var s=0,u=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(Wt.API),function(n){n.loadFile=function(e,t,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(u,f,h){var p=new XMLHttpRequest,g=0,m=function(x){var b=x.length,I=[],C=String.fromCharCode;for(g=0;g<b;g+=1)I.push(C(255&x.charCodeAt(g)));return I.join("")};if(p.open("GET",u,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?h(m(this.responseText)):h(void 0)}),p.send(null),f&&p.status===200)return m(p.responseText)}(i,a,o)}catch{}return s}(e,t,r)},n.loadImageFile=n.loadFile}(Wt.API),function(n){function e(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):By(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):By(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=or(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var u=document.createElement(o);for(var f in s.className&&(u.className=s.className),s.innerHTML&&s.dompurify&&(u.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)u.style[f]=s.style[f];return u},a=function o(s){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function u(f,h){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),g=f.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(u(g,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,s(this.prop.container,u)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var m=f[g],x=m.src.find(function(b){return b.format==="truetype"});x&&u.addFont(x.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),s(this.prop.container,p)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||Wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,u,f){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,u,f){return this.setProgress(o?this.progress.val+o:null,s||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,s){var u=this;return this.thenCore(o,s,function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,f),p}).then(f,h).then(function(p){return u.updateProgress(1),p})})},a.prototype.thenCore=function(o,s,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=u.call(f,o,s);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(u){s=s.thenCore(u)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Wt.getPageSize=function(o,s,u){if(or(o)==="object"){var f=o;o=f.orientation,s=f.unit||s,u=f.format||u}s=s||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+s}var m,x=0,b=0;if(g.hasOwnProperty(p))x=g[p][1]/h,b=g[p][0]/h;else try{x=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",b>x&&(m=b,b=x,x=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>b&&(m=b,b=x,x=m)}return{width:b,height:x,unit:s,k:h,orientation:o}},n.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(Yy):null;var u=new a(s);return s.worker?u:u.from(o).doCallback()}}(Wt.API),Wt.API.addJS=function(n){return k4=n,this.internal.events.subscribe("postPutResources",function(){qp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),L4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+k4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qp!==void 0&&L4!==void 0&&this.internal.out("/Names <</JavaScript "+qp+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var u=s[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(a=0;a<f;a++){var p=t.internal.newObject();h.push(p);var g=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<h.length;a++)t.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(Wt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,a,o,s){var u,f=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,b={width:0,height:0,numcomponents:1},I=4;I<x;I+=2){if(I+=m,e.indexOf(p.charCodeAt(I+1))!==-1){g=256*p.charCodeAt(I+5)+p.charCodeAt(I+6),b={width:256*p.charCodeAt(I+7)+p.charCodeAt(I+8),height:g,numcomponents:p.charCodeAt(I+9)};break}m=256*p.charCodeAt(I+2)+p.charCodeAt(I+3)}return b}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}h={data:t,width:u.width,height:u.height,colorSpace:s,bitsPerComponent:8,filter:f,index:r,alias:i}}return h}}(Wt.API);var Yh,Hp,M4,j4,B4,Dz=function(){var n,e,t;function r(a){var o,s,u,f,h,p,g,m,x,b,I,C,P,j;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),x=(function(){var z,X;for(X=[],z=0;z<4;++z)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,p.delay=1e3*h/f,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),a=(p!=null?p.data:void 0)||this.imgData,C=0;0<=o?C<o:C>o;0<=o?++C:--C)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((b=u-this.transparency.indexed.length)>0)for(P=0;0<=b?P<b:P>b;0<=b?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(I=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,I.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,I.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),u=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(p,g,m,x){var b,I,C,P,j,z,X,H,D,E,T,M,R,L,B,q,te,V,U,Q,ae,Y=Math.ceil((f.width-p)/m),me=Math.ceil((f.height-g)/x),G=f.width==Y&&f.height==me;for(L=o*Y,M=G?s:new Uint8Array(L*me),z=a.length,R=0,I=0;R<me&&u<z;){switch(a[u++]){case 0:for(P=te=0;te<L;P=te+=1)M[I++]=a[u++];break;case 1:for(P=V=0;V<L;P=V+=1)b=a[u++],j=P<o?0:M[I-o],M[I++]=(b+j)%256;break;case 2:for(P=U=0;U<L;P=U+=1)b=a[u++],C=(P-P%o)/o,B=R&&M[(R-1)*L+C*o+P%o],M[I++]=(B+b)%256;break;case 3:for(P=Q=0;Q<L;P=Q+=1)b=a[u++],C=(P-P%o)/o,j=P<o?0:M[I-o],B=R&&M[(R-1)*L+C*o+P%o],M[I++]=(b+Math.floor((j+B)/2))%256;break;case 4:for(P=ae=0;ae<L;P=ae+=1)b=a[u++],C=(P-P%o)/o,j=P<o?0:M[I-o],R===0?B=q=0:(B=M[(R-1)*L+C*o+P%o],q=C&&M[(R-1)*L+(C-1)*o+P%o]),X=j+B-q,H=Math.abs(X-j),E=Math.abs(X-B),T=Math.abs(X-q),D=H<=E&&H<=T?j:E<=T?B:q,M[I++]=(b+D)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!G){var Z=((g+R*x)*f.width+p)*o,ne=R*L;for(P=0;P<Y;P+=1){for(var oe=0;oe<o;oe+=1)s[Z++]=M[ne++];Z+=(m-1)*o}}R++}}return a=uz(a),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,u,f,h,p,g,m;for(s=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+s.length),u=0,a=0,o=p=0,g=s.length;p<g;o=p+=3)f[u++]=s[o],f[u++]=s[o+1],f[u++]=s[o+2],f[u++]=(m=h[a++])!=null?m:255;return f},r.prototype.copyToImageData=function(a,o){var s,u,f,h,p,g,m,x,b,I,C;if(u=this.colors,b=null,s=this.hasAlphaChannel,this.palette.length&&(b=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),u=4,s=!0),x=(f=a.data||a).length,p=b||o,h=g=0,u===1)for(;h<x;)m=b?4*o[h/4]:g,I=p[m++],f[h++]=I,f[h++]=I,f[h++]=I,f[h++]=s?p[m++]:255,g=m;else for(;h<x;)m=b?4*o[h/4]:g,f[h++]=p[m++],f[h++]=p[m++],f[h++]=p[m++],f[h++]=s?p[m++]:255,g=m},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Gt)==="[object Window]"){try{e=Gt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(a){var o;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,u,f,h,p,g,m;if(this.animation){for(m=[],s=h=0,p=(g=this.animation.frames).length;h<p;s=++h)o=g[s],u=a.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,m.push(o.image=n(u));return m}},r.prototype.renderFrame=function(a,o){var s,u,f;return s=(u=this.animation.frames)[o],f=u[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,u,f,h,p,g=this;return s=0,p=this.animation,f=p.numFrames,u=p.frames,h=p.numPlays,(o=function(){var m,x;if(m=s++%f,x=u[m],g.renderFrame(a,m),f>1&&s/f<h)return g.animation._timeout=setTimeout(o,x.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Oz(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],a=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var s=null,u=null;a&&(s=e,u=o,e+=3*o);var f=!0,h=[],p=0,g=null,m=0,x=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,x=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=n[e++];p=n[e++]|n[e++]<<8,g=n[e++],(1&b)==0&&(g=null),m=b>>2&7,e++;break;case 254:for(;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var I=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,z=n[e++],X=z>>6&1,H=1<<(7&z)+1,D=s,E=u,T=!1;z>>7&&(T=!0,D=e,E=H,e+=3*H);var M=e;for(e++;;){var R;if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}h.push({x:I,y:C,width:P,height:j,has_local_palette:T,palette_offset:D,palette_size:E,data_offset:M,data_length:e-M,transparent_index:g,interlaced:!!X,delay:p,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(L){if(L<0||L>=h.length)throw new Error("Frame index out of range.");return h[L]},this.decodeAndBlitFrameBGRA=function(L,B){var q=this.frameInfo(L),te=q.width*q.height,V=new Uint8Array(te);F4(n,q.data_offset,V,te);var U=q.palette_offset,Q=q.transparent_index;Q===null&&(Q=256);var ae=q.width,Y=t-ae,me=ae,G=4*(q.y*t+q.x),Z=4*((q.y+q.height)*t+q.x),ne=G,oe=4*Y;q.interlaced===!0&&(oe+=4*t*7);for(var ge=8,Ee=0,we=V.length;Ee<we;++Ee){var Ie=V[Ee];if(me===0&&(me=ae,(ne+=oe)>=Z&&(oe=4*Y+4*t*(ge-1),ne=G+(ae+Y)*(ge<<1),ge>>=1)),Ie===Q)ne+=4;else{var Ge=n[U+3*Ie],We=n[U+3*Ie+1],st=n[U+3*Ie+2];B[ne++]=st,B[ne++]=We,B[ne++]=Ge,B[ne++]=255}--me}},this.decodeAndBlitFrameRGBA=function(L,B){var q=this.frameInfo(L),te=q.width*q.height,V=new Uint8Array(te);F4(n,q.data_offset,V,te);var U=q.palette_offset,Q=q.transparent_index;Q===null&&(Q=256);var ae=q.width,Y=t-ae,me=ae,G=4*(q.y*t+q.x),Z=4*((q.y+q.height)*t+q.x),ne=G,oe=4*Y;q.interlaced===!0&&(oe+=4*t*7);for(var ge=8,Ee=0,we=V.length;Ee<we;++Ee){var Ie=V[Ee];if(me===0&&(me=ae,(ne+=oe)>=Z&&(oe=4*Y+4*t*(ge-1),ne=G+(ae+Y)*(ge<<1),ge>>=1)),Ie===Q)ne+=4;else{var Ge=n[U+3*Ie],We=n[U+3*Ie+1],st=n[U+3*Ie+2];B[ne++]=Ge,B[ne++]=We,B[ne++]=st,B[ne++]=255}--me}}}function F4(n,e,t,r){for(var i=n[e++],a=1<<i,o=a+1,s=o+1,u=i+1,f=(1<<u)-1,h=0,p=0,g=0,m=n[e++],x=new Int32Array(4096),b=null;;){for(;h<16&&m!==0;)p|=n[e++]<<h,h+=8,m===1?m=n[e++]:--m;if(h<u)break;var I=p&f;if(p>>=u,h-=u,I!==a){if(I===o)break;for(var C=I<s?I:b,P=0,j=C;j>a;)j=x[j]>>8,++P;var z=j;if(g+P+(C!==I?1:0)>r)return void vr.log("Warning, gif stream longer than expected.");t[g++]=z;var X=g+=P;for(C!==I&&(t[g++]=z),j=C;P--;)j=x[j],t[--X]=255&j,j>>=8;b!==null&&s<4096&&(x[s++]=b<<8|z,s>=f+1&&u<12&&(++u,f=f<<1|1)),b=I}else s=o+1,f=(1<<(u=i+1))-1,b=null}return g!==r&&vr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fv(n){var e,t,r,i,a,o=Math.floor,s=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),x=new Array(64),b=[],I=0,C=7,P=new Array(64),j=new Array(64),z=new Array(64),X=new Array(256),H=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(G,Z){for(var ne=0,oe=0,ge=new Array,Ee=1;Ee<=16;Ee++){for(var we=1;we<=G[Ee];we++)ge[Z[oe]]=[],ge[Z[oe]][0]=ne,ge[Z[oe]][1]=Ee,oe++,ne++;ne*=2}return ge}function U(G){for(var Z=G[0],ne=G[1]-1;ne>=0;)Z&1<<ne&&(I|=1<<C),ne--,--C<0&&(I==255?(Q(255),Q(0)):Q(I),C=7,I=0)}function Q(G){b.push(G)}function ae(G){Q(G>>8&255),Q(255&G)}function Y(G,Z,ne,oe,ge){for(var Ee,we=ge[0],Ie=ge[240],Ge=function(ze,nt){var it,lt,ht,vt,Rt,bt,wt,Nt,_t,Dt,ct=0;for(_t=0;_t<8;++_t){it=ze[ct],lt=ze[ct+1],ht=ze[ct+2],vt=ze[ct+3],Rt=ze[ct+4],bt=ze[ct+5],wt=ze[ct+6];var vn=it+(Nt=ze[ct+7]),zt=it-Nt,Yn=lt+wt,Kt=lt-wt,An=ht+bt,pi=ht-bt,on=vt+Rt,pa=vt-Rt,Cn=vn+on,Mr=vn-on,sr=Yn+An,yn=Yn-An;ze[ct]=Cn+sr,ze[ct+4]=Cn-sr;var It=.707106781*(yn+Mr);ze[ct+2]=Mr+It,ze[ct+6]=Mr-It;var nn=.382683433*((Cn=pa+pi)-(yn=Kt+zt)),Si=.5411961*Cn+nn,Mn=1.306562965*yn+nn,pr=.707106781*(sr=pi+Kt),Ua=zt+pr,yt=zt-pr;ze[ct+5]=yt+Si,ze[ct+3]=yt-Si,ze[ct+1]=Ua+Mn,ze[ct+7]=Ua-Mn,ct+=8}for(ct=0,_t=0;_t<8;++_t){it=ze[ct],lt=ze[ct+8],ht=ze[ct+16],vt=ze[ct+24],Rt=ze[ct+32],bt=ze[ct+40],wt=ze[ct+48];var Wn=it+(Nt=ze[ct+56]),Gn=it-Nt,gr=lt+wt,Er=lt-wt,Nr=ht+bt,Gr=ht-bt,Is=vt+Rt,Ji=vt-Rt,gi=Wn+Is,ti=Wn-Is,$r=gr+Nr,ni=gr-Nr;ze[ct]=gi+$r,ze[ct+32]=gi-$r;var lr=.707106781*(ni+ti);ze[ct+16]=ti+lr,ze[ct+48]=ti-lr;var jn=.382683433*((gi=Ji+Gr)-(ni=Er+Gn)),So=.5411961*gi+jn,Co=1.306562965*ni+jn,Bi=.707106781*($r=Gr+Er),ga=Gn+Bi,Ts=Gn-Bi;ze[ct+40]=Ts+So,ze[ct+24]=Ts-So,ze[ct+8]=ga+Co,ze[ct+56]=ga-Co,ct++}for(_t=0;_t<64;++_t)Dt=ze[_t]*nt[_t],m[_t]=Dt>0?Dt+.5|0:Dt-.5|0;return m}(G,Z),We=0;We<64;++We)x[D[We]]=Ge[We];var st=x[0]-ne;ne=x[0],st==0?U(oe[0]):(U(oe[g[Ee=32767+st]]),U(p[Ee]));for(var ut=63;ut>0&&x[ut]==0;)ut--;if(ut==0)return U(we),ne;for(var qe,De=1;De<=ut;){for(var de=De;x[De]==0&&De<=ut;)++De;var ft=De-de;if(ft>=16){qe=ft>>4;for(var Ke=1;Ke<=qe;++Ke)U(Ie);ft&=15}Ee=32767+x[De],U(ge[(ft<<4)+g[Ee]]),U(p[Ee]),De++}return ut!=63&&U(we),ne}function me(G){G=Math.min(Math.max(G,1),100),a!=G&&(function(Z){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ge=o((ne[oe]*Z+50)/100);ge=Math.min(Math.max(ge,1),255),s[D[oe]]=ge}for(var Ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Ie=o((Ee[we]*Z+50)/100);Ie=Math.min(Math.max(Ie,1),255),u[D[we]]=Ie}for(var Ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,st=0;st<8;st++)for(var ut=0;ut<8;ut++)f[We]=1/(s[D[We]]*Ge[st]*Ge[ut]*8),h[We]=1/(u[D[We]]*Ge[st]*Ge[ut]*8),We++}(G<50?Math.floor(5e3/G):Math.floor(200-2*G)),a=G)}this.encode=function(G,Z){Z&&me(Z),b=new Array,I=0,C=7,ae(65496),ae(65504),ae(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),ae(1),ae(1),Q(0),Q(0),function(){ae(65499),ae(132),Q(0);for(var lt=0;lt<64;lt++)Q(s[lt]);Q(1);for(var ht=0;ht<64;ht++)Q(u[ht])}(),function(lt,ht){ae(65472),ae(17),Q(8),ae(ht),ae(lt),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(G.width,G.height),function(){ae(65476),ae(418),Q(0);for(var lt=0;lt<16;lt++)Q(E[lt+1]);for(var ht=0;ht<=11;ht++)Q(T[ht]);Q(16);for(var vt=0;vt<16;vt++)Q(M[vt+1]);for(var Rt=0;Rt<=161;Rt++)Q(R[Rt]);Q(1);for(var bt=0;bt<16;bt++)Q(L[bt+1]);for(var wt=0;wt<=11;wt++)Q(B[wt]);Q(17);for(var Nt=0;Nt<16;Nt++)Q(q[Nt+1]);for(var _t=0;_t<=161;_t++)Q(te[_t])}(),ae(65498),ae(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var ne=0,oe=0,ge=0;I=0,C=7,this.encode.displayName="_encode_";for(var Ee,we,Ie,Ge,We,st,ut,qe,De,de=G.data,ft=G.width,Ke=G.height,ze=4*ft,nt=0;nt<Ke;){for(Ee=0;Ee<ze;){for(We=ze*nt+Ee,ut=-1,qe=0,De=0;De<64;De++)st=We+(qe=De>>3)*ze+(ut=4*(7&De)),nt+qe>=Ke&&(st-=ze*(nt+1+qe-Ke)),Ee+ut>=ze&&(st-=Ee+ut-ze+4),we=de[st++],Ie=de[st++],Ge=de[st++],P[De]=(H[we]+H[Ie+256>>0]+H[Ge+512>>0]>>16)-128,j[De]=(H[we+768>>0]+H[Ie+1024>>0]+H[Ge+1280>>0]>>16)-128,z[De]=(H[we+1280>>0]+H[Ie+1536>>0]+H[Ge+1792>>0]>>16)-128;ne=Y(P,f,ne,e,r),oe=Y(j,h,oe,t,i),ge=Y(z,h,ge,t,i),Ee+=32}nt+=8}if(C>=0){var it=[];it[1]=C+1,it[0]=(1<<C+1)-1,U(it)}return ae(65497),new Uint8Array(b)},n=n||50,function(){for(var G=String.fromCharCode,Z=0;Z<256;Z++)X[Z]=G(Z)}(),e=V(E,T),t=V(L,B),r=V(M,R),i=V(q,te),function(){for(var G=1,Z=2,ne=1;ne<=15;ne++){for(var oe=G;oe<Z;oe++)g[32767+oe]=ne,p[32767+oe]=[],p[32767+oe][1]=ne,p[32767+oe][0]=oe;for(var ge=-(Z-1);ge<=-G;ge++)g[32767+ge]=ne,p[32767+ge]=[],p[32767+ge][1]=ne,p[32767+ge][0]=Z-1+ge;G<<=1,Z<<=1}}(),function(){for(var G=0;G<256;G++)H[G]=19595*G,H[G+256>>0]=38470*G,H[G+512>>0]=7471*G+32768,H[G+768>>0]=-11059*G,H[G+1024>>0]=-21709*G,H[G+1280>>0]=32768*G+8421375,H[G+1536>>0]=-27439*G,H[G+1792>>0]=-5329*G}(),me(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function tl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function U4(n){function e(E){if(!E)throw Error("assert :P")}function t(E,T,M){for(var R=0;4>R;R++)if(E[T+R]!=M.charCodeAt(R))return!0;return!1}function r(E,T,M,R,L){for(var B=0;B<L;B++)E[T+B]=M[R+B]}function i(E,T,M,R){for(var L=0;L<R;L++)E[T+L]=M}function a(E){return new Int32Array(E)}function o(E,T){for(var M=[],R=0;R<E;R++)M.push(new T);return M}function s(E,T){var M=[];return function R(L,B,q){for(var te=q[B],V=0;V<te&&(L.push(q.length>B+1?[]:new T),!(q.length<B+1));V++)R(L[V],B+1,q)}(M,0,E),M}var u=function(){var E=this;function T(y,S){for(var k=1<<S-1>>>0;y&k;)k>>>=1;return k?(y&k-1)+k:y}function M(y,S,k,W,J){e(!(W%k));do y[S+(W-=k)]=J;while(0<W)}function R(y,S,k,W,J){if(e(2328>=J),512>=J)var re=a(512);else if((re=a(J))==null)return 0;return function(ie,se,ce,he,_e,Le){var Oe,Re,Ze=se,Ue=1<<ce,be=a(16),Se=a(16);for(e(_e!=0),e(he!=null),e(ie!=null),e(0<ce),Re=0;Re<_e;++Re){if(15<he[Re])return 0;++be[he[Re]]}if(be[0]==_e)return 0;for(Se[1]=0,Oe=1;15>Oe;++Oe){if(be[Oe]>1<<Oe)return 0;Se[Oe+1]=Se[Oe]+be[Oe]}for(Re=0;Re<_e;++Re)Oe=he[Re],0<he[Re]&&(Le[Se[Oe]++]=Re);if(Se[15]==1)return(he=new L).g=0,he.value=Le[0],M(ie,Ze,1,Ue,he),Ue;var $e,Je=-1,Ye=Ue-1,xt=0,dt=1,Ot=1,gt=1<<ce;for(Re=0,Oe=1,_e=2;Oe<=ce;++Oe,_e<<=1){if(dt+=Ot<<=1,0>(Ot-=be[Oe]))return 0;for(;0<be[Oe];--be[Oe])(he=new L).g=Oe,he.value=Le[Re++],M(ie,Ze+xt,_e,gt,he),xt=T(xt,Oe)}for(Oe=ce+1,_e=2;15>=Oe;++Oe,_e<<=1){if(dt+=Ot<<=1,0>(Ot-=be[Oe]))return 0;for(;0<be[Oe];--be[Oe]){if(he=new L,(xt&Ye)!=Je){for(Ze+=gt,$e=1<<(Je=Oe)-ce;15>Je&&!(0>=($e-=be[Je]));)++Je,$e<<=1;Ue+=gt=1<<($e=Je-ce),ie[se+(Je=xt&Ye)].g=$e+ce,ie[se+Je].value=Ze-se-Je}he.g=Oe-ce,he.value=Le[Re++],M(ie,Ze+(xt>>ce),_e,gt,he),xt=T(xt,Oe)}}return dt!=2*Se[15]-1?0:Ue}(y,S,k,W,J,re)}function L(){this.value=this.g=0}function B(){this.value=this.g=0}function q(){this.G=o(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ii,B)}function te(y,S,k,W){e(y!=null),e(S!=null),e(2147483648>W),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=S,y.pa=k,y.Jd=S,y.Yc=k+W,y.Zc=4<=W?k+W-4+1:k,Ee(y)}function V(y,S){for(var k=0;0<S--;)k|=Ie(y,128)<<S;return k}function U(y,S){var k=V(y,S);return we(y)?-k:k}function Q(y,S,k,W){var J,re=0;for(e(y!=null),e(S!=null),e(4294967288>W),y.Sb=W,y.Ra=0,y.u=0,y.h=0,4<W&&(W=4),J=0;J<W;++J)re+=S[k+J]<<8*J;y.Ra=re,y.bb=W,y.oa=S,y.pa=k}function ae(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<yu-8>>>0,++y.bb,y.u-=8;ne(y)&&(y.h=1,y.u=0)}function Y(y,S){if(e(0<=S),!y.h&&S<=vu){var k=Z(y)&Al[S];return y.u+=S,ae(y),k}return y.h=1,y.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(y){return y.Ra>>>(y.u&yu-1)>>>0}function ne(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>yu}function oe(y,S){y.u=S,y.h=ne(y)}function ge(y){y.u>=dc&&(e(y.u>=dc),ae(y))}function Ee(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function we(y){return V(y,1)}function Ie(y,S){var k=y.Ca;0>y.b&&Ee(y);var W=y.b,J=k*S>>>8,re=(y.I>>>W>J)+0;for(re?(k-=J,y.I-=J+1<<W>>>0):k=J+1,W=k,J=0;256<=W;)J+=8,W>>=8;return W=7^J+ba[W],y.b-=W,y.Ca=(k<<W)-1,re}function Ge(y,S,k){y[S+0]=k>>24&255,y[S+1]=k>>16&255,y[S+2]=k>>8&255,y[S+3]=k>>0&255}function We(y,S){return y[S+0]<<0|y[S+1]<<8}function st(y,S){return We(y,S)|y[S+2]<<16}function ut(y,S){return We(y,S)|We(y,S+2)<<16}function qe(y,S){var k=1<<S;return e(y!=null),e(0<S),y.X=a(k),y.X==null?0:(y.Mb=32-S,y.Xa=S,1)}function De(y,S){e(y!=null),e(S!=null),e(y.Xa==S.Xa),r(S.X,0,y.X,0,1<<S.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function ft(y,S,k,W){e(k!=null),e(W!=null);var J=k[0],re=W[0];return J==0&&(J=(y*re+S/2)/S),re==0&&(re=(S*J+y/2)/y),0>=J||0>=re?0:(k[0]=J,W[0]=re,1)}function Ke(y,S){return y+(1<<S)-1>>>S}function ze(y,S){return((4278255360&y)+(4278255360&S)>>>0&4278255360)+((16711935&y)+(16711935&S)>>>0&16711935)>>>0}function nt(y,S){E[S]=function(k,W,J,re,ie,se,ce){var he;for(he=0;he<ie;++he){var _e=E[y](se[ce+he-1],J,re+he);se[ce+he]=ze(k[W+he],_e)}}}function it(){this.ud=this.hd=this.jd=0}function lt(y,S){return((4278124286&(y^S))>>>1)+(y&S)>>>0}function ht(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function vt(y,S){return ht(y+(y-S+.5>>1))}function Rt(y,S,k){return Math.abs(S-k)-Math.abs(y-k)}function bt(y,S,k,W,J,re,ie){for(W=re[ie-1],k=0;k<J;++k)re[ie+k]=W=ze(y[S+k],W)}function wt(y,S,k,W,J){var re;for(re=0;re<k;++re){var ie=y[S+re],se=ie>>8&255,ce=16711935&(ce=(ce=16711935&ie)+((se<<16)+se));W[J+re]=(4278255360&ie)+ce>>>0}}function Nt(y,S){S.jd=y>>0&255,S.hd=y>>8&255,S.ud=y>>16&255}function _t(y,S,k,W,J,re){var ie;for(ie=0;ie<W;++ie){var se=S[k+ie],ce=se>>>8,he=se,_e=255&(_e=(_e=se>>>16)+((y.jd<<24>>24)*(ce<<24>>24)>>>5));he=255&(he=(he=he+((y.hd<<24>>24)*(ce<<24>>24)>>>5))+((y.ud<<24>>24)*(_e<<24>>24)>>>5)),J[re+ie]=(4278255360&se)+(_e<<16)+he}}function Dt(y,S,k,W,J){E[S]=function(re,ie,se,ce,he,_e,Le,Oe,Re){for(ce=Le;ce<Oe;++ce)for(Le=0;Le<Re;++Le)he[_e++]=J(se[W(re[ie++])])},E[y]=function(re,ie,se,ce,he,_e,Le){var Oe=8>>re.b,Re=re.Ea,Ze=re.K[0],Ue=re.w;if(8>Oe)for(re=(1<<re.b)-1,Ue=(1<<Oe)-1;ie<se;++ie){var be,Se=0;for(be=0;be<Re;++be)be&re||(Se=W(ce[he++])),_e[Le++]=J(Ze[Se&Ue]),Se>>=Oe}else E["VP8LMapColor"+k](ce,he,Ze,Ue,_e,Le,ie,se,Re)}}function ct(y,S,k,W,J){for(k=S+k;S<k;){var re=y[S++];W[J++]=re>>16&255,W[J++]=re>>8&255,W[J++]=re>>0&255}}function vn(y,S,k,W,J){for(k=S+k;S<k;){var re=y[S++];W[J++]=re>>16&255,W[J++]=re>>8&255,W[J++]=re>>0&255,W[J++]=re>>24&255}}function zt(y,S,k,W,J){for(k=S+k;S<k;){var re=(ie=y[S++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;W[J++]=re,W[J++]=ie}}function Yn(y,S,k,W,J){for(k=S+k;S<k;){var re=(ie=y[S++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;W[J++]=re,W[J++]=ie}}function Kt(y,S,k,W,J){for(k=S+k;S<k;){var re=y[S++];W[J++]=re>>0&255,W[J++]=re>>8&255,W[J++]=re>>16&255}}function An(y,S,k,W,J,re){if(re==0)for(k=S+k;S<k;)Ge(W,((re=y[S++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),J+=32;else r(W,J,y,S,k)}function pi(y,S){E[S][0]=E[y+"0"],E[S][1]=E[y+"1"],E[S][2]=E[y+"2"],E[S][3]=E[y+"3"],E[S][4]=E[y+"4"],E[S][5]=E[y+"5"],E[S][6]=E[y+"6"],E[S][7]=E[y+"7"],E[S][8]=E[y+"8"],E[S][9]=E[y+"9"],E[S][10]=E[y+"10"],E[S][11]=E[y+"11"],E[S][12]=E[y+"12"],E[S][13]=E[y+"13"],E[S][14]=E[y+"0"],E[S][15]=E[y+"0"]}function on(y){return y==Af||y==Pl||y==Vs||y==vc}function pa(){this.eb=[],this.size=this.A=this.fb=0}function Cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pa,this.f.kb=new Cn,this.sd=null}function sr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function nn(y,S){var k=y.T,W=S.ba.f.RGBA,J=W.eb,re=W.fb+y.ka*W.A,ie=xi[S.ba.S],se=y.y,ce=y.O,he=y.f,_e=y.N,Le=y.ea,Oe=y.W,Re=S.cc,Ze=S.dc,Ue=S.Mc,be=S.Nc,Se=y.ka,$e=y.ka+y.T,Je=y.U,Ye=Je+1>>1;for(Se==0?ie(se,ce,null,null,he,_e,Le,Oe,he,_e,Le,Oe,J,re,null,null,Je):(ie(S.ec,S.fc,se,ce,Re,Ze,Ue,be,he,_e,Le,Oe,J,re-W.A,J,re,Je),++k);Se+2<$e;Se+=2)Re=he,Ze=_e,Ue=Le,be=Oe,_e+=y.Rc,Oe+=y.Rc,re+=2*W.A,ie(se,(ce+=2*y.fa)-y.fa,se,ce,Re,Ze,Ue,be,he,_e,Le,Oe,J,re-W.A,J,re,Je);return ce+=y.fa,y.j+$e<y.o?(r(S.ec,S.fc,se,ce,Je),r(S.cc,S.dc,he,_e,Ye),r(S.Mc,S.Nc,Le,Oe,Ye),k--):1&$e||ie(se,ce,null,null,he,_e,Le,Oe,he,_e,Le,Oe,J,re+W.A,null,null,Je),k}function Si(y,S,k){var W=y.F,J=[y.J];if(W!=null){var re=y.U,ie=S.ba.S,se=ie==Au||ie==Vs;S=S.ba.f.RGBA;var ce=[0],he=y.ka;ce[0]=y.T,y.Kb&&(he==0?--ce[0]:(--he,J[0]-=y.width),y.j+y.ka+y.T==y.o&&(ce[0]=y.o-y.j-he));var _e=S.eb;he=S.fb+he*S.A,y=un(W,J[0],y.width,re,ce,_e,he+(se?0:3),S.A),e(k==ce),y&&on(ie)&&Ha(_e,he,se,re,ce,S.A)}return 0}function Mn(y){var S=y.ma,k=S.ba.S,W=11>k,J=k==mc||k==wf||k==Au||k==Us||k==12||on(k);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!wl(S.Oa,y,J?11:12))return 0;if(J&&on(k)&&at(),y.da)alert("todo:use_scaling");else{if(W){if(S.Ib=It,y.Kb){if(k=y.U+1>>1,S.memory=a(y.U+2*k),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+y.U,S.Mc=S.cc,S.Nc=S.dc+k,S.Ib=nn,at()}}else alert("todo:EmitYUV");J&&(S.Jb=Si,W&&Te())}if(W&&!L0){for(y=0;256>y;++y)Wm[y]=89858*(y-128)+oi>>gs,Cf[y]=-22014*(y-128)+oi,jd[y]=-45773*(y-128),si[y]=113618*(y-128)+oi>>gs;for(y=Ml;y<Ah;++y)S=76283*(y-16)+oi>>gs,If[y-Ml]=Fn(S,255),Bd[y-Ml]=Fn(S+8>>4,15);L0=1}return 1}function pr(y){var S=y.ma,k=y.U,W=y.T;return e(!(1&y.ka)),0>=k||0>=W?0:(k=S.Ib(y,S),S.Jb!=null&&S.Jb(y,S,k),S.Dc+=k,1)}function Ua(y){y.ma.memory=null}function yt(y,S,k,W){return Y(y,8)!=47?0:(S[0]=Y(y,14)+1,k[0]=Y(y,14)+1,W[0]=Y(y,1),Y(y,3)!=0?0:!y.h)}function Wn(y,S){if(4>y)return y+1;var k=y-2>>1;return(2+(1&y)<<k)+Y(S,k)+1}function Gn(y,S){return 120<S?S-120:1<=(k=((k=qs[S-1])>>4)*y+(8-(15&k)))?k:1;var k}function gr(y,S,k){var W=Z(k),J=y[S+=255&W].g-8;return 0<J&&(oe(k,k.u+8),W=Z(k),S+=y[S].value,S+=W&(1<<J)-1),oe(k,k.u+y[S].g),y[S].value}function Er(y,S,k){return k.g+=y.g,k.value+=y.value<<S>>>0,e(8>=k.g),y.g}function Nr(y,S,k){var W=y.xc;return e((S=W==0?0:y.vc[y.md*(k>>W)+(S>>W)])<y.Wb),y.Ya[S]}function Gr(y,S,k,W){var J=y.ab,re=y.c*S,ie=y.C;S=ie+S;var se=k,ce=W;for(W=y.Ta,k=y.Ua;0<J--;){var he=y.gc[J],_e=ie,Le=S,Oe=se,Re=ce,Ze=(ce=W,se=k,he.Ea);switch(e(_e<Le),e(Le<=he.nc),he.hc){case 2:mh(Oe,Re,(Le-_e)*Ze,ce,se);break;case 0:var Ue=_e,be=Le,Se=ce,$e=se,Je=(gt=he).Ea;Ue==0&&(kd(Oe,Re,null,null,1,Se,$e),bt(Oe,Re+1,0,0,Je-1,Se,$e+1),Re+=Je,$e+=Je,++Ue);for(var Ye=1<<gt.b,xt=Ye-1,dt=Ke(Je,gt.b),Ot=gt.K,gt=gt.w+(Ue>>gt.b)*dt;Ue<be;){var In=Ot,Un=gt,sn=1;for(_f(Oe,Re,Se,$e-Je,1,Se,$e);sn<Je;){var rn=(sn&~xt)+Ye;rn>Je&&(rn=Je),(0,js[In[Un++]>>8&15])(Oe,Re+ +sn,Se,$e+sn-Je,rn-sn,Se,$e+sn),sn=rn}Re+=Je,$e+=Je,++Ue&xt||(gt+=dt)}Le!=he.nc&&r(ce,se-Ze,ce,se+(Le-_e-1)*Ze,Ze);break;case 1:for(Ze=Oe,be=Re,Je=(Oe=he.Ea)-($e=Oe&~(Se=(Re=1<<he.b)-1)),Ue=Ke(Oe,he.b),Ye=he.K,he=he.w+(_e>>he.b)*Ue;_e<Le;){for(xt=Ye,dt=he,Ot=new it,gt=be+$e,In=be+Oe;be<gt;)Nt(xt[dt++],Ot),Sl(Ot,Ze,be,Re,ce,se),be+=Re,se+=Re;be<In&&(Nt(xt[dt++],Ot),Sl(Ot,Ze,be,Je,ce,se),be+=Je,se+=Je),++_e&Se||(he+=Ue)}break;case 3:if(Oe==ce&&Re==se&&0<he.b){for(be=ce,Oe=Ze=se+(Le-_e)*Ze-($e=(Le-_e)*Ke(he.Ea,he.b)),Re=ce,Se=se,Ue=[],$e=(Je=$e)-1;0<=$e;--$e)Ue[$e]=Re[Se+$e];for($e=Je-1;0<=$e;--$e)be[Oe+$e]=Ue[$e];so(he,_e,Le,ce,Ze,ce,se)}else so(he,_e,Le,Oe,Re,ce,se)}se=W,ce=k}ce!=k&&r(W,k,se,ce,re)}function Is(y,S){var k=y.V,W=y.Ba+y.c*y.C,J=S-y.C;if(e(S<=y.l.o),e(16>=J),0<J){var re=y.l,ie=y.Ta,se=y.Ua,ce=re.width;if(Gr(y,J,k,W),J=se=[se],e((k=y.C)<(W=S)),e(re.v<re.va),W>re.o&&(W=re.o),k<re.j){var he=re.j-k;k=re.j,J[0]+=he*ce}if(k>=W?k=0:(J[0]+=4*re.v,re.ka=k-re.j,re.U=re.va-re.v,re.T=W-k,k=1),k){if(se=se[0],11>(k=y.ca).S){var _e=k.f.RGBA,Le=(W=k.S,J=re.U,re=re.T,he=_e.eb,_e.A),Oe=re;for(_e=_e.fb+y.Ma*_e.A;0<Oe--;){var Re=ie,Ze=se,Ue=J,be=he,Se=_e;switch(W){case qi:ta(Re,Ze,Ue,be,Se);break;case mc:Ri(Re,Ze,Ue,be,Se);break;case Af:Ri(Re,Ze,Ue,be,Se),Ha(be,Se,0,Ue,1,0);break;case fs:Mo(Re,Ze,Ue,be,Se);break;case wf:An(Re,Ze,Ue,be,Se,1);break;case Pl:An(Re,Ze,Ue,be,Se,1),Ha(be,Se,0,Ue,1,0);break;case Au:An(Re,Ze,Ue,be,Se,0);break;case Vs:An(Re,Ze,Ue,be,Se,0),Ha(be,Se,1,Ue,1,0);break;case Us:Cl(Re,Ze,Ue,be,Se);break;case vc:Cl(Re,Ze,Ue,be,Se),ln(be,Se,Ue,1,0);break;case yh:wa(Re,Ze,Ue,be,Se);break;default:e(0)}se+=ce,_e+=Le}y.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=k.height)}}y.C=S,e(y.C<=y.i)}function Ji(y){var S;if(0<y.ua)return 0;for(S=0;S<y.Wb;++S){var k=y.Ya[S].G,W=y.Ya[S].H;if(0<k[1][W[1]+0].g||0<k[2][W[2]+0].g||0<k[3][W[3]+0].g)return 0}return 1}function gi(y,S,k,W,J,re){if(y.Z!=0){var ie=y.qd,se=y.rd;for(e(ds[y.Z]!=null);S<k;++S)ds[y.Z](ie,se,W,J,W,J,re),ie=W,se=J,J+=re;y.qd=ie,y.rd=se}}function ti(y,S){var k=y.l.ma,W=k.Z==0||k.Z==1?y.l.j:y.C;if(W=y.C<W?W:y.C,e(S<=y.l.o),S>W){var J=y.l.width,re=k.ca,ie=k.tb+J*W,se=y.V,ce=y.Ba+y.c*W,he=y.gc;e(y.ab==1),e(he[0].hc==3),El(he[0],W,S,se,ce,re,ie),gi(k,W,S,re,ie,J)}y.C=y.Ma=S}function $r(y,S,k,W,J,re,ie){var se=y.$/W,ce=y.$%W,he=y.m,_e=y.s,Le=k+y.$,Oe=Le;J=k+W*J;var Re=k+W*re,Ze=280+_e.ua,Ue=y.Pb?se:16777216,be=0<_e.ua?_e.Wa:null,Se=_e.wc,$e=Le<Re?Nr(_e,ce,se):null;e(y.C<re),e(Re<=J);var Je=!1;e:for(;;){for(;Je||Le<Re;){var Ye=0;if(se>=Ue){var xt=Le-k;e((Ue=y).Pb),Ue.wd=Ue.m,Ue.xd=xt,0<Ue.s.ua&&De(Ue.s.Wa,Ue.s.vb),Ue=se+D0}if(ce&Se||($e=Nr(_e,ce,se)),e($e!=null),$e.Qb&&(S[Le]=$e.qb,Je=!0),!Je)if(ge(he),$e.jc){Ye=he,xt=S;var dt=Le,Ot=$e.pd[Z(Ye)&ii-1];e($e.jc),256>Ot.g?(oe(Ye,Ye.u+Ot.g),xt[dt]=Ot.value,Ye=0):(oe(Ye,Ye.u+Ot.g-256),e(256<=Ot.value),Ye=Ot.value),Ye==0&&(Je=!0)}else Ye=gr($e.G[0],$e.H[0],he);if(he.h)break;if(Je||256>Ye){if(!Je)if($e.nd)S[Le]=($e.qb|Ye<<8)>>>0;else{if(ge(he),Je=gr($e.G[1],$e.H[1],he),ge(he),xt=gr($e.G[2],$e.H[2],he),dt=gr($e.G[3],$e.H[3],he),he.h)break;S[Le]=(dt<<24|Je<<16|Ye<<8|xt)>>>0}if(Je=!1,++Le,++ce>=W&&(ce=0,++se,ie!=null&&se<=re&&!(se%16)&&ie(y,se),be!=null))for(;Oe<Le;)Ye=S[Oe++],be.X[(506832829*Ye&4294967295)>>>be.Mb]=Ye}else if(280>Ye){if(Ye=Wn(Ye-256,he),xt=gr($e.G[4],$e.H[4],he),ge(he),xt=Gn(W,xt=Wn(xt,he)),he.h)break;if(Le-k<xt||J-Le<Ye)break e;for(dt=0;dt<Ye;++dt)S[Le+dt]=S[Le+dt-xt];for(Le+=Ye,ce+=Ye;ce>=W;)ce-=W,++se,ie!=null&&se<=re&&!(se%16)&&ie(y,se);if(e(Le<=J),ce&Se&&($e=Nr(_e,ce,se)),be!=null)for(;Oe<Le;)Ye=S[Oe++],be.X[(506832829*Ye&4294967295)>>>be.Mb]=Ye}else{if(!(Ye<Ze))break e;for(Je=Ye-280,e(be!=null);Oe<Le;)Ye=S[Oe++],be.X[(506832829*Ye&4294967295)>>>be.Mb]=Ye;Ye=Le,e(!(Je>>>(xt=be).Xa)),S[Ye]=xt.X[Je],Je=!0}Je||e(he.h==ne(he))}if(y.Pb&&he.h&&Le<J)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&De(y.s.vb,y.s.Wa);else{if(he.h)break e;ie!=null&&ie(y,se>re?re:se),y.a=0,y.$=Le-k}return 1}return y.a=3,0}function ni(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var S=y.Wa;S!=null&&(S.X=null),y.vb=null,e(y!=null)}function lr(){var y=new fc;return y==null?null:(y.a=0,y.xb=yc,pi("Predictor","VP8LPredictors"),pi("Predictor","VP8LPredictors_C"),pi("PredictorAdd","VP8LPredictorsAdd"),pi("PredictorAdd","VP8LPredictorsAdd_C"),mh=wt,Sl=_t,ta=ct,Ri=vn,Cl=zt,wa=Yn,Mo=Kt,E.VP8LMapColor32b=vi,E.VP8LMapColor8b=bf,y)}function jn(y,S,k,W,J){var re=1,ie=[y],se=[S],ce=W.m,he=W.s,_e=null,Le=0;e:for(;;){if(k)for(;re&&Y(ce,1);){var Oe=ie,Re=se,Ze=W,Ue=1,be=Ze.m,Se=Ze.gc[Ze.ab],$e=Y(be,2);if(Ze.Oc&1<<$e)re=0;else{switch(Ze.Oc|=1<<$e,Se.hc=$e,Se.Ea=Oe[0],Se.nc=Re[0],Se.K=[null],++Ze.ab,e(4>=Ze.ab),$e){case 0:case 1:Se.b=Y(be,3)+2,Ue=jn(Ke(Se.Ea,Se.b),Ke(Se.nc,Se.b),0,Ze,Se.K),Se.K=Se.K[0];break;case 3:var Je,Ye=Y(be,8)+1,xt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(Oe[0]=Ke(Se.Ea,xt),Se.b=xt,Je=Ue=jn(Ye,1,0,Ze,Se.K)){var dt,Ot=Ye,gt=Se,In=1<<(8>>gt.b),Un=a(In);if(Un==null)Je=0;else{var sn=gt.K[0],rn=gt.w;for(Un[0]=gt.K[0][0],dt=1;dt<1*Ot;++dt)Un[dt]=ze(sn[rn+dt],Un[dt-1]);for(;dt<4*In;++dt)Un[dt]=0;gt.K[0]=null,gt.K[0]=Un,Je=1}}Ue=Je;break;case 2:break;default:e(0)}re=Ue}}if(ie=ie[0],se=se[0],re&&Y(ce,1)&&!(re=1<=(Le=Y(ce,4))&&11>=Le)){W.a=3;break e}var Qn;if(Qn=re)t:{var Vn,Zt,tr,Lt=W,Ht=ie,Sn=se,Tn=Le,_i=k,li=Lt.m,Fr=Lt.s,Ur=[null],Qr=1,fo=0,zn=Su[Tn];n:for(;;){if(_i&&Y(li,1)){var Zr=Y(li,3)+2,Fo=Ke(Ht,Zr),jl=Ke(Sn,Zr),Tu=Fo*jl;if(!jn(Fo,jl,0,Lt,Ur))break n;for(Ur=Ur[0],Fr.xc=Zr,Vn=0;Vn<Tu;++Vn){var Bl=Ur[Vn]>>8&65535;Ur[Vn]=Bl,Bl>=Qr&&(Qr=Bl+1)}}if(li.h)break n;for(Zt=0;5>Zt;++Zt){var xr=Wa[Zt];!Zt&&0<Tn&&(xr+=1<<Tn),fo<xr&&(fo=xr)}var Tf=o(Qr*zn,L),Eh=Qr,ra=o(Eh,q);if(ra==null)var Sr=null;else e(65536>=Eh),Sr=ra;var Ru=a(fo);if(Sr==null||Ru==null||Tf==null){Lt.a=1;break n}var Fl=Tf;for(Vn=tr=0;Vn<Qr;++Vn){var Ea=Sr[Vn],Ul=Ea.G,Sa=Ea.H,Rf=0,_c=1,Sh=0;for(Zt=0;5>Zt;++Zt){xr=Wa[Zt],Ul[Zt]=Fl,Sa[Zt]=tr,!Zt&&0<Tn&&(xr+=1<<Tn);i:{var Nf,Ch=xr,Df=Lt,bc=Ru,j0=Fl,B0=tr,Of=0,$s=Df.m,$m=Y($s,1);if(i(bc,0,0,Ch),$m){var F0=Y($s,1)+1,U0=Y($s,1),Fd=Y($s,U0==0?1:8);bc[Fd]=1,F0==2&&(bc[Fd=Y($s,8)]=1);var wc=1}else{var Ud=a(19),Vd=Y($s,4)+4;if(19<Vd){Df.a=3;var Pf=0;break i}for(Nf=0;Nf<Vd;++Nf)Ud[zs[Nf]]=Y($s,3);var Ih=void 0,Ac=void 0,V0=Df,z0=Ud,Xs=Ch,Lf=bc,Th=0,Uo=V0.m,Ec=8,zd=o(128,L);r:for(;R(zd,0,7,z0,19);){if(Y(Uo,1)){var q0=2+2*Y(Uo,3);if((Ih=2+Y(Uo,q0))>Xs)break r}else Ih=Xs;for(Ac=0;Ac<Xs&&Ih--;){ge(Uo);var qd=zd[0+(127&Z(Uo))];oe(Uo,Uo.u+qd.g);var Nu=qd.value;if(16>Nu)Lf[Ac++]=Nu,Nu!=0&&(Ec=Nu);else{var H0=Nu==16,Hd=Nu-16,Wd=co[Hd],Gd=Y(Uo,xh[Hd])+Wd;if(Ac+Gd>Xs)break r;for(var W0=H0?Ec:0;0<Gd--;)Lf[Ac++]=W0}}Th=1;break r}Th||(V0.a=3),wc=Th}(wc=wc&&!$s.h)&&(Of=R(j0,B0,8,bc,Ch)),wc&&Of!=0?Pf=Of:(Df.a=3,Pf=0)}if(Pf==0)break n;if(_c&&Eu[Zt]==1&&(_c=Fl[tr].g==0),Rf+=Fl[tr].g,tr+=Pf,3>=Zt){var Du,Rh=Ru[0];for(Du=1;Du<xr;++Du)Ru[Du]>Rh&&(Rh=Ru[Du]);Sh+=Rh}}if(Ea.nd=_c,Ea.Qb=0,_c&&(Ea.qb=(Ul[3][Sa[3]+0].value<<24|Ul[1][Sa[1]+0].value<<16|Ul[2][Sa[2]+0].value)>>>0,Rf==0&&256>Ul[0][Sa[0]+0].value&&(Ea.Qb=1,Ea.qb+=Ul[0][Sa[0]+0].value<<8)),Ea.jc=!Ea.Qb&&6>Sh,Ea.jc){var kf,Ys=Ea;for(kf=0;kf<ii;++kf){var ms=kf,Ks=Ys.pd[ms],Mf=Ys.G[0][Ys.H[0]+ms];256<=Mf.value?(Ks.g=Mf.g+256,Ks.value=Mf.value):(Ks.g=0,Ks.value=0,ms>>=Er(Mf,8,Ks),ms>>=Er(Ys.G[1][Ys.H[1]+ms],16,Ks),ms>>=Er(Ys.G[2][Ys.H[2]+ms],0,Ks),Er(Ys.G[3][Ys.H[3]+ms],24,Ks))}}}Fr.vc=Ur,Fr.Wb=Qr,Fr.Ya=Sr,Fr.yc=Tf,Qn=1;break t}Qn=0}if(!(re=Qn)){W.a=3;break e}if(0<Le){if(he.ua=1<<Le,!qe(he.Wa,Le)){W.a=1,re=0;break e}}else he.ua=0;var jf=W,$d=ie,G0=se,Xd=jf.s,Yd=Xd.xc;if(jf.c=$d,jf.i=G0,Xd.md=Ke($d,Yd),Xd.wc=Yd==0?-1:(1<<Yd)-1,k){W.xb=P0;break e}if((_e=a(ie*se))==null){W.a=1,re=0;break e}re=(re=$r(W,_e,0,ie,se,se,null))&&!ce.h;break e}return re?(J!=null?J[0]=_e:(e(_e==null),e(k)),W.$=0,k||ni(he)):ni(he),re}function So(y,S){var k=y.c*y.i,W=k+S+16*S;return e(y.c<=S),y.V=a(W),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+k+S,1)}function Co(y,S){var k=y.C,W=S-k,J=y.V,re=y.Ba+y.c*k;for(e(S<=y.l.o);0<W;){var ie=16<W?16:W,se=y.l.ma,ce=y.l.width,he=ce*ie,_e=se.ca,Le=se.tb+ce*k,Oe=y.Ta,Re=y.Ua;Gr(y,ie,J,re),cr(Oe,Re,_e,Le,he),gi(se,k,k+ie,_e,Le,ce),W-=ie,J+=ie*y.c,k+=ie}e(k==S),y.C=y.Ma=S}function Bi(){this.ub=this.yd=this.td=this.Rb=0}function ga(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ts(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function lu(){this.Yb=function(){var y=[];return function S(k,W,J){for(var re=J[W],ie=0;ie<re&&(k.push(J.length>W+1?[]:0),!(J.length<W+1));ie++)S(k[ie],W+1,J)}(y,0,[3,11]),y}()}function Rs(){this.jb=a(3),this.Wc=s([4,8],lu),this.Xc=s([4,17],lu)}function ac(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Va(){this.ld=this.La=this.dd=this.tc=0}function za(){this.Na=this.la=0}function ri(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Io(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function oc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Va),this.Y=0,this.ya=Array(new Io),this.aa=0,this.l=new To}function Za(){this.y=a(16),this.f=a(8),this.ea=a(8)}function pl(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Bi,this.Kc=new ga,this.ed=new ac,this.Qa=new Ts,this.Ic=this.$c=this.Aa=0,this.D=new oc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,ri),this.Pa=new Rs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Za),this.Hd=0,this.rb=Array(new za),this.sb=0,this.wa=Array(new Va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Io),this.L=this.aa=0,this.gd=s([4,2],Va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function To(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function uu(){var y=new pl;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,ai||(ai=sc)),y}function ur(y,S,k){return y.a==0&&(y.a=S,y.sc=k,y.cb=0),0}function mi(y,S,k){return 3<=k&&y[S+0]==157&&y[S+1]==1&&y[S+2]==42}function gl(y,S){if(y==null)return 0;if(y.a=0,y.sc="OK",S==null)return ur(y,2,"null VP8Io passed to VP8GetHeaders()");var k=S.data,W=S.w,J=S.ha;if(4>J)return ur(y,7,"Truncated header.");var re=k[W+0]|k[W+1]<<8|k[W+2]<<16,ie=y.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return ur(y,3,"Incorrect keyframe parameters.");if(!ie.yd)return ur(y,4,"Frame not displayable.");W+=3,J-=3;var se=y.Kc;if(ie.Rb){if(7>J)return ur(y,7,"cannot parse picture header");if(!mi(k,W,J))return ur(y,3,"Bad code word");se.c=16383&(k[W+4]<<8|k[W+3]),se.Td=k[W+4]>>6,se.i=16383&(k[W+6]<<8|k[W+5]),se.Ud=k[W+6]>>6,W+=7,J-=7,y.za=se.c+15>>4,y.Ub=se.i+15>>4,S.width=se.c,S.height=se.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((re=y.Pa).jb,0,255,re.jb.length),e((re=y.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(ie.ub>J)return ur(y,7,"bad partition length");te(re=y.m,k,W,ie.ub),W+=ie.ub,J-=ie.ub,ie.Rb&&(se.Ld=we(re),se.Kd=we(re)),se=y.Qa;var ce,he=y.Pa;if(e(re!=null),e(se!=null),se.Cb=we(re),se.Cb){if(se.Bb=we(re),we(re)){for(se.Fb=we(re),ce=0;4>ce;++ce)se.Zb[ce]=we(re)?U(re,7):0;for(ce=0;4>ce;++ce)se.Lb[ce]=we(re)?U(re,6):0}if(se.Bb)for(ce=0;3>ce;++ce)he.jb[ce]=we(re)?V(re,8):255}else se.Bb=0;if(re.Ka)return ur(y,3,"cannot parse segment header");if((se=y.ed).zd=we(re),se.Tb=V(re,6),se.wb=V(re,3),se.Pc=we(re),se.Pc&&we(re)){for(he=0;4>he;++he)we(re)&&(se.vd[he]=U(re,6));for(he=0;4>he;++he)we(re)&&(se.od[he]=U(re,6))}if(y.L=se.Tb==0?0:se.zd?1:2,re.Ka)return ur(y,3,"cannot parse filter header");var _e=J;if(J=ce=W,W=ce+_e,se=_e,y.Xb=(1<<V(y.m,2))-1,_e<3*(he=y.Xb))k=7;else{for(ce+=3*he,se-=3*he,_e=0;_e<he;++_e){var Le=k[J+0]|k[J+1]<<8|k[J+2]<<16;Le>se&&(Le=se),te(y.Jc[+_e],k,ce,Le),ce+=Le,se-=Le,J+=3}te(y.Jc[+he],k,ce,se),k=ce<W?0:5}if(k!=0)return ur(y,k,"cannot parse partitions");for(k=V(ce=y.m,7),J=we(ce)?U(ce,4):0,W=we(ce)?U(ce,4):0,se=we(ce)?U(ce,4):0,he=we(ce)?U(ce,4):0,ce=we(ce)?U(ce,4):0,_e=y.Qa,Le=0;4>Le;++Le){if(_e.Cb){var Oe=_e.Zb[Le];_e.Fb||(Oe+=k)}else{if(0<Le){y.pb[Le]=y.pb[0];continue}Oe=k}var Re=y.pb[Le];Re.Sc[0]=Ef[Fn(Oe+J,127)],Re.Sc[1]=Sf[Fn(Oe+0,127)],Re.Eb[0]=2*Ef[Fn(Oe+W,127)],Re.Eb[1]=101581*Sf[Fn(Oe+se,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=Ef[Fn(Oe+he,117)],Re.Qc[1]=Sf[Fn(Oe+ce,127)],Re.lc=Oe+ce}if(!ie.Rb)return ur(y,4,"Not a key frame.");for(we(re),ie=y.Pa,k=0;4>k;++k){for(J=0;8>J;++J)for(W=0;3>W;++W)for(se=0;11>se;++se)he=Ie(re,Cu[k][J][W][se])?V(re,8):hs[k][J][W][se],ie.Wc[k][J].Yb[W][se]=he;for(J=0;17>J;++J)ie.Xc[k][J]=ie.Wc[k][O0[J]]}return y.kc=we(re),y.kc&&(y.Bd=V(re,8)),y.cb=1}function sc(y,S,k,W,J,re,ie){var se=S[J].Yb[k];for(k=0;16>J;++J){if(!Ie(y,se[k+0]))return J;for(;!Ie(y,se[k+1]);)if(se=S[++J].Yb[0],k=0,J==16)return 16;var ce=S[J+1].Yb;if(Ie(y,se[k+2])){var he=y,_e=0;if(Ie(he,(Oe=se)[(Le=k)+3]))if(Ie(he,Oe[Le+6])){for(se=0,Le=2*(_e=Ie(he,Oe[Le+8]))+(Oe=Ie(he,Oe[Le+9+_e])),_e=0,Oe=Pr[Le];Oe[se];++se)_e+=_e+Ie(he,Oe[se]);_e+=3+(8<<Le)}else Ie(he,Oe[Le+7])?(_e=7+2*Ie(he,165),_e+=Ie(he,145)):_e=5+Ie(he,159);else _e=Ie(he,Oe[Le+4])?3+Ie(he,Oe[Le+5]):2;se=ce[2]}else _e=1,se=ce[1];ce=ie+Pn[J],0>(he=y).b&&Ee(he);var Le,Oe=he.b,Re=(Le=he.Ca>>1)-(he.I>>Oe)>>31;--he.b,he.Ca+=Re,he.Ca|=1,he.I-=(Le+1&Re)<<Oe,re[ce]=((_e^Re)-Re)*W[(0<J)+0]}return 16}function Qo(y){var S=y.rb[y.sb-1];S.la=0,S.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function cu(y,S){if(y==null)return 0;if(S==null)return ur(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!gl(y,S))return 0;if(e(y.cb),S.ac==null||S.ac(S)){S.ob&&(y.L=0);var k=Gs[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=S.v-k>>4,y.zb=S.j-k>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=S.o+15+k>>4,y.Hb=S.va+15+k>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var W=y.ed;for(k=0;4>k;++k){var J;if(y.Qa.Cb){var re=y.Qa.Lb[k];y.Qa.Fb||(re+=W.Tb)}else re=W.Tb;for(J=0;1>=J;++J){var ie=y.gd[k][J],se=re;if(W.Pc&&(se+=W.vd[0],J&&(se+=W.od[0])),0<(se=0>se?0:63<se?63:se)){var ce=se;0<W.wb&&(ce=4<W.wb?ce>>2:ce>>1)>9-W.wb&&(ce=9-W.wb),1>ce&&(ce=1),ie.dd=ce,ie.tc=2*se+ce,ie.ld=40<=se?2:15<=se?1:0}else ie.tc=0;ie.La=J}}}k=0}else ur(y,6,"Frame setup failed"),k=y.a;if(k=k==0){if(k){y.$c=0,0<y.Aa||(y.Ic=k0);e:{k=y.Ic,W=4*(ce=y.za);var he=32*ce,_e=ce+1,Le=0<y.L?ce*(0<y.Aa?2:1):0,Oe=(y.Aa==2?2:1)*ce;if((ie=W+832+(J=3*(16*k+Gs[y.L])/2*he)+(re=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=ie)k=0;else{if(ie>y.Vb){if(y.Vb=0,y.Ec=a(ie),y.Fc=0,y.Ec==null){k=ur(y,1,"no memory during frame initialization.");break e}y.Vb=ie}ie=y.Ec,se=y.Fc,y.Ac=ie,y.Bc=se,se+=W,y.Gd=o(he,Za),y.Hd=0,y.rb=o(_e+1,za),y.sb=1,y.wa=Le?o(Le,Va):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=ce),e(!0),y.oc=ie,y.pc=se,se+=832,y.ya=o(Oe,Io),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=ce),y.R=16*ce,y.B=8*ce,ce=(he=Gs[y.L])*y.R,he=he/2*y.B,y.sa=ie,y.ta=se+ce,y.qa=y.sa,y.ra=y.ta+16*k*y.R+he,y.Ha=y.qa,y.Ia=y.ra+8*k*y.B+he,y.$c=0,se+=J,y.mb=re?ie:null,y.nb=re?se:null,e(se+re<=y.Fc+y.Vb),Qo(y),i(y.Ac,y.Bc,0,W),k=1}}if(k){if(S.ka=0,S.y=y.sa,S.O=y.ta,S.f=y.qa,S.N=y.ra,S.ea=y.Ha,S.Vd=y.Ia,S.fa=y.R,S.Rc=y.B,S.F=null,S.J=0,!Fs){for(k=-255;255>=k;++k)Br[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)lo[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Dl[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)Ol[255+k]=0>k?0:255<k?255:k;Fs=1}us=ma,jo=Jo,Bo=Ja,Kr=Bn,Aa=es,Dr=Zo,xu=is,cs=Lo,pc=xl,Il=gu,Tl=yl,Rl=Os,_u=Ps,gc=as,Nl=qa,Bs=Vi,bu=Yr,Or=cc,na[0]=Fi,na[1]=lc,na[2]=no,na[3]=uc,na[4]=va,na[5]=ro,na[6]=ea,na[7]=ya,na[8]=Po,na[9]=ts,Hs[0]=eo,Hs[1]=hu,Hs[2]=No,Hs[3]=vl,Hs[4]=er,Hs[5]=Oo,Hs[6]=to,Ga[0]=io,Ga[1]=fu,Ga[2]=du,Ga[3]=xa,Ga[4]=hn,Ga[5]=Xr,Ga[6]=ns,k=1}else k=0}k&&(k=function(Re,Ze){for(Re.M=0;Re.M<Re.Va;++Re.M){var Ue,be=Re.Jc[Re.M&Re.Xb],Se=Re.m,$e=Re;for(Ue=0;Ue<$e.za;++Ue){var Je=Se,Ye=$e,xt=Ye.Ac,dt=Ye.Bc+4*Ue,Ot=Ye.zc,gt=Ye.ya[Ye.aa+Ue];if(Ye.Qa.Bb?gt.$b=Ie(Je,Ye.Pa.jb[0])?2+Ie(Je,Ye.Pa.jb[2]):Ie(Je,Ye.Pa.jb[1]):gt.$b=0,Ye.kc&&(gt.Ad=Ie(Je,Ye.Bd)),gt.Za=!Ie(Je,145)+0,gt.Za){var In=gt.Ob,Un=0;for(Ye=0;4>Ye;++Ye){var sn,rn=Ot[0+Ye];for(sn=0;4>sn;++sn){rn=Md[xt[dt+sn]][rn];for(var Qn=Ll[Ie(Je,rn[0])];0<Qn;)Qn=Ll[2*Qn+Ie(Je,rn[Qn])];rn=-Qn,xt[dt+sn]=rn}r(In,Un,xt,dt,4),Un+=4,Ot[0+Ye]=rn}}else rn=Ie(Je,156)?Ie(Je,128)?1:3:Ie(Je,163)?2:0,gt.Ob[0]=rn,i(xt,dt,rn,4),i(Ot,0,rn,4);gt.Dd=Ie(Je,142)?Ie(Je,114)?Ie(Je,183)?1:3:2:0}if($e.m.Ka)return ur(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if($e=be,Je=(Se=Re).rb[Se.sb-1],xt=Se.rb[Se.sb+Se.ja],Ue=Se.ya[Se.aa+Se.ja],dt=Se.kc?Ue.Ad:0)Je.la=xt.la=0,Ue.Za||(Je.Na=xt.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var Vn,Zt;if(Je=xt,xt=$e,dt=Se.Pa.Xc,Ot=Se.ya[Se.aa+Se.ja],gt=Se.pb[Ot.$b],Ye=Ot.ad,In=0,Un=Se.rb[Se.sb-1],rn=sn=0,i(Ye,In,0,384),Ot.Za)var tr=0,Lt=dt[3];else{Qn=a(16);var Ht=Je.Na+Un.Na;if(Ht=ai(xt,dt[1],Ht,gt.Eb,0,Qn,0),Je.Na=Un.Na=(0<Ht)+0,1<Ht)us(Qn,0,Ye,In);else{var Sn=Qn[0]+3>>3;for(Qn=0;256>Qn;Qn+=16)Ye[In+Qn]=Sn}tr=1,Lt=dt[0]}var Tn=15&Je.la,_i=15&Un.la;for(Qn=0;4>Qn;++Qn){var li=1&_i;for(Sn=Zt=0;4>Sn;++Sn)Tn=Tn>>1|(li=(Ht=ai(xt,Lt,Ht=li+(1&Tn),gt.Sc,tr,Ye,In))>tr)<<7,Zt=Zt<<2|(3<Ht?3:1<Ht?2:Ye[In+0]!=0),In+=16;Tn>>=4,_i=_i>>1|li<<7,sn=(sn<<8|Zt)>>>0}for(Lt=Tn,tr=_i>>4,Vn=0;4>Vn;Vn+=2){for(Zt=0,Tn=Je.la>>4+Vn,_i=Un.la>>4+Vn,Qn=0;2>Qn;++Qn){for(li=1&_i,Sn=0;2>Sn;++Sn)Ht=li+(1&Tn),Tn=Tn>>1|(li=0<(Ht=ai(xt,dt[2],Ht,gt.Qc,0,Ye,In)))<<3,Zt=Zt<<2|(3<Ht?3:1<Ht?2:Ye[In+0]!=0),In+=16;Tn>>=2,_i=_i>>1|li<<5}rn|=Zt<<4*Vn,Lt|=Tn<<4<<Vn,tr|=(240&_i)<<Vn}Je.la=Lt,Un.la=tr,Ot.Hc=sn,Ot.Gc=rn,Ot.ia=43690&rn?0:gt.ia,dt=!(sn|rn)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[Ue.$b][Ue.Za],Se.wa[Se.Y+Se.ja].La|=!dt),$e.Ka)return ur(Re,7,"Premature end-of-file encountered.")}if(Qo(Re),Se=Ze,$e=1,Ue=(be=Re).D,Je=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Ue.M=be.M,Ue.uc=Je,_a(be,Ue),$e=1,Ue=(Zt=be.D).Nb,Je=(rn=Gs[be.L])*be.R,xt=rn/2*be.B,Qn=16*Ue*be.R,Sn=8*Ue*be.B,dt=be.sa,Ot=be.ta-Je+Qn,gt=be.qa,Ye=be.ra-xt+Sn,In=be.Ha,Un=be.Ia-xt+Sn,_i=(Tn=Zt.M)==0,sn=Tn>=be.Va-1,be.Aa==2&&_a(be,Zt),Zt.uc)for(li=(Ht=be).D.M,e(Ht.D.uc),Zt=Ht.yb;Zt<Ht.Hb;++Zt){tr=Zt,Lt=li;var Fr=(Ur=(xr=Ht).D).Nb;Vn=xr.R;var Ur=Ur.wa[Ur.Y+tr],Qr=xr.sa,fo=xr.ta+16*Fr*Vn+16*tr,zn=Ur.dd,Zr=Ur.tc;if(Zr!=0)if(e(3<=Zr),xr.L==1)0<tr&&Bs(Qr,fo,Vn,Zr+4),Ur.La&&Or(Qr,fo,Vn,Zr),0<Lt&&Nl(Qr,fo,Vn,Zr+4),Ur.La&&bu(Qr,fo,Vn,Zr);else{var Fo=xr.B,jl=xr.qa,Tu=xr.ra+8*Fr*Fo+8*tr,Bl=xr.Ha,xr=xr.Ia+8*Fr*Fo+8*tr;Fr=Ur.ld,0<tr&&(cs(Qr,fo,Vn,Zr+4,zn,Fr),Il(jl,Tu,Bl,xr,Fo,Zr+4,zn,Fr)),Ur.La&&(Rl(Qr,fo,Vn,Zr,zn,Fr),gc(jl,Tu,Bl,xr,Fo,Zr,zn,Fr)),0<Lt&&(xu(Qr,fo,Vn,Zr+4,zn,Fr),pc(jl,Tu,Bl,xr,Fo,Zr+4,zn,Fr)),Ur.La&&(Tl(Qr,fo,Vn,Zr,zn,Fr),_u(jl,Tu,Bl,xr,Fo,Zr,zn,Fr))}}if(be.ia&&alert("todo:DitherRow"),Se.put!=null){if(Zt=16*Tn,Tn=16*(Tn+1),_i?(Se.y=be.sa,Se.O=be.ta+Qn,Se.f=be.qa,Se.N=be.ra+Sn,Se.ea=be.Ha,Se.W=be.Ia+Sn):(Zt-=rn,Se.y=dt,Se.O=Ot,Se.f=gt,Se.N=Ye,Se.ea=In,Se.W=Un),sn||(Tn-=rn),Tn>Se.o&&(Tn=Se.o),Se.F=null,Se.J=null,be.Fa!=null&&0<be.Fa.length&&Zt<Tn&&(Se.J=bl(be,Se,Zt,Tn-Zt),Se.F=be.mb,Se.F==null&&Se.F.length==0)){$e=ur(be,3,"Could not decode alpha data.");break e}Zt<Se.j&&(rn=Se.j-Zt,Zt=Se.j,e(!(1&rn)),Se.O+=be.R*rn,Se.N+=be.B*(rn>>1),Se.W+=be.B*(rn>>1),Se.F!=null&&(Se.J+=Se.width*rn)),Zt<Tn&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=Zt-Se.j,Se.U=Se.va-Se.v,Se.T=Tn-Zt,$e=Se.put(Se))}Ue+1!=be.Ic||sn||(r(be.sa,be.ta-Je,dt,Ot+16*be.R,Je),r(be.qa,be.ra-xt,gt,Ye+8*be.B,xt),r(be.Ha,be.Ia-xt,In,Un+8*be.B,xt))}if(!$e)return ur(Re,6,"Output aborted.")}return 1}(y,S)),S.bc!=null&&S.bc(S),k&=1}return k?(y.cb=0,k):0}function Ci(y,S,k,W,J){J=y[S+k+32*W]+(J>>3),y[S+k+32*W]=-256&J?0>J?0:255:J}function ml(y,S,k,W,J,re){Ci(y,S,0,k,W+J),Ci(y,S,1,k,W+re),Ci(y,S,2,k,W-re),Ci(y,S,3,k,W-J)}function En(y){return(20091*y>>16)+y}function Ii(y,S,k,W){var J,re=0,ie=a(16);for(J=0;4>J;++J){var se=y[S+0]+y[S+8],ce=y[S+0]-y[S+8],he=(35468*y[S+4]>>16)-En(y[S+12]),_e=En(y[S+4])+(35468*y[S+12]>>16);ie[re+0]=se+_e,ie[re+1]=ce+he,ie[re+2]=ce-he,ie[re+3]=se-_e,re+=4,S++}for(J=re=0;4>J;++J)se=(y=ie[re+0]+4)+ie[re+8],ce=y-ie[re+8],he=(35468*ie[re+4]>>16)-En(ie[re+12]),Ci(k,W,0,0,se+(_e=En(ie[re+4])+(35468*ie[re+12]>>16))),Ci(k,W,1,0,ce+he),Ci(k,W,2,0,ce-he),Ci(k,W,3,0,se-_e),re++,W+=32}function Zo(y,S,k,W){var J=y[S+0]+4,re=35468*y[S+4]>>16,ie=En(y[S+4]),se=35468*y[S+1]>>16;ml(k,W,0,J+ie,y=En(y[S+1]),se),ml(k,W,1,J+re,y,se),ml(k,W,2,J-re,y,se),ml(k,W,3,J-ie,y,se)}function Jo(y,S,k,W,J){Ii(y,S,k,W),J&&Ii(y,S+16,k,W+4)}function Ja(y,S,k,W){jo(y,S+0,k,W,1),jo(y,S+32,k,W+128,1)}function Bn(y,S,k,W){var J;for(y=y[S+0]+4,J=0;4>J;++J)for(S=0;4>S;++S)Ci(k,W,S,J,y)}function es(y,S,k,W){y[S+0]&&Kr(y,S+0,k,W),y[S+16]&&Kr(y,S+16,k,W+4),y[S+32]&&Kr(y,S+32,k,W+128),y[S+48]&&Kr(y,S+48,k,W+128+4)}function ma(y,S,k,W){var J,re=a(16);for(J=0;4>J;++J){var ie=y[S+0+J]+y[S+12+J],se=y[S+4+J]+y[S+8+J],ce=y[S+4+J]-y[S+8+J],he=y[S+0+J]-y[S+12+J];re[0+J]=ie+se,re[8+J]=ie-se,re[4+J]=he+ce,re[12+J]=he-ce}for(J=0;4>J;++J)ie=(y=re[0+4*J]+3)+re[3+4*J],se=re[1+4*J]+re[2+4*J],ce=re[1+4*J]-re[2+4*J],he=y-re[3+4*J],k[W+0]=ie+se>>3,k[W+16]=he+ce>>3,k[W+32]=ie-se>>3,k[W+48]=he-ce>>3,W+=64}function Ro(y,S,k){var W,J=S-32,re=yi,ie=255-y[J-1];for(W=0;W<k;++W){var se,ce=re,he=ie+y[S-1];for(se=0;se<k;++se)y[S+se]=ce[he+y[J+se]];S+=32}}function lc(y,S){Ro(y,S,4)}function fu(y,S){Ro(y,S,8)}function hu(y,S){Ro(y,S,16)}function No(y,S){var k;for(k=0;16>k;++k)r(y,S+32*k,y,S-32,16)}function vl(y,S){var k;for(k=16;0<k;--k)i(y,S,y[S-1],16),S+=32}function Do(y,S,k){var W;for(W=0;16>W;++W)i(S,k+32*W,y,16)}function eo(y,S){var k,W=16;for(k=0;16>k;++k)W+=y[S-1+32*k]+y[S+k-32];Do(W>>5,y,S)}function er(y,S){var k,W=8;for(k=0;16>k;++k)W+=y[S-1+32*k];Do(W>>4,y,S)}function Oo(y,S){var k,W=8;for(k=0;16>k;++k)W+=y[S+k-32];Do(W>>4,y,S)}function to(y,S){Do(128,y,S)}function Ft(y,S,k){return y+2*S+k+2>>2}function no(y,S){var k,W=S-32;for(W=new Uint8Array([Ft(y[W-1],y[W+0],y[W+1]),Ft(y[W+0],y[W+1],y[W+2]),Ft(y[W+1],y[W+2],y[W+3]),Ft(y[W+2],y[W+3],y[W+4])]),k=0;4>k;++k)r(y,S+32*k,W,0,W.length)}function uc(y,S){var k=y[S-1],W=y[S-1+32],J=y[S-1+64],re=y[S-1+96];Ge(y,S+0,16843009*Ft(y[S-1-32],k,W)),Ge(y,S+32,16843009*Ft(k,W,J)),Ge(y,S+64,16843009*Ft(W,J,re)),Ge(y,S+96,16843009*Ft(J,re,re))}function Fi(y,S){var k,W=4;for(k=0;4>k;++k)W+=y[S+k-32]+y[S-1+32*k];for(W>>=3,k=0;4>k;++k)i(y,S+32*k,W,4)}function va(y,S){var k=y[S-1+0],W=y[S-1+32],J=y[S-1+64],re=y[S-1-32],ie=y[S+0-32],se=y[S+1-32],ce=y[S+2-32],he=y[S+3-32];y[S+0+96]=Ft(W,J,y[S-1+96]),y[S+1+96]=y[S+0+64]=Ft(k,W,J),y[S+2+96]=y[S+1+64]=y[S+0+32]=Ft(re,k,W),y[S+3+96]=y[S+2+64]=y[S+1+32]=y[S+0+0]=Ft(ie,re,k),y[S+3+64]=y[S+2+32]=y[S+1+0]=Ft(se,ie,re),y[S+3+32]=y[S+2+0]=Ft(ce,se,ie),y[S+3+0]=Ft(he,ce,se)}function ea(y,S){var k=y[S+1-32],W=y[S+2-32],J=y[S+3-32],re=y[S+4-32],ie=y[S+5-32],se=y[S+6-32],ce=y[S+7-32];y[S+0+0]=Ft(y[S+0-32],k,W),y[S+1+0]=y[S+0+32]=Ft(k,W,J),y[S+2+0]=y[S+1+32]=y[S+0+64]=Ft(W,J,re),y[S+3+0]=y[S+2+32]=y[S+1+64]=y[S+0+96]=Ft(J,re,ie),y[S+3+32]=y[S+2+64]=y[S+1+96]=Ft(re,ie,se),y[S+3+64]=y[S+2+96]=Ft(ie,se,ce),y[S+3+96]=Ft(se,ce,ce)}function ro(y,S){var k=y[S-1+0],W=y[S-1+32],J=y[S-1+64],re=y[S-1-32],ie=y[S+0-32],se=y[S+1-32],ce=y[S+2-32],he=y[S+3-32];y[S+0+0]=y[S+1+64]=re+ie+1>>1,y[S+1+0]=y[S+2+64]=ie+se+1>>1,y[S+2+0]=y[S+3+64]=se+ce+1>>1,y[S+3+0]=ce+he+1>>1,y[S+0+96]=Ft(J,W,k),y[S+0+64]=Ft(W,k,re),y[S+0+32]=y[S+1+96]=Ft(k,re,ie),y[S+1+32]=y[S+2+96]=Ft(re,ie,se),y[S+2+32]=y[S+3+96]=Ft(ie,se,ce),y[S+3+32]=Ft(se,ce,he)}function ya(y,S){var k=y[S+0-32],W=y[S+1-32],J=y[S+2-32],re=y[S+3-32],ie=y[S+4-32],se=y[S+5-32],ce=y[S+6-32],he=y[S+7-32];y[S+0+0]=k+W+1>>1,y[S+1+0]=y[S+0+64]=W+J+1>>1,y[S+2+0]=y[S+1+64]=J+re+1>>1,y[S+3+0]=y[S+2+64]=re+ie+1>>1,y[S+0+32]=Ft(k,W,J),y[S+1+32]=y[S+0+96]=Ft(W,J,re),y[S+2+32]=y[S+1+96]=Ft(J,re,ie),y[S+3+32]=y[S+2+96]=Ft(re,ie,se),y[S+3+64]=Ft(ie,se,ce),y[S+3+96]=Ft(se,ce,he)}function ts(y,S){var k=y[S-1+0],W=y[S-1+32],J=y[S-1+64],re=y[S-1+96];y[S+0+0]=k+W+1>>1,y[S+2+0]=y[S+0+32]=W+J+1>>1,y[S+2+32]=y[S+0+64]=J+re+1>>1,y[S+1+0]=Ft(k,W,J),y[S+3+0]=y[S+1+32]=Ft(W,J,re),y[S+3+32]=y[S+1+64]=Ft(J,re,re),y[S+3+64]=y[S+2+64]=y[S+0+96]=y[S+1+96]=y[S+2+96]=y[S+3+96]=re}function Po(y,S){var k=y[S-1+0],W=y[S-1+32],J=y[S-1+64],re=y[S-1+96],ie=y[S-1-32],se=y[S+0-32],ce=y[S+1-32],he=y[S+2-32];y[S+0+0]=y[S+2+32]=k+ie+1>>1,y[S+0+32]=y[S+2+64]=W+k+1>>1,y[S+0+64]=y[S+2+96]=J+W+1>>1,y[S+0+96]=re+J+1>>1,y[S+3+0]=Ft(se,ce,he),y[S+2+0]=Ft(ie,se,ce),y[S+1+0]=y[S+3+32]=Ft(k,ie,se),y[S+1+32]=y[S+3+64]=Ft(W,k,ie),y[S+1+64]=y[S+3+96]=Ft(J,W,k),y[S+1+96]=Ft(re,J,W)}function du(y,S){var k;for(k=0;8>k;++k)r(y,S+32*k,y,S-32,8)}function xa(y,S){var k;for(k=0;8>k;++k)i(y,S,y[S-1],8),S+=32}function Ui(y,S,k){var W;for(W=0;8>W;++W)i(S,k+32*W,y,8)}function io(y,S){var k,W=8;for(k=0;8>k;++k)W+=y[S+k-32]+y[S-1+32*k];Ui(W>>4,y,S)}function Xr(y,S){var k,W=4;for(k=0;8>k;++k)W+=y[S+k-32];Ui(W>>3,y,S)}function hn(y,S){var k,W=4;for(k=0;8>k;++k)W+=y[S-1+32*k];Ui(W>>3,y,S)}function ns(y,S){Ui(128,y,S)}function ao(y,S,k){var W=y[S-k],J=y[S+0],re=3*(J-W)+vh[1020+y[S-2*k]-y[S+k]],ie=wu[112+(re+4>>3)];y[S-k]=yi[255+W+wu[112+(re+3>>3)]],y[S+0]=yi[255+J-ie]}function pu(y,S,k,W){var J=y[S+0],re=y[S+k];return uo[255+y[S-2*k]-y[S-k]]>W||uo[255+re-J]>W}function Ns(y,S,k,W){return 4*uo[255+y[S-k]-y[S+0]]+uo[255+y[S-2*k]-y[S+k]]<=W}function Ds(y,S,k,W,J){var re=y[S-3*k],ie=y[S-2*k],se=y[S-k],ce=y[S+0],he=y[S+k],_e=y[S+2*k],Le=y[S+3*k];return 4*uo[255+se-ce]+uo[255+ie-he]>W?0:uo[255+y[S-4*k]-re]<=J&&uo[255+re-ie]<=J&&uo[255+ie-se]<=J&&uo[255+Le-_e]<=J&&uo[255+_e-he]<=J&&uo[255+he-ce]<=J}function qa(y,S,k,W){var J=2*W+1;for(W=0;16>W;++W)Ns(y,S+W,k,J)&&ao(y,S+W,k)}function Vi(y,S,k,W){var J=2*W+1;for(W=0;16>W;++W)Ns(y,S+W*k,1,J)&&ao(y,S+W*k,1)}function Yr(y,S,k,W){var J;for(J=3;0<J;--J)qa(y,S+=4*k,k,W)}function cc(y,S,k,W){var J;for(J=3;0<J;--J)Vi(y,S+=4,k,W)}function rs(y,S,k,W,J,re,ie,se){for(re=2*re+1;0<J--;){if(Ds(y,S,k,re,ie))if(pu(y,S,k,se))ao(y,S,k);else{var ce=y,he=S,_e=k,Le=ce[he-2*_e],Oe=ce[he-_e],Re=ce[he+0],Ze=ce[he+_e],Ue=ce[he+2*_e],be=27*($e=vh[1020+3*(Re-Oe)+vh[1020+Le-Ze]])+63>>7,Se=18*$e+63>>7,$e=9*$e+63>>7;ce[he-3*_e]=yi[255+ce[he-3*_e]+$e],ce[he-2*_e]=yi[255+Le+Se],ce[he-_e]=yi[255+Oe+be],ce[he+0]=yi[255+Re-be],ce[he+_e]=yi[255+Ze-Se],ce[he+2*_e]=yi[255+Ue-$e]}S+=W}}function Ti(y,S,k,W,J,re,ie,se){for(re=2*re+1;0<J--;){if(Ds(y,S,k,re,ie))if(pu(y,S,k,se))ao(y,S,k);else{var ce=y,he=S,_e=k,Le=ce[he-_e],Oe=ce[he+0],Re=ce[he+_e],Ze=wu[112+((Ue=3*(Oe-Le))+4>>3)],Ue=wu[112+(Ue+3>>3)],be=Ze+1>>1;ce[he-2*_e]=yi[255+ce[he-2*_e]+be],ce[he-_e]=yi[255+Le+Ue],ce[he+0]=yi[255+Oe-Ze],ce[he+_e]=yi[255+Re-be]}S+=W}}function is(y,S,k,W,J,re){rs(y,S,k,1,16,W,J,re)}function Lo(y,S,k,W,J,re){rs(y,S,1,k,16,W,J,re)}function yl(y,S,k,W,J,re){var ie;for(ie=3;0<ie;--ie)Ti(y,S+=4*k,k,1,16,W,J,re)}function Os(y,S,k,W,J,re){var ie;for(ie=3;0<ie;--ie)Ti(y,S+=4,1,k,16,W,J,re)}function xl(y,S,k,W,J,re,ie,se){rs(y,S,J,1,8,re,ie,se),rs(k,W,J,1,8,re,ie,se)}function gu(y,S,k,W,J,re,ie,se){rs(y,S,1,J,8,re,ie,se),rs(k,W,1,J,8,re,ie,se)}function Ps(y,S,k,W,J,re,ie,se){Ti(y,S+4*J,J,1,8,re,ie,se),Ti(k,W+4*J,J,1,8,re,ie,se)}function as(y,S,k,W,J,re,ie,se){Ti(y,S+4,1,J,8,re,ie,se),Ti(k,W+4,1,J,8,re,ie,se)}function Ls(){this.ba=new Mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _l(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ks(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function os(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new L}function fc(){this.xb=this.a=0,this.l=new To,this.ca=new Mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new os,this.ab=0,this.gc=o(4,ks),this.Oc=0}function ko(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new To,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ss(y,S,k,W,J,re,ie){for(y=y==null?0:y[S+0],S=0;S<ie;++S)J[re+S]=y+k[W+S]&255,y=J[re+S]}function Ms(y,S,k,W,J,re,ie){var se;if(y==null)ss(null,null,k,W,J,re,ie);else for(se=0;se<ie;++se)J[re+se]=y[S+se]+k[W+se]&255}function zi(y,S,k,W,J,re,ie){if(y==null)ss(null,null,k,W,J,re,ie);else{var se,ce=y[S+0],he=ce,_e=ce;for(se=0;se<ie;++se)he=_e+(ce=y[S+se])-he,_e=k[W+se]+(-256&he?0>he?0:255:he)&255,he=ce,J[re+se]=_e}}function bl(y,S,k,W){var J=S.width,re=S.o;if(e(y!=null&&S!=null),0>k||0>=W||k+W>re)return null;if(!y.Cc){if(y.ga==null){var ie;if(y.ga=new ko,(ie=y.ga==null)||(ie=S.width*S.o,e(y.Gb.length==0),y.Gb=a(ie),y.Uc=0,y.Gb==null?ie=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ie=1),ie=!ie),!ie){ie=y.ga;var se=y.Fa,ce=y.P,he=y.qc,_e=y.mb,Le=y.nb,Oe=ce+1,Re=he-1,Ze=ie.l;if(e(se!=null&&_e!=null&&S!=null),ds[0]=null,ds[1]=ss,ds[2]=Ms,ds[3]=zi,ie.ca=_e,ie.tb=Le,ie.c=S.width,ie.i=S.height,e(0<ie.c&&0<ie.i),1>=he)S=0;else if(ie.$a=se[ce+0]>>0&3,ie.Z=se[ce+0]>>2&3,ie.Lc=se[ce+0]>>4&3,ce=se[ce+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||ce)S=0;else if(Ze.put=pr,Ze.ac=Mn,Ze.bc=Ua,Ze.ma=ie,Ze.width=S.width,Ze.height=S.height,Ze.Da=S.Da,Ze.v=S.v,Ze.va=S.va,Ze.j=S.j,Ze.o=S.o,ie.$a)e:{e(ie.$a==1),S=lr();t:for(;;){if(S==null){S=0;break e}if(e(ie!=null),ie.mc=S,S.c=ie.c,S.i=ie.i,S.l=ie.l,S.l.ma=ie,S.l.width=ie.c,S.l.height=ie.i,S.a=0,Q(S.m,se,Oe,Re),!jn(ie.c,ie.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Ji(S.s)?(ie.ic=1,se=S.c*S.i,S.Ta=null,S.Ua=0,S.V=a(se),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ie.ic=0,S=So(S,ie.c)),!S))break t;S=1;break e}ie.mc=null,S=0}else S=Re>=ie.c*ie.i;ie=!S}if(ie)return null;y.ga.Lc!=1?y.Ga=0:W=re-k}e(y.ga!=null),e(k+W<=re);e:{if(S=(se=y.ga).c,re=se.l.o,se.$a==0){if(Oe=y.rc,Re=y.Vc,Ze=y.Fa,ce=y.P+1+k*S,he=y.mb,_e=y.nb+k*S,e(ce<=y.P+y.qc),se.Z!=0)for(e(ds[se.Z]!=null),ie=0;ie<W;++ie)ds[se.Z](Oe,Re,Ze,ce,he,_e,S),Oe=he,Re=_e,_e+=S,ce+=S;else for(ie=0;ie<W;++ie)r(he,_e,Ze,ce,S),Oe=he,Re=_e,_e+=S,ce+=S;y.rc=Oe,y.Vc=Re}else{if(e(se.mc!=null),S=k+W,e((ie=se.mc)!=null),e(S<=ie.i),ie.C>=S)S=1;else if(se.ic||Te(),se.ic){se=ie.V,Oe=ie.Ba,Re=ie.c;var Ue=ie.i,be=(Ze=1,ce=ie.$/Re,he=ie.$%Re,_e=ie.m,Le=ie.s,ie.$),Se=Re*Ue,$e=Re*S,Je=Le.wc,Ye=be<$e?Nr(Le,he,ce):null;e(be<=Se),e(S<=Ue),e(Ji(Le));t:for(;;){for(;!_e.h&&be<$e;){if(he&Je||(Ye=Nr(Le,he,ce)),e(Ye!=null),ge(_e),256>(Ue=gr(Ye.G[0],Ye.H[0],_e)))se[Oe+be]=Ue,++be,++he>=Re&&(he=0,++ce<=S&&!(ce%16)&&ti(ie,ce));else{if(!(280>Ue)){Ze=0;break t}Ue=Wn(Ue-256,_e);var xt,dt=gr(Ye.G[4],Ye.H[4],_e);if(ge(_e),!(be>=(dt=Gn(Re,dt=Wn(dt,_e)))&&Se-be>=Ue)){Ze=0;break t}for(xt=0;xt<Ue;++xt)se[Oe+be+xt]=se[Oe+be+xt-dt];for(be+=Ue,he+=Ue;he>=Re;)he-=Re,++ce<=S&&!(ce%16)&&ti(ie,ce);be<$e&&he&Je&&(Ye=Nr(Le,he,ce))}e(_e.h==ne(_e))}ti(ie,ce>S?S:ce);break t}!Ze||_e.h&&be<Se?(Ze=0,ie.a=_e.h?5:3):ie.$=be,S=Ze}else S=$r(ie,ie.V,ie.Ba,ie.c,ie.i,S,Co);if(!S){W=0;break e}}k+W>=re&&(y.Cc=1),W=1}if(!W)return null;if(y.Cc&&((W=y.ga)!=null&&(W.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+k*J}function O(y,S,k,W,J,re){for(;0<J--;){var ie,se=y,ce=S+(k?1:0),he=y,_e=S+(k?0:3);for(ie=0;ie<W;++ie){var Le=he[_e+4*ie];Le!=255&&(Le*=32897,se[ce+4*ie+0]=se[ce+4*ie+0]*Le>>23,se[ce+4*ie+1]=se[ce+4*ie+1]*Le>>23,se[ce+4*ie+2]=se[ce+4*ie+2]*Le>>23)}S+=re}}function ee(y,S,k,W,J){for(;0<W--;){var re;for(re=0;re<k;++re){var ie=y[S+2*re+0],se=15&(he=y[S+2*re+1]),ce=4369*se,he=(240&he|he>>4)*ce>>16;y[S+2*re+0]=(240&ie|ie>>4)*ce>>16&240|(15&ie|ie<<4)*ce>>16>>4&15,y[S+2*re+1]=240&he|se}S+=J}}function ve(y,S,k,W,J,re,ie,se){var ce,he,_e=255;for(he=0;he<J;++he){for(ce=0;ce<W;++ce){var Le=y[S+ce];re[ie+4*ce]=Le,_e&=Le}S+=k,ie+=se}return _e!=255}function xe(y,S,k,W,J){var re;for(re=0;re<J;++re)k[W+re]=y[S+re]>>8}function Te(){Ha=O,ln=ee,un=ve,cr=xe}function Ve(y,S,k){E[y]=function(W,J,re,ie,se,ce,he,_e,Le,Oe,Re,Ze,Ue,be,Se,$e,Je){var Ye,xt=Je-1>>1,dt=se[ce+0]|he[_e+0]<<16,Ot=Le[Oe+0]|Re[Ze+0]<<16;e(W!=null);var gt=3*dt+Ot+131074>>2;for(S(W[J+0],255&gt,gt>>16,Ue,be),re!=null&&(gt=3*Ot+dt+131074>>2,S(re[ie+0],255&gt,gt>>16,Se,$e)),Ye=1;Ye<=xt;++Ye){var In=se[ce+Ye]|he[_e+Ye]<<16,Un=Le[Oe+Ye]|Re[Ze+Ye]<<16,sn=dt+In+Ot+Un+524296,rn=sn+2*(In+Ot)>>3;gt=rn+dt>>1,dt=(sn=sn+2*(dt+Un)>>3)+In>>1,S(W[J+2*Ye-1],255&gt,gt>>16,Ue,be+(2*Ye-1)*k),S(W[J+2*Ye-0],255&dt,dt>>16,Ue,be+(2*Ye-0)*k),re!=null&&(gt=sn+Ot>>1,dt=rn+Un>>1,S(re[ie+2*Ye-1],255&gt,gt>>16,Se,$e+(2*Ye-1)*k),S(re[ie+2*Ye+0],255&dt,dt>>16,Se,$e+(2*Ye+0)*k)),dt=In,Ot=Un}1&Je||(gt=3*dt+Ot+131074>>2,S(W[J+Je-1],255&gt,gt>>16,Ue,be+(Je-1)*k),re!=null&&(gt=3*Ot+dt+131074>>2,S(re[ie+Je-1],255&gt,gt>>16,Se,$e+(Je-1)*k)))}}function at(){xi[qi]=Ws,xi[mc]=ps,xi[fs]=kl,xi[wf]=_h,xi[Au]=bh,xi[Us]=xc,xi[yh]=wh,xi[Af]=ps,xi[Pl]=_h,xi[Vs]=bh,xi[vc]=xc}function pt(y){return y&-16384?0>y?0:255:y>>Hm}function _(y,S){return pt((19077*y>>8)+(26149*S>>8)-14234)}function F(y,S,k){return pt((19077*y>>8)-(6419*S>>8)-(13320*k>>8)+8708)}function $(y,S){return pt((19077*y>>8)+(33050*S>>8)-17685)}function le(y,S,k,W,J){W[J+0]=_(y,k),W[J+1]=F(y,S,k),W[J+2]=$(y,S)}function Ce(y,S,k,W,J){W[J+0]=$(y,S),W[J+1]=F(y,S,k),W[J+2]=_(y,k)}function ke(y,S,k,W,J){var re=F(y,S,k);S=re<<3&224|$(y,S)>>3,W[J+0]=248&_(y,k)|re>>5,W[J+1]=S}function ot(y,S,k,W,J){var re=240&$(y,S)|15;W[J+0]=240&_(y,k)|F(y,S,k)>>4,W[J+1]=re}function Ut(y,S,k,W,J){W[J+0]=255,le(y,S,k,W,J+1)}function dn(y,S,k,W,J){Ce(y,S,k,W,J),W[J+3]=255}function Qt(y,S,k,W,J){le(y,S,k,W,J),W[J+3]=255}function Fn(y,S){return 0>y?0:y>S?S:y}function Kn(y,S,k){E[y]=function(W,J,re,ie,se,ce,he,_e,Le){for(var Oe=_e+(-2&Le)*k;_e!=Oe;)S(W[J+0],re[ie+0],se[ce+0],he,_e),S(W[J+1],re[ie+0],se[ce+0],he,_e+k),J+=2,++ie,++ce,_e+=2*k;1&Le&&S(W[J+0],re[ie+0],se[ce+0],he,_e)}}function oo(y,S,k){return k==0?y==0?S==0?6:5:S==0?4:0:k}function jr(y,S,k,W,J){switch(y>>>30){case 3:jo(S,k,W,J,0);break;case 2:Dr(S,k,W,J);break;case 1:Kr(S,k,W,J)}}function _a(y,S){var k,W,J=S.M,re=S.Nb,ie=y.oc,se=y.pc+40,ce=y.oc,he=y.pc+584,_e=y.oc,Le=y.pc+600;for(k=0;16>k;++k)ie[se+32*k-1]=129;for(k=0;8>k;++k)ce[he+32*k-1]=129,_e[Le+32*k-1]=129;for(0<J?ie[se-1-32]=ce[he-1-32]=_e[Le-1-32]=129:(i(ie,se-32-1,127,21),i(ce,he-32-1,127,9),i(_e,Le-32-1,127,9)),W=0;W<y.za;++W){var Oe=S.ya[S.aa+W];if(0<W){for(k=-1;16>k;++k)r(ie,se+32*k-4,ie,se+32*k+12,4);for(k=-1;8>k;++k)r(ce,he+32*k-4,ce,he+32*k+4,4),r(_e,Le+32*k-4,_e,Le+32*k+4,4)}var Re=y.Gd,Ze=y.Hd+W,Ue=Oe.ad,be=Oe.Hc;if(0<J&&(r(ie,se-32,Re[Ze].y,0,16),r(ce,he-32,Re[Ze].f,0,8),r(_e,Le-32,Re[Ze].ea,0,8)),Oe.Za){var Se=ie,$e=se-32+16;for(0<J&&(W>=y.za-1?i(Se,$e,Re[Ze].y[15],4):r(Se,$e,Re[Ze+1].y,0,4)),k=0;4>k;k++)Se[$e+128+k]=Se[$e+256+k]=Se[$e+384+k]=Se[$e+0+k];for(k=0;16>k;++k,be<<=2)Se=ie,$e=se+Iu[k],na[Oe.Ob[k]](Se,$e),jr(be,Ue,16*+k,Se,$e)}else if(Se=oo(W,J,Oe.Ob[0]),Hs[Se](ie,se),be!=0)for(k=0;16>k;++k,be<<=2)jr(be,Ue,16*+k,ie,se+Iu[k]);for(k=Oe.Gc,Se=oo(W,J,Oe.Dd),Ga[Se](ce,he),Ga[Se](_e,Le),be=Ue,Se=ce,$e=he,255&(Oe=k>>0)&&(170&Oe?Bo(be,256,Se,$e):Aa(be,256,Se,$e)),Oe=_e,be=Le,255&(k>>=8)&&(170&k?Bo(Ue,320,Oe,be):Aa(Ue,320,Oe,be)),J<y.Ub-1&&(r(Re[Ze].y,0,ie,se+480,16),r(Re[Ze].f,0,ce,he+224,8),r(Re[Ze].ea,0,_e,Le+224,8)),k=8*re*y.B,Re=y.sa,Ze=y.ta+16*W+16*re*y.R,Ue=y.qa,Oe=y.ra+8*W+k,be=y.Ha,Se=y.Ia+8*W+k,k=0;16>k;++k)r(Re,Ze+k*y.R,ie,se+32*k,16);for(k=0;8>k;++k)r(Ue,Oe+k*y.B,ce,he+32*k,8),r(be,Se+k*y.B,_e,Le+32*k,8)}}function ls(y,S,k,W,J,re,ie,se,ce){var he=[0],_e=[0],Le=0,Oe=ce!=null?ce.kd:0,Re=ce??new _l;if(y==null||12>k)return 7;Re.data=y,Re.w=S,Re.ha=k,S=[S],k=[k],Re.gb=[Re.gb];e:{var Ze=S,Ue=k,be=Re.gb;if(e(y!=null),e(Ue!=null),e(be!=null),be[0]=0,12<=Ue[0]&&!t(y,Ze[0],"RIFF")){if(t(y,Ze[0]+8,"WEBP")){be=3;break e}var Se=ut(y,Ze[0]+4);if(12>Se||4294967286<Se){be=3;break e}if(Oe&&Se>Ue[0]-8){be=7;break e}be[0]=Se,Ze[0]+=12,Ue[0]-=12}be=0}if(be!=0)return be;for(Se=0<Re.gb[0],k=k[0];;){e:{var $e=y;Ue=S,be=k;var Je=he,Ye=_e,xt=Ze=[0];if((gt=Le=[Le])[0]=0,8>be[0])be=7;else{if(!t($e,Ue[0],"VP8X")){if(ut($e,Ue[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var dt=ut($e,Ue[0]+8),Ot=1+st($e,Ue[0]+12);if(2147483648<=Ot*($e=1+st($e,Ue[0]+15))){be=3;break e}xt!=null&&(xt[0]=dt),Je!=null&&(Je[0]=Ot),Ye!=null&&(Ye[0]=$e),Ue[0]+=18,be[0]-=18,gt[0]=1}be=0}}if(Le=Le[0],Ze=Ze[0],be!=0)return be;if(Ue=!!(2&Ze),!Se&&Le)return 3;if(re!=null&&(re[0]=!!(16&Ze)),ie!=null&&(ie[0]=Ue),se!=null&&(se[0]=0),ie=he[0],Ze=_e[0],Le&&Ue&&ce==null){be=0;break}if(4>k){be=7;break}if(Se&&Le||!Se&&!Le&&!t(y,S[0],"ALPH")){k=[k],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{dt=y,be=S,Se=k;var gt=Re.gb;Je=Re.na,Ye=Re.P,xt=Re.Sa,Ot=22,e(dt!=null),e(Se!=null),$e=be[0];var In=Se[0];for(e(Je!=null),e(xt!=null),Je[0]=null,Ye[0]=null,xt[0]=0;;){if(be[0]=$e,Se[0]=In,8>In){be=7;break e}var Un=ut(dt,$e+4);if(4294967286<Un){be=3;break e}var sn=8+Un+1&-2;if(Ot+=sn,0<gt&&Ot>gt){be=3;break e}if(!t(dt,$e,"VP8 ")||!t(dt,$e,"VP8L")){be=0;break e}if(In[0]<sn){be=7;break e}t(dt,$e,"ALPH")||(Je[0]=dt,Ye[0]=$e+8,xt[0]=Un),$e+=sn,In-=sn}}if(k=k[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],be!=0)break}k=[k],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(gt=y,be=S,Se=k,Je=Re.gb[0],Ye=Re.Ja,xt=Re.xa,dt=be[0],$e=!t(gt,dt,"VP8 "),Ot=!t(gt,dt,"VP8L"),e(gt!=null),e(Se!=null),e(Ye!=null),e(xt!=null),8>Se[0])be=7;else{if($e||Ot){if(gt=ut(gt,dt+4),12<=Je&&gt>Je-12){be=3;break e}if(Oe&&gt>Se[0]-8){be=7;break e}Ye[0]=gt,be[0]+=8,Se[0]-=8,xt[0]=Ot}else xt[0]=5<=Se[0]&&gt[dt+0]==47&&!(gt[dt+4]>>5),Ye[0]=Se[0];be=0}if(k=k[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],S=S[0],be!=0)break;if(4294967286<Re.Ja)return 3;if(se==null||Ue||(se[0]=Re.xa?2:1),ie=[ie],Ze=[Ze],Re.xa){if(5>k){be=7;break}se=ie,Oe=Ze,Ue=re,y==null||5>k?y=0:5<=k&&y[S+0]==47&&!(y[S+4]>>5)?(Se=[0],gt=[0],Je=[0],Q(Ye=new G,y,S,k),yt(Ye,Se,gt,Je)?(se!=null&&(se[0]=Se[0]),Oe!=null&&(Oe[0]=gt[0]),Ue!=null&&(Ue[0]=Je[0]),y=1):y=0):y=0}else{if(10>k){be=7;break}se=Ze,y==null||10>k||!mi(y,S+3,k-3)?y=0:(Oe=y[S+0]|y[S+1]<<8|y[S+2]<<16,Ue=16383&(y[S+7]<<8|y[S+6]),y=16383&(y[S+9]<<8|y[S+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Re.Ja||!Ue||!y?y=0:(ie&&(ie[0]=Ue),se&&(se[0]=y),y=1))}if(!y||(ie=ie[0],Ze=Ze[0],Le&&(he[0]!=ie||_e[0]!=Ze)))return 3;ce!=null&&(ce[0]=Re,ce.offset=S-ce.w,e(4294967286>S-ce.w),e(ce.offset==ce.ha-k));break}return be==0||be==7&&Le&&ce==null?(re!=null&&(re[0]|=Re.na!=null&&0<Re.na.length),W!=null&&(W[0]=ie),J!=null&&(J[0]=Ze),0):be}function wl(y,S,k){var W=S.width,J=S.height,re=0,ie=0,se=W,ce=J;if(S.Da=y!=null&&0<y.Da,S.Da&&(se=y.cd,ce=y.bd,re=y.v,ie=y.j,11>k||(re&=-2,ie&=-2),0>re||0>ie||0>=se||0>=ce||re+se>W||ie+ce>J))return 0;if(S.v=re,S.j=ie,S.va=re+se,S.o=ie+ce,S.U=se,S.T=ce,S.da=y!=null&&0<y.da,S.da){if(!ft(se,ce,k=[y.ib],re=[y.hb]))return 0;S.ib=k[0],S.hb=re[0]}return S.ob=y!=null&&y.ob,S.Kb=y==null||!y.Sd,S.da&&(S.ob=S.ib<3*W/4&&S.hb<3*J/4,S.Kb=0),1}function hc(y){if(y==null)return 2;if(11>y.S){var S=y.f.RGBA;S.fb+=(y.height-1)*S.A,S.A=-S.A}else S=y.f.kb,y=y.height,S.O+=(y-1)*S.fa,S.fa=-S.fa,S.N+=(y-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(y-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(y-1)*S.lb,S.lb=-S.lb);return 0}function mu(y,S,k,W){if(W==null||0>=y||0>=S)return 2;if(k!=null){if(k.Da){var J=k.cd,re=k.bd,ie=-2&k.v,se=-2&k.j;if(0>ie||0>se||0>=J||0>=re||ie+J>y||se+re>S)return 2;y=J,S=re}if(k.da){if(!ft(y,S,J=[k.ib],re=[k.hb]))return 2;y=J[0],S=re[0]}}W.width=y,W.height=S;e:{var ce=W.width,he=W.height;if(y=W.S,0>=ce||0>=he||!(y>=qi&&13>y))y=2;else{if(0>=W.Rd&&W.sd==null){ie=re=J=S=0;var _e=(se=ce*M0[y])*he;if(11>y||(re=(he+1)/2*(S=(ce+1)/2),y==12&&(ie=(J=ce)*he)),(he=a(_e+2*re+ie))==null){y=1;break e}W.sd=he,11>y?((ce=W.f.RGBA).eb=he,ce.fb=0,ce.A=se,ce.size=_e):((ce=W.f.kb).y=he,ce.O=0,ce.fa=se,ce.Fd=_e,ce.f=he,ce.N=0+_e,ce.Ab=S,ce.Cd=re,ce.ea=he,ce.W=0+_e+re,ce.Db=S,ce.Ed=re,y==12&&(ce.F=he,ce.J=0+_e+2*re),ce.Tc=ie,ce.lb=J)}if(S=1,J=W.S,re=W.width,ie=W.height,J>=qi&&13>J)if(11>J)y=W.f.RGBA,S&=(se=Math.abs(y.A))*(ie-1)+re<=y.size,S&=se>=re*M0[J],S&=y.eb!=null;else{y=W.f.kb,se=(re+1)/2,_e=(ie+1)/2,ce=Math.abs(y.fa),he=Math.abs(y.Ab);var Le=Math.abs(y.Db),Oe=Math.abs(y.lb),Re=Oe*(ie-1)+re;S&=ce*(ie-1)+re<=y.Fd,S&=he*(_e-1)+se<=y.Cd,S=(S&=Le*(_e-1)+se<=y.Ed)&ce>=re&he>=se&Le>=se,S&=y.y!=null,S&=y.f!=null,S&=y.ea!=null,J==12&&(S&=Oe>=re,S&=Re<=y.Tc,S&=y.F!=null)}else S=0;y=S?0:2}}return y!=0||k!=null&&k.fd&&(y=hc(W)),y}var ii=64,Al=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vu=24,yu=32,dc=8,ba=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(y){return y},E.Predictor2=function(y,S,k){return S[k+0]},E.Predictor3=function(y,S,k){return S[k+1]},E.Predictor4=function(y,S,k){return S[k-1]},E.Predictor5=function(y,S,k){return lt(lt(y,S[k+1]),S[k+0])},E.Predictor6=function(y,S,k){return lt(y,S[k-1])},E.Predictor7=function(y,S,k){return lt(y,S[k+0])},E.Predictor8=function(y,S,k){return lt(S[k-1],S[k+0])},E.Predictor9=function(y,S,k){return lt(S[k+0],S[k+1])},E.Predictor10=function(y,S,k){return lt(lt(y,S[k-1]),lt(S[k+0],S[k+1]))},E.Predictor11=function(y,S,k){var W=S[k+0];return 0>=Rt(W>>24&255,y>>24&255,(S=S[k-1])>>24&255)+Rt(W>>16&255,y>>16&255,S>>16&255)+Rt(W>>8&255,y>>8&255,S>>8&255)+Rt(255&W,255&y,255&S)?W:y},E.Predictor12=function(y,S,k){var W=S[k+0];return(ht((y>>24&255)+(W>>24&255)-((S=S[k-1])>>24&255))<<24|ht((y>>16&255)+(W>>16&255)-(S>>16&255))<<16|ht((y>>8&255)+(W>>8&255)-(S>>8&255))<<8|ht((255&y)+(255&W)-(255&S)))>>>0},E.Predictor13=function(y,S,k){var W=S[k-1];return(vt((y=lt(y,S[k+0]))>>24&255,W>>24&255)<<24|vt(y>>16&255,W>>16&255)<<16|vt(y>>8&255,W>>8&255)<<8|vt(y>>0&255,W>>0&255))>>>0};var kd=E.PredictorAdd0;E.PredictorAdd1=bt,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var _f=E.PredictorAdd2;Dt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var mh,so=E.ColorIndexInverseTransform,vi=E.MapARGB,El=E.VP8LColorIndexInverseTransformAlpha,bf=E.MapAlpha,js=E.VP8LPredictorsAdd=[];js.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Sl,ta,Ri,Cl,wa,Mo,us,jo,Dr,Bo,Kr,Aa,xu,cs,pc,Il,Tl,Rl,_u,gc,Nl,Bs,bu,Or,Ha,ln,un,cr,Br=a(511),lo=a(2041),Dl=a(225),Ol=a(767),Fs=0,vh=lo,wu=Dl,yi=Ol,uo=Br,qi=0,mc=1,fs=2,wf=3,Au=4,Us=5,yh=6,Af=7,Pl=8,Vs=9,vc=10,xh=[2,3,7],co=[3,3,11],Wa=[280,256,256,256,40],Eu=[0,1,1,1,0],zs=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Su=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],D0=8,Ef=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Sf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ai=null,Pr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ll=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Md=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],O0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hs=[],na=[],Ga=[],P0=1,yc=2,ds=[],xi=[];Ve("UpsampleRgbLinePair",le,3),Ve("UpsampleBgrLinePair",Ce,3),Ve("UpsampleRgbaLinePair",Qt,4),Ve("UpsampleBgraLinePair",dn,4),Ve("UpsampleArgbLinePair",Ut,4),Ve("UpsampleRgba4444LinePair",ot,2),Ve("UpsampleRgb565LinePair",ke,2);var Ws=E.UpsampleRgbLinePair,kl=E.UpsampleBgrLinePair,ps=E.UpsampleRgbaLinePair,_h=E.UpsampleBgraLinePair,bh=E.UpsampleArgbLinePair,xc=E.UpsampleRgba4444LinePair,wh=E.UpsampleRgb565LinePair,gs=16,oi=1<<gs-1,Ml=-227,Ah=482,Hm=6,L0=0,Wm=a(256),si=a(256),jd=a(256),Cf=a(256),If=a(Ah-Ml),Bd=a(Ah-Ml);Kn("YuvToRgbRow",le,3),Kn("YuvToBgrRow",Ce,3),Kn("YuvToRgbaRow",Qt,4),Kn("YuvToBgraRow",dn,4),Kn("YuvToArgbRow",Ut,4),Kn("YuvToRgba4444Row",ot,2),Kn("YuvToRgb565Row",ke,2);var Iu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gs=[0,2,8],Gm=[8,7,6,4,4,2,2,2,1,1,1,1],k0=1;this.WebPDecodeRGBA=function(y,S,k,W,J){var re=mc,ie=new Ls,se=new Mr;ie.ba=se,se.S=re,se.width=[se.width],se.height=[se.height];var ce=se.width,he=se.height,_e=new sr;if(_e==null||y==null)var Le=2;else e(_e!=null),Le=ls(y,S,k,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Le!=0?ce=0:(ce!=null&&(ce[0]=_e.width[0]),he!=null&&(he[0]=_e.height[0]),ce=1),ce){se.width=se.width[0],se.height=se.height[0],W!=null&&(W[0]=se.width),J!=null&&(J[0]=se.height);e:{if(W=new To,(J=new _l).data=y,J.w=S,J.ha=k,J.kd=1,S=[0],e(J!=null),((y=ls(J.data,J.w,J.ha,null,null,null,S,null,J))==0||y==7)&&S[0]&&(y=4),(S=y)==0){if(e(ie!=null),W.data=J.data,W.w=J.w+J.offset,W.ha=J.ha-J.offset,W.put=pr,W.ac=Mn,W.bc=Ua,W.ma=ie,J.xa){if((y=lr())==null){ie=1;break e}if(function(Oe,Re){var Ze=[0],Ue=[0],be=[0];t:for(;;){if(Oe==null)return 0;if(Re==null)return Oe.a=2,0;if(Oe.l=Re,Oe.a=0,Q(Oe.m,Re.data,Re.w,Re.ha),!yt(Oe.m,Ze,Ue,be)){Oe.a=3;break t}if(Oe.xb=yc,Re.width=Ze[0],Re.height=Ue[0],!jn(Ze[0],Ue[0],1,Oe,null))break t;return 1}return e(Oe.a!=0),0}(y,W)){if(W=(S=mu(W.width,W.height,ie.Oa,ie.ba))==0){t:{W=y;n:for(;;){if(W==null){W=0;break t}if(e(W.s.yc!=null),e(W.s.Ya!=null),e(0<W.s.Wb),e((k=W.l)!=null),e((J=k.ma)!=null),W.xb!=0){if(W.ca=J.ba,W.tb=J.tb,e(W.ca!=null),!wl(J.Oa,k,wf)){W.a=2;break n}if(!So(W,k.width)||k.da)break n;if((k.da||on(W.ca.S))&&Te(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Te()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!qe(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!$r(W,W.V,W.Ba,W.c,W.i,k.o,Is))break n;J.Dc=W.Ma,W=1;break t}e(W.a!=0),W=0}W=!W}W&&(S=y.a)}else S=y.a}else{if((y=new uu)==null){ie=1;break e}if(y.Fa=J.na,y.P=J.P,y.qc=J.Sa,gl(y,W)){if((S=mu(W.width,W.height,ie.Oa,ie.ba))==0){if(y.Aa=0,k=ie.Oa,e((J=y)!=null),k!=null){if(0<(ce=0>(ce=k.Md)?0:100<ce?255:255*ce/100)){for(he=_e=0;4>he;++he)12>(Le=J.pb[he]).lc&&(Le.ia=ce*Gm[0>Le.lc?0:Le.lc]>>3),_e|=Le.ia;_e&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=k.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}cu(y,W)||(S=y.a)}}else S=y.a}S==0&&ie.Oa!=null&&ie.Oa.fd&&(S=hc(ie.ba))}ie=S}re=ie!=0?null:11>re?se.f.RGBA.eb:se.f.kb.y}else re=null;return re};var M0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(E,T){for(var M="",R=0;R<4;R++)M+=String.fromCharCode(E[T++]);return M}function h(E,T){return(E[T+0]<<0|E[T+1]<<8|E[T+2]<<16)>>>0}function p(E,T){return(E[T+0]<<0|E[T+1]<<8|E[T+2]<<16|E[T+3]<<24)>>>0}new u;var g=[0],m=[0],x=[],b=new u,I=n,C=function(E,T){var M={},R=0,L=!1,B=0,q=0;if(M.frames=[],!function(Z,ne,oe,ge){for(var Ee=0;Ee<ge;Ee++)if(Z[ne+Ee]!=oe.charCodeAt(Ee))return!0;return!1}(E,T,"RIFF",4)){for(p(E,T+=4),T+=8;T<E.length;){var te=f(E,T),V=p(E,T+=4);T+=4;var U=V+(1&V);switch(te){case"VP8 ":case"VP8L":M.frames[R]===void 0&&(M.frames[R]={}),(Y=M.frames[R]).src_off=L?q:T-8,Y.src_size=B+V+8,R++,L&&(L=!1,B=0,q=0);break;case"VP8X":(Y=M.header={}).feature_flags=E[T];var Q=T+4;Y.canvas_width=1+h(E,Q),Q+=3,Y.canvas_height=1+h(E,Q),Q+=3;break;case"ALPH":L=!0,B=U+8,q=T-8;break;case"ANIM":(Y=M.header).bgcolor=p(E,T),Q=T+4,Y.loop_count=(me=E)[(G=Q)+0]<<0|me[G+1]<<8,Q+=2;break;case"ANMF":var ae,Y;(Y=M.frames[R]={}).offset_x=2*h(E,T),T+=3,Y.offset_y=2*h(E,T),T+=3,Y.width=1+h(E,T),T+=3,Y.height=1+h(E,T),T+=3,Y.duration=h(E,T),T+=3,ae=E[T++],Y.dispose=1&ae,Y.blend=ae>>1&1}te!="ANMF"&&(T+=U)}var me,G;return M}}(I,0);C.response=I,C.rgbaoutput=!0,C.dataurl=!1;var P=C.header?C.header:null,j=C.frames?C.frames:null;if(P){P.loop_counter=P.loop_count,g=[P.canvas_height],m=[P.canvas_width];for(var z=0;z<j.length&&j[z].blend!=0;z++);}var X=j[0],H=b.WebPDecodeRGBA(I,X.src_off,X.src_size,m,g);X.rgba=H,X.imgwidth=m[0],X.imgheight=g[0];for(var D=0;D<m[0]*g[0]*4;D++)x[D]=H[D];return this.width=m,this.height=g,this.data=x,this}(function(n){var e=function(){return typeof qy=="function"},t=function(g,m,x,b){var I=4,C=o;switch(b){case n.image_compression.FAST:I=1,C=a;break;case n.image_compression.MEDIUM:I=6,C=s;break;case n.image_compression.SLOW:I=9,C=u}g=r(g,m,x,C);var P=qy(g,{level:I});return n.__addimage__.arrayBufferToBinaryString(P)},r=function(g,m,x,b){for(var I,C,P,j=g.length/m,z=new Uint8Array(g.length+j),X=h(),H=0;H<j;H+=1){if(P=H*m,I=g.subarray(P,P+m),b)z.set(b(I,x,C),P+H);else{for(var D,E=X.length,T=[];D<E;D+=1)T[D]=X[D](I,x,C);var M=p(T.concat());z.set(T[M],P+H)}C=I}return z},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},a=function(g,m){var x,b=[],I=g.length;b[0]=1;for(var C=0;C<I;C+=1)x=g[C-m]||0,b[C+1]=g[C]-x+256&255;return b},o=function(g,m,x){var b,I=[],C=g.length;I[0]=2;for(var P=0;P<C;P+=1)b=x&&x[P]||0,I[P+1]=g[P]-b+256&255;return I},s=function(g,m,x){var b,I,C=[],P=g.length;C[0]=3;for(var j=0;j<P;j+=1)b=g[j-m]||0,I=x&&x[j]||0,C[j+1]=g[j]+256-(b+I>>>1)&255;return C},u=function(g,m,x){var b,I,C,P,j=[],z=g.length;j[0]=4;for(var X=0;X<z;X+=1)b=g[X-m]||0,I=x&&x[X]||0,C=x&&x[X-m]||0,P=f(b,I,C),j[X+1]=g[X]-P+256&255;return j},f=function(g,m,x){if(g===m&&m===x)return g;var b=Math.abs(m-x),I=Math.abs(g-x),C=Math.abs(g+m-x-x);return b<=I&&b<=C?g:I<=C?m:x},h=function(){return[i,a,o,s,u]},p=function(g){var m=g.map(function(x){return x.reduce(function(b,I){return b+Math.abs(I)},0)});return m.indexOf(Math.min.apply(null,m))};n.processPNG=function(g,m,x,b){var I,C,P,j,z,X,H,D,E,T,M,R,L,B,q,te=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(P=new Dz(g)).imgData,C=P.bits,I=P.colorSpace,z=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){E=(D=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,M=new Uint8Array(E*P.colors),T=new Uint8Array(E);var U,Q=P.pixelBitlength-P.bits;for(B=0,q=0;B<E;B++){for(L=D[B],U=0;U<Q;)M[q++]=L>>>U&255,U+=P.bits;T[B]=L>>>U&255}}if(P.bits===16){E=(D=new Uint32Array(P.decodePixels().buffer)).length,M=new Uint8Array(E*(32/P.pixelBitlength)*P.colors),T=new Uint8Array(E*(32/P.pixelBitlength)),R=P.colors>1,B=0,q=0;for(var ae=0;B<E;)L=D[B++],M[q++]=L>>>0&255,R&&(M[q++]=L>>>16&255,L=D[B++],M[q++]=L>>>0&255),T[ae++]=L>>>16&255;C=8}b!==n.image_compression.NONE&&e()?(g=t(M,P.width*P.colors,P.colors,b),H=t(T,P.width,1,b)):(g=M,H=T,te=void 0)}if(P.colorType===3&&(I=this.color_spaces.INDEXED,X=P.palette,P.transparency.indexed)){var Y=P.transparency.indexed,me=0;for(B=0,E=Y.length;B<E;++B)me+=Y[B];if((me/=255)===E-1&&Y.indexOf(0)!==-1)j=[Y.indexOf(0)];else if(me!==E){for(D=P.decodePixels(),T=new Uint8Array(D.length),B=0,E=D.length;B<E;B++)T[B]=Y[D[B]];H=t(T,P.width,1)}}var G=function(Z){var ne;switch(Z){case n.image_compression.FAST:ne=11;break;case n.image_compression.MEDIUM:ne=13;break;case n.image_compression.SLOW:ne=14;break;default:ne=12}return ne}(b);return te===this.decode.FLATE_DECODE&&(V="/Predictor "+G+" "),V+="/Colors "+z+" /BitsPerComponent "+C+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:x,data:g,index:m,filter:te,decodeParameters:V,transparency:j,palette:X,sMask:H,predictor:G,width:P.width,height:P.height,bitsPerComponent:C,colorSpace:I}}}})(Wt.API),function(n){n.processGIF89A=function(e,t,r,i){var a=new Oz(e),o=a.width,s=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:s},h=new Fv(100).encode(f,100);return n.processJPEG.call(this,h,t,r,i)},n.processGIF87A=n.processGIF89A}(Wt.API),tl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},tl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){vr.log("bit decode error:"+t)}},tl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var u=this.palette[a>>7-s&1];this.data[o+4*s]=u.blue,this.data[o+4*s+1]=u.green,this.data[o+4*s+2]=u.red,this.data[o+4*s+3]=255}t!==0&&(this.pos+=4-t)}},tl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,u=15&a,f=this.palette[s];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},tl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},tl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,u=(a>>10&e)/e*255|0,f=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=u,this.data[h+1]=s,this.data[h+2]=o,this.data[h+3]=f}this.pos+=n}},tl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,f=(o>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=s,this.data[h+3]=255}this.pos+=n}},tl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},tl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},tl.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var a=new tl(e,!1),o=a.width,s=a.height,u={data:a.getData(),width:o,height:s},f=new Fv(100).encode(u,100);return n.processJPEG.call(this,f,t,r,i)}}(Wt.API),U4.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var a=new U4(e),o=a.width,s=a.height,u={data:a.getData(),width:o,height:s},f=new Fv(100).encode(u,100);return n.processJPEG.call(this,f,t,r,i)}}(Wt.API),Wt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,u=0,f=0;f<i;f+=4){var h=r[f],p=r[f+1],g=r[f+2],m=r[f+3];a[s++]=h,a[s++]=p,a[s++]=g,o[u++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Wt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yh=Wt.API,Hp=Yh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,u=s.fof?s.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,p=e.doKerning!==!1,g=0,m=n.length,x=0,b=s[0]||u,I=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(g=p&&or(f[r])==="object"&&!isNaN(parseInt(f[r][x],10))?f[r][x]/h:0,I.push((s[r]||b)/u+g)),x=r;return I},M4=Yh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Yh.processArabic&&(n=Yh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Hp.apply(this,arguments).reduce(function(a,o){return a+o},0)},j4=function(n,e,t,r){for(var i=[],a=0,o=n.length,s=0;a!==o&&s+e[a]<t;)s+=e[a],a++;i.push(n.slice(0,a));var u=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(n.slice(u,a)),s=0,u=a),s+=e[a],a++;return u!==a&&i.push(n.slice(u,a)),i},B4=function(n,e,t){t||(t={});var r,i,a,o,s,u,f,h=[],p=[h],g=t.textIndent||0,m=0,x=0,b=n.split(" "),I=Hp.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?b[0].length+2:t.lineIndent||0){var C=Array(u).join(" "),P=[];b.map(function(z){(z=z.split(/\s*\n/)).length>1?P=P.concat(z.map(function(X,H){return(H&&X.length?`
`:"")+X})):P.push(z[0])}),b=P,u=M4.apply(this,[C,t])}for(a=0,o=b.length;a<o;a++){var j=0;if(r=b[a],u&&r[0]==`
`&&(r=r.substr(1),j=1),g+m+(x=(i=Hp.apply(this,[r,t])).reduce(function(z,X){return z+X},0))>e||j){if(x>e){for(s=j4.apply(this,[r,i,e-(g+m),e]),h.push(s.shift()),h=[s.pop()];s.length;)p.push([s.shift()]);x=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(z,X){return z+X},0)}else h=[r];p.push(h),g=x+u,m=I}else h.push(r),g+=m+x,m=I}return f=u?function(z,X){return(X?C:"")+z.join(" ")}:function(z){return z.join(" ")},p.map(f)},Yh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var s,u,f=[];for(s=0,u=r.length;s<u;s++)f=f.concat(B4.apply(this,[r[s],o,a]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=n.__fontmetrics__.compress=function(p){var g,m,x,b,I=["{"];for(var C in p){if(g=p[C],isNaN(parseInt(C,10))?m="'"+C+"'":(C=parseInt(C,10),m=(m=a(C).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(x=a(g).slice(3),b="-"):(x=a(g).slice(2),b=""),x=b+x.slice(0,-1)+r[x.slice(-1)];else{if(or(g)!=="object")throw new Error("Don't know what to do with value type "+or(g)+".");x=o(g)}I.push(m+x)}return I.push("}"),I.join("")},s=n.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,x,b,I={},C=1,P=I,j=[],z="",X="",H=p.length-1,D=1;D<H;D+=1)(b=p[D])=="'"?g?(x=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(j.push([P,x]),P={},x=void 0):b=="}"?((m=j.pop())[0][m[1]]=P,x=void 0,P=m[0]):b=="-"?C=-1:x===void 0?t.hasOwnProperty(b)?(z+=t[b],x=parseInt(z,16)*C,C=1,z=""):z+=b:t.hasOwnProperty(b)?(X+=t[b],P[x]=parseInt(X,16)*C,C=1,x=void 0,X=""):X+=b;return I},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(p){var g=p.font,m=h.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var x=f.Unicode[g.postScriptName];x&&(g.metadata.Unicode.encoding=x,g.encoding=x.codePages[0])}])}(Wt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e($1(s)),o.metadata=n.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Wt),function(n){function e(){return(Gt.canvg?Promise.resolve(Gt.canvg):By(()=>import("./index.es-DyEkDenU.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Wt.API.addSvgAsImage=function(t,r,i,a,o,s,u,f){if(isNaN(r)||isNaN(i))throw vr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw vr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=o;var p=h.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(x){return x.fromString(p,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(g)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),r,i,a,o,u,f)})}}(),Wt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Wt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),u=[],f=0,h=0,p=0;function g(x,b){var I,C=!1;for(I=0;I<x.length;I+=1)x[I]===b&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=s.length;for(p=0;p<m;p+=1)t[s[p]].value=t[s[p]].defaultValue,t[s[p]].explicitSet=!1}if(or(n)==="object"){for(i in n)if(a=n[i],g(s,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&g(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(h=0;h<a[f].length;h+=1)typeof a[f][h]!="number"&&(r=!1);r===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,b=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?b.push("/"+x+" /"+t[x].value):b.push("/"+x+" "+t[x].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+o.length+s.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Wt.API),function(n){var e=n.API,t=e.pdfEscape16=function(a,o){for(var s,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],p=0,g=a.length;p<g;++p){if(s=o.metadata.characterToGlyph(a.charCodeAt(p)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(p),u.indexOf(s)==-1&&(u.push(s),u.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return h.join("");s=s.toString(16),h.push(f[4-s.length],s)}return h.join("")},r=function(a){var o,s,u,f,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,g=(s=Object.keys(a).sort(function(m,x){return m-x})).length;p<g;p++)o=s[p],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(f=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,u=o.out,f=o.newObject,h=o.putStream;if(s.metadata instanceof n.API.TTFFont&&s.encoding==="Identity-H"){for(var p=s.metadata.Unicode.widths,g=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),m="",x=0;x<g.length;x++)m+=String.fromCharCode(g[x]);var b=f();h({data:m,addLength1:!0,objectId:b}),u("endobj");var I=f();h({data:r(s.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var C=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+td(s.fontName)),u("/FontFile2 "+b+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(s.metadata.bbox)),u("/Flags "+s.metadata.flags),u("/StemV "+s.metadata.stemV),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u(">>"),u("endobj");var P=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+td(s.fontName)),u("/FontDescriptor "+C+" 0 R"),u("/W "+n.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+s.encoding+")"),u(">>"),u(">>"),u("endobj"),s.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+I+" 0 R"),u("/BaseFont /"+td(s.fontName)),u("/Encoding /"+s.encoding),u("/DescendantFonts ["+P+" 0 R]"),u(">>"),u("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,u=o.out,f=o.newObject,h=o.putStream;if(s.metadata instanceof n.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var p=s.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var x=f();h({data:g,addLength1:!0,objectId:x}),u("endobj");var b=f();h({data:r(s.metadata.toUnicode),addLength1:!0,objectId:b}),u("endobj");var I=f();u("<<"),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u("/StemV "+s.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(s.metadata.bbox)),u("/FontName /"+td(s.fontName)),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u(">>"),u("endobj"),s.objectNumber=f();for(var C=0;C<s.metadata.hmtx.widths.length;C++)s.metadata.hmtx.widths[C]=parseInt(s.metadata.hmtx.widths[C]*(1e3/s.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+td(s.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),u("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",u=a.x,f=a.y,h=a.options||{},p=a.mutex||{},g=p.pdfEscape,m=p.activeFontKey,x=p.fonts,b=m,I="",C=0,P="",j=x[b].encoding;if(x[b].encoding!=="Identity-H")return{text:s,x:u,y:f,options:h,mutex:p};for(P=s,b=m,Array.isArray(s)&&(P=s[0]),C=0;C<P.length;C+=1)x[b].metadata.hasOwnProperty("cmap")&&(o=x[b].metadata.cmap.unicode.codeMap[P[C].charCodeAt(0)]),o||P[C].charCodeAt(0)<256&&x[b].metadata.hasOwnProperty("Unicode")?I+=P[C]:I+="";var z="";return parseInt(b.slice(1))<14||j==="WinAnsiEncoding"?z=g(I,b).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(z=t(I,x[b])),p.isHex=!0,{text:z,x:u,y:f,options:h,mutex:p}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],u={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?s.push([i(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):s.push(i(Object.assign({},u,{text:o[f]})).text);a.text=s}else a.text=i(Object.assign({},u,{text:o})).text}])}(Wt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Wt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,o,s,u,f,h,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,j=0;this.__bidiEngine__={};var z=function(R){var L=R.charCodeAt(),B=L>>8,q=b[B];return q!==void 0?p[256*q+(255&L)]:B===252||B===253?"AL":C.test(B)?"L":B===8?"R":"N"},X=function(R){for(var L,B=0;B<R.length;B++){if((L=z(R.charAt(B)))==="L")return!1;if(L==="R")return!0}return!1},H=function(R,L,B,q){var te,V,U,Q,ae=L[q];switch(ae){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(ae="AN");break;case"AL":P=!0,ae="R";break;case"WS":ae="N";break;case"CS":q<1||q+1>=L.length||(te=B[q-1])!=="EN"&&te!=="AN"||(V=L[q+1])!=="EN"&&V!=="AN"?ae="N":P&&(V="AN"),ae=V===te?V:"N";break;case"ES":ae=(te=q>0?B[q-1]:"B")==="EN"&&q+1<L.length&&L[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&B[q-1]==="EN"){ae="EN";break}if(P){ae="N";break}for(U=q+1,Q=L.length;U<Q&&L[U]==="ET";)U++;ae=U<Q&&L[U]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(Q=L.length,U=q+1;U<Q&&L[U]==="NSM";)U++;if(U<Q){var Y=R[q],me=Y>=1425&&Y<=2303||Y===64286;if(te=L[U],me&&(te==="R"||te==="AL")){ae="R";break}}}ae=q<1||(te=L[q-1])==="B"?"N":B[q-1];break;case"B":P=!1,i=!0,ae=j;break;case"S":a=!0,ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":ae="N"}return ae},D=function(R,L,B){var q=R.split("");return B&&E(q,B,{hiLevel:j}),q.reverse(),L&&L.reverse(),q.join("")},E=function(R,L,B){var q,te,V,U,Q,ae=-1,Y=R.length,me=0,G=[],Z=j?m:g,ne=[];for(P=!1,i=!1,a=!1,te=0;te<Y;te++)ne[te]=z(R[te]);for(V=0;V<Y;V++){if(Q=me,G[V]=H(R,ne,G,V),q=240&(me=Z[Q][x[G[V]]]),me&=15,L[V]=U=Z[me][5],q>0)if(q===16){for(te=ae;te<V;te++)L[te]=1;ae=-1}else ae=-1;if(Z[me][6])ae===-1&&(ae=V);else if(ae>-1){for(te=ae;te<V;te++)L[te]=U;ae=-1}ne[V]==="B"&&(L[V]=0),B.hiLevel|=U}a&&function(oe,ge,Ee){for(var we=0;we<Ee;we++)if(oe[we]==="S"){ge[we]=j;for(var Ie=we-1;Ie>=0&&oe[Ie]==="WS";Ie--)ge[Ie]=j}}(ne,L,Y)},T=function(R,L,B,q,te){if(!(te.hiLevel<R)){if(R===1&&j===1&&!i)return L.reverse(),void(B&&B.reverse());for(var V,U,Q,ae,Y=L.length,me=0;me<Y;){if(q[me]>=R){for(Q=me+1;Q<Y&&q[Q]>=R;)Q++;for(ae=me,U=Q-1;ae<U;ae++,U--)V=L[ae],L[ae]=L[U],L[U]=V,B&&(V=B[ae],B[ae]=B[U],B[U]=V);me=Q}me++}}},M=function(R,L,B){var q=R.split(""),te={hiLevel:j};return B||(B=[]),E(q,B,te),function(V,U,Q){if(Q.hiLevel!==0&&h)for(var ae,Y=0;Y<V.length;Y++)U[Y]===1&&(ae=I.indexOf(V[Y]))>=0&&(V[Y]=I[ae+1])}(q,B,te),T(2,q,L,B,te),T(1,q,L,B,te),q.join("")};return this.__bidiEngine__.doBidiReorder=function(R,L,B){if(function(te,V){if(V)for(var U=0;U<te.length;U++)V[U]=U;s===void 0&&(s=X(te)),f===void 0&&(f=X(te))}(R,L),o||!u||f)if(o&&u&&s^f)j=s?1:0,R=D(R,L,B);else if(!o&&u&&f)j=s?1:0,R=M(R,L,B),R=D(R,L);else if(!o||s||u||f){if(o&&!u&&s^f)R=D(R,L),s?(j=0,R=M(R,L,B)):(j=1,R=M(R,L,B),R=D(R,L));else if(o&&s&&!u&&f)j=1,R=M(R,L,B),R=D(R,L);else if(!o&&!u&&s^f){var q=h;s?(j=1,R=M(R,L,B),j=0,h=!1,R=M(R,L,B),h=q):(j=0,R=M(R,L,B),R=D(R,L),j=1,h=!1,R=M(R,L,B),h=q,R=D(R,L))}}else j=0,R=M(R,L,B);else j=s?1:0,R=M(R,L,B);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,u=R.isOutputVisual,s=R.isInputRtl,f=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([t.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([t.doBidiReorder(i[s])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Wt),Wt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new pf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new $z(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Pz(this.contents),this.head=new kz(this),this.name=new Uz(this),this.cmap=new I8(this),this.toUnicode={},this.hhea=new Mz(this),this.maxp=new Vz(this),this.hmtx=new zz(this),this.post=new Bz(this),this.os2=new jz(this),this.loca=new Gz(this),this.glyf=new qz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,u,f;for(f=[],o=0,s=(u=this.bbox).length;o<s;o++)e=u[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var dl,pf=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,a,o,s,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)t=e[r],a.push(this.writeByte(t));return a},n}(),Pz=function(){var n;function e(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,a,o,s,u,f,h,p,g,m,x,b;for(b in m=Object.keys(t).length,u=Math.log(2),p=16*Math.floor(Math.log(m)/u),o=Math.floor(p/u),h=16*m-p,(i=new pf).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(o),i.writeShort(h),a=16*m,f=i.pos+a,s=null,x=[],t)for(g=t[b],i.writeString(b),i.writeInt(n(g)),i.writeInt(f),i.writeInt(g.length),x=x.concat(g),b==="head"&&(s=f),f+=g.length;f%4;)x.push(0),f++;return i.write(x),r=2981146554-n(i.data),i.pos=s+8,i.writeUInt32(r),i.data},n=function(t){var r,i,a,o;for(t=T8.call(t);t.length%4;)t.push(0);for(a=new pf(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),Lz={}.hasOwnProperty,su=function(n,e){for(var t in e)Lz.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};dl=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var kz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new pf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),V4=function(){function n(e,t){var r,i,a,o,s,u,f,h,p,g,m,x,b,I,C,P,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,a=function(){var z,X;for(X=[],u=z=0;0<=g?z<g:z>g;u=0<=g?++z:--z)X.push(e.readUInt16());return X}(),e.pos+=2,b=function(){var z,X;for(X=[],u=z=0;0<=g?z<g:z>g;u=0<=g?++z:--z)X.push(e.readUInt16());return X}(),f=function(){var z,X;for(X=[],u=z=0;0<=g?z<g:z>g;u=0<=g?++z:--z)X.push(e.readUInt16());return X}(),h=function(){var z,X;for(X=[],u=z=0;0<=g?z<g:z>g;u=0<=g?++z:--z)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,s=function(){var z,X;for(X=[],u=z=0;0<=i?z<i:z>i;u=0<=i?++z:--z)X.push(e.readUInt16());return X}(),u=C=0,j=a.length;C<j;u=++C)for(I=a[u],r=P=x=b[u];x<=I?P<=I:P>=I;r=x<=I?++P:--P)h[u]===0?o=r+f[u]:(o=s[h[u]/2+(r-x)-(g-u)]||0)!==0&&(o+=f[u]),this.codeMap[r]=65535&o}e.pos=p}return n.encode=function(e,t){var r,i,a,o,s,u,f,h,p,g,m,x,b,I,C,P,j,z,X,H,D,E,T,M,R,L,B,q,te,V,U,Q,ae,Y,me,G,Z,ne,oe,ge,Ee,we,Ie,Ge,We,st;switch(q=new pf,o=Object.keys(e).sort(function(ut,qe){return ut-qe}),t){case"macroman":for(b=0,I=function(){var ut=[];for(x=0;x<256;++x)ut.push(0);return ut}(),P={0:0},a={},te=0,ae=o.length;te<ae;te++)P[Ie=e[i=o[te]]]==null&&(P[Ie]=++b),a[i]={old:e[i],new:P[e[i]]},I[i]=P[e[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(I),{charMap:a,subtable:q.data,maxGlyphID:b+1};case"unicode":for(L=[],p=[],j=0,P={},r={},C=f=null,V=0,Y=o.length;V<Y;V++)P[X=e[i=o[V]]]==null&&(P[X]=++j),r[i]={old:X,new:P[X]},s=P[X]-i,C!=null&&s===f||(C&&p.push(C),L.push(i),f=s),C=i;for(C&&p.push(C),p.push(65535),L.push(65535),M=2*(T=L.length),E=2*Math.pow(Math.log(T)/Math.LN2,2),g=Math.log(E/2)/Math.LN2,D=2*T-E,u=[],H=[],m=[],x=U=0,me=L.length;U<me;x=++U){if(R=L[x],h=p[x],R===65535){u.push(0),H.push(0);break}if(R-(B=r[R].new)>=32768)for(u.push(0),H.push(2*(m.length+T-x)),i=Q=R;R<=h?Q<=h:Q>=h;i=R<=h?++Q:--Q)m.push(r[i].new);else u.push(B-R),H.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*T+2*m.length),q.writeUInt16(0),q.writeUInt16(M),q.writeUInt16(E),q.writeUInt16(g),q.writeUInt16(D),Ee=0,G=p.length;Ee<G;Ee++)i=p[Ee],q.writeUInt16(i);for(q.writeUInt16(0),we=0,Z=L.length;we<Z;we++)i=L[we],q.writeUInt16(i);for(Ge=0,ne=u.length;Ge<ne;Ge++)s=u[Ge],q.writeUInt16(s);for(We=0,oe=H.length;We<oe;We++)z=H[We],q.writeUInt16(z);for(st=0,ge=m.length;st<ge;st++)b=m[st],q.writeUInt16(b);return{charMap:r,subtable:q.data,maxGlyphID:j+1}}},n}(),I8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new V4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=V4.encode(t,r),(a=new pf).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),Mz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),jz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Bz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var s,u,f;for(f=[],o=s=0,u=this.file.maxp.numGlyphs;0<=u?s<u:s>u;o=0<=u?++s:--s)f.push(t.readUInt32());return f}).call(this)}},e}(),Fz=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Uz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,a,o,s,u,f,h,p,g,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(f={},o=p=0,g=i.length;p<g;o=++p)a=i[o],t.pos=a.offset,h=t.readString(a.length),s=new Fz(h,a),f[m=a.nameID]==null&&(f[m]=[]),f[a.nameID].push(s);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),Vz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),zz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,a,o,s,u,f;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,p;for(p=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)p.push(t.readInt16());return p}(),this.widths=(function(){var h,p,g,m;for(m=[],h=0,p=(g=this.metrics).length;h<p;h++)o=g[h],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],f=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),T8=[].slice,qz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,a,o,s,u,f,h,p,g;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,s=(u=new pf(r.read(a))).readShort(),h=u.readShort(),g=u.readShort(),f=u.readShort(),p=u.readShort(),this.cache[t]=s===-1?new Wz(u,h,g,f,p):new Hz(u,s,h,g,f,p),this.cache[t]))},e.prototype.encode=function(t,r,i){var a,o,s,u,f;for(s=[],o=[],u=0,f=r.length;u<f;u++)a=t[r[u]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),Hz=function(){function n(e,t,r,i,a,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Wz=function(){function n(e,t,r,i,a){var o,s;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new pf(T8.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Gz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return su(e,dl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var u=this.offsets[s],f=this.offsets[s+1]-u;f>0&&(a+=f)}for(var h=new Array(4*i.length),p=0;p<i.length;++p)h[4*p+3]=255&i[p],h[4*p+2]=(65280&i[p])>>8,h[4*p+1]=(16711680&i[p])>>16,h[4*p]=(4278190080&i[p])>>24;return h},e}(),$z=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,a,o,s,u;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in u=this.glyphsFor(t))r=u[a],i[a]=r;return i},n.prototype.encode=function(e,t){var r,i,a,o,s,u,f,h,p,g,m,x,b,I,C;for(i in r=I8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},C=r.charMap)m[(u=C[i]).old]=u.new;for(x in g=r.maxGlyphID,o)x in m||(m[x]=g++);return h=function(P){var j,z;for(j in z={},P)z[P[j]]=j;return z}(m),p=Object.keys(h).sort(function(P,j){return P-j}),b=function(){var P,j,z;for(z=[],P=0,j=p.length;P<j;P++)s=p[P],z.push(h[s]);return z}(),a=this.font.glyf.encode(o,b,m),f=this.font.loca.encode(a.offsets,b),I={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},n}();Wt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,a,o;if(Array.isArray(t))return"["+function(){var s,u,f;for(f=[],s=0,u=t.length;s<u;s++)r=t[s],f.push(e.convert(r));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)o=t[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+t},e}();function R8(n,e,t,r,i){r=r||{};var a=1.15,o=i.internal.scaleFactor,s=i.internal.getFontSize()/o,u=i.getLineHeightFactor?i.getLineHeightFactor():a,f=s*u,h=/\r\n|\r|\n/g,p="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof n=="string"?n.split(h):n,g=p.length||1),t+=s*(2-a),r.valign==="middle"?t-=g/2*f:r.valign==="bottom"&&(t-=g*f),r.halign==="center"||r.halign==="right"){var m=s;if(r.halign==="center"&&(m*=.5),p&&g>=1){for(var x=0;x<p.length;x++)i.text(p[x],e-i.getStringUnitWidth(p[x])*m,t),t+=f;return i}e-=i.getStringUnitWidth(n)*m}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var z4={},gd=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:z4=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,u=o.fontName;if(e.font&&(u=e.font),e.fontStyle){s=e.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),s=f[0])}if(this.jsPDFDocument.setFont(u,s),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var h=n.unifyColor(e.fillColor);h&&(r=this.jsPDFDocument).setFillColor.apply(r,h),h=n.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=n.unifyColor(e.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,a){return this.jsPDFDocument.rect(e,t,r,i,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return z4||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),Ky=function(n,e){return Ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Ky(n,e)};function N8(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ky(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var D8=function(n){N8(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e}(Array);function Xz(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Yz(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Xg(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(a){return t.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function O8(n,e,t,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:a});var o=P8(i,!1);o&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,o)}function P8(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function qm(n,e){var t,r,i,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function L8(n,e){var t=qm(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function Kz(n,e,t,r,i){var a={},o=1.3333333333333333,s=Uv(e,function(j){return i.getComputedStyle(j).backgroundColor});s!=null&&(a.fillColor=s);var u=Uv(e,function(j){return i.getComputedStyle(j).color});u!=null&&(a.textColor=u);var f=Zz(r,t);f&&(a.cellPadding=f);var h="borderTopColor",p=o*t,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(a.lineWidth=m)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var x=Uv(e,function(j){return i.getComputedStyle(j)[h]});x!=null&&(a.lineColor=x);var b=["left","right","center","justify"];b.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),b=["middle","bottom","top"],b.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var I=parseInt(r.fontSize||"");isNaN(I)||(a.fontSize=I/o);var C=Qz(r);C&&(a.fontStyle=C);var P=(r.fontFamily||"").toLowerCase();return n.indexOf(P)!==-1&&(a.font=P),a}function Qz(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function Uv(n,e){var t=k8(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function k8(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:k8(n.parentElement,e):t}function Zz(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=t.map(function(s){return parseInt(s||"0")/r}),o=qm(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function M8(n,e,t,r,i){var a,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var s;typeof e=="string"?s=t.document.querySelector(e):s=e;var u=Object.keys(n.getFontList()),f=n.scaleFactor(),h=[],p=[],g=[];if(!s)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:g};for(var m=0;m<s.rows.length;m++){var x=s.rows[m],b=(o=(a=x==null?void 0:x.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),I=Jz(u,f,t,x,r,i);I&&(b==="thead"?h.push(I):b==="tfoot"?g.push(I):p.push(I))}return{head:h,body:p,foot:g}}function Jz(n,e,t,r,i,a){for(var o=new D8(r),s=0;s<r.cells.length;s++){var u=r.cells[s],f=t.getComputedStyle(u);if(i||f.display!=="none"){var h=void 0;a&&(h=Kz(n,u,e,f,t)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:eq(u)})}}var p=t.getComputedStyle(r);if(o.length>0&&(i||p.display!=="none"))return o}function eq(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function tq(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function zu(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])}return a}function nq(n,e){var t=new gd(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();tq(i,r,e);var a=zu({},i,r,e),o;typeof window<"u"&&(o=window);var s=rq(i,r,e),u=iq(i,r,e),f=aq(t,a),h=sq(t,a,o);return{id:e.tableId,content:h,hooks:u,styles:s,settings:f}}function rq(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var f=n[u],h=e[u],p=t[u];r.columnStyles=zu({},f,h,p)}else{var g=[n,e,t],m=g.map(function(x){return x[u]||{}});r[u]=zu({},m[0],m[1],m[2])}},a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];i(s)}return r}function iq(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var s=o[a];s.didParseCell&&i.didParseCell.push(s.didParseCell),s.willDrawCell&&i.willDrawCell.push(s.willDrawCell),s.didDrawCell&&i.didDrawCell.push(s.didDrawCell),s.willDrawPage&&i.willDrawPage.push(s.willDrawPage),s.didDrawPage&&i.didDrawPage.push(s.didDrawPage)}return i}function aq(n,e){var t,r,i,a,o,s,u,f,h,p,g,m,x=qm(e.margin,40/n.scaleFactor()),b=(t=oq(n,e.startY))!==null&&t!==void 0?t:x.top,I;e.showFoot===!0?I="everyPage":e.showFoot===!1?I="never":I=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var C;e.showHead===!0?C="everyPage":e.showHead===!1?C="never":C=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var P=(a=e.useCss)!==null&&a!==void 0?a:!1,j=e.theme||(P?"plain":"striped"),z=!!e.horizontalPageBreak,X=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=e.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:P,theme:j,startY:b,margin:x,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:C,showFoot:I,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:z,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function oq(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),a=!1;if(t&&t.startPageNumber){var o=t.startPageNumber+t.pageNumber-1;a=o===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function sq(n,e,t){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(t){var s=M8(n,e.html,t,o,e.useCss)||{};r=s.head||r,i=s.body||r,a=s.foot||r}else console.error("Cannot parse html in non browser environment")}var u=e.columns||lq(r,i,a);return{columns:u,head:r,body:i,foot:a}}function lq(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,s;Array.isArray(r)?s=r[parseInt(a)]:s=r[a],typeof s=="object"&&!Array.isArray(s)&&(o=(s==null?void 0:s.colSpan)||1);for(var u=0;u<o;u++){var f=void 0;Array.isArray(r)?f=i.length:f=a+(u>0?"_".concat(u):"");var h={dataKey:f};i.push(h)}}),i}var Qy=function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n}(),uq=function(n){N8(e,n);function e(t,r,i,a,o,s){var u=n.call(this,t,r,s)||this;return u.cell=i,u.row=a,u.column=o,u.section=a.section,u}return e}(Qy),cq=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,a,o){for(var s=0,u=t;s<u.length;s++){var f=u[s],h=new uq(e,this,r,i,a,o),p=f(h)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Qy(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Qy(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n}(),j8=function(){function n(e,t,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof D8&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=t.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,a){var o=r.cells[a.index];if(!o)return 0;var s=t.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),f=u+s;return f>i?f:i},0)},n}(),B8=function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=qm(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),fq=function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(t=Math.max(t,o.styles.cellWidth))}return t},n}();function hq(n,e){dq(n,e);var t=[],r=0;e.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(e);o?a.width=o:(a.width=a.wrappedWidth,t.push(a)),r+=a.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=Zy(t,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=Zy(t,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),gq(e),mq(e,n),pq(e)}function dq(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=L8(n,e);e.allRows().forEach(function(a){for(var o=0,s=e.columns;o<s.length;o++){var u=s[o],f=a.cells[u.index];if(f){var h=e.hooks.didParseCell;e.callCellHooks(n,h,f,a,u,null);var p=f.padding("horizontal");f.contentWidth=Xg(f.text,f.styles,n)+p;var g=Xg(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=g+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var m=10/t;f.minWidth=f.styles.minCellWidth||m,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(a){for(var o=0,s=e.columns;o<s.length;o++){var u=s[o],f=a.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(u.minWidth=p,u.wrappedWidth=p)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function Zy(n,e,t){for(var r=e,i=n.reduce(function(m,x){return m+x.wrappedWidth},0),a=0;a<n.length;a++){var o=n[a],s=o.wrappedWidth/i,u=r*s,f=o.width+u,h=t(o),p=f<h?h:f;e-=p-o.width,o.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=n.filter(function(m){return e<0?m.width>t(m):!0});g.length&&(e=Zy(g,e,t))}return e}function pq(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var a=r[i],o=0,s=n.columns;o<s.length;o++){var u=s[o],f=e[u.index];if(t>1)t--,delete a.cells[u.index];else if(f)f.cell.height+=a.height,t=f.cell.colSpan,delete a.cells[u.index],f.left--,f.left<=1&&delete e[u.index];else{var h=a.cells[u.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var p=r.length-i,g=h.rowSpan>p?p:h.rowSpan;e[u.index]={cell:h,left:g,row:a}}}}}function gq(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,a=0,o=0,s=0;s<n.columns.length;s++){var u=n.columns[s];if(o-=1,o>1&&n.columns[s+1])a+=u.width,delete r.cells[u.index];else if(i){var f=i;delete r.cells[u.index],i=null,f.width=u.width+a}else{var f=r.cells[u.index];if(!f)continue;if(o=f.colSpan,a=0,f.colSpan>1){i=f,a+=u.width;continue}f.width=u.width+a}}}function mq(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var a=i[r],o=0,s=n.columns;o<s.length;o++){var u=s[o],f=a.cells[u.index];if(f){e.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,h+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=q4(f.text,h,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=q4(f.text,h,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var p=f.styles.overflow(f.text,h);typeof p=="string"?f.text=[p]:f.text=p}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<g*f.rowSpan?t={height:g,count:f.rowSpan}:t&&t.count>0&&t.height>g&&(g=t.height),g>a.height&&(a.height=g)}}t.count--}}function q4(n,e,t,r,i){return n.map(function(a){return vq(a,e,t,r,i)})}function vq(n,e,t,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Xg(n,t,r))return n;for(;e<Xg(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function yq(n,e){var t=new gd(n),r=xq(e,t.scaleFactor()),i=new cq(e,r);return hq(t,i),t.applyStyles(t.userStyles),i}function xq(n,e){var t=n.content,r=bq(t.columns);if(t.head.length===0){var i=H4(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=H4(r,"foot");i&&t.foot.push(i)}var a=n.settings.theme,o=n.styles;return{columns:r,head:Vv("head",t.head,r,o,a,e),body:Vv("body",t.body,r,o,a,e),foot:Vv("foot",t.foot,r,o,a,e)}}function Vv(n,e,t,r,i,a){var o={},s=e.map(function(u,f){for(var h=0,p={},g=0,m=0,x=0,b=t;x<b.length;x++){var I=b[x];if(o[I.index]==null||o[I.index].left===0)if(m===0){var C=void 0;Array.isArray(u)?C=u[I.index-g-h]:C=u[I.dataKey];var P={};typeof C=="object"&&!Array.isArray(C)&&(P=(C==null?void 0:C.styles)||{});var j=wq(n,I,f,i,r,a,P),z=new B8(C,j,n);p[I.dataKey]=z,p[I.index]=z,m=z.colSpan-1,o[I.index]={left:z.rowSpan-1,times:m}}else m--,g++;else o[I.index].left--,m=o[I.index].times,h++}return new j8(u,f,n,p)});return s}function H4(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=_q(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function _q(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function bq(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new fq(i,e,t)})}function wq(n,e,t,r,i,a,o){var s=Yz(r),u;n==="head"?u=i.headStyles:n==="body"?u=i.bodyStyles:n==="foot"&&(u=i.footStyles);var f=zu({},s.table,s[n],i.styles,u),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=n==="body"?h:{},g=n==="body"&&t%2===0?zu({},s.alternateRow,i.alternateRowStyles):{},m=Xz(a),x=zu({},m,f,g,p);return zu(x,o)}function Aq(n,e,t){var r;t===void 0&&(t={});var i=L8(n,e),a=new Map,o=[],s=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var m=e.columns.find(function(x){return x.dataKey===g||x.index===g});m&&!a.has(m.index)&&(a.set(m.index,!0),o.push(m.index),s.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var f=!0,h=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;h<e.columns.length;){if(a.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(f||i>=p)f=!1,o.push(h),s.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:o,columns:s,lastIndex:h-1}}function Eq(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=Aq(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function Sq(n,e){var t=e.settings,r=t.startY,i=t.margin,a={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),s=r+i.bottom+o;if(t.pageBreak==="avoid"){var u=e.body,f=u.reduce(function(g,m){return g+m.height},0);s+=f}var h=new gd(n);(t.pageBreak==="always"||t.startY!=null&&s>h.pageSize().height)&&(U8(h),a.y=i.top),e.callWillDrawPageHooks(h,a);var p=zu({},a);e.startPageNumber=h.pageNumber(),t.horizontalPageBreak?Cq(h,e,p,a):(h.applyStyles(h.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(g){return tc(h,e,g,a,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(g,m){var x=m===e.body.length-1;Yg(h,e,g,x,p,a,e.columns)}),h.applyStyles(h.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(g){return tc(h,e,g,a,e.columns)})),O8(h,e,p,a),e.callEndPageHooks(h,a),e.finalY=a.y,n.lastAutoTable=e,h.applyStyles(h.userStyles)}function Cq(n,e,t,r){var i=Eq(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,h){n.applyStyles(n.userStyles),h>0?X1(n,e,t,r,f.columns,!0):W4(n,e,r,f.columns),Iq(n,e,t,r,f.columns),zv(n,e,r,f.columns)});else for(var o=-1,s=i[0],u=function(){var f=o;if(s){n.applyStyles(n.userStyles);var h=s.columns;o>=0?X1(n,e,t,r,h,!0):W4(n,e,r,h),f=G4(n,e,o+1,r,h),zv(n,e,r,h)}var p=f-o;i.slice(1).forEach(function(g){n.applyStyles(n.userStyles),X1(n,e,t,r,g.columns,!0),G4(n,e,o+1,r,g.columns,p),zv(n,e,r,g.columns)}),o=f};o<e.body.length-1;)u()}function W4(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return tc(n,e,a,t,r)})}function Iq(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(a,o){var s=o===e.body.length-1;Yg(n,e,a,s,t,r,i)})}function G4(n,e,t,r,i,a){n.applyStyles(n.userStyles),a=a??e.body.length;var o=Math.min(t+a,e.body.length),s=-1;return e.body.slice(t,o).forEach(function(u,f){var h=t+f===e.body.length-1,p=F8(n,e,h,r);u.canEntireRowFit(p,i)&&(tc(n,e,u,r,i),s=t+f)}),s}function zv(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return tc(n,e,a,t,r)})}function Tq(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function Rq(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var a=0,o=0,s=t.columns;o<s.length;o++){var u=s[o],f=n.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new B8(f.raw,f.styles,f.section);h=zu(h,f),h.text=[];var p=Tq(f,e,r);f.text.length>p&&(h.text=f.text.splice(p,f.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(g,m),f.contentHeight>=e&&(f.contentHeight=e,h.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),h.contentHeight=h.getContentHeight(g,m),h.contentHeight>a&&(a=h.contentHeight),i[u.index]=h}}var x=new j8(n.raw,-1,n.section,i,!0);x.height=a;for(var b=0,I=t.columns;b<I.length;b++){var u=I[b],h=x.cells[u.index];h&&(h.height=x.height);var f=n.cells[u.index];f&&(f.height=n.height)}return x}function Nq(n,e,t,r){var i=n.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,s=i-o;e.section==="body"&&(s-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=e.getMinimumRowHeight(r.columns,n),f=u<t;if(u>s)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=e.hasRowSpan(r.columns),p=e.getMaxCellHeight(r.columns)>s;return p?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||r.settings.rowPageBreak==="avoid")}function Yg(n,e,t,r,i,a,o){var s=F8(n,e,r,a);if(t.canEntireRowFit(s,o))tc(n,e,t,a,o);else if(Nq(n,t,s,e)){var u=Rq(t,s,e,n);tc(n,e,t,a,o),X1(n,e,i,a,o),Yg(n,e,u,r,i,a,o)}else X1(n,e,i,a,o),Yg(n,e,t,r,i,a,o)}function tc(n,e,t,r,i){r.x=e.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var s=o[a],u=t.cells[s.index];if(!u){r.x+=s.width;continue}n.applyStyles(u.styles),u.x=r.x,u.y=r.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,u,t,s,r);if(f===!1){r.x+=s.width;continue}Dq(n,u,r);var h=u.getTextPos();R8(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,u,t,s,r),r.x+=s.width}r.y+=t.height}function Dq(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=P8(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),Oq(n,e,t,r.lineWidth))}function Oq(n,e,t,r){var i,a,o,s;r.top&&(i=t.x,a=t.y,o=t.x+e.width,s=t.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),u(r.top,i,a,o,s)),r.bottom&&(i=t.x,a=t.y+e.height,o=t.x+e.width,s=t.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),u(r.bottom,i,a,o,s)),r.left&&(i=t.x,a=t.y,o=t.x,s=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),u(r.left,i,a,o,s)),r.right&&(i=t.x+e.width,a=t.y,o=t.x+e.width,s=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),u(r.right,i,a,o,s));function u(f,h,p,g,m){n.getDocument().setLineWidth(f),n.getDocument().line(h,p,g,m,"S")}}function F8(n,e,t,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function X1(n,e,t,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(s){return tc(n,e,s,r,i)}),e.callEndPageHooks(n,r);var o=e.settings.margin;O8(n,e,t,r),U8(n),e.pageNumber++,r.x=o.left,r.y=o.top,t.y=o.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(s){return tc(n,e,s,r,i)}),n.applyStyles(n.userStyles))}function U8(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function Pq(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=nq(this,r),a=yq(this,i);return Sq(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){R8(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return gd.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){gd.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new gd(this),a=M8(i,e,window,t,!1),o=a.head,s=a.body,u=((r=o[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:u,rows:s,data:s}}}var qv;try{if(typeof window<"u"&&window){var $4=window,X4=$4.jsPDF||((qv=$4.jspdf)===null||qv===void 0?void 0:qv.jsPDF);X4&&Pq(X4)}}catch(n){console.error("Could not apply autoTable plugin",n)}const Lq=({showStatsModal:n,setShowStatsModal:e,loanHistory:t})=>{const r=pe.useMemo(()=>{if(!t||t.length===0)return null;const i=q=>q?q.seconds?new Date(q.seconds*1e3):new Date(q):null,a=t.length,o=a,s=0,u=t.flatMap(q=>q.items||[]),f=u.reduce((q,te)=>q+(te.quantity||1),0),h={};u.forEach(q=>{const te=q.name;h[te]=(h[te]||0)+(q.quantity||1)});const p=Object.entries(h).sort(([,q],[,te])=>te-q).slice(0,5).map(([q,te])=>({name:q,count:te})),g={};t.forEach(q=>{const te=q.clientName||"לא צוין";g[te]=(g[te]||0)+1});const m=Object.entries(g).sort(([,q],[,te])=>te-q).slice(0,5).map(([q,te])=>({name:q,count:te})),x={};t.forEach(q=>{const te=q.volunteerName||"לא צוין";x[te]=(x[te]||0)+1});const b=Object.entries(x).sort(([,q],[,te])=>te-q).slice(0,5).map(([q,te])=>({name:q,count:te})),I=new Date().getMonth(),C=new Date().getFullYear(),P=t.filter(q=>{const te=i(q.pickupDate);return te?te.getMonth()===I&&te.getFullYear()===C:!1}).length,j=I===0?11:I-1,z=I===0?C-1:C,X=t.filter(q=>{const te=i(q.pickupDate);return te?te.getMonth()===j&&te.getFullYear()===z:!1}).length,H=t.filter(q=>q.pickupDate&&q.returnDate);let D=0;if(H.length>0){const q=H.reduce((te,V)=>{const U=i(V.pickupDate),Q=i(V.returnDate);if(!U||!Q)return te;const ae=Math.ceil((Q-U)/(1e3*60*60*24));return te+Math.max(0,ae)},0);D=Math.round(q/H.length)}const E=t.filter(q=>q.returnInspection),T=E.reduce((q,te)=>{var V;return(V=te.returnInspection)!=null&&V.itemInspections?q+te.returnInspection.itemInspections.reduce((U,Q)=>U+(Q.quantityReturned||0),0):q},0),M=E.reduce((q,te)=>{var V;return(V=te.returnInspection)!=null&&V.itemInspections?q+te.returnInspection.itemInspections.filter(U=>U.condition==="damaged").reduce((U,Q)=>U+(Q.quantityReturned||0),0):q},0),R=E.reduce((q,te)=>{var V;return(V=te.returnInspection)!=null&&V.itemInspections?q+te.returnInspection.itemInspections.filter(U=>U.condition==="lost").reduce((U,Q)=>U+Math.max(0,(Q.quantityExpected||0)-(Q.quantityReturned||0)),0):q},0),L={};t.forEach(q=>{const te=q.eventType||"לא צוין";L[te]=(L[te]||0)+1});const B=Object.entries(L).sort(([,q],[,te])=>te-q).slice(0,5).map(([q,te])=>({name:q,count:te}));return{totalLoans:a,activeLoans:s,completedLoans:o,totalItemsLoaned:f,totalItemsReturned:T,damagedItems:M,lostItems:R,mostPopularItems:p,topBorrowers:m,topVolunteers:b,topEventTypes:B,thisMonthLoans:P,lastMonthLoans:X,averageDuration:D,loansWithInspection:E.length}},[t]);return n?r?w.jsx("div",{className:"modal-overlay",onClick:()=>e(!1),children:w.jsxs("div",{className:"modal-box",dir:"rtl",onClick:i=>i.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[w.jsx("h2",{style:{textAlign:"center",marginBottom:"2rem",color:"#2196F3"},children:"📊 סטטיסטיקות השאלות"}),w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{borderBottom:"2px solid #2196F3",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"📈 נתונים כלליים"}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[w.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1976d2"},children:r.totalLoans}),w.jsx("div",{children:'סה"כ השאלות'})]}),w.jsxs("div",{style:{backgroundColor:"#e8f5e8",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#388e3c"},children:r.completedLoans}),w.jsx("div",{children:"השאלות שהושלמו"})]}),w.jsxs("div",{style:{backgroundColor:"#fff3e0",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#f57c00"},children:r.totalItemsLoaned}),w.jsx("div",{children:"פריטים הושאלו"})]}),w.jsxs("div",{style:{backgroundColor:"#f0fdf4",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#10b981"},children:r.totalItemsReturned}),w.jsx("div",{children:"פריטים הוחזרו"})]})]})]}),w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{borderBottom:"2px solid #2196F3",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"📅 השוואה חודשית"}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[w.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1976d2"},children:r.thisMonthLoans}),w.jsx("div",{children:"השאלות החודש"})]}),w.jsxs("div",{style:{backgroundColor:"#f5f5f5",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#666"},children:r.lastMonthLoans}),w.jsx("div",{children:"השאלות החודש שעבר"})]})]}),r.lastMonthLoans>0&&w.jsx("div",{style:{textAlign:"center",marginTop:"0.5rem",fontSize:"0.9rem"},children:r.thisMonthLoans>r.lastMonthLoans?w.jsxs("span",{style:{color:"#388e3c"},children:["⬆️ עלייה של ",((r.thisMonthLoans-r.lastMonthLoans)/r.lastMonthLoans*100).toFixed(1),"%"]}):r.thisMonthLoans<r.lastMonthLoans?w.jsxs("span",{style:{color:"#d32f2f"},children:["⬇️ ירידה של ",((r.lastMonthLoans-r.thisMonthLoans)/r.lastMonthLoans*100).toFixed(1),"%"]}):w.jsx("span",{style:{color:"#666"},children:"➡️ ללא שינוי"})})]}),w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{borderBottom:"2px solid #2196F3",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"📦 סטטיסטיקות פריטים"}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[w.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1976d2"},children:r.totalItemsLoaned}),w.jsx("div",{children:'סה"כ פריטים הושאלו'})]}),w.jsxs("div",{style:{backgroundColor:"#e8f5e8",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#10b981"},children:r.totalItemsReturned}),w.jsx("div",{children:"פריטים הוחזרו"})]}),r.damagedItems>0&&w.jsxs("div",{style:{backgroundColor:"#fff3e0",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#f59e0b"},children:r.damagedItems}),w.jsx("div",{children:"פריטים פגומים"})]}),r.lostItems>0&&w.jsxs("div",{style:{backgroundColor:"#ffebee",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ef4444"},children:r.lostItems}),w.jsx("div",{children:"פריטים אבודים"})]})]}),r.mostPopularItems.length>0&&w.jsxs("div",{children:[w.jsx("h4",{style:{marginBottom:"0.5rem"},children:"🏆 הפריטים הפופולריים ביותר:"}),r.mostPopularItems.map((i,a)=>w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",backgroundColor:a===0?"#fff3e0":"#f5f5f5",borderRadius:"4px",marginBottom:"0.3rem"},children:[w.jsxs("span",{children:[a+1,". ",i.name]}),w.jsxs("span",{style:{fontWeight:"bold",color:"#1976d2"},children:[i.count," פעמים"]})]},a))]})]}),r.topBorrowers.length>0&&w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{borderBottom:"2px solid #2196F3",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"👥 הלקוחות הפעילים ביותר"}),r.topBorrowers.map((i,a)=>w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",backgroundColor:a===0?"#e8f5e8":"#f5f5f5",borderRadius:"4px",marginBottom:"0.3rem"},children:[w.jsxs("span",{children:[a+1,". ",i.name]}),w.jsxs("span",{style:{fontWeight:"bold",color:"#388e3c"},children:[i.count," השאלות"]})]},a))]}),r.topVolunteers.length>0&&w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{borderBottom:"2px solid #2196F3",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"🌟 המתנדבות הפעילות ביותר"}),r.topVolunteers.map((i,a)=>w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",backgroundColor:a===0?"#e3f2fd":"#f5f5f5",borderRadius:"4px",marginBottom:"0.3rem"},children:[w.jsxs("span",{children:[a+1,". ",i.name]}),w.jsxs("span",{style:{fontWeight:"bold",color:"#1976d2"},children:[i.count," השאלות"]})]},a))]}),r.topEventTypes.length>0&&w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{borderBottom:"2px solid #2196F3",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"🎉 סוגי האירועים הפופולריים"}),r.topEventTypes.map((i,a)=>w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",backgroundColor:a===0?"#f0fdf4":"#f5f5f5",borderRadius:"4px",marginBottom:"0.3rem"},children:[w.jsxs("span",{children:[a+1,". ",i.name]}),w.jsxs("span",{style:{fontWeight:"bold",color:"#10b981"},children:[i.count," פעמים"]})]},a))]}),r.averageDuration>0&&w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{borderBottom:"2px solid #2196F3",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"⏱️ משך השאלה ממוצע"}),w.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1976d2"},children:[r.averageDuration," ימים"]}),w.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["(מבוסס על ",t.filter(i=>i.pickupDate&&i.returnDate).length," השאלות)"]})]})]}),r.loansWithInspection>0&&w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{borderBottom:"2px solid #2196F3",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"🔍 סיכום בדיקות החזרה"}),w.jsxs("div",{style:{backgroundColor:"#f0fdf4",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#10b981"},children:r.loansWithInspection}),w.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["השאלות עם בדיקת החזרה מתוך ",r.totalLoans,' סה"כ']}),w.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:["(",(r.loansWithInspection/r.totalLoans*100).toFixed(1),"% מהשאלות נבדקו)"]})]})]}),w.jsx("div",{className:"modal-actions",children:w.jsx("button",{className:"btn btn-blue",onClick:()=>e(!1),children:"✔️ סגור"})})]})}):w.jsx("div",{className:"modal-overlay",onClick:()=>e(!1),children:w.jsxs("div",{className:"modal-box",dir:"rtl",onClick:i=>i.stopPropagation(),children:[w.jsx("h2",{style:{textAlign:"center",marginBottom:"2rem"},children:"📊 סטטיסטיקות השאלות"}),w.jsx("p",{style:{textAlign:"center"},children:"אין נתונים זמינים"}),w.jsx("div",{className:"modal-actions",children:w.jsx("button",{className:"btn btn-gray",onClick:()=>e(!1),children:"סגור"})})]})}):null};class N0{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const kq=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},ca={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:kq()},Ax=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},Mq=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=Ax(n);ca.publicKey=t.publicKey,ca.blockHeadless=t.blockHeadless,ca.storageProvider=t.storageProvider,ca.blockList=t.blockList,ca.limitRate=t.limitRate,ca.origin=t.origin||e},V8=async(n,e,t={})=>{const r=await fetch(ca.origin+n,{method:"POST",headers:t,body:e}),i=await r.text(),a=new N0(r.status,i);if(r.ok)return a;throw a},z8=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},jq=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},q8=n=>n.webdriver||!n.languages||n.languages.length===0,H8=()=>new N0(451,"Unavailable For Headless Browser"),Bq=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Fq=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},Uq=(n,e)=>n instanceof FormData?n.get(e):n[e],W8=(n,e)=>{if(Fq(n))return!1;Bq(n.list,n.watchVariable);const t=Uq(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},G8=()=>new N0(403,"Forbidden"),Vq=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},zq=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},$8=async(n,e,t)=>{if(!e.throttle||!t)return!1;Vq(e.throttle,e.id);const r=e.id||n;return await zq(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},X8=()=>new N0(429,"Too Many Requests"),qq=async(n,e,t,r)=>{const i=Ax(r),a=i.publicKey||ca.publicKey,o=i.blockHeadless||ca.blockHeadless,s=i.storageProvider||ca.storageProvider,u={...ca.blockList,...i.blockList},f={...ca.limitRate,...i.limitRate};return o&&q8(navigator)?Promise.reject(H8()):(z8(a,n,e),jq(t),t&&W8(u,t)?Promise.reject(G8()):await $8(location.pathname,f,s)?Promise.reject(X8()):V8("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},Hq=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Wq=n=>typeof n=="string"?document.querySelector(n):n,Gq=async(n,e,t,r)=>{const i=Ax(r),a=i.publicKey||ca.publicKey,o=i.blockHeadless||ca.blockHeadless,s=ca.storageProvider||i.storageProvider,u={...ca.blockList,...i.blockList},f={...ca.limitRate,...i.limitRate};if(o&&q8(navigator))return Promise.reject(H8());const h=Wq(t);z8(a,n,e),Hq(h);const p=new FormData(h);return W8(u,p)?Promise.reject(G8()):await $8(location.pathname,f,s)?Promise.reject(X8()):(p.append("lib_version","4.4.1"),p.append("service_id",n),p.append("template_id",e),p.append("user_id",a),V8("/api/v1.0/email/send-form",p))},Y4={init:Mq,send:qq,sendForm:Gq,EmailJSResponseStatus:N0},Hv={serviceId:"service_zbzqfa3",templateId:"template_02cqfdn",publicKey:"gJHtAe_l22dY8tKju"},$q=()=>{const[n,e]=pe.useState(!1),[t,r]=pe.useState(null),[i,a]=pe.useState(null);pe.useEffect(()=>{Y4.init(Hv.publicKey),s();const f=setInterval(()=>{new Date().getHours()===9&&s()},60*60*1e3);return()=>clearInterval(f)},[]);const o=f=>f?new Date(f).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric",weekday:"long"}):"",s=async()=>{var f,h;e(!0),a(null);try{const p=new Date,g=new Date(p);g.setDate(p.getDate()+2);const m=g.toISOString().split("T")[0];console.log(`📅 Checking for orders returning on: ${m}`);const x=Gu(On(kt,"orders"),Ju("status","in",["active","confirmed","picked_up","open"]),Ju("returnDate","==",m)),b=await yr(x),I={totalFound:b.size,emailsSent:0,alreadySent:0,errors:[]};if(b.empty){a({...I,message:"לא נמצאו הזמנות הדורשות תזכורת היום"}),r(new Date);return}for(const C of b.docs){const P=C.data(),j=C.id;if(P.reminderSent){I.alreadySent++;continue}try{const z={to_email:P.email,to_name:P.clientName,client_name:P.clientName,return_date:o(P.returnDate),volunteer_name:P.volunteerName||"צוות הארגון",volunteer_phone:P.phone||"לא צוין",organization_name:"גמח שמחת זקנתי",items_list:((f=P.items)==null?void 0:f.map(H=>`• ${H.name} - כמות: ${H.quantity}`).join(`
`))||"לא צוינו פריטים",total_items:((h=P.items)==null?void 0:h.reduce((H,D)=>H+D.quantity,0))||0,event_type:P.eventType||"כללי",pickup_date:o(P.pickupDate),order_id:j},X=await Y4.send(Hv.serviceId,Hv.templateId,z);console.log("✅ Email sent successfully:",X),await Qa(Ar(kt,"orders",j),{reminderSent:!0,reminderSentAt:Ei.now(),emailSentResult:{status:X.status,text:X.text,sentAt:new Date().toISOString()}}),I.emailsSent++}catch(z){console.error(`❌ Failed to send reminder for order ${j}:`,z),I.errors.push({orderId:j,email:P.email,clientName:P.clientName,error:z.message})}}a({...I,message:`בדיקה הושלמה: ${I.emailsSent} תזכורות נשלחו`})}catch(p){console.error("❌ Error in reminder check:",p),a({totalFound:0,emailsSent:0,errors:[{error:p.message}],message:"שגיאה בבדיקת תזכורות"})}finally{e(!1),r(new Date)}},u=()=>{s()};return w.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto",fontFamily:"Arial, sans-serif"},dir:"rtl",children:[w.jsxs("div",{style:{background:"linear-gradient(to right, #3b82f6, #1e40af)",color:"white",padding:"2rem",borderRadius:"12px",marginBottom:"2rem",textAlign:"center"},children:[w.jsx("h1",{style:{margin:0,fontSize:"1.8rem"},children:"📧 מערכת תזכורות אוטומטית"}),w.jsx("p",{style:{margin:"0.5rem 0 0 0",opacity:.9},children:"תזכורות להחזרת פריטים - 2 ימים לפני תאריך החזרה"})]}),w.jsxs("div",{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"2rem",marginBottom:"2rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[w.jsx("h2",{style:{margin:0,color:"#1f2937"},children:"סטטוס המערכת"}),w.jsx("button",{onClick:u,disabled:n,style:{background:n?"#9ca3af":"#10b981",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:n?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"bold"},children:n?"🔄 בודק...":"🔍 בדוק תזכורות"})]}),t&&w.jsxs("div",{style:{background:"#f3f4f6",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem",color:"#6b7280"},children:[w.jsx("strong",{children:"בדיקה אחרונה:"})," ",t.toLocaleString("he-IL")]}),i&&w.jsxs("div",{style:{background:i.errors.length>0?"#fef2f2":"#f0fdf4",border:`1px solid ${i.errors.length>0?"#fecaca":"#bbf7d0"}`,borderRadius:"8px",padding:"1.5rem"},children:[w.jsx("h3",{style:{margin:"0 0 1rem 0",color:i.errors.length>0?"#dc2626":"#059669"},children:i.message}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#3b82f6"},children:i.totalFound}),w.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"נמצאו"})]}),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#10b981"},children:i.emailsSent}),w.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"נשלחו"})]}),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#f59e0b"},children:i.alreadySent}),w.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"כבר נשלחו"})]}),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ef4444"},children:i.errors.length}),w.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"שגיאות"})]})]}),i.errors.length>0&&w.jsxs("div",{style:{background:"white",border:"1px solid #fecaca",borderRadius:"6px",padding:"1rem"},children:[w.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#dc2626"},children:"שגיאות:"}),i.errors.map((f,h)=>w.jsxs("div",{style:{fontSize:"0.875rem",color:"#7f1d1d",marginBottom:"0.25rem"},children:[f.clientName?`${f.clientName} (${f.email})`:"שגיאה כללית",": ",f.error]},h))]})]})]}),w.jsxs("div",{style:{background:"#fffbeb",border:"1px solid #fed7aa",borderRadius:"12px",padding:"2rem"},children:[w.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#92400e"},children:"🔧 הוראות למנהלי המערכת"}),w.jsxs("ul",{style:{color:"#92400e",paddingRight:"1.5rem"},children:[w.jsx("li",{children:"המערכת בודקת אוטומטית כל יום ב-9:00 בבוקר"}),w.jsx("li",{children:"ניתן להפעיל בדיקה ידנית בכל עת באמצעות הכפתור למעלה"}),w.jsx("li",{children:"תזכורות נשלחות רק פעם אחת לכל הזמנה"}),w.jsx("li",{children:"המערכת שולחת תזכורות 2 ימים לפני תאריך ההחזרה"}),w.jsx("li",{children:"כל התזכורות נרשמות במסד הנתונים למעקב"})]})]})]})},Xq=({item:n,size:e=60})=>{const t=n.imageUrl||(n.images&&n.images.length>0?n.images[0]:null);return t?w.jsx("div",{style:{width:e,height:e,borderRadius:"8px",border:"1px solid #e5e7eb",overflow:"hidden",flexShrink:0,background:"#f9fafb"},children:w.jsx("img",{src:t,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:r=>{r.target.parentNode.innerHTML=`
            <div style="
              width: 100%; 
              height: 100%; 
              display: flex; 
              align-items: center; 
              justify-content: center;
              background: #f9fafb;
            ">
              <svg width="${e*.4}" height="${e*.4}" viewBox="0 0 24 24" fill="#9ca3af">
                <path d="M20 7h-3V6a4 4 0 0 0-4-4h-2a4 4 0 0 0-4 4v1H4a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM9 6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1H9V6zm8 15H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v11a1 1 0 0 1-1 1z"/>
              </svg>
            </div>
          `}})}):w.jsx("div",{style:{width:e,height:e,borderRadius:"8px",border:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",background:"#f9fafb",flexShrink:0},children:w.jsx(Es,{size:e*.4,style:{color:"#9ca3af"}})})},Yq=()=>{var z,X;const[n,e]=pe.useState([]),[t,r]=pe.useState([]),[i,a]=pe.useState(null),[o,s]=pe.useState(""),[u,f]=pe.useState(""),[h,p]=pe.useState(""),[g,m]=pe.useState(!0),[x,b]=pe.useState(!1);pe.useEffect(()=>{(async()=>{try{m(!0),console.log("🔍 מחפש את כל ההזמנות...");const D=Gu(On(kt,"orders")),T=(await yr(D)).docs.map(V=>({id:V.id,...V.data()}));console.log("📋 כל ההזמנות:",T),console.log("📊 סטטוסים:",T.map(V=>({id:V.id,client:V.clientName,status:V.status}))),console.log("🔍 מחפש הזמנות סגורות...");const M=Gu(On(kt,"orders"),Ju("status","==","closed")),L=(await yr(M)).docs.map(V=>({id:V.id,...V.data()}));console.log("✅ הזמנות סגורות:",L),e(L),console.log("🔍 מחפש הזמנות שהוחזרו...");const B=Gu(On(kt,"orders"),Ju("status","==","returned")),te=(await yr(B)).docs.map(V=>({id:V.id,...V.data()}));console.log("🔄 הזמנות שהוחזרו:",te)}catch(D){console.error("❌ שגיאה בטעינת ההזמנות:",D)}finally{m(!1)}})()},[]);const I=H=>H?(H.seconds?new Date(H.seconds*1e3):new Date(H)).toLocaleDateString("he-IL",{year:"numeric",month:"2-digit",day:"2-digit"}):"",C=H=>H?(H.seconds?new Date(H.seconds*1e3):new Date(H)).toLocaleString("he-IL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",P=H=>{var B;if(!((B=H.returnInspection)!=null&&B.itemInspections))return{totalItemsExpected:0,totalItemsReturned:0,totalItemsNotReturned:0,totalDamagedItems:0,totalLostItems:0};const D=H.returnInspection.itemInspections,E=D.reduce((q,te)=>q+(te.quantityExpected||0),0),T=D.reduce((q,te)=>q+(te.quantityReturned||0),0),M=D.reduce((q,te)=>q+Math.max(0,(te.quantityExpected||0)-(te.quantityReturned||0)),0),R=D.filter(q=>q.condition==="damaged").reduce((q,te)=>q+(te.quantityReturned||0),0),L=D.filter(q=>q.condition==="lost").reduce((q,te)=>q+Math.max(0,(te.quantityExpected||0)-(te.quantityReturned||0)),0);return{totalItemsExpected:E,totalItemsReturned:T,totalItemsNotReturned:M,totalDamagedItems:R,totalLostItems:L}};pe.useEffect(()=>{const H=u?new Date(u):null,D=h?new Date(h):null,E=n.filter(T=>{var te,V,U;const M=((te=T.clientName)==null?void 0:te.toLowerCase().includes(o.toLowerCase()))||"",R=((V=T.phone)==null?void 0:V.includes(o))||"",L=M||R,B=(U=T.pickupDate)!=null&&U.seconds?new Date(T.pickupDate.seconds*1e3):new Date(T.pickupDate),q=(!H||B>=H)&&(!D||B<=D);return L&&q});r(E)},[o,u,h,n]);const j=H=>{var M,R;const D=P(H),E=`
      <!DOCTYPE html>
      <html dir="rtl" lang="he">
      <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>דוח השאלה - ${H.clientName}</title>
          <style>
              body { 
                  font-family: Arial, sans-serif; 
                  direction: rtl; 
                  text-align: right;
                  margin: 20px;
                  line-height: 1.6;
                  padding-bottom: 100px;
              }
              .header { 
                  text-align: center; 
                  margin-bottom: 30px;
                  border-bottom: 2px solid #333;
                  padding-bottom: 15px;
              }
              .header h1 {
                  font-size: 24px;
                  color: #2c5aa0;
                  margin: 0 0 5px 0;
              }
              .header h2 {
                  font-size: 20px;
                  color: #333;
                  margin: 0 0 10px 0;
              }
              .info-grid { 
                  display: grid; 
                  grid-template-columns: 1fr 1fr; 
                  gap: 20px; 
                  margin-bottom: 30px;
              }
              .info-item { 
                  margin-bottom: 10px; 
              }
              .label { 
                  font-weight: bold; 
                  color: #333;
              }
              table { 
                  width: 100%; 
                  border-collapse: collapse; 
                  margin-bottom: 30px;
              }
              th, td { 
                  border: 1px solid #ddd; 
                  padding: 8px; 
                  text-align: center;
              }
              th { 
                  background-color: #f5f5f5; 
                  font-weight: bold;
              }
              .summary { 
                  background-color: #f9f9f9; 
                  padding: 20px; 
                  border-radius: 5px;
                  margin-top: 20px;
              }
              .summary h3 {
                  margin-top: 0;
                  color: #2c5aa0;
              }
              
              .download-btn {
                  position: fixed;
                  bottom: 20px;
                  right: 20px;
                  background: linear-gradient(45deg, #2196F3, #21CBF3);
                  color: white;
                  border: none;
                  padding: 15px 25px;
                  border-radius: 50px;
                  cursor: pointer;
                  font-size: 16px;
                  font-weight: bold;
                  box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
                  transition: all 0.3s ease;
                  z-index: 1000;
                  display: flex;
                  align-items: center;
                  gap: 8px;
              }
              
              .download-btn:hover {
                  transform: translateY(-2px);
                  box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
              }
              
              .download-btn:active {
                  transform: translateY(0);
              }
              
              @media print {
                  body { margin: 0; font-size: 14px; }
                  .header { page-break-after: avoid; }
                  .download-btn { display: none !important; }
              }
          </style>
      </head>
      <body>
          <button class="download-btn" onclick="window.print(); return false;">
              📥 הורדת דוח
          </button>
          
          <div class="header">
              <h1>גמ"ח שמחת זקנתי</h1>
              <h2>דוח השאלה - ${H.clientName}</h2>
              <p>נוצר בתאריך: ${new Date().toLocaleDateString("he-IL")}</p>
          </div>
          
          <div class="info-grid">
              <div>
                  <div class="info-item">
                      <span class="label">מתנדבת:</span> ${H.volunteerName}
                  </div>
                  <div class="info-item">
                      <span class="label">טלפון:</span> ${H.phone}
                  </div>
                  <div class="info-item">
                      <span class="label">כתובת:</span> ${H.address}
                  </div>
              </div>
              <div>
                  <div class="info-item">
                      <span class="label">תאריך איסוף:</span> ${I(H.pickupDate)}
                  </div>
                  <div class="info-item">
                      <span class="label">תאריך החזרה:</span> ${I(H.returnDate)}
                  </div>
                  <div class="info-item">
                      <span class="label">סוג אירוע:</span> ${H.eventType}
                  </div>
              </div>
          </div>

          <h3>פריטים בהזמנה</h3>
          <table>
              <thead>
                  <tr>
                      <th>#</th>
                      <th>שם פריט</th>
                      <th>כמות הושאלה</th>
                      <th>תקין</th>
                      <th>אבד/לא הוחזר</th>
                  </tr>
              </thead>
              <tbody>
                  ${((M=H.items)==null?void 0:M.map((L,B)=>{var Y,me;const q=(me=(Y=H.returnInspection)==null?void 0:Y.itemInspections)==null?void 0:me.find(G=>G.itemId===L.id||G.name===L.name),te=L.quantity,V=(q==null?void 0:q.quantityReturned)||0,U=Math.max(0,te-V);let Q=0,ae=U;return q&&V>0&&(q.condition==="good"?Q=V:q.condition==="damaged"?ae+=V:Q=V),`
                      <tr>
                          <td>${B+1}</td>
                          <td>${L.name}</td>
                          <td>${te}</td>
                          <td>${Q}</td>
                          <td>${ae}</td>
                      </tr>
                    `}).join(""))||'<tr><td colspan="5">אין פריטים</td></tr>'}
              </tbody>
          </table>

          ${H.returnInspection?`
          <div class="summary">
              <h3 style="text-align: center;">סיכום בדיקת החזרה</h3>
              <div style="text-align: center;">
                  <div class="info-item">
                      <span class="label">סה"כ פריטים שהושאלו:</span> ${D.totalItemsExpected}
                  </div>
                  <div class="info-item">
                      <span class="label">סה"כ פריטים שהוחזרו:</span> ${D.totalItemsReturned}
                  </div>
                  <div class="info-item">
                      <span class="label">פריטים שלא הוחזרו:</span> ${D.totalItemsNotReturned}
                  </div>
              </div>
              
              ${(R=H.returnInspection.summary)!=null&&R.managerNotes?`
              <div class="info-item" style="margin-top: 20px; text-align: center;">
                  <span class="label">הערות מנהל:</span><br>
                  ${H.returnInspection.summary.managerNotes}
              </div>
              `:""}
          </div>
          `:""}
      </body>
      </html>
    `,T=window.open("","_blank","width=800,height=900,scrollbars=yes,resizable=yes");T.document.write(E),T.document.close(),T.focus()};return g?w.jsx("div",{className:"flex items-center justify-center min-h-screen",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"טוען היסטוריית השאלות..."})]})}):w.jsxs("div",{style:{padding:"1rem",maxWidth:"1200px",margin:"0 auto",fontFamily:"Arial, sans-serif"},dir:"rtl",children:[w.jsx("style",{children:`
        @media (max-width: 768px) {
          .date-input {
            appearance: none !important;
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
            background: white !important;
            border: 2px solid #e5e7eb !important;
            border-radius: 8px !important;
            padding: 12px !important;
            font-size: 16px !important;
            text-align: center !important;
            direction: ltr !important;
            width: 100% !important;
            box-sizing: border-box !important;
            cursor: pointer !important;
            letter-spacing: 1px !important;
          }
          
          .date-input::-webkit-calendar-picker-indicator {
            opacity: 0 !important;
            position: absolute !important;
            left: 0 !important;
            right: 0 !important;
            width: 100% !important;
            height: 100% !important;
            cursor: pointer !important;
            background: transparent !important;
          }
          
          .date-input::-webkit-inner-spin-button,
          .date-input::-webkit-outer-spin-button {
            opacity: 0 !important;
            -webkit-appearance: none !important;
            margin: 0 !important;
          }
        }
      `}),w.jsxs("div",{style:{background:"linear-gradient(to right, #3b82f6, #1e40af)",color:"white",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[w.jsxs("div",{style:{textAlign:window.innerWidth<768?"center":"right",flex:"1"},children:[w.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"bold",margin:0,marginBottom:"0.5rem"},children:"📚 היסטוריית השאלות"}),w.jsx("p",{style:{fontSize:"0.95rem",opacity:.9,margin:0},children:"כל ההזמנות שהושלמו עם פרטי בדיקת החזרה"})]}),w.jsxs("button",{onClick:()=>b(!0),style:{background:"rgba(255, 255, 255, 0.2)",border:"2px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",backdropFilter:"blur(10px)",whiteSpace:"nowrap"},onMouseEnter:H=>{H.currentTarget.style.background="rgba(255, 255, 255, 0.3)",H.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:H=>{H.currentTarget.style.background="rgba(255, 255, 255, 0.2)",H.currentTarget.style.transform="translateY(0)"},children:[w.jsx(zF,{size:20}),"📊 סטטיסטיקות"]})]}),!i&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{background:"white",padding:window.innerWidth<768?"1rem":"1.5rem",borderRadius:"12px",marginBottom:"2rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[w.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",gap:"1rem",alignItems:window.innerWidth<768?"stretch":"end"},children:[w.jsxs("div",{style:{flex:window.innerWidth<768?"none":"2"},children:[w.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[w.jsx(MS,{size:16,style:{display:"inline",marginLeft:"0.25rem"}}),"חיפוש לפי שם לקוח או טלפון"]}),w.jsx("input",{type:"text",value:o,onChange:H=>s(H.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"1rem",boxSizing:"border-box"},placeholder:"הקלד שם או טלפון..."})]}),w.jsxs("div",{style:{flex:"1"},children:[w.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[w.jsx(sh,{size:16,style:{display:"inline",marginLeft:"0.25rem"}}),"מתאריך"]}),w.jsx("input",{type:"date",value:u,onChange:H=>f(H.target.value),className:"date-input",style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"1rem",boxSizing:"border-box"}})]}),w.jsxs("div",{style:{flex:"1"},children:[w.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[w.jsx(sh,{size:16,style:{display:"inline",marginLeft:"0.25rem"}}),"עד תאריך"]}),w.jsx("input",{type:"date",value:h,onChange:H=>p(H.target.value),className:"date-input",style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"1rem",boxSizing:"border-box"}})]})]}),w.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#f3f4f6",borderRadius:"8px",fontSize:"0.875rem",color:"#374151"},children:["נמצאו ",t.length," השאלות מתוך ",n.length,' סה"כ']})]}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<768?"1fr":window.innerWidth<1024?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:window.innerWidth<768?"1rem":"1.5rem"},children:t.length===0?w.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",background:"white",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[w.jsx(Es,{size:48,style:{color:"#9ca3af",marginBottom:"1rem"}}),w.jsx("h3",{style:{fontSize:"1.25rem",color:"#6b7280",margin:0},children:"לא נמצאו השאלות"}),w.jsx("p",{style:{color:"#9ca3af",margin:"0.5rem 0 0 0"},children:"נסה לשנות את פרמטרי החיפוש"})]}):t.map(H=>{var D;return w.jsxs("div",{onClick:()=>a(H),style:{background:"white",padding:window.innerWidth<768?"1rem":"1.5rem",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",width:"100%",boxSizing:"border-box"},onMouseEnter:E=>{E.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)",E.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:E=>{E.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)",E.currentTarget.style.transform="translateY(0)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",flexWrap:"wrap",gap:"0.5rem"},children:[w.jsxs("div",{style:{flex:"1",minWidth:"0"},children:[w.jsx("h3",{style:{fontSize:window.innerWidth<768?"1rem":"1.25rem",fontWeight:"bold",margin:0,color:"#1f2937",wordBreak:"break-word"},children:H.clientName}),w.jsxs("p",{style:{fontSize:window.innerWidth<768?"0.75rem":"0.875rem",color:"#6b7280",margin:"0.25rem 0 0 0",display:"flex",alignItems:"center",gap:"0.25rem"},children:[w.jsx(FS,{size:window.innerWidth<768?12:14}),H.volunteerName]})]}),w.jsx("div",{style:{background:"#10b981",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:window.innerWidth<768?"0.6rem":"0.75rem",fontWeight:"bold",whiteSpace:"nowrap"},children:"הושלם"})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0.5rem",fontSize:window.innerWidth<768?"0.75rem":"0.875rem",color:"#6b7280"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(Lm,{size:window.innerWidth<768?12:14}),w.jsx("span",{style:{wordBreak:"break-all"},children:H.phone})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(gx,{size:window.innerWidth<768?12:14}),w.jsxs("span",{style:{fontSize:window.innerWidth<768?"0.7rem":"0.875rem"},children:[I(H.pickupDate)," → ",I(H.returnDate)]})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(Es,{size:window.innerWidth<768?12:14}),(D=H.items)==null?void 0:D.reduce((E,T)=>E+T.quantity,0)," פריטים"]})]})]},H.id)})})]}),i&&w.jsxs("div",{style:{background:"white",padding:window.innerWidth<768?"1rem":"2rem",borderRadius:"12px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"2px solid #e5e7eb",flexWrap:"wrap",gap:"1rem"},children:[w.jsxs("div",{children:[w.jsxs("h2",{style:{fontSize:window.innerWidth<768?"1.25rem":"2rem",fontWeight:"bold",margin:0,color:"#1f2937"},children:["השאלה - ",i.clientName]}),w.jsxs("p",{style:{fontSize:window.innerWidth<768?"0.875rem":"1rem",color:"#6b7280",margin:"0.5rem 0 0 0"},children:["הושלמה ב-",C((z=i.returnInspection)==null?void 0:z.completedAt)]})]}),w.jsxs("button",{onClick:()=>a(null),style:{background:"#6b7280",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:window.innerWidth<768?"0.875rem":"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx(FF,{size:16}),"חזרה לרשימה"]})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<768?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem",padding:"1.5rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"לקוח"}),w.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.clientName})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"מתנדבת"}),w.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.volunteerName})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"טלפון"}),w.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.phone})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"כתובת"}),w.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.address})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"תאריכים"}),w.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:[I(i.pickupDate)," → ",I(i.returnDate)]})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"סוג אירוע"}),w.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.eventType})]})]}),w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:"0 0 1rem 0",color:"#1f2937"},children:"📦 פריטים וסטטוס החזרה"}),w.jsx("div",{style:{display:"grid",gap:"1rem"},children:(X=i.items)==null?void 0:X.map((H,D)=>{var T,M;const E=(M=(T=i.returnInspection)==null?void 0:T.itemInspections)==null?void 0:M.find(R=>R.itemId===H.id||R.name===H.name);return w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",flexWrap:window.innerWidth<768?"wrap":"nowrap",gap:"0.5rem"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flex:"1",minWidth:"200px"},children:[w.jsx(Xq,{item:H,size:window.innerWidth<768?50:60}),w.jsxs("div",{children:[w.jsx("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",margin:0,color:"#1f2937"},children:H.name}),w.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0.25rem 0 0 0"},children:["הושאל: ",H.quantity," | תקין: ",(()=>{const R=(E==null?void 0:E.quantityReturned)||0;return E&&R>0&&E.condition==="good"||E&&R>0&&E.condition!=="damaged"?R:0})()," | אבד/פגום: ",(()=>{const R=H.quantity,L=(E==null?void 0:E.quantityReturned)||0;let q=Math.max(0,R-L);return E&&L>0&&E.condition==="damaged"&&(q+=L),q})()]})]})]}),w.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:(()=>{const R=H.quantity,L=(E==null?void 0:E.quantityReturned)||0;let q=Math.max(0,R-L);return E&&L>0&&E.condition==="damaged"&&(q+=L),q===0?w.jsxs(w.Fragment,{children:[w.jsx(Ld,{size:16,style:{color:"#10b981"}}),w.jsx("span",{style:{color:"#10b981",fontWeight:"bold",fontSize:"0.875rem"},children:"הכל תקין"})]}):w.jsxs(w.Fragment,{children:[w.jsx(I0,{size:16,style:{color:"#ef4444"}}),w.jsxs("span",{style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.875rem"},children:[q," חסר/פגום"]})]})})()})]},D)})})]}),w.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",flexWrap:"wrap",marginTop:"3rem"},children:w.jsxs("button",{onClick:()=>j(i),style:{background:"linear-gradient(to right, #10b981, #059669)",color:"white",padding:"1rem 2rem",borderRadius:"12px",border:"none",cursor:"pointer",fontSize:"1.2rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.75rem",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",transition:"all 0.3s ease",minWidth:window.innerWidth<768?"100%":"250px",justifyContent:"center"},onMouseEnter:H=>{H.currentTarget.style.transform="translateY(-2px)",H.currentTarget.style.boxShadow="0 6px 16px rgba(16, 185, 129, 0.4)"},onMouseLeave:H=>{H.currentTarget.style.transform="translateY(0)",H.currentTarget.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"},children:[w.jsx(QF,{size:20}),"🖨️ הדפס דוח עברית"]})})]}),w.jsx(Lq,{showStatsModal:x,setShowStatsModal:b,loanHistory:n}),w.jsx($q,{})]})},Kq=()=>w.jsxs(vS,{children:[w.jsx(jk,{}),w.jsxs(QI,{children:[w.jsx(Go,{path:"/",element:w.jsx(Fk,{})}),w.jsx(Go,{path:"/login",element:w.jsx(Uk,{})}),w.jsx(Go,{path:"/register",element:w.jsx(Vk,{})}),w.jsx(Go,{path:"/catalog",element:w.jsx(XV,{})}),w.jsx(Go,{path:"/request",element:w.jsx(mU,{})}),w.jsx(Go,{path:"/my-orders",element:w.jsx(xU,{})}),w.jsx(Go,{path:"/requests",element:w.jsx(vU,{})}),w.jsx(Go,{path:"/new-loan",element:w.jsx(gU,{})}),w.jsx(Go,{path:"/calendar",element:w.jsx(LU,{})}),w.jsx(Go,{path:"/manage-product",element:w.jsx(WV,{})}),w.jsx(Go,{path:"/manage-users",element:w.jsx(GV,{})}),w.jsx(Go,{path:"/history",element:w.jsx(Yq,{})})]})]});oI.createRoot(document.getElementById("root")).render(w.jsx(kn.StrictMode,{children:w.jsx(vS,{children:w.jsx(bT,{children:w.jsx(Kq,{})})})}));export{or as _,Qq as c,K4 as g};
