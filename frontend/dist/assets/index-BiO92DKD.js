(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var dq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jm={exports:{}},g1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3;function TC(){if(s3)return g1;s3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:a}}return g1.Fragment=e,g1.jsx=t,g1.jsxs=t,g1}var l3;function IC(){return l3||(l3=1,jm.exports=TC()),jm.exports}var k=IC(),Um={exports:{}},rn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3;function NC(){if(u3)return rn;u3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=p&&W[p]||W["@@iterator"],typeof W=="function"?W:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function S(W,me,H){this.props=W,this.context=me,this.refs=b,this.updater=H||m}S.prototype.isReactComponent={},S.prototype.setState=function(W,me){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,me,"setState")},S.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function C(){}C.prototype=S.prototype;function D(W,me,H){this.props=W,this.context=me,this.refs=b,this.updater=H||m}var M=D.prototype=new C;M.constructor=D,x(M,S.prototype),M.isPureReactComponent=!0;var V=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function N(W,me,H,Q,ee,ne){return H=ne.ref,{$$typeof:n,type:W,key:me,ref:H!==void 0?H:null,props:ne}}function A(W,me){return N(W.type,me,void 0,void 0,void 0,W.props)}function T(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function F(W){var me={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(H){return me[H]})}var O=/\/+/g;function P(W,me){return typeof W=="object"&&W!==null&&W.key!=null?F(""+W.key):me.toString(36)}function j(){}function Y(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(j,j):(W.status="pending",W.then(function(me){W.status==="pending"&&(W.status="fulfilled",W.value=me)},function(me){W.status==="pending"&&(W.status="rejected",W.reason=me)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function le(W,me,H,Q,ee){var ne=typeof W;(ne==="undefined"||ne==="boolean")&&(W=null);var de=!1;if(W===null)de=!0;else switch(ne){case"bigint":case"string":case"number":de=!0;break;case"object":switch(W.$$typeof){case n:case e:de=!0;break;case h:return de=W._init,le(de(W._payload),me,H,Q,ee)}}if(de)return ee=ee(W),de=Q===""?"."+P(W,0):Q,V(ee)?(H="",de!=null&&(H=de.replace(O,"$&/")+"/"),le(ee,me,H,"",function(Te){return Te})):ee!=null&&(T(ee)&&(ee=A(ee,H+(ee.key==null||W&&W.key===ee.key?"":(""+ee.key).replace(O,"$&/")+"/")+de)),me.push(ee)),1;de=0;var Ee=Q===""?".":Q+":";if(V(W))for(var be=0;be<W.length;be++)Q=W[be],ne=Ee+P(Q,be),de+=le(Q,me,H,ne,ee);else if(be=g(W),typeof be=="function")for(W=be.call(W),be=0;!(Q=W.next()).done;)Q=Q.value,ne=Ee+P(Q,be++),de+=le(Q,me,H,ne,ee);else if(ne==="object"){if(typeof W.then=="function")return le(Y(W),me,H,Q,ee);throw me=String(W),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return de}function U(W,me,H){if(W==null)return W;var Q=[],ee=0;return le(W,Q,"","",function(ne){return me.call(H,ne,ee++)}),Q}function q(W){if(W._status===-1){var me=W._result;me=me(),me.then(function(H){(W._status===0||W._status===-1)&&(W._status=1,W._result=H)},function(H){(W._status===0||W._status===-1)&&(W._status=2,W._result=H)}),W._status===-1&&(W._status=0,W._result=me)}if(W._status===1)return W._result.default;throw W._result}var ie=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function ce(){}return rn.Children={map:U,forEach:function(W,me,H){U(W,function(){me.apply(this,arguments)},H)},count:function(W){var me=0;return U(W,function(){me++}),me},toArray:function(W){return U(W,function(me){return me})||[]},only:function(W){if(!T(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},rn.Component=S,rn.Fragment=t,rn.Profiler=i,rn.PureComponent=D,rn.StrictMode=r,rn.Suspense=u,rn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,rn.__COMPILER_RUNTIME={__proto__:null,c:function(W){return X.H.useMemoCache(W)}},rn.cache=function(W){return function(){return W.apply(null,arguments)}},rn.cloneElement=function(W,me,H){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var Q=x({},W.props),ee=W.key,ne=void 0;if(me!=null)for(de in me.ref!==void 0&&(ne=void 0),me.key!==void 0&&(ee=""+me.key),me)!$.call(me,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&me.ref===void 0||(Q[de]=me[de]);var de=arguments.length-2;if(de===1)Q.children=H;else if(1<de){for(var Ee=Array(de),be=0;be<de;be++)Ee[be]=arguments[be+2];Q.children=Ee}return N(W.type,ee,void 0,void 0,ne,Q)},rn.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},rn.createElement=function(W,me,H){var Q,ee={},ne=null;if(me!=null)for(Q in me.key!==void 0&&(ne=""+me.key),me)$.call(me,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ee[Q]=me[Q]);var de=arguments.length-2;if(de===1)ee.children=H;else if(1<de){for(var Ee=Array(de),be=0;be<de;be++)Ee[be]=arguments[be+2];ee.children=Ee}if(W&&W.defaultProps)for(Q in de=W.defaultProps,de)ee[Q]===void 0&&(ee[Q]=de[Q]);return N(W,ne,void 0,void 0,null,ee)},rn.createRef=function(){return{current:null}},rn.forwardRef=function(W){return{$$typeof:s,render:W}},rn.isValidElement=T,rn.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:q}},rn.memo=function(W,me){return{$$typeof:f,type:W,compare:me===void 0?null:me}},rn.startTransition=function(W){var me=X.T,H={};X.T=H;try{var Q=W(),ee=X.S;ee!==null&&ee(H,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ce,ie)}catch(ne){ie(ne)}finally{X.T=me}},rn.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},rn.use=function(W){return X.H.use(W)},rn.useActionState=function(W,me,H){return X.H.useActionState(W,me,H)},rn.useCallback=function(W,me){return X.H.useCallback(W,me)},rn.useContext=function(W){return X.H.useContext(W)},rn.useDebugValue=function(){},rn.useDeferredValue=function(W,me){return X.H.useDeferredValue(W,me)},rn.useEffect=function(W,me,H){var Q=X.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(W,me)},rn.useId=function(){return X.H.useId()},rn.useImperativeHandle=function(W,me,H){return X.H.useImperativeHandle(W,me,H)},rn.useInsertionEffect=function(W,me){return X.H.useInsertionEffect(W,me)},rn.useLayoutEffect=function(W,me){return X.H.useLayoutEffect(W,me)},rn.useMemo=function(W,me){return X.H.useMemo(W,me)},rn.useOptimistic=function(W,me){return X.H.useOptimistic(W,me)},rn.useReducer=function(W,me,H){return X.H.useReducer(W,me,H)},rn.useRef=function(W){return X.H.useRef(W)},rn.useState=function(W){return X.H.useState(W)},rn.useSyncExternalStore=function(W,me,H){return X.H.useSyncExternalStore(W,me,H)},rn.useTransition=function(){return X.H.useTransition()},rn.version="19.1.0",rn}var c3;function qg(){return c3||(c3=1,Um.exports=NC()),Um.exports}var ve=qg();const Ln=k4(ve);var Vm={exports:{}},m1={},zm={exports:{}},qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3;function RC(){return f3||(f3=1,function(n){function e(U,q){var ie=U.length;U.push(q);e:for(;0<ie;){var ce=ie-1>>>1,W=U[ce];if(0<i(W,q))U[ce]=q,U[ie]=W,ie=ce;else break e}}function t(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var q=U[0],ie=U.pop();if(ie!==q){U[0]=ie;e:for(var ce=0,W=U.length,me=W>>>1;ce<me;){var H=2*(ce+1)-1,Q=U[H],ee=H+1,ne=U[ee];if(0>i(Q,ie))ee<W&&0>i(ne,Q)?(U[ce]=ne,U[ee]=ie,ce=ee):(U[ce]=Q,U[H]=ie,ce=H);else if(ee<W&&0>i(ne,ie))U[ce]=ne,U[ee]=ie,ce=ee;else break e}}return q}function i(U,q){var ie=U.sortIndex-q.sortIndex;return ie!==0?ie:U.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var u=[],f=[],h=1,p=null,g=3,m=!1,x=!1,b=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function V(U){for(var q=t(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=U)r(f),q.sortIndex=q.expirationTime,e(u,q);else break;q=t(f)}}function X(U){if(b=!1,V(U),!x)if(t(u)!==null)x=!0,$||($=!0,P());else{var q=t(f);q!==null&&le(X,q.startTime-U)}}var $=!1,N=-1,A=5,T=-1;function F(){return S?!0:!(n.unstable_now()-T<A)}function O(){if(S=!1,$){var U=n.unstable_now();T=U;var q=!0;try{e:{x=!1,b&&(b=!1,D(N),N=-1),m=!0;var ie=g;try{t:{for(V(U),p=t(u);p!==null&&!(p.expirationTime>U&&F());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,g=p.priorityLevel;var W=ce(p.expirationTime<=U);if(U=n.unstable_now(),typeof W=="function"){p.callback=W,V(U),q=!0;break t}p===t(u)&&r(u),V(U)}else r(u);p=t(u)}if(p!==null)q=!0;else{var me=t(f);me!==null&&le(X,me.startTime-U),q=!1}}break e}finally{p=null,g=ie,m=!1}q=void 0}}finally{q?P():$=!1}}}var P;if(typeof M=="function")P=function(){M(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Y=j.port2;j.port1.onmessage=O,P=function(){Y.postMessage(null)}}else P=function(){C(O,0)};function le(U,q){N=C(function(){U(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(U){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var ie=g;g=q;try{return U()}finally{g=ie}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=g;g=U;try{return q()}finally{g=ie}},n.unstable_scheduleCallback=function(U,q,ie){var ce=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ce+ie:ce):ie=ce,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ie+W,U={id:h++,callback:q,priorityLevel:U,startTime:ie,expirationTime:W,sortIndex:-1},ie>ce?(U.sortIndex=ie,e(f,U),t(u)===null&&U===t(f)&&(b?(D(N),N=-1):b=!0,le(X,ie-ce))):(U.sortIndex=W,e(u,U),x||m||(x=!0,$||($=!0,P()))),U},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(U){var q=g;return function(){var ie=g;g=q;try{return U.apply(this,arguments)}finally{g=ie}}}}(qm)),qm}var h3;function OC(){return h3||(h3=1,zm.exports=RC()),zm.exports}var Hm={exports:{}},Ea={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3;function DC(){if(d3)return Ea;d3=1;var n=qg();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ea.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ea.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,h)},Ea.flushSync=function(u){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=h,r.d.f()}},Ea.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Ea.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ea.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=s(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ea.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=s(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Ea.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=s(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ea.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=s(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Ea.requestFormReset=function(u){r.d.r(u)},Ea.unstable_batchedUpdates=function(u,f){return u(f)},Ea.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},Ea.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ea.version="19.1.0",Ea}var p3;function PC(){if(p3)return Hm.exports;p3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hm.exports=DC(),Hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3;function LC(){if(g3)return m1;g3=1;var n=OC(),e=qg(),t=PC();function r(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var c=l,d=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(d=c.return),l=c.return;while(l)}return c.tag===3?d:null}function o(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function s(l){if(a(l)!==l)throw Error(r(188))}function u(l){var c=l.alternate;if(!c){if(c=a(l),c===null)throw Error(r(188));return c!==l?null:l}for(var d=l,v=c;;){var w=d.return;if(w===null)break;var I=w.alternate;if(I===null){if(v=w.return,v!==null){d=v;continue}break}if(w.child===I.child){for(I=w.child;I;){if(I===d)return s(w),l;if(I===v)return s(w),c;I=I.sibling}throw Error(r(188))}if(d.return!==v.return)d=w,v=I;else{for(var K=!1,se=w.child;se;){if(se===d){K=!0,d=w,v=I;break}if(se===v){K=!0,v=w,d=I;break}se=se.sibling}if(!K){for(se=I.child;se;){if(se===d){K=!0,d=I,v=w;break}if(se===v){K=!0,v=I,d=w;break}se=se.sibling}if(!K)throw Error(r(189))}}if(d.alternate!==v)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?l:c}function f(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=f(l),c!==null)return c;l=l.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:(l=O&&l[O]||l["@@iterator"],typeof l=="function"?l:null)}var j=Symbol.for("react.client.reference");function Y(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===j?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case x:return"Fragment";case S:return"Profiler";case b:return"StrictMode";case X:return"Suspense";case $:return"SuspenseList";case T:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case m:return"Portal";case M:return(l.displayName||"Context")+".Provider";case D:return(l._context.displayName||"Context")+".Consumer";case V:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return c=l.displayName||null,c!==null?c:Y(l.type)||"Memo";case A:c=l._payload,l=l._init;try{return Y(l(c))}catch{}}return null}var le=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ce=[],W=-1;function me(l){return{current:l}}function H(l){0>W||(l.current=ce[W],ce[W]=null,W--)}function Q(l,c){W++,ce[W]=l.current,l.current=c}var ee=me(null),ne=me(null),de=me(null),Ee=me(null);function be(l,c){switch(Q(de,c),Q(ne,l),Q(ee,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?kx(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=kx(c),l=Mx(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}H(ee),Q(ee,l)}function Te(){H(ee),H(ne),H(de)}function Ge(l){l.memoizedState!==null&&Q(Ee,l);var c=ee.current,d=Mx(c,l.type);c!==d&&(Q(ne,l),Q(ee,d))}function He(l){ne.current===l&&(H(ee),H(ne)),Ee.current===l&&(H(Ee),c1._currentValue=ie)}var rt=Object.prototype.hasOwnProperty,st=n.unstable_scheduleCallback,wt=n.unstable_cancelCallback,Be=n.unstable_shouldYield,ge=n.unstable_requestPaint,gt=n.unstable_now,lt=n.unstable_getCurrentPriorityLevel,Xe=n.unstable_ImmediatePriority,it=n.unstable_UserBlockingPriority,at=n.unstable_NormalPriority,ot=n.unstable_LowPriority,ct=n.unstable_IdlePriority,mt=n.log,Nt=n.unstable_setDisableYieldValue,xt=null,bt=null;function Rt(l){if(typeof mt=="function"&&Nt(l),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(xt,l)}catch{}}var _t=Math.clz32?Math.clz32:mn,Ot=Math.log,ut=Math.LN2;function mn(l){return l>>>=0,l===0?32:31-(Ot(l)/ut|0)|0}var Vt=256,Xn=4194304;function Yt(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function An(l,c,d){var v=l.pendingLanes;if(v===0)return 0;var w=0,I=l.suspendedLanes,K=l.pingedLanes;l=l.warmLanes;var se=v&134217727;return se!==0?(v=se&~I,v!==0?w=Yt(v):(K&=se,K!==0?w=Yt(K):d||(d=se&~l,d!==0&&(w=Yt(d))))):(se=v&~I,se!==0?w=Yt(se):K!==0?w=Yt(K):d||(d=v&~l,d!==0&&(w=Yt(d)))),w===0?0:c!==0&&c!==w&&(c&I)===0&&(I=w&-w,d=c&-c,I>=d||I===32&&(d&4194048)!==0)?c:w}function di(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function an(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ha(){var l=Vt;return Vt<<=1,(Vt&4194048)===0&&(Vt=256),l}function Cn(){var l=Xn;return Xn<<=1,(Xn&62914560)===0&&(Xn=4194304),l}function Lr(l){for(var c=[],d=0;31>d;d++)c.push(l);return c}function or(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function vn(l,c,d,v,w,I){var K=l.pendingLanes;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=d,l.entangledLanes&=d,l.errorRecoveryDisabledLanes&=d,l.shellSuspendCounter=0;var se=l.entanglements,ye=l.expirationTimes,ke=l.hiddenUpdates;for(d=K&~d;0<d;){var We=31-_t(d),Ze=1<<We;se[We]=0,ye[We]=-1;var Fe=ke[We];if(Fe!==null)for(ke[We]=null,We=0;We<Fe.length;We++){var je=Fe[We];je!==null&&(je.lane&=-536870913)}d&=~Ze}v!==0&&Tt(l,v,0),I!==0&&w===0&&l.tag!==0&&(l.suspendedLanes|=I&~(K&~c))}function Tt(l,c,d){l.pendingLanes|=c,l.suspendedLanes&=~c;var v=31-_t(c);l.entangledLanes|=c,l.entanglements[v]=l.entanglements[v]|1073741824|d&4194090}function tn(l,c){var d=l.entangledLanes|=c;for(l=l.entanglements;d;){var v=31-_t(d),w=1<<v;w&c|l[v]&c&&(l[v]|=c),d&=~w}}function bi(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function kn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function dr(){var l=q.p;return l!==0?l:(l=window.event,l===void 0?32:t3(l.type))}function Fa(l,c){var d=q.p;try{return q.p=l,c()}finally{q.p=d}}var vt=Math.random().toString(36).slice(2),Hn="__reactFiber$"+vt,Gn="__reactProps$"+vt,pr="__reactContainer$"+vt,wr="__reactEvents$"+vt,Tr="__reactListeners$"+vt,qr="__reactHandles$"+vt,As="__reactResources$"+vt,Zi="__reactMarker$"+vt;function pi(l){delete l[Hn],delete l[Gn],delete l[wr],delete l[Tr],delete l[qr]}function Jr(l){var c=l[Hn];if(c)return c;for(var d=l.parentNode;d;){if(c=d[pr]||d[Hn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(l=Ux(l);l!==null;){if(d=l[Hn])return d;l=Ux(l)}return c}l=d,d=l.parentNode}return null}function Hr(l){if(l=l[Hn]||l[pr]){var c=l.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return l}return null}function ei(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(r(33))}function sr(l){var c=l[As];return c||(c=l[As]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Mn(l){l[Zi]=!0}var Ao=new Set,Eo={};function Bi(l,c){da(l,c),da(l+"Capture",c)}function da(l,c){for(Eo[l]=c,l=0;l<c.length;l++)Ao.add(c[l])}var Es=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),su={},Ss={};function tc(l){return rt.call(Ss,l)?!0:rt.call(su,l)?!1:Es.test(l)?Ss[l]=!0:(su[l]=!0,!1)}function ja(l,c,d){if(tc(c))if(d===null)l.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+d)}}function Ua(l,c,d){if(d===null)l.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+d)}}function ti(l,c,d,v){if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttributeNS(c,d,""+v)}}var So,nc;function Ka(l){if(So===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);So=c&&c[1]||"",nc=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+So+l+nc}var fl=!1;function Co(l,c){if(!l||fl)return"";fl=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(je){var Fe=je}Reflect.construct(l,[],Ze)}else{try{Ze.call()}catch(je){Fe=je}l.call(Ze.prototype)}}else{try{throw Error()}catch(je){Fe=je}(Ze=l())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(je){if(je&&Fe&&typeof je.stack=="string")return[je.stack,Fe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),K=I[0],se=I[1];if(K&&se){var ye=K.split(`
`),ke=se.split(`
`);for(w=v=0;v<ye.length&&!ye[v].includes("DetermineComponentFrameRoot");)v++;for(;w<ke.length&&!ke[w].includes("DetermineComponentFrameRoot");)w++;if(v===ye.length||w===ke.length)for(v=ye.length-1,w=ke.length-1;1<=v&&0<=w&&ye[v]!==ke[w];)w--;for(;1<=v&&0<=w;v--,w--)if(ye[v]!==ke[w]){if(v!==1||w!==1)do if(v--,w--,0>w||ye[v]!==ke[w]){var We=`
`+ye[v].replace(" at new "," at ");return l.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",l.displayName)),We}while(1<=v&&0<=w);break}}}finally{fl=!1,Error.prepareStackTrace=d}return(d=l?l.displayName||l.name:"")?Ka(d):""}function lu(l){switch(l.tag){case 26:case 27:case 5:return Ka(l.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 15:return Co(l.type,!1);case 11:return Co(l.type.render,!1);case 1:return Co(l.type,!0);case 31:return Ka("Activity");default:return""}}function lr(l){try{var c="";do c+=lu(l),l=l.return;while(l);return c}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function gi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function hl(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function rc(l){var c=hl(l)?"checked":"value",d=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),v=""+l[c];if(!l.hasOwnProperty(c)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,I=d.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return w.call(this)},set:function(K){v=""+K,I.call(this,K)}}),Object.defineProperty(l,c,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function(K){v=""+K},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Xo(l){l._valueTracker||(l._valueTracker=rc(l))}function uu(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var d=c.getValue(),v="";return l&&(v=hl(l)?l.checked?"true":"false":l.value),l=v,l!==d?(c.setValue(l),!0):!1}function Ai(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var dl=/[\n"\\]/g;function En(l){return l.replace(dl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ei(l,c,d,v,w,I,K,se){l.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?l.type=K:l.removeAttribute("type"),c!=null?K==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+gi(c)):l.value!==""+gi(c)&&(l.value=""+gi(c)):K!=="submit"&&K!=="reset"||l.removeAttribute("value"),c!=null?Ko(l,K,gi(c)):d!=null?Ko(l,K,gi(d)):v!=null&&l.removeAttribute("value"),w==null&&I!=null&&(l.defaultChecked=!!I),w!=null&&(l.checked=w&&typeof w!="function"&&typeof w!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?l.name=""+gi(se):l.removeAttribute("name")}function Yo(l,c,d,v,w,I,K,se){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(l.type=I),c!=null||d!=null){if(!(I!=="submit"&&I!=="reset"||c!=null))return;d=d!=null?""+gi(d):"",c=c!=null?""+gi(c):d,se||c===l.value||(l.value=c),l.defaultValue=c}v=v??w,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=se?l.checked:!!v,l.defaultChecked=!!v,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(l.name=K)}function Ko(l,c,d){c==="number"&&Ai(l.ownerDocument)===l||l.defaultValue===""+d||(l.defaultValue=""+d)}function Qa(l,c,d,v){if(l=l.options,c){c={};for(var w=0;w<d.length;w++)c["$"+d[w]]=!0;for(d=0;d<l.length;d++)w=c.hasOwnProperty("$"+l[d].value),l[d].selected!==w&&(l[d].selected=w),w&&v&&(l[d].defaultSelected=!0)}else{for(d=""+gi(d),c=null,w=0;w<l.length;w++){if(l[w].value===d){l[w].selected=!0,v&&(l[w].defaultSelected=!0);return}c!==null||l[w].disabled||(c=l[w])}c!==null&&(c.selected=!0)}}function Bn(l,c,d){if(c!=null&&(c=""+gi(c),c!==l.value&&(l.value=c),d==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=d!=null?""+gi(d):""}function Qo(l,c,d,v){if(c==null){if(v!=null){if(d!=null)throw Error(r(92));if(le(v)){if(1<v.length)throw Error(r(93));v=v[0]}d=v}d==null&&(d=""),c=d}d=gi(c),l.defaultValue=d,v=l.textContent,v===d&&v!==""&&v!==null&&(l.value=v)}function pa(l,c){if(c){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=c;return}}l.textContent=c}var To=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(l,c,d){var v=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":v?l.setProperty(c,d):typeof d!="number"||d===0||To.has(c)?c==="float"?l.cssFloat=d:l[c]=(""+d).trim():l[c]=d+"px"}function cu(l,c,d){if(c!=null&&typeof c!="object")throw Error(r(62));if(l=l.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var w in c)v=c[w],c.hasOwnProperty(w)&&d[w]!==v&&ic(l,w,v)}else for(var I in c)c.hasOwnProperty(I)&&ic(l,I,c[I])}function fu(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(l){return pl.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Za=null;function Jn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ro=null,Ja=null;function Ft(l){var c=Hr(l);if(c&&(l=c.stateNode)){var d=l[Gn]||null;e:switch(l=c.stateNode,c.type){case"input":if(Ei(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+En(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var v=d[c];if(v!==l&&v.form===l.form){var w=v[Gn]||null;if(!w)throw Error(r(90));Ei(v,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<d.length;c++)v=d[c],v.form===l.form&&uu(v)}break e;case"textarea":Bn(l,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Qa(l,!!d.multiple,c,!1)}}}var eo=!1;function ac(l,c,d){if(eo)return l(c,d);eo=!0;try{var v=l(c);return v}finally{if(eo=!1,(Ro!==null||Ja!==null)&&(ep(),Ro&&(c=Ro,l=Ja,Ja=Ro=null,Ft(c),l)))for(c=0;c<l.length;c++)Ft(l[c])}}function Fi(l,c){var d=l.stateNode;if(d===null)return null;var v=d[Gn]||null;if(v===null)return null;d=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(r(231,c,typeof d));return d}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=!1;if(ga)try{var to={};Object.defineProperty(to,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Ji=!1}var ma=null,Zo=null,Oo=null;function hu(){if(Oo)return Oo;var l,c=Zo,d=c.length,v,w="value"in ma?ma.value:ma.textContent,I=w.length;for(l=0;l<d&&c[l]===w[l];l++);var K=d-l;for(v=1;v<=K&&c[d-v]===w[I-v];v++);return Oo=w.slice(l,1<v?1-v:void 0)}function va(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function ji(){return!0}function no(){return!1}function Gr(l){function c(d,v,w,I,K){this._reactName=d,this._targetInst=w,this.type=v,this.nativeEvent=I,this.target=K,this.currentTarget=null;for(var se in l)l.hasOwnProperty(se)&&(d=l[se],this[se]=d?d(I):I[se]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ji:no,this.isPropagationStopped=no,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),c}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=Gr(hn),ro=h({},hn,{view:0,detail:0}),du=Gr(ro),Cs,Ts,Va,Ui=h({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Va&&(Va&&l.type==="mousemove"?(Cs=l.screenX-Va.screenX,Ts=l.screenY-Va.screenY):Ts=Cs=0,Va=l),Cs)},movementY:function(l){return"movementY"in l?l.movementY:Ts}}),Wr=Gr(Ui),oc=h({},Ui,{dataTransfer:0}),es=Gr(oc),Si=h({},ro,{relatedTarget:0}),ts=Gr(Si),Do=h({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),gl=Gr(Do),Is=h({},hn,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ml=Gr(Is),pu=h({},hn,{data:0}),Ns=Gr(pu),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Os(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=vl[l])?!!c[l]:!1}function rs(){return Os}var sc=h({},ro,{key:function(l){if(l.key){var c=ns[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=va(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Rs[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(l){return l.type==="keypress"?va(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?va(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Po=Gr(sc),is=h({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ds=Gr(is),Vi=h({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),yl=Gr(Vi),R=h({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=Gr(R),pe=h({},Ui,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),_e=Gr(pe),Ie=h({},hn,{newState:0,oldState:0}),Ve=Gr(Ie),tt=[9,13,27,32],ht=ga&&"CompositionEvent"in window,_=null;ga&&"documentMode"in document&&(_=document.documentMode);var B=ga&&"TextEvent"in window&&!_,G=ga&&(!ht||_&&8<_&&11>=_),oe=" ",Ce=!1;function Le(l,c){switch(l){case"keyup":return tt.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var jt=!1;function dn(l,c){switch(l){case"compositionend":return nt(c);case"keypress":return c.which!==32?null:(Ce=!0,oe);case"textInput":return l=c.data,l===oe&&Ce?null:l;default:return null}}function Kt(l,c){if(jt)return l==="compositionend"||!ht&&Le(l,c)?(l=hu(),Oo=Zo=ma=null,jt=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return G&&c.locale!=="ko"?null:c.data;default:return null}}var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!Fn[l.type]:c==="textarea"}function io(l,c,d,v){Ro?Ja?Ja.push(v):Ja=[v]:Ro=v,c=op(c,"onChange"),0<c.length&&(d=new Jo("onChange","change",null,d,v),l.push({event:d,listeners:c}))}var kr=null,ya=null;function as(l){Rx(l,0)}function _l(l){var c=ei(l);if(uu(c))return l}function lc(l,c){if(l==="change")return c}var gu=!1;if(ga){var ni;if(ga){var xl="oninput"in document;if(!xl){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),xl=typeof mu.oninput=="function"}ni=xl}else ni=!1;gu=ni&&(!document.documentMode||9<document.documentMode)}function vu(){kr&&(kr.detachEvent("onpropertychange",uc),ya=kr=null)}function uc(l){if(l.propertyName==="value"&&_l(ya)){var c=[];io(c,ya,l,Jn(l)),ac(as,c)}}function _a(l,c,d){l==="focusin"?(vu(),kr=c,ya=d,kr.attachEvent("onpropertychange",uc)):l==="focusout"&&vu()}function Od(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return _l(ya)}function mf(l,c){if(l==="click")return _l(c)}function dh(l,c){if(l==="input"||l==="change")return _l(c)}function ao(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var mi=typeof Object.is=="function"?Object.is:ao;function wl(l,c){if(mi(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var d=Object.keys(l),v=Object.keys(c);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var w=d[v];if(!rt.call(c,w)||!mi(l[w],c[w]))return!1}return!0}function vf(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ps(l,c){var d=vf(l);l=0;for(var v;d;){if(d.nodeType===3){if(v=l+d.textContent.length,l<=c&&v>=c)return{node:d,offset:c-l};l=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=vf(d)}}function bl(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?bl(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function ea(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=Ai(l.document);c instanceof l.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)l=c.contentWindow;else break;c=Ai(l.document)}return c}function Ci(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var Al=ga&&"documentMode"in document&&11>=document.documentMode,xa=null,Lo=null,os=null,ko=!1;function Ir(l,c,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ko||xa==null||xa!==Ai(v)||(v=xa,"selectionStart"in v&&Ci(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),os&&wl(os,v)||(os=v,v=op(Lo,"onSelect"),0<v.length&&(c=new Jo("onSelect","select",null,c,d),l.push({event:c,listeners:v}),c.target=xa)))}function Mo(l,c){var d={};return d[l.toLowerCase()]=c.toLowerCase(),d["Webkit"+l]="webkit"+c,d["Moz"+l]="moz"+c,d}var $r={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionrun:Mo("Transition","TransitionRun"),transitionstart:Mo("Transition","TransitionStart"),transitioncancel:Mo("Transition","TransitionCancel"),transitionend:Mo("Transition","TransitionEnd")},wa={},yu={};ga&&(yu=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function ss(l){if(wa[l])return wa[l];if(!$r[l])return l;var c=$r[l],d;for(d in c)if(c.hasOwnProperty(d)&&d in yu)return wa[l]=c[d];return l}var cc=ss("animationend"),El=ss("animationiteration"),Sl=ss("animationstart"),Cl=ss("transitionrun"),_u=ss("transitionstart"),fc=ss("transitioncancel"),Tl=ss("transitionend"),Ls=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function Nr(l,c){Ls.set(l,c),Bi(c,[l])}var za=new WeakMap;function ln(l,c){if(typeof l=="object"&&l!==null){var d=za.get(l);return d!==void 0?d:(c={value:l,source:c,stack:lr(c)},za.set(l,c),c)}return{value:l,source:c,stack:lr(c)}}var un=[],ur=0,Mr=0;function oo(){for(var l=ur,c=Mr=ur=0;c<l;){var d=un[c];un[c++]=null;var v=un[c];un[c++]=null;var w=un[c];un[c++]=null;var I=un[c];if(un[c++]=null,v!==null&&w!==null){var K=v.pending;K===null?w.next=w:(w.next=K.next,K.next=w),v.pending=w}I!==0&&ph(d,w,I)}}function Il(l,c,d,v){un[ur++]=l,un[ur++]=c,un[ur++]=d,un[ur++]=v,Mr|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function Nl(l,c,d,v){return Il(l,c,d,v),wu(l)}function ks(l,c){return Il(l,null,null,c),wu(l)}function ph(l,c,d){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d);for(var w=!1,I=l.return;I!==null;)I.childLanes|=d,v=I.alternate,v!==null&&(v.childLanes|=d),I.tag===22&&(l=I.stateNode,l===null||l._visibility&1||(w=!0)),l=I,I=I.return;return l.tag===3?(I=l.stateNode,w&&c!==null&&(w=31-_t(d),l=I.hiddenUpdates,v=l[w],v===null?l[w]=[c]:v.push(c),c.lane=d|536870912),I):null}function wu(l){if(50<n1)throw n1=0,um=null,Error(r(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var vi={};function so(l,c,d,v){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(l,c,d,v){return new so(l,c,d,v)}function hc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ls(l,c){var d=l.alternate;return d===null?(d=zi(l.tag,c,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=c,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&65011712,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,c=l.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d.refCleanup=l.refCleanup,d}function yf(l,c){l.flags&=65011714;var d=l.alternate;return d===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,c=d.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function bu(l,c,d,v,w,I){var K=0;if(v=l,typeof l=="function")hc(l)&&(K=1);else if(typeof l=="string")K=pC(l,d,ee.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case T:return l=zi(31,d,c,w),l.elementType=T,l.lanes=I,l;case x:return Ms(d.children,w,I,c);case b:K=8,w|=24;break;case S:return l=zi(12,d,c,w|2),l.elementType=S,l.lanes=I,l;case X:return l=zi(13,d,c,w),l.elementType=X,l.lanes=I,l;case $:return l=zi(19,d,c,w),l.elementType=$,l.lanes=I,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case C:case M:K=10;break e;case D:K=9;break e;case V:K=11;break e;case N:K=14;break e;case A:K=16,v=null;break e}K=29,d=Error(r(130,l===null?"null":typeof l,"")),v=null}return c=zi(K,d,c,w),c.elementType=l,c.type=v,c.lanes=I,c}function Ms(l,c,d,v){return l=zi(7,l,v,c),l.lanes=d,l}function gh(l,c,d){return l=zi(6,l,null,c),l.lanes=d,l}function _f(l,c,d){return c=zi(4,l.children!==null?l.children:[],l.key,c),c.lanes=d,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var Rl=[],Bs=0,dc=null,mh=0,lo=[],qa=0,Au=null,Fs=1,js="";function Eu(l,c){Rl[Bs++]=mh,Rl[Bs++]=dc,dc=l,mh=c}function E0(l,c,d){lo[qa++]=Fs,lo[qa++]=js,lo[qa++]=Au,Au=l;var v=Fs;l=js;var w=32-_t(v)-1;v&=~(1<<w),d+=1;var I=32-_t(c)+w;if(30<I){var K=w-w%5;I=(v&(1<<K)-1).toString(32),v>>=K,w-=K,Fs=1<<32-_t(c)+w|d<<w|v,js=I+l}else Fs=1<<I|d<<w|v,js=l}function xf(l){l.return!==null&&(Eu(l,1),E0(l,1,0))}function wf(l){for(;l===dc;)dc=Rl[--Bs],Rl[Bs]=null,mh=Rl[--Bs],Rl[Bs]=null;for(;l===Au;)Au=lo[--qa],lo[qa]=null,js=lo[--qa],lo[qa]=null,Fs=lo[--qa],lo[qa]=null}var ri=null,Rr=null,Dn=!1,Ol=null,us=!1,Dd=Error(r(519));function Su(l){var c=Error(r(418,""));throw pc(ln(c,l)),Dd}function S0(l){var c=l.stateNode,d=l.type,v=l.memoizedProps;switch(c[Hn]=l,c[Gn]=v,d){case"dialog":_n("cancel",c),_n("close",c);break;case"iframe":case"object":case"embed":_n("load",c);break;case"video":case"audio":for(d=0;d<i1.length;d++)_n(i1[d],c);break;case"source":_n("error",c);break;case"img":case"image":case"link":_n("error",c),_n("load",c);break;case"details":_n("toggle",c);break;case"input":_n("invalid",c),Yo(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Xo(c);break;case"select":_n("invalid",c);break;case"textarea":_n("invalid",c),Qo(c,v.value,v.defaultValue,v.children),Xo(c)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||v.suppressHydrationWarning===!0||Lx(c.textContent,d)?(v.popover!=null&&(_n("beforetoggle",c),_n("toggle",c)),v.onScroll!=null&&_n("scroll",c),v.onScrollEnd!=null&&_n("scrollend",c),v.onClick!=null&&(c.onclick=sp),c=!0):c=!1,c||Su(l)}function Us(l){for(ri=l.return;ri;)switch(ri.tag){case 5:case 13:us=!1;return;case 27:case 3:us=!0;return;default:ri=ri.return}}function ta(l){if(l!==ri)return!1;if(!Dn)return Us(l),Dn=!0,!1;var c=l.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=l.type,d=!(d!=="form"&&d!=="button")||Sm(l.type,l.memoizedProps)),d=!d),d&&Rr&&Su(l),Us(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8)if(d=l.data,d==="/$"){if(c===0){Rr=Xs(l.nextSibling);break e}c--}else d!=="$"&&d!=="$!"&&d!=="$?"||c++;l=l.nextSibling}Rr=null}}else c===27?(c=Rr,Oc(l.type)?(l=Nm,Nm=null,Rr=l):Rr=c):Rr=ri?Xs(l.stateNode.nextSibling):null;return!0}function Ha(){Rr=ri=null,Dn=!1}function C0(){var l=Ol;return l!==null&&(fo===null?fo=l:fo.push.apply(fo,l),Ol=null),l}function pc(l){Ol===null?Ol=[l]:Ol.push(l)}var cs=me(null),yi=null,Vs=null;function Dl(l,c,d){Q(cs,c._currentValue),c._currentValue=d}function fs(l){l._currentValue=cs.current,H(cs)}function vh(l,c,d){for(;l!==null;){var v=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),l===d)break;l=l.return}}function yh(l,c,d,v){var w=l.child;for(w!==null&&(w.return=l);w!==null;){var I=w.dependencies;if(I!==null){var K=w.child;I=I.firstContext;e:for(;I!==null;){var se=I;I=w;for(var ye=0;ye<c.length;ye++)if(se.context===c[ye]){I.lanes|=d,se=I.alternate,se!==null&&(se.lanes|=d),vh(I.return,d,l),v||(K=null);break e}I=se.next}}else if(w.tag===18){if(K=w.return,K===null)throw Error(r(341));K.lanes|=d,I=K.alternate,I!==null&&(I.lanes|=d),vh(K,d,l),K=null}else K=w.child;if(K!==null)K.return=w;else for(K=w;K!==null;){if(K===l){K=null;break}if(w=K.sibling,w!==null){w.return=K.return,K=w;break}K=K.return}w=K}}function gc(l,c,d,v){l=null;for(var w=c,I=!1;w!==null;){if(!I){if((w.flags&524288)!==0)I=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var K=w.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var se=w.type;mi(w.pendingProps.value,K.value)||(l!==null?l.push(se):l=[se])}}else if(w===Ee.current){if(K=w.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(l!==null?l.push(c1):l=[c1])}w=w.return}l!==null&&yh(c,l,d,v),c.flags|=262144}function _h(l){for(l=l.firstContext;l!==null;){if(!mi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function hs(l){yi=l,Vs=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ii(l){return xh(yi,l)}function Pl(l,c){return yi===null&&hs(l),xh(l,c)}function xh(l,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},Vs===null){if(l===null)throw Error(r(308));Vs=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else Vs=Vs.next=c;return d}var L2=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(d,v){l.push(v)}};this.abort=function(){c.aborted=!0,l.forEach(function(d){return d()})}},T0=n.unstable_scheduleCallback,k2=n.unstable_NormalPriority,ai={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new L2,data:new Map,refCount:0}}function bf(l){l.refCount--,l.refCount===0&&T0(k2,function(){l.controller.abort()})}var Af=null,Ld=0,Cu=0,zs=null;function M2(l,c){if(Af===null){var d=Af=[];Ld=0,Cu=mm(),zs={status:"pending",value:void 0,then:function(v){d.push(v)}}}return Ld++,c.then(I0,I0),c}function I0(){if(--Ld===0&&Af!==null){zs!==null&&(zs.status="fulfilled");var l=Af;Af=null,Cu=0,zs=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function N0(l,c){var d=[],v={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return l.then(function(){v.status="fulfilled",v.value=c;for(var w=0;w<d.length;w++)(0,d[w])(c)},function(w){for(v.status="rejected",v.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),v}var y=U.S;U.S=function(l,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&M2(l,c),y!==null&&y(l,c)};var E=me(null);function L(){var l=E.current;return l!==null?l:yr.pooledCache}function z(l,c){c===null?Q(E,E.current):Q(E,c.pool)}function Z(){var l=L();return l===null?null:{parent:ai._currentValue,pool:l}}var te=Error(r(460)),re=Error(r(474)),ae=Error(r(542)),ue={then:function(){}};function he(l){return l=l.status,l==="fulfilled"||l==="rejected"}function xe(){}function Pe(l,c,d){switch(d=l[d],d===void 0?l.push(c):d!==c&&(c.then(xe,xe),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,Ke(l),l;default:if(typeof c.status=="string")c.then(xe,xe);else{if(l=yr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=c,l.status="pending",l.then(function(v){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=v}},function(v){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,Ke(l),l}throw Oe=c,te}}var Oe=null;function Ne(){if(Oe===null)throw Error(r(459));var l=Oe;return Oe=null,l}function Ke(l){if(l===te||l===ae)throw Error(r(483))}var Ue=!1;function we(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Se(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function qe(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Qe(l,c,d){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(tr&2)!==0){var w=v.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),v.pending=c,c=wu(l),ph(l,null,d),c}return Il(l,v,c,d),wu(l)}function $e(l,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var v=c.lanes;v&=l.pendingLanes,d|=v,c.lanes=d,tn(l,d)}}function yt(l,c){var d=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var w=null,I=null;if(d=d.firstBaseUpdate,d!==null){do{var K={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};I===null?w=I=K:I=I.next=K,d=d.next}while(d!==null);I===null?w=I=c:I=I.next=c}else w=I=c;d={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=c}var ft=!1;function Dt(){if(ft){var l=zs;if(l!==null)throw l}}function dt(l,c,d,v){ft=!1;var w=l.updateQueue;Ue=!1;var I=w.firstBaseUpdate,K=w.lastBaseUpdate,se=w.shared.pending;if(se!==null){w.shared.pending=null;var ye=se,ke=ye.next;ye.next=null,K===null?I=ke:K.next=ke,K=ye;var We=l.alternate;We!==null&&(We=We.updateQueue,se=We.lastBaseUpdate,se!==K&&(se===null?We.firstBaseUpdate=ke:se.next=ke,We.lastBaseUpdate=ye))}if(I!==null){var Ze=w.baseState;K=0,We=ke=ye=null,se=I;do{var Fe=se.lane&-536870913,je=Fe!==se.lane;if(je?(Nn&Fe)===Fe:(v&Fe)===Fe){Fe!==0&&Fe===Cu&&(ft=!0),We!==null&&(We=We.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Xt=l,Ut=se;Fe=c;var fr=d;switch(Ut.tag){case 1:if(Xt=Ut.payload,typeof Xt=="function"){Ze=Xt.call(fr,Ze,Fe);break e}Ze=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=Ut.payload,Fe=typeof Xt=="function"?Xt.call(fr,Ze,Fe):Xt,Fe==null)break e;Ze=h({},Ze,Fe);break e;case 2:Ue=!0}}Fe=se.callback,Fe!==null&&(l.flags|=64,je&&(l.flags|=8192),je=w.callbacks,je===null?w.callbacks=[Fe]:je.push(Fe))}else je={lane:Fe,tag:se.tag,payload:se.payload,callback:se.callback,next:null},We===null?(ke=We=je,ye=Ze):We=We.next=je,K|=Fe;if(se=se.next,se===null){if(se=w.shared.pending,se===null)break;je=se,se=je.next,je.next=null,w.lastBaseUpdate=je,w.shared.pending=null}}while(!0);We===null&&(ye=Ze),w.baseState=ye,w.firstBaseUpdate=ke,w.lastBaseUpdate=We,I===null&&(w.shared.lanes=0),Tc|=K,l.lanes=K,l.memoizedState=Ze}}function Tn(l,c){if(typeof l!="function")throw Error(r(191,l));l.call(c)}function jn(l,c){var d=l.callbacks;if(d!==null)for(l.callbacks=null,l=0;l<d.length;l++)Tn(d[l],c)}var on=me(null),nn=me(0);function Kn(l,c){l=Mu,Q(nn,l),Q(on,c),Mu=l|c.baseLanes}function Un(){Q(nn,Mu),Q(on,on.current)}function Qt(){Mu=nn.current,H(on),H(nn)}var er=0,Lt=null,Ht=null,Sn=null,In=!1,_i=!1,oi=!1,Br=0,Fr=0,Xr=null,uo=0;function Vn(){throw Error(r(321))}function Yr(l,c){if(c===null)return!1;for(var d=0;d<c.length&&d<l.length;d++)if(!mi(l[d],c[d]))return!1;return!0}function Bo(l,c,d,v,w,I){return er=I,Lt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,U.H=l===null||l.memoizedState===null?p_:g_,oi=!1,I=d(v,w),oi=!1,_i&&(I=Tu(c,d,v,w)),Ll(l),I}function Ll(l){U.H=V0;var c=Ht!==null&&Ht.next!==null;if(er=0,Sn=Ht=Lt=null,In=!1,Fr=0,Xr=null,c)throw Error(r(300));l===null||qi||(l=l.dependencies,l!==null&&_h(l)&&(qi=!0))}function Tu(l,c,d,v){Lt=l;var w=0;do{if(_i&&(Xr=null),Fr=0,_i=!1,25<=w)throw Error(r(301));if(w+=1,Sn=Ht=null,l.updateQueue!=null){var I=l.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}U.H=S8,I=c(d,v)}while(_i);return I}function kl(){var l=U.H,c=l.useState()[0];return c=typeof c.then=="function"?Ml(c):c,l=l.useState()[0],(Ht!==null?Ht.memoizedState:null)!==l&&(Lt.flags|=1024),c}function vr(){var l=Br!==0;return Br=0,l}function Ef(l,c,d){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~d}function wh(l){if(In){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}In=!1}er=0,Sn=Ht=Lt=null,_i=!1,Fr=Br=0,Xr=null}function na(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Lt.memoizedState=Sn=l:Sn=Sn.next=l,Sn}function br(){if(Ht===null){var l=Lt.alternate;l=l!==null?l.memoizedState:null}else l=Ht.next;var c=Sn===null?Lt.memoizedState:Sn.next;if(c!==null)Sn=c,Ht=l;else{if(l===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));Ht=l,l={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Sn===null?Lt.memoizedState=Sn=l:Sn=Sn.next=l}return Sn}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(l){var c=Fr;return Fr+=1,Xr===null&&(Xr=[]),l=Pe(Xr,l,c),c=Lt,(Sn===null?c.memoizedState:Sn.next)===null&&(c=c.alternate,U.H=c===null||c.memoizedState===null?p_:g_),l}function ba(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Ml(l);if(l.$$typeof===M)return ii(l)}throw Error(r(438,String(l)))}function Bl(l){var c=null,d=Lt.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var v=Lt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=Iu(),Lt.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(l),v=0;v<l;v++)d[v]=F;return c.index++,d}function Aa(l,c){return typeof c=="function"?c(l):c}function Sf(l){var c=br();return mc(c,Ht,l)}function mc(l,c,d){var v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=d;var w=l.baseQueue,I=v.pending;if(I!==null){if(w!==null){var K=w.next;w.next=I.next,I.next=K}c.baseQueue=w=I,v.pending=null}if(I=l.baseState,w===null)l.memoizedState=I;else{c=w.next;var se=K=null,ye=null,ke=c,We=!1;do{var Ze=ke.lane&-536870913;if(Ze!==ke.lane?(Nn&Ze)===Ze:(er&Ze)===Ze){var Fe=ke.revertLane;if(Fe===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),Ze===Cu&&(We=!0);else if((er&Fe)===Fe){ke=ke.next,Fe===Cu&&(We=!0);continue}else Ze={lane:0,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},ye===null?(se=ye=Ze,K=I):ye=ye.next=Ze,Lt.lanes|=Fe,Tc|=Fe;Ze=ke.action,oi&&d(I,Ze),I=ke.hasEagerState?ke.eagerState:d(I,Ze)}else Fe={lane:Ze,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},ye===null?(se=ye=Fe,K=I):ye=ye.next=Fe,Lt.lanes|=Ze,Tc|=Ze;ke=ke.next}while(ke!==null&&ke!==c);if(ye===null?K=I:ye.next=se,!mi(I,l.memoizedState)&&(qi=!0,We&&(d=zs,d!==null)))throw d;l.memoizedState=I,l.baseState=K,l.baseQueue=ye,v.lastRenderedState=I}return w===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function bh(l){var c=br(),d=c.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var v=d.dispatch,w=d.pending,I=c.memoizedState;if(w!==null){d.pending=null;var K=w=w.next;do I=l(I,K.action),K=K.next;while(K!==w);mi(I,c.memoizedState)||(qi=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),d.lastRenderedState=I}return[I,v]}function Cf(l,c,d){var v=Lt,w=br(),I=Dn;if(I){if(d===void 0)throw Error(r(407));d=d()}else d=c();var K=!mi((Ht||w).memoizedState,d);K&&(w.memoizedState=d,qi=!0),w=w.queue;var se=vc.bind(null,v,w,l);if(xc(2048,8,se,[l]),w.getSnapshot!==c||K||Sn!==null&&Sn.memoizedState.tag&1){if(v.flags|=2048,Hs(9,Rf(),Tf.bind(null,v,w,d,c),null),yr===null)throw Error(r(349));I||(er&124)!==0||Ah(v,c,d)}return d}function Ah(l,c,d){l.flags|=16384,l={getSnapshot:c,value:d},c=Lt.updateQueue,c===null?(c=Iu(),Lt.updateQueue=c,c.stores=[l]):(d=c.stores,d===null?c.stores=[l]:d.push(l))}function Tf(l,c,d,v){c.value=d,c.getSnapshot=v,R0(c)&&O0(l)}function vc(l,c,d){return d(function(){R0(c)&&O0(l)})}function R0(l){var c=l.getSnapshot;l=l.value;try{var d=c();return!mi(l,d)}catch{return!0}}function O0(l){var c=ks(l,2);c!==null&&qo(c,l,2)}function If(l){var c=na();if(typeof l=="function"){var d=l;if(l=d(),oi){Rt(!0);try{d()}finally{Rt(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:l},c}function qs(l,c,d,v){return l.baseState=d,mc(l,Ht,typeof v=="function"?v:Aa)}function B2(l,c,d,v,w){if(U0(l))throw Error(r(485));if(l=c.action,l!==null){var I={payload:w,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){I.listeners.push(K)}};U.T!==null?d(!0):I.isTransition=!1,v(I),d=c.pending,d===null?(I.next=c.pending=I,D0(c,I)):(I.next=d.next,c.pending=d.next=I)}}function D0(l,c){var d=c.action,v=c.payload,w=l.state;if(c.isTransition){var I=U.T,K={};U.T=K;try{var se=d(w,v),ye=U.S;ye!==null&&ye(K,se),P0(l,c,se)}catch(ke){yc(l,c,ke)}finally{U.T=I}}else try{I=d(w,v),P0(l,c,I)}catch(ke){yc(l,c,ke)}}function P0(l,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){kd(l,c,v)},function(v){return yc(l,c,v)}):kd(l,c,d)}function kd(l,c,d){c.status="fulfilled",c.value=d,Md(c),l.state=d,c=l.pending,c!==null&&(d=c.next,d===c?l.pending=null:(d=d.next,c.next=d,D0(l,d)))}function yc(l,c,d){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=d,Md(c),c=c.next;while(c!==v)}l.action=null}function Md(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function Bd(l,c){return c}function Nf(l,c){if(Dn){var d=yr.formState;if(d!==null){e:{var v=Lt;if(Dn){if(Rr){t:{for(var w=Rr,I=us;w.nodeType!==8;){if(!I){w=null;break t}if(w=Xs(w.nextSibling),w===null){w=null;break t}}I=w.data,w=I==="F!"||I==="F"?w:null}if(w){Rr=Xs(w.nextSibling),v=w.data==="F!";break e}}Su(v)}v=!1}v&&(c=d[0])}}return d=na(),d.memoizedState=d.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:c},d.queue=v,d=f_.bind(null,Lt,v),v.dispatch=d,v=If(!1),I=F2.bind(null,Lt,!1,v.queue),v=na(),w={state:c,dispatch:null,action:l,pending:null},v.queue=w,d=B2.bind(null,Lt,w,I,d),w.dispatch=d,v.memoizedState=l,[c,d,!1]}function Eh(l){var c=br();return _c(c,Ht,l)}function _c(l,c,d){if(c=mc(l,c,Bd)[0],l=Sf(Aa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Ml(c)}catch(K){throw K===te?ae:K}else v=c;c=br();var w=c.queue,I=w.dispatch;return d!==c.memoizedState&&(Lt.flags|=2048,Hs(9,Rf(),L0.bind(null,w,d),null)),[v,I,l]}function L0(l,c){l.action=c}function k0(l){var c=br(),d=Ht;if(d!==null)return _c(c,d,l);br(),c=c.memoizedState,d=br();var v=d.queue.dispatch;return d.memoizedState=l,[c,v,!1]}function Hs(l,c,d,v){return l={tag:l,create:d,deps:v,inst:c,next:null},c=Lt.updateQueue,c===null&&(c=Iu(),Lt.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=l.next=l:(v=d.next,d.next=l,l.next=v,c.lastEffect=l),l}function Rf(){return{destroy:void 0,resource:void 0}}function Sh(){return br().memoizedState}function Fo(l,c,d,v){var w=na();v=v===void 0?null:v,Lt.flags|=l,w.memoizedState=Hs(1|c,Rf(),d,v)}function xc(l,c,d,v){var w=br();v=v===void 0?null:v;var I=w.memoizedState.inst;Ht!==null&&v!==null&&Yr(v,Ht.memoizedState.deps)?w.memoizedState=Hs(c,I,d,v):(Lt.flags|=l,w.memoizedState=Hs(1|c,I,d,v))}function Fd(l,c){Fo(8390656,8,l,c)}function M0(l,c){xc(2048,8,l,c)}function jd(l,c){return xc(4,2,l,c)}function Nu(l,c){return xc(4,4,l,c)}function B0(l,c){if(typeof c=="function"){l=l();var d=c(l);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Ud(l,c,d){d=d!=null?d.concat([l]):null,xc(4,4,B0.bind(null,c,l),d)}function Vd(){}function zd(l,c){var d=br();c=c===void 0?null:c;var v=d.memoizedState;return c!==null&&Yr(c,v[1])?v[0]:(d.memoizedState=[l,c],l)}function F0(l,c){var d=br();c=c===void 0?null:c;var v=d.memoizedState;if(c!==null&&Yr(c,v[1]))return v[0];if(v=l(),oi){Rt(!0);try{l()}finally{Rt(!1)}}return d.memoizedState=[v,c],v}function Ru(l,c,d){return d===void 0||(er&1073741824)!==0?l.memoizedState=c:(l.memoizedState=d,l=sx(),Lt.lanes|=l,Tc|=l,d)}function Ch(l,c,d,v){return mi(d,c)?d:on.current!==null?(l=Ru(l,d,v),mi(l,c)||(qi=!0),l):(er&42)===0?(qi=!0,l.memoizedState=d):(l=sx(),Lt.lanes|=l,Tc|=l,c)}function Of(l,c,d,v,w){var I=q.p;q.p=I!==0&&8>I?I:8;var K=U.T,se={};U.T=se,F2(l,!1,c,d);try{var ye=w(),ke=U.S;if(ke!==null&&ke(se,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var We=N0(ye,v);Wd(l,c,We,zo(l))}else Wd(l,c,v,zo(l))}catch(Ze){Wd(l,c,{then:function(){},status:"rejected",reason:Ze},zo())}finally{q.p=I,U.T=K}}function Gs(){}function ds(l,c,d,v){if(l.tag!==5)throw Error(r(476));var w=Ws(l).queue;Of(l,w,c,ie,d===null?Gs:function(){return Df(l),d(v)})}function Ws(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:ie},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:d},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function Df(l){var c=Ws(l).next.queue;Wd(l,c,{},zo())}function Pf(){return ii(c1)}function qd(){return br().memoizedState}function j0(){return br().memoizedState}function Hd(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var d=zo();l=qe(d);var v=Qe(c,l,d);v!==null&&(qo(v,c,d),$e(v,c,d)),c={cache:Pd()},l.payload=c;return}c=c.return}}function Gd(l,c,d){var v=zo();d={lane:v,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},U0(l)?h_(c,d):(d=Nl(l,c,d,v),d!==null&&(qo(d,l,v),d_(d,c,v)))}function f_(l,c,d){var v=zo();Wd(l,c,d,v)}function Wd(l,c,d,v){var w={lane:v,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(U0(l))h_(c,w);else{var I=l.alternate;if(l.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var K=c.lastRenderedState,se=I(K,d);if(w.hasEagerState=!0,w.eagerState=se,mi(se,K))return Il(l,c,w,0),yr===null&&oo(),!1}catch{}finally{}if(d=Nl(l,c,w,v),d!==null)return qo(d,l,v),d_(d,c,v),!0}return!1}function F2(l,c,d,v){if(v={lane:2,revertLane:mm(),action:v,hasEagerState:!1,eagerState:null,next:null},U0(l)){if(c)throw Error(r(479))}else c=Nl(l,d,v,2),c!==null&&qo(c,l,2)}function U0(l){var c=l.alternate;return l===Lt||c!==null&&c===Lt}function h_(l,c){_i=In=!0;var d=l.pending;d===null?c.next=c:(c.next=d.next,d.next=c),l.pending=c}function d_(l,c,d){if((d&4194048)!==0){var v=c.lanes;v&=l.pendingLanes,d|=v,c.lanes=d,tn(l,d)}}var V0={readContext:ii,use:ba,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useLayoutEffect:Vn,useInsertionEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useSyncExternalStore:Vn,useId:Vn,useHostTransitionStatus:Vn,useFormState:Vn,useActionState:Vn,useOptimistic:Vn,useMemoCache:Vn,useCacheRefresh:Vn},p_={readContext:ii,use:ba,useCallback:function(l,c){return na().memoizedState=[l,c===void 0?null:c],l},useContext:ii,useEffect:Fd,useImperativeHandle:function(l,c,d){d=d!=null?d.concat([l]):null,Fo(4194308,4,B0.bind(null,c,l),d)},useLayoutEffect:function(l,c){return Fo(4194308,4,l,c)},useInsertionEffect:function(l,c){Fo(4,2,l,c)},useMemo:function(l,c){var d=na();c=c===void 0?null:c;var v=l();if(oi){Rt(!0);try{l()}finally{Rt(!1)}}return d.memoizedState=[v,c],v},useReducer:function(l,c,d){var v=na();if(d!==void 0){var w=d(c);if(oi){Rt(!0);try{d(c)}finally{Rt(!1)}}}else w=c;return v.memoizedState=v.baseState=w,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:w},v.queue=l,l=l.dispatch=Gd.bind(null,Lt,l),[v.memoizedState,l]},useRef:function(l){var c=na();return l={current:l},c.memoizedState=l},useState:function(l){l=If(l);var c=l.queue,d=f_.bind(null,Lt,c);return c.dispatch=d,[l.memoizedState,d]},useDebugValue:Vd,useDeferredValue:function(l,c){var d=na();return Ru(d,l,c)},useTransition:function(){var l=If(!1);return l=Of.bind(null,Lt,l.queue,!0,!1),na().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,d){var v=Lt,w=na();if(Dn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=c(),yr===null)throw Error(r(349));(Nn&124)!==0||Ah(v,c,d)}w.memoizedState=d;var I={value:d,getSnapshot:c};return w.queue=I,Fd(vc.bind(null,v,I,l),[l]),v.flags|=2048,Hs(9,Rf(),Tf.bind(null,v,I,d,c),null),d},useId:function(){var l=na(),c=yr.identifierPrefix;if(Dn){var d=js,v=Fs;d=(v&~(1<<32-_t(v)-1)).toString(32)+d,c="«"+c+"R"+d,d=Br++,0<d&&(c+="H"+d.toString(32)),c+="»"}else d=uo++,c="«"+c+"r"+d.toString(32)+"»";return l.memoizedState=c},useHostTransitionStatus:Pf,useFormState:Nf,useActionState:Nf,useOptimistic:function(l){var c=na();c.memoizedState=c.baseState=l;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=F2.bind(null,Lt,!0,d),d.dispatch=c,[l,c]},useMemoCache:Bl,useCacheRefresh:function(){return na().memoizedState=Hd.bind(null,Lt)}},g_={readContext:ii,use:ba,useCallback:zd,useContext:ii,useEffect:M0,useImperativeHandle:Ud,useInsertionEffect:jd,useLayoutEffect:Nu,useMemo:F0,useReducer:Sf,useRef:Sh,useState:function(){return Sf(Aa)},useDebugValue:Vd,useDeferredValue:function(l,c){var d=br();return Ch(d,Ht.memoizedState,l,c)},useTransition:function(){var l=Sf(Aa)[0],c=br().memoizedState;return[typeof l=="boolean"?l:Ml(l),c]},useSyncExternalStore:Cf,useId:qd,useHostTransitionStatus:Pf,useFormState:Eh,useActionState:Eh,useOptimistic:function(l,c){var d=br();return qs(d,Ht,l,c)},useMemoCache:Bl,useCacheRefresh:j0},S8={readContext:ii,use:ba,useCallback:zd,useContext:ii,useEffect:M0,useImperativeHandle:Ud,useInsertionEffect:jd,useLayoutEffect:Nu,useMemo:F0,useReducer:bh,useRef:Sh,useState:function(){return bh(Aa)},useDebugValue:Vd,useDeferredValue:function(l,c){var d=br();return Ht===null?Ru(d,l,c):Ch(d,Ht.memoizedState,l,c)},useTransition:function(){var l=bh(Aa)[0],c=br().memoizedState;return[typeof l=="boolean"?l:Ml(l),c]},useSyncExternalStore:Cf,useId:qd,useHostTransitionStatus:Pf,useFormState:k0,useActionState:k0,useOptimistic:function(l,c){var d=br();return Ht!==null?qs(d,Ht,l,c):(d.baseState=l,[l,d.queue.dispatch])},useMemoCache:Bl,useCacheRefresh:j0},Th=null,$d=0;function z0(l){var c=$d;return $d+=1,Th===null&&(Th=[]),Pe(Th,l,c)}function Xd(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function q0(l,c){throw c.$$typeof===p?Error(r(525)):(l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function m_(l){var c=l._init;return c(l._payload)}function v_(l){function c(Re,Ae){if(l){var De=Re.deletions;De===null?(Re.deletions=[Ae],Re.flags|=16):De.push(Ae)}}function d(Re,Ae){if(!l)return null;for(;Ae!==null;)c(Re,Ae),Ae=Ae.sibling;return null}function v(Re){for(var Ae=new Map;Re!==null;)Re.key!==null?Ae.set(Re.key,Re):Ae.set(Re.index,Re),Re=Re.sibling;return Ae}function w(Re,Ae){return Re=ls(Re,Ae),Re.index=0,Re.sibling=null,Re}function I(Re,Ae,De){return Re.index=De,l?(De=Re.alternate,De!==null?(De=De.index,De<Ae?(Re.flags|=67108866,Ae):De):(Re.flags|=67108866,Ae)):(Re.flags|=1048576,Ae)}function K(Re){return l&&Re.alternate===null&&(Re.flags|=67108866),Re}function se(Re,Ae,De,Ye){return Ae===null||Ae.tag!==6?(Ae=gh(De,Re.mode,Ye),Ae.return=Re,Ae):(Ae=w(Ae,De),Ae.return=Re,Ae)}function ye(Re,Ae,De,Ye){var St=De.type;return St===x?We(Re,Ae,De.props.children,Ye,De.key):Ae!==null&&(Ae.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===A&&m_(St)===Ae.type)?(Ae=w(Ae,De.props),Xd(Ae,De),Ae.return=Re,Ae):(Ae=bu(De.type,De.key,De.props,null,Re.mode,Ye),Xd(Ae,De),Ae.return=Re,Ae)}function ke(Re,Ae,De,Ye){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==De.containerInfo||Ae.stateNode.implementation!==De.implementation?(Ae=_f(De,Re.mode,Ye),Ae.return=Re,Ae):(Ae=w(Ae,De.children||[]),Ae.return=Re,Ae)}function We(Re,Ae,De,Ye,St){return Ae===null||Ae.tag!==7?(Ae=Ms(De,Re.mode,Ye,St),Ae.return=Re,Ae):(Ae=w(Ae,De),Ae.return=Re,Ae)}function Ze(Re,Ae,De){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=gh(""+Ae,Re.mode,De),Ae.return=Re,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case g:return De=bu(Ae.type,Ae.key,Ae.props,null,Re.mode,De),Xd(De,Ae),De.return=Re,De;case m:return Ae=_f(Ae,Re.mode,De),Ae.return=Re,Ae;case A:var Ye=Ae._init;return Ae=Ye(Ae._payload),Ze(Re,Ae,De)}if(le(Ae)||P(Ae))return Ae=Ms(Ae,Re.mode,De,null),Ae.return=Re,Ae;if(typeof Ae.then=="function")return Ze(Re,z0(Ae),De);if(Ae.$$typeof===M)return Ze(Re,Pl(Re,Ae),De);q0(Re,Ae)}return null}function Fe(Re,Ae,De,Ye){var St=Ae!==null?Ae.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return St!==null?null:se(Re,Ae,""+De,Ye);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case g:return De.key===St?ye(Re,Ae,De,Ye):null;case m:return De.key===St?ke(Re,Ae,De,Ye):null;case A:return St=De._init,De=St(De._payload),Fe(Re,Ae,De,Ye)}if(le(De)||P(De))return St!==null?null:We(Re,Ae,De,Ye,null);if(typeof De.then=="function")return Fe(Re,Ae,z0(De),Ye);if(De.$$typeof===M)return Fe(Re,Ae,Pl(Re,De),Ye);q0(Re,De)}return null}function je(Re,Ae,De,Ye,St){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Re=Re.get(De)||null,se(Ae,Re,""+Ye,St);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case g:return Re=Re.get(Ye.key===null?De:Ye.key)||null,ye(Ae,Re,Ye,St);case m:return Re=Re.get(Ye.key===null?De:Ye.key)||null,ke(Ae,Re,Ye,St);case A:var pn=Ye._init;return Ye=pn(Ye._payload),je(Re,Ae,De,Ye,St)}if(le(Ye)||P(Ye))return Re=Re.get(De)||null,We(Ae,Re,Ye,St,null);if(typeof Ye.then=="function")return je(Re,Ae,De,z0(Ye),St);if(Ye.$$typeof===M)return je(Re,Ae,De,Pl(Ae,Ye),St);q0(Ae,Ye)}return null}function Xt(Re,Ae,De,Ye){for(var St=null,pn=null,Pt=Ae,zt=Ae=0,Gi=null;Pt!==null&&zt<De.length;zt++){Pt.index>zt?(Gi=Pt,Pt=null):Gi=Pt.sibling;var zn=Fe(Re,Pt,De[zt],Ye);if(zn===null){Pt===null&&(Pt=Gi);break}l&&Pt&&zn.alternate===null&&c(Re,Pt),Ae=I(zn,Ae,zt),pn===null?St=zn:pn.sibling=zn,pn=zn,Pt=Gi}if(zt===De.length)return d(Re,Pt),Dn&&Eu(Re,zt),St;if(Pt===null){for(;zt<De.length;zt++)Pt=Ze(Re,De[zt],Ye),Pt!==null&&(Ae=I(Pt,Ae,zt),pn===null?St=Pt:pn.sibling=Pt,pn=Pt);return Dn&&Eu(Re,zt),St}for(Pt=v(Pt);zt<De.length;zt++)Gi=je(Pt,Re,zt,De[zt],Ye),Gi!==null&&(l&&Gi.alternate!==null&&Pt.delete(Gi.key===null?zt:Gi.key),Ae=I(Gi,Ae,zt),pn===null?St=Gi:pn.sibling=Gi,pn=Gi);return l&&Pt.forEach(function(Mc){return c(Re,Mc)}),Dn&&Eu(Re,zt),St}function Ut(Re,Ae,De,Ye){if(De==null)throw Error(r(151));for(var St=null,pn=null,Pt=Ae,zt=Ae=0,Gi=null,zn=De.next();Pt!==null&&!zn.done;zt++,zn=De.next()){Pt.index>zt?(Gi=Pt,Pt=null):Gi=Pt.sibling;var Mc=Fe(Re,Pt,zn.value,Ye);if(Mc===null){Pt===null&&(Pt=Gi);break}l&&Pt&&Mc.alternate===null&&c(Re,Pt),Ae=I(Mc,Ae,zt),pn===null?St=Mc:pn.sibling=Mc,pn=Mc,Pt=Gi}if(zn.done)return d(Re,Pt),Dn&&Eu(Re,zt),St;if(Pt===null){for(;!zn.done;zt++,zn=De.next())zn=Ze(Re,zn.value,Ye),zn!==null&&(Ae=I(zn,Ae,zt),pn===null?St=zn:pn.sibling=zn,pn=zn);return Dn&&Eu(Re,zt),St}for(Pt=v(Pt);!zn.done;zt++,zn=De.next())zn=je(Pt,Re,zt,zn.value,Ye),zn!==null&&(l&&zn.alternate!==null&&Pt.delete(zn.key===null?zt:zn.key),Ae=I(zn,Ae,zt),pn===null?St=zn:pn.sibling=zn,pn=zn);return l&&Pt.forEach(function(CC){return c(Re,CC)}),Dn&&Eu(Re,zt),St}function fr(Re,Ae,De,Ye){if(typeof De=="object"&&De!==null&&De.type===x&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case g:e:{for(var St=De.key;Ae!==null;){if(Ae.key===St){if(St=De.type,St===x){if(Ae.tag===7){d(Re,Ae.sibling),Ye=w(Ae,De.props.children),Ye.return=Re,Re=Ye;break e}}else if(Ae.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===A&&m_(St)===Ae.type){d(Re,Ae.sibling),Ye=w(Ae,De.props),Xd(Ye,De),Ye.return=Re,Re=Ye;break e}d(Re,Ae);break}else c(Re,Ae);Ae=Ae.sibling}De.type===x?(Ye=Ms(De.props.children,Re.mode,Ye,De.key),Ye.return=Re,Re=Ye):(Ye=bu(De.type,De.key,De.props,null,Re.mode,Ye),Xd(Ye,De),Ye.return=Re,Re=Ye)}return K(Re);case m:e:{for(St=De.key;Ae!==null;){if(Ae.key===St)if(Ae.tag===4&&Ae.stateNode.containerInfo===De.containerInfo&&Ae.stateNode.implementation===De.implementation){d(Re,Ae.sibling),Ye=w(Ae,De.children||[]),Ye.return=Re,Re=Ye;break e}else{d(Re,Ae);break}else c(Re,Ae);Ae=Ae.sibling}Ye=_f(De,Re.mode,Ye),Ye.return=Re,Re=Ye}return K(Re);case A:return St=De._init,De=St(De._payload),fr(Re,Ae,De,Ye)}if(le(De))return Xt(Re,Ae,De,Ye);if(P(De)){if(St=P(De),typeof St!="function")throw Error(r(150));return De=St.call(De),Ut(Re,Ae,De,Ye)}if(typeof De.then=="function")return fr(Re,Ae,z0(De),Ye);if(De.$$typeof===M)return fr(Re,Ae,Pl(Re,De),Ye);q0(Re,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,Ae!==null&&Ae.tag===6?(d(Re,Ae.sibling),Ye=w(Ae,De),Ye.return=Re,Re=Ye):(d(Re,Ae),Ye=gh(De,Re.mode,Ye),Ye.return=Re,Re=Ye),K(Re)):d(Re,Ae)}return function(Re,Ae,De,Ye){try{$d=0;var St=fr(Re,Ae,De,Ye);return Th=null,St}catch(Pt){if(Pt===te||Pt===ae)throw Pt;var pn=zi(29,Pt,null,Re.mode);return pn.lanes=Ye,pn.return=Re,pn}finally{}}}var Ih=v_(!0),y_=v_(!1),ps=me(null),Fl=null;function wc(l){var c=l.alternate;Q(Ti,Ti.current&1),Q(ps,l),Fl===null&&(c===null||on.current!==null||c.memoizedState!==null)&&(Fl=l)}function __(l){if(l.tag===22){if(Q(Ti,Ti.current),Q(ps,l),Fl===null){var c=l.alternate;c!==null&&c.memoizedState!==null&&(Fl=l)}}else bc()}function bc(){Q(Ti,Ti.current),Q(ps,ps.current)}function Ou(l){H(ps),Fl===l&&(Fl=null),H(Ti)}var Ti=me(0);function H0(l){for(var c=l;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Im(d)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function j2(l,c,d,v){c=l.memoizedState,d=d(v,c),d=d==null?c:h({},c,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var U2={enqueueSetState:function(l,c,d){l=l._reactInternals;var v=zo(),w=qe(v);w.payload=c,d!=null&&(w.callback=d),c=Qe(l,w,v),c!==null&&(qo(c,l,v),$e(c,l,v))},enqueueReplaceState:function(l,c,d){l=l._reactInternals;var v=zo(),w=qe(v);w.tag=1,w.payload=c,d!=null&&(w.callback=d),c=Qe(l,w,v),c!==null&&(qo(c,l,v),$e(c,l,v))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var d=zo(),v=qe(d);v.tag=2,c!=null&&(v.callback=c),c=Qe(l,v,d),c!==null&&(qo(c,l,d),$e(c,l,d))}};function x_(l,c,d,v,w,I,K){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,I,K):c.prototype&&c.prototype.isPureReactComponent?!wl(d,v)||!wl(w,I):!0}function w_(l,c,d,v){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,v),c.state!==l&&U2.enqueueReplaceState(c,c.state,null)}function Lf(l,c){var d=c;if("ref"in c){d={};for(var v in c)v!=="ref"&&(d[v]=c[v])}if(l=l.defaultProps){d===c&&(d=h({},d));for(var w in l)d[w]===void 0&&(d[w]=l[w])}return d}var G0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function b_(l){G0(l)}function A_(l){console.error(l)}function E_(l){G0(l)}function W0(l,c){try{var d=l.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function S_(l,c,d){try{var v=l.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function V2(l,c,d){return d=qe(d),d.tag=3,d.payload={element:null},d.callback=function(){W0(l,c)},d}function C_(l){return l=qe(l),l.tag=3,l}function T_(l,c,d,v){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var I=v.value;l.payload=function(){return w(I)},l.callback=function(){S_(c,d,v)}}var K=d.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(l.callback=function(){S_(c,d,v),typeof w!="function"&&(Ic===null?Ic=new Set([this]):Ic.add(this));var se=v.stack;this.componentDidCatch(v.value,{componentStack:se!==null?se:""})})}function C8(l,c,d,v,w){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=d.alternate,c!==null&&gc(c,d,w,!0),d=ps.current,d!==null){switch(d.tag){case 13:return Fl===null?fm():d.alternate===null&&Kr===0&&(Kr=3),d.flags&=-257,d.flags|=65536,d.lanes=w,v===ue?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([v]):c.add(v),dm(l,v,w)),!1;case 22:return d.flags|=65536,v===ue?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([v]):d.add(v)),dm(l,v,w)),!1}throw Error(r(435,d.tag))}return dm(l,v,w),fm(),!1}if(Dn)return c=ps.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,v!==Dd&&(l=Error(r(422),{cause:v}),pc(ln(l,d)))):(v!==Dd&&(c=Error(r(423),{cause:v}),pc(ln(c,d))),l=l.current.alternate,l.flags|=65536,w&=-w,l.lanes|=w,v=ln(v,d),w=V2(l.stateNode,v,w),yt(l,w),Kr!==4&&(Kr=2)),!1;var I=Error(r(520),{cause:v});if(I=ln(I,d),t1===null?t1=[I]:t1.push(I),Kr!==4&&(Kr=2),c===null)return!0;v=ln(v,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,l=w&-w,d.lanes|=l,l=V2(d.stateNode,v,l),yt(d,l),!1;case 1:if(c=d.type,I=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Ic===null||!Ic.has(I))))return d.flags|=65536,w&=-w,d.lanes|=w,w=C_(w),T_(w,l,d,v),yt(d,w),!1}d=d.return}while(d!==null);return!1}var I_=Error(r(461)),qi=!1;function ra(l,c,d,v){c.child=l===null?y_(c,null,d,v):Ih(c,l.child,d,v)}function N_(l,c,d,v,w){d=d.render;var I=c.ref;if("ref"in v){var K={};for(var se in v)se!=="ref"&&(K[se]=v[se])}else K=v;return hs(c),v=Bo(l,c,d,K,I,w),se=vr(),l!==null&&!qi?(Ef(l,c,w),Du(l,c,w)):(Dn&&se&&xf(c),c.flags|=1,ra(l,c,v,w),c.child)}function R_(l,c,d,v,w){if(l===null){var I=d.type;return typeof I=="function"&&!hc(I)&&I.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=I,O_(l,c,I,v,w)):(l=bu(d.type,null,v,c,c.mode,w),l.ref=c.ref,l.return=c,c.child=l)}if(I=l.child,!Y2(l,w)){var K=I.memoizedProps;if(d=d.compare,d=d!==null?d:wl,d(K,v)&&l.ref===c.ref)return Du(l,c,w)}return c.flags|=1,l=ls(I,v),l.ref=c.ref,l.return=c,c.child=l}function O_(l,c,d,v,w){if(l!==null){var I=l.memoizedProps;if(wl(I,v)&&l.ref===c.ref)if(qi=!1,c.pendingProps=v=I,Y2(l,w))(l.flags&131072)!==0&&(qi=!0);else return c.lanes=l.lanes,Du(l,c,w)}return z2(l,c,d,v,w)}function D_(l,c,d){var v=c.pendingProps,w=v.children,I=l!==null?l.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=I!==null?I.baseLanes|d:d,l!==null){for(w=c.child=l.child,I=0;w!==null;)I=I|w.lanes|w.childLanes,w=w.sibling;c.childLanes=I&~v}else c.childLanes=0,c.child=null;return P_(l,c,v,d)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&z(c,I!==null?I.cachePool:null),I!==null?Kn(c,I):Un(),__(c);else return c.lanes=c.childLanes=536870912,P_(l,c,I!==null?I.baseLanes|d:d,d)}else I!==null?(z(c,I.cachePool),Kn(c,I),bc(),c.memoizedState=null):(l!==null&&z(c,null),Un(),bc());return ra(l,c,w,d),c.child}function P_(l,c,d,v){var w=L();return w=w===null?null:{parent:ai._currentValue,pool:w},c.memoizedState={baseLanes:d,cachePool:w},l!==null&&z(c,null),Un(),__(c),l!==null&&gc(l,c,v,!0),null}function $0(l,c){var d=c.ref;if(d===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(l===null||l.ref!==d)&&(c.flags|=4194816)}}function z2(l,c,d,v,w){return hs(c),d=Bo(l,c,d,v,void 0,w),v=vr(),l!==null&&!qi?(Ef(l,c,w),Du(l,c,w)):(Dn&&v&&xf(c),c.flags|=1,ra(l,c,d,w),c.child)}function L_(l,c,d,v,w,I){return hs(c),c.updateQueue=null,d=Tu(c,v,d,w),Ll(l),v=vr(),l!==null&&!qi?(Ef(l,c,I),Du(l,c,I)):(Dn&&v&&xf(c),c.flags|=1,ra(l,c,d,I),c.child)}function k_(l,c,d,v,w){if(hs(c),c.stateNode===null){var I=vi,K=d.contextType;typeof K=="object"&&K!==null&&(I=ii(K)),I=new d(v,I),c.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=U2,c.stateNode=I,I._reactInternals=c,I=c.stateNode,I.props=v,I.state=c.memoizedState,I.refs={},we(c),K=d.contextType,I.context=typeof K=="object"&&K!==null?ii(K):vi,I.state=c.memoizedState,K=d.getDerivedStateFromProps,typeof K=="function"&&(j2(c,d,K,v),I.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(K=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),K!==I.state&&U2.enqueueReplaceState(I,I.state,null),dt(c,v,I,w),Dt(),I.state=c.memoizedState),typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(l===null){I=c.stateNode;var se=c.memoizedProps,ye=Lf(d,se);I.props=ye;var ke=I.context,We=d.contextType;K=vi,typeof We=="object"&&We!==null&&(K=ii(We));var Ze=d.getDerivedStateFromProps;We=typeof Ze=="function"||typeof I.getSnapshotBeforeUpdate=="function",se=c.pendingProps!==se,We||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(se||ke!==K)&&w_(c,I,v,K),Ue=!1;var Fe=c.memoizedState;I.state=Fe,dt(c,v,I,w),Dt(),ke=c.memoizedState,se||Fe!==ke||Ue?(typeof Ze=="function"&&(j2(c,d,Ze,v),ke=c.memoizedState),(ye=Ue||x_(c,d,ye,v,Fe,ke,K))?(We||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=ke),I.props=v,I.state=ke,I.context=K,v=ye):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{I=c.stateNode,Se(l,c),K=c.memoizedProps,We=Lf(d,K),I.props=We,Ze=c.pendingProps,Fe=I.context,ke=d.contextType,ye=vi,typeof ke=="object"&&ke!==null&&(ye=ii(ke)),se=d.getDerivedStateFromProps,(ke=typeof se=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(K!==Ze||Fe!==ye)&&w_(c,I,v,ye),Ue=!1,Fe=c.memoizedState,I.state=Fe,dt(c,v,I,w),Dt();var je=c.memoizedState;K!==Ze||Fe!==je||Ue||l!==null&&l.dependencies!==null&&_h(l.dependencies)?(typeof se=="function"&&(j2(c,d,se,v),je=c.memoizedState),(We=Ue||x_(c,d,We,v,Fe,je,ye)||l!==null&&l.dependencies!==null&&_h(l.dependencies))?(ke||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,je,ye),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,je,ye)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||K===l.memoizedProps&&Fe===l.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Fe===l.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=je),I.props=v,I.state=je,I.context=ye,v=We):(typeof I.componentDidUpdate!="function"||K===l.memoizedProps&&Fe===l.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Fe===l.memoizedState||(c.flags|=1024),v=!1)}return I=v,$0(l,c),v=(c.flags&128)!==0,I||v?(I=c.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:I.render(),c.flags|=1,l!==null&&v?(c.child=Ih(c,l.child,null,w),c.child=Ih(c,null,d,w)):ra(l,c,d,w),c.memoizedState=I.state,l=c.child):l=Du(l,c,w),l}function M_(l,c,d,v){return Ha(),c.flags|=256,ra(l,c,d,v),c.child}var q2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function H2(l){return{baseLanes:l,cachePool:Z()}}function G2(l,c,d){return l=l!==null?l.childLanes&~d:0,c&&(l|=gs),l}function B_(l,c,d){var v=c.pendingProps,w=!1,I=(c.flags&128)!==0,K;if((K=I)||(K=l!==null&&l.memoizedState===null?!1:(Ti.current&2)!==0),K&&(w=!0,c.flags&=-129),K=(c.flags&32)!==0,c.flags&=-33,l===null){if(Dn){if(w?wc(c):bc(),Dn){var se=Rr,ye;if(ye=se){e:{for(ye=se,se=us;ye.nodeType!==8;){if(!se){se=null;break e}if(ye=Xs(ye.nextSibling),ye===null){se=null;break e}}se=ye}se!==null?(c.memoizedState={dehydrated:se,treeContext:Au!==null?{id:Fs,overflow:js}:null,retryLane:536870912,hydrationErrors:null},ye=zi(18,null,null,0),ye.stateNode=se,ye.return=c,c.child=ye,ri=c,Rr=null,ye=!0):ye=!1}ye||Su(c)}if(se=c.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return Im(se)?c.lanes=32:c.lanes=536870912,null;Ou(c)}return se=v.children,v=v.fallback,w?(bc(),w=c.mode,se=X0({mode:"hidden",children:se},w),v=Ms(v,w,d,null),se.return=c,v.return=c,se.sibling=v,c.child=se,w=c.child,w.memoizedState=H2(d),w.childLanes=G2(l,K,d),c.memoizedState=q2,v):(wc(c),W2(c,se))}if(ye=l.memoizedState,ye!==null&&(se=ye.dehydrated,se!==null)){if(I)c.flags&256?(wc(c),c.flags&=-257,c=$2(l,c,d)):c.memoizedState!==null?(bc(),c.child=l.child,c.flags|=128,c=null):(bc(),w=v.fallback,se=c.mode,v=X0({mode:"visible",children:v.children},se),w=Ms(w,se,d,null),w.flags|=2,v.return=c,w.return=c,v.sibling=w,c.child=v,Ih(c,l.child,null,d),v=c.child,v.memoizedState=H2(d),v.childLanes=G2(l,K,d),c.memoizedState=q2,c=w);else if(wc(c),Im(se)){if(K=se.nextSibling&&se.nextSibling.dataset,K)var ke=K.dgst;K=ke,v=Error(r(419)),v.stack="",v.digest=K,pc({value:v,source:null,stack:null}),c=$2(l,c,d)}else if(qi||gc(l,c,d,!1),K=(d&l.childLanes)!==0,qi||K){if(K=yr,K!==null&&(v=d&-d,v=(v&42)!==0?1:bi(v),v=(v&(K.suspendedLanes|d))!==0?0:v,v!==0&&v!==ye.retryLane))throw ye.retryLane=v,ks(l,v),qo(K,l,v),I_;se.data==="$?"||fm(),c=$2(l,c,d)}else se.data==="$?"?(c.flags|=192,c.child=l.child,c=null):(l=ye.treeContext,Rr=Xs(se.nextSibling),ri=c,Dn=!0,Ol=null,us=!1,l!==null&&(lo[qa++]=Fs,lo[qa++]=js,lo[qa++]=Au,Fs=l.id,js=l.overflow,Au=c),c=W2(c,v.children),c.flags|=4096);return c}return w?(bc(),w=v.fallback,se=c.mode,ye=l.child,ke=ye.sibling,v=ls(ye,{mode:"hidden",children:v.children}),v.subtreeFlags=ye.subtreeFlags&65011712,ke!==null?w=ls(ke,w):(w=Ms(w,se,d,null),w.flags|=2),w.return=c,v.return=c,v.sibling=w,c.child=v,v=w,w=c.child,se=l.child.memoizedState,se===null?se=H2(d):(ye=se.cachePool,ye!==null?(ke=ai._currentValue,ye=ye.parent!==ke?{parent:ke,pool:ke}:ye):ye=Z(),se={baseLanes:se.baseLanes|d,cachePool:ye}),w.memoizedState=se,w.childLanes=G2(l,K,d),c.memoizedState=q2,v):(wc(c),d=l.child,l=d.sibling,d=ls(d,{mode:"visible",children:v.children}),d.return=c,d.sibling=null,l!==null&&(K=c.deletions,K===null?(c.deletions=[l],c.flags|=16):K.push(l)),c.child=d,c.memoizedState=null,d)}function W2(l,c){return c=X0({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function X0(l,c){return l=zi(22,l,null,c),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function $2(l,c,d){return Ih(c,l.child,null,d),l=W2(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function F_(l,c,d){l.lanes|=c;var v=l.alternate;v!==null&&(v.lanes|=c),vh(l.return,c,d)}function X2(l,c,d,v,w){var I=l.memoizedState;I===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:w}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=d,I.tailMode=w)}function j_(l,c,d){var v=c.pendingProps,w=v.revealOrder,I=v.tail;if(ra(l,c,v.children,d),v=Ti.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&F_(l,d,c);else if(l.tag===19)F_(l,d,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}switch(Q(Ti,v),w){case"forwards":for(d=c.child,w=null;d!==null;)l=d.alternate,l!==null&&H0(l)===null&&(w=d),d=d.sibling;d=w,d===null?(w=c.child,c.child=null):(w=d.sibling,d.sibling=null),X2(c,!1,w,d,I);break;case"backwards":for(d=null,w=c.child,c.child=null;w!==null;){if(l=w.alternate,l!==null&&H0(l)===null){c.child=w;break}l=w.sibling,w.sibling=d,d=w,w=l}X2(c,!0,d,null,I);break;case"together":X2(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Du(l,c,d){if(l!==null&&(c.dependencies=l.dependencies),Tc|=c.lanes,(d&c.childLanes)===0)if(l!==null){if(gc(l,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,d=ls(l,l.pendingProps),c.child=d,d.return=c;l.sibling!==null;)l=l.sibling,d=d.sibling=ls(l,l.pendingProps),d.return=c;d.sibling=null}return c.child}function Y2(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&_h(l)))}function T8(l,c,d){switch(c.tag){case 3:be(c,c.stateNode.containerInfo),Dl(c,ai,l.memoizedState.cache),Ha();break;case 27:case 5:Ge(c);break;case 4:be(c,c.stateNode.containerInfo);break;case 10:Dl(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(wc(c),c.flags|=128,null):(d&c.child.childLanes)!==0?B_(l,c,d):(wc(c),l=Du(l,c,d),l!==null?l.sibling:null);wc(c);break;case 19:var w=(l.flags&128)!==0;if(v=(d&c.childLanes)!==0,v||(gc(l,c,d,!1),v=(d&c.childLanes)!==0),w){if(v)return j_(l,c,d);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Q(Ti,Ti.current),v)break;return null;case 22:case 23:return c.lanes=0,D_(l,c,d);case 24:Dl(c,ai,l.memoizedState.cache)}return Du(l,c,d)}function U_(l,c,d){if(l!==null)if(l.memoizedProps!==c.pendingProps)qi=!0;else{if(!Y2(l,d)&&(c.flags&128)===0)return qi=!1,T8(l,c,d);qi=(l.flags&131072)!==0}else qi=!1,Dn&&(c.flags&1048576)!==0&&E0(c,mh,c.index);switch(c.lanes=0,c.tag){case 16:e:{l=c.pendingProps;var v=c.elementType,w=v._init;if(v=w(v._payload),c.type=v,typeof v=="function")hc(v)?(l=Lf(v,l),c.tag=1,c=k_(null,c,v,l,d)):(c.tag=0,c=z2(null,c,v,l,d));else{if(v!=null){if(w=v.$$typeof,w===V){c.tag=11,c=N_(null,c,v,l,d);break e}else if(w===N){c.tag=14,c=R_(null,c,v,l,d);break e}}throw c=Y(v)||v,Error(r(306,c,""))}}return c;case 0:return z2(l,c,c.type,c.pendingProps,d);case 1:return v=c.type,w=Lf(v,c.pendingProps),k_(l,c,v,w,d);case 3:e:{if(be(c,c.stateNode.containerInfo),l===null)throw Error(r(387));v=c.pendingProps;var I=c.memoizedState;w=I.element,Se(l,c),dt(c,v,null,d);var K=c.memoizedState;if(v=K.cache,Dl(c,ai,v),v!==I.cache&&yh(c,[ai],d,!0),Dt(),v=K.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:K.cache},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){c=M_(l,c,v,d);break e}else if(v!==w){w=ln(Error(r(424)),c),pc(w),c=M_(l,c,v,d);break e}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Rr=Xs(l.firstChild),ri=c,Dn=!0,Ol=null,us=!0,d=y_(c,null,v,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ha(),v===w){c=Du(l,c,d);break e}ra(l,c,v,d)}c=c.child}return c;case 26:return $0(l,c),l===null?(d=Hx(c.type,null,c.pendingProps,null))?c.memoizedState=d:Dn||(d=c.type,l=c.pendingProps,v=lp(de.current).createElement(d),v[Hn]=c,v[Gn]=l,aa(v,d,l),Mn(v),c.stateNode=v):c.memoizedState=Hx(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return Ge(c),l===null&&Dn&&(v=c.stateNode=Vx(c.type,c.pendingProps,de.current),ri=c,us=!0,w=Rr,Oc(c.type)?(Nm=w,Rr=Xs(v.firstChild)):Rr=w),ra(l,c,c.pendingProps.children,d),$0(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&Dn&&((w=v=Rr)&&(v=tC(v,c.type,c.pendingProps,us),v!==null?(c.stateNode=v,ri=c,Rr=Xs(v.firstChild),us=!1,w=!0):w=!1),w||Su(c)),Ge(c),w=c.type,I=c.pendingProps,K=l!==null?l.memoizedProps:null,v=I.children,Sm(w,I)?v=null:K!==null&&Sm(w,K)&&(c.flags|=32),c.memoizedState!==null&&(w=Bo(l,c,kl,null,null,d),c1._currentValue=w),$0(l,c),ra(l,c,v,d),c.child;case 6:return l===null&&Dn&&((l=d=Rr)&&(d=nC(d,c.pendingProps,us),d!==null?(c.stateNode=d,ri=c,Rr=null,l=!0):l=!1),l||Su(c)),null;case 13:return B_(l,c,d);case 4:return be(c,c.stateNode.containerInfo),v=c.pendingProps,l===null?c.child=Ih(c,null,v,d):ra(l,c,v,d),c.child;case 11:return N_(l,c,c.type,c.pendingProps,d);case 7:return ra(l,c,c.pendingProps,d),c.child;case 8:return ra(l,c,c.pendingProps.children,d),c.child;case 12:return ra(l,c,c.pendingProps.children,d),c.child;case 10:return v=c.pendingProps,Dl(c,c.type,v.value),ra(l,c,v.children,d),c.child;case 9:return w=c.type._context,v=c.pendingProps.children,hs(c),w=ii(w),v=v(w),c.flags|=1,ra(l,c,v,d),c.child;case 14:return R_(l,c,c.type,c.pendingProps,d);case 15:return O_(l,c,c.type,c.pendingProps,d);case 19:return j_(l,c,d);case 31:return v=c.pendingProps,d=c.mode,v={mode:v.mode,children:v.children},l===null?(d=X0(v,d),d.ref=c.ref,c.child=d,d.return=c,c=d):(d=ls(l.child,v),d.ref=c.ref,c.child=d,d.return=c,c=d),c;case 22:return D_(l,c,d);case 24:return hs(c),v=ii(ai),l===null?(w=L(),w===null&&(w=yr,I=Pd(),w.pooledCache=I,I.refCount++,I!==null&&(w.pooledCacheLanes|=d),w=I),c.memoizedState={parent:v,cache:w},we(c),Dl(c,ai,w)):((l.lanes&d)!==0&&(Se(l,c),dt(c,null,null,d),Dt()),w=l.memoizedState,I=c.memoizedState,w.parent!==v?(w={parent:v,cache:v},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),Dl(c,ai,v)):(v=I.cache,Dl(c,ai,v),v!==w.cache&&yh(c,[ai],d,!0))),ra(l,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Pu(l){l.flags|=4}function V_(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!Yx(c)){if(c=ps.current,c!==null&&((Nn&4194048)===Nn?Fl!==null:(Nn&62914560)!==Nn&&(Nn&536870912)===0||c!==Fl))throw Oe=ue,re;l.flags|=8192}}function Y0(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?Cn():536870912,l.lanes|=c,Dh|=c)}function Yd(l,c){if(!Dn)switch(l.tailMode){case"hidden":c=l.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function jr(l){var c=l.alternate!==null&&l.alternate.child===l.child,d=0,v=0;if(c)for(var w=l.child;w!==null;)d|=w.lanes|w.childLanes,v|=w.subtreeFlags&65011712,v|=w.flags&65011712,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)d|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=v,l.childLanes=d,c}function I8(l,c,d){var v=c.pendingProps;switch(wf(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(c),null;case 1:return jr(c),null;case 3:return d=c.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),fs(ai),Te(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(l===null||l.child===null)&&(ta(c)?Pu(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,C0())),jr(c),null;case 26:return d=c.memoizedState,l===null?(Pu(c),d!==null?(jr(c),V_(c,d)):(jr(c),c.flags&=-16777217)):d?d!==l.memoizedState?(Pu(c),jr(c),V_(c,d)):(jr(c),c.flags&=-16777217):(l.memoizedProps!==v&&Pu(c),jr(c),c.flags&=-16777217),null;case 27:He(c),d=de.current;var w=c.type;if(l!==null&&c.stateNode!=null)l.memoizedProps!==v&&Pu(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return jr(c),null}l=ee.current,ta(c)?S0(c):(l=Vx(w,v,d),c.stateNode=l,Pu(c))}return jr(c),null;case 5:if(He(c),d=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==v&&Pu(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return jr(c),null}if(l=ee.current,ta(c))S0(c);else{switch(w=lp(de.current),l){case 1:l=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:l=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":l=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":l=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":l=w.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof v.is=="string"?w.createElement("select",{is:v.is}):w.createElement("select"),v.multiple?l.multiple=!0:v.size&&(l.size=v.size);break;default:l=typeof v.is=="string"?w.createElement(d,{is:v.is}):w.createElement(d)}}l[Hn]=c,l[Gn]=v;e:for(w=c.child;w!==null;){if(w.tag===5||w.tag===6)l.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===c)break e;for(;w.sibling===null;){if(w.return===null||w.return===c)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}c.stateNode=l;e:switch(aa(l,d,v),d){case"button":case"input":case"select":case"textarea":l=!!v.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Pu(c)}}return jr(c),c.flags&=-16777217,null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==v&&Pu(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(l=de.current,ta(c)){if(l=c.stateNode,d=c.memoizedProps,v=null,w=ri,w!==null)switch(w.tag){case 27:case 5:v=w.memoizedProps}l[Hn]=c,l=!!(l.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||Lx(l.nodeValue,d)),l||Su(c)}else l=lp(l).createTextNode(v),l[Hn]=c,c.stateNode=l}return jr(c),null;case 13:if(v=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(w=ta(c),v!==null&&v.dehydrated!==null){if(l===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Hn]=c}else Ha(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;jr(c),w=!1}else w=C0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Ou(c),c):(Ou(c),null)}if(Ou(c),(c.flags&128)!==0)return c.lanes=d,c;if(d=v!==null,l=l!==null&&l.memoizedState!==null,d){v=c.child,w=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(w=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==w&&(v.flags|=2048)}return d!==l&&d&&(c.child.flags|=8192),Y0(c,c.updateQueue),jr(c),null;case 4:return Te(),l===null&&xm(c.stateNode.containerInfo),jr(c),null;case 10:return fs(c.type),jr(c),null;case 19:if(H(Ti),w=c.memoizedState,w===null)return jr(c),null;if(v=(c.flags&128)!==0,I=w.rendering,I===null)if(v)Yd(w,!1);else{if(Kr!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(I=H0(l),I!==null){for(c.flags|=128,Yd(w,!1),l=I.updateQueue,c.updateQueue=l,Y0(c,l),c.subtreeFlags=0,l=d,d=c.child;d!==null;)yf(d,l),d=d.sibling;return Q(Ti,Ti.current&1|2),c.child}l=l.sibling}w.tail!==null&&gt()>Z0&&(c.flags|=128,v=!0,Yd(w,!1),c.lanes=4194304)}else{if(!v)if(l=H0(I),l!==null){if(c.flags|=128,v=!0,l=l.updateQueue,c.updateQueue=l,Y0(c,l),Yd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!Dn)return jr(c),null}else 2*gt()-w.renderingStartTime>Z0&&d!==536870912&&(c.flags|=128,v=!0,Yd(w,!1),c.lanes=4194304);w.isBackwards?(I.sibling=c.child,c.child=I):(l=w.last,l!==null?l.sibling=I:c.child=I,w.last=I)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=gt(),c.sibling=null,l=Ti.current,Q(Ti,v?l&1|2:l&1),c):(jr(c),null);case 22:case 23:return Ou(c),Qt(),v=c.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(d&536870912)!==0&&(c.flags&128)===0&&(jr(c),c.subtreeFlags&6&&(c.flags|=8192)):jr(c),d=c.updateQueue,d!==null&&Y0(c,d.retryQueue),d=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==d&&(c.flags|=2048),l!==null&&H(E),null;case 24:return d=null,l!==null&&(d=l.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),fs(ai),jr(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function N8(l,c){switch(wf(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return fs(ai),Te(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return He(c),null;case 13:if(Ou(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ha()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return H(Ti),null;case 4:return Te(),null;case 10:return fs(c.type),null;case 22:case 23:return Ou(c),Qt(),l!==null&&H(E),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return fs(ai),null;case 25:return null;default:return null}}function z_(l,c){switch(wf(c),c.tag){case 3:fs(ai),Te();break;case 26:case 27:case 5:He(c);break;case 4:Te();break;case 13:Ou(c);break;case 19:H(Ti);break;case 10:fs(c.type);break;case 22:case 23:Ou(c),Qt(),l!==null&&H(E);break;case 24:fs(ai)}}function Kd(l,c){try{var d=c.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var w=v.next;d=w;do{if((d.tag&l)===l){v=void 0;var I=d.create,K=d.inst;v=I(),K.destroy=v}d=d.next}while(d!==w)}}catch(se){gr(c,c.return,se)}}function Ac(l,c,d){try{var v=c.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var I=w.next;v=I;do{if((v.tag&l)===l){var K=v.inst,se=K.destroy;if(se!==void 0){K.destroy=void 0,w=c;var ye=d,ke=se;try{ke()}catch(We){gr(w,ye,We)}}}v=v.next}while(v!==I)}}catch(We){gr(c,c.return,We)}}function q_(l){var c=l.updateQueue;if(c!==null){var d=l.stateNode;try{jn(c,d)}catch(v){gr(l,l.return,v)}}}function H_(l,c,d){d.props=Lf(l.type,l.memoizedProps),d.state=l.memoizedState;try{d.componentWillUnmount()}catch(v){gr(l,c,v)}}function Qd(l,c){try{var d=l.ref;if(d!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof d=="function"?l.refCleanup=d(v):d.current=v}}catch(w){gr(l,c,w)}}function jl(l,c){var d=l.ref,v=l.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(w){gr(l,c,w)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){gr(l,c,w)}else d.current=null}function G_(l){var c=l.type,d=l.memoizedProps,v=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(w){gr(l,l.return,w)}}function K2(l,c,d){try{var v=l.stateNode;K8(v,l.type,d,c),v[Gn]=c}catch(w){gr(l,l.return,w)}}function W_(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Oc(l.type)||l.tag===4}function Q2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||W_(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Oc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Z2(l,c,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(l,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(l),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=sp));else if(v!==4&&(v===27&&Oc(l.type)&&(d=l.stateNode,c=null),l=l.child,l!==null))for(Z2(l,c,d),l=l.sibling;l!==null;)Z2(l,c,d),l=l.sibling}function K0(l,c,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?d.insertBefore(l,c):d.appendChild(l);else if(v!==4&&(v===27&&Oc(l.type)&&(d=l.stateNode),l=l.child,l!==null))for(K0(l,c,d),l=l.sibling;l!==null;)K0(l,c,d),l=l.sibling}function $_(l){var c=l.stateNode,d=l.memoizedProps;try{for(var v=l.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);aa(c,v,d),c[Hn]=l,c[Gn]=d}catch(I){gr(l,l.return,I)}}var Lu=!1,si=!1,J2=!1,X_=typeof WeakSet=="function"?WeakSet:Set,Hi=null;function R8(l,c){if(l=l.containerInfo,Am=pp,l=ea(l),Ci(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var w=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{d.nodeType,I.nodeType}catch{d=null;break e}var K=0,se=-1,ye=-1,ke=0,We=0,Ze=l,Fe=null;t:for(;;){for(var je;Ze!==d||w!==0&&Ze.nodeType!==3||(se=K+w),Ze!==I||v!==0&&Ze.nodeType!==3||(ye=K+v),Ze.nodeType===3&&(K+=Ze.nodeValue.length),(je=Ze.firstChild)!==null;)Fe=Ze,Ze=je;for(;;){if(Ze===l)break t;if(Fe===d&&++ke===w&&(se=K),Fe===I&&++We===v&&(ye=K),(je=Ze.nextSibling)!==null)break;Ze=Fe,Fe=Ze.parentNode}Ze=je}d=se===-1||ye===-1?null:{start:se,end:ye}}else d=null}d=d||{start:0,end:0}}else d=null;for(Em={focusedElem:l,selectionRange:d},pp=!1,Hi=c;Hi!==null;)if(c=Hi,l=c.child,(c.subtreeFlags&1024)!==0&&l!==null)l.return=c,Hi=l;else for(;Hi!==null;){switch(c=Hi,I=c.alternate,l=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&I!==null){l=void 0,d=c,w=I.memoizedProps,I=I.memoizedState,v=d.stateNode;try{var Xt=Lf(d.type,w,d.elementType===d.type);l=v.getSnapshotBeforeUpdate(Xt,I),v.__reactInternalSnapshotBeforeUpdate=l}catch(Ut){gr(d,d.return,Ut)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,d=l.nodeType,d===9)Tm(l);else if(d===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Tm(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=c.sibling,l!==null){l.return=c.return,Hi=l;break}Hi=c.return}}function Y_(l,c,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:Ec(l,d),v&4&&Kd(5,d);break;case 1:if(Ec(l,d),v&4)if(l=d.stateNode,c===null)try{l.componentDidMount()}catch(K){gr(d,d.return,K)}else{var w=Lf(d.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(w,c,l.__reactInternalSnapshotBeforeUpdate)}catch(K){gr(d,d.return,K)}}v&64&&q_(d),v&512&&Qd(d,d.return);break;case 3:if(Ec(l,d),v&64&&(l=d.updateQueue,l!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{jn(l,c)}catch(K){gr(d,d.return,K)}}break;case 27:c===null&&v&4&&$_(d);case 26:case 5:Ec(l,d),c===null&&v&4&&G_(d),v&512&&Qd(d,d.return);break;case 12:Ec(l,d);break;case 13:Ec(l,d),v&4&&Z_(l,d),v&64&&(l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(d=j8.bind(null,d),rC(l,d))));break;case 22:if(v=d.memoizedState!==null||Lu,!v){c=c!==null&&c.memoizedState!==null||si,w=Lu;var I=si;Lu=v,(si=c)&&!I?Sc(l,d,(d.subtreeFlags&8772)!==0):Ec(l,d),Lu=w,si=I}break;case 30:break;default:Ec(l,d)}}function K_(l){var c=l.alternate;c!==null&&(l.alternate=null,K_(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&pi(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Or=null,co=!1;function ku(l,c,d){for(d=d.child;d!==null;)Q_(l,c,d),d=d.sibling}function Q_(l,c,d){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(xt,d)}catch{}switch(d.tag){case 26:si||jl(d,c),ku(l,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:si||jl(d,c);var v=Or,w=co;Oc(d.type)&&(Or=d.stateNode,co=!1),ku(l,c,d),o1(d.stateNode),Or=v,co=w;break;case 5:si||jl(d,c);case 6:if(v=Or,w=co,Or=null,ku(l,c,d),Or=v,co=w,Or!==null)if(co)try{(Or.nodeType===9?Or.body:Or.nodeName==="HTML"?Or.ownerDocument.body:Or).removeChild(d.stateNode)}catch(I){gr(d,c,I)}else try{Or.removeChild(d.stateNode)}catch(I){gr(d,c,I)}break;case 18:Or!==null&&(co?(l=Or,jx(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,d.stateNode),p1(l)):jx(Or,d.stateNode));break;case 4:v=Or,w=co,Or=d.stateNode.containerInfo,co=!0,ku(l,c,d),Or=v,co=w;break;case 0:case 11:case 14:case 15:si||Ac(2,d,c),si||Ac(4,d,c),ku(l,c,d);break;case 1:si||(jl(d,c),v=d.stateNode,typeof v.componentWillUnmount=="function"&&H_(d,c,v)),ku(l,c,d);break;case 21:ku(l,c,d);break;case 22:si=(v=si)||d.memoizedState!==null,ku(l,c,d),si=v;break;default:ku(l,c,d)}}function Z_(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{p1(l)}catch(d){gr(c,c.return,d)}}function O8(l){switch(l.tag){case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new X_),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new X_),c;default:throw Error(r(435,l.tag))}}function em(l,c){var d=O8(l);c.forEach(function(v){var w=U8.bind(null,l,v);d.has(v)||(d.add(v),v.then(w,w))})}function jo(l,c){var d=c.deletions;if(d!==null)for(var v=0;v<d.length;v++){var w=d[v],I=l,K=c,se=K;e:for(;se!==null;){switch(se.tag){case 27:if(Oc(se.type)){Or=se.stateNode,co=!1;break e}break;case 5:Or=se.stateNode,co=!1;break e;case 3:case 4:Or=se.stateNode.containerInfo,co=!0;break e}se=se.return}if(Or===null)throw Error(r(160));Q_(I,K,w),Or=null,co=!1,I=w.alternate,I!==null&&(I.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)J_(c,l),c=c.sibling}var $s=null;function J_(l,c){var d=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:jo(c,l),Uo(l),v&4&&(Ac(3,l,l.return),Kd(3,l),Ac(5,l,l.return));break;case 1:jo(c,l),Uo(l),v&512&&(si||d===null||jl(d,d.return)),v&64&&Lu&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(d=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var w=$s;if(jo(c,l),Uo(l),v&512&&(si||d===null||jl(d,d.return)),v&4){var I=d!==null?d.memoizedState:null;if(v=l.memoizedState,d===null)if(v===null)if(l.stateNode===null){e:{v=l.type,d=l.memoizedProps,w=w.ownerDocument||w;t:switch(v){case"title":I=w.getElementsByTagName("title")[0],(!I||I[Zi]||I[Hn]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=w.createElement(v),w.head.insertBefore(I,w.querySelector("head > title"))),aa(I,v,d),I[Hn]=l,Mn(I),v=I;break e;case"link":var K=$x("link","href",w).get(v+(d.href||""));if(K){for(var se=0;se<K.length;se++)if(I=K[se],I.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&I.getAttribute("rel")===(d.rel==null?null:d.rel)&&I.getAttribute("title")===(d.title==null?null:d.title)&&I.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){K.splice(se,1);break t}}I=w.createElement(v),aa(I,v,d),w.head.appendChild(I);break;case"meta":if(K=$x("meta","content",w).get(v+(d.content||""))){for(se=0;se<K.length;se++)if(I=K[se],I.getAttribute("content")===(d.content==null?null:""+d.content)&&I.getAttribute("name")===(d.name==null?null:d.name)&&I.getAttribute("property")===(d.property==null?null:d.property)&&I.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&I.getAttribute("charset")===(d.charSet==null?null:d.charSet)){K.splice(se,1);break t}}I=w.createElement(v),aa(I,v,d),w.head.appendChild(I);break;default:throw Error(r(468,v))}I[Hn]=l,Mn(I),v=I}l.stateNode=v}else Xx(w,l.type,l.stateNode);else l.stateNode=Wx(w,v,l.memoizedProps);else I!==v?(I===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):I.count--,v===null?Xx(w,l.type,l.stateNode):Wx(w,v,l.memoizedProps)):v===null&&l.stateNode!==null&&K2(l,l.memoizedProps,d.memoizedProps)}break;case 27:jo(c,l),Uo(l),v&512&&(si||d===null||jl(d,d.return)),d!==null&&v&4&&K2(l,l.memoizedProps,d.memoizedProps);break;case 5:if(jo(c,l),Uo(l),v&512&&(si||d===null||jl(d,d.return)),l.flags&32){w=l.stateNode;try{pa(w,"")}catch(je){gr(l,l.return,je)}}v&4&&l.stateNode!=null&&(w=l.memoizedProps,K2(l,w,d!==null?d.memoizedProps:w)),v&1024&&(J2=!0);break;case 6:if(jo(c,l),Uo(l),v&4){if(l.stateNode===null)throw Error(r(162));v=l.memoizedProps,d=l.stateNode;try{d.nodeValue=v}catch(je){gr(l,l.return,je)}}break;case 3:if(fp=null,w=$s,$s=up(c.containerInfo),jo(c,l),$s=w,Uo(l),v&4&&d!==null&&d.memoizedState.isDehydrated)try{p1(c.containerInfo)}catch(je){gr(l,l.return,je)}J2&&(J2=!1,ex(l));break;case 4:v=$s,$s=up(l.stateNode.containerInfo),jo(c,l),Uo(l),$s=v;break;case 12:jo(c,l),Uo(l);break;case 13:jo(c,l),Uo(l),l.child.flags&8192&&l.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(om=gt()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,em(l,v)));break;case 22:w=l.memoizedState!==null;var ye=d!==null&&d.memoizedState!==null,ke=Lu,We=si;if(Lu=ke||w,si=We||ye,jo(c,l),si=We,Lu=ke,Uo(l),v&8192)e:for(c=l.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(d===null||ye||Lu||si||kf(l)),d=null,c=l;;){if(c.tag===5||c.tag===26){if(d===null){ye=d=c;try{if(I=ye.stateNode,w)K=I.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{se=ye.stateNode;var Ze=ye.memoizedProps.style,Fe=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;se.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(je){gr(ye,ye.return,je)}}}else if(c.tag===6){if(d===null){ye=c;try{ye.stateNode.nodeValue=w?"":ye.memoizedProps}catch(je){gr(ye,ye.return,je)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=l.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,em(l,d))));break;case 19:jo(c,l),Uo(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,em(l,v)));break;case 30:break;case 21:break;default:jo(c,l),Uo(l)}}function Uo(l){var c=l.flags;if(c&2){try{for(var d,v=l.return;v!==null;){if(W_(v)){d=v;break}v=v.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,I=Q2(l);K0(l,I,w);break;case 5:var K=d.stateNode;d.flags&32&&(pa(K,""),d.flags&=-33);var se=Q2(l);K0(l,se,K);break;case 3:case 4:var ye=d.stateNode.containerInfo,ke=Q2(l);Z2(l,ke,ye);break;default:throw Error(r(161))}}catch(We){gr(l,l.return,We)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function ex(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;ex(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function Ec(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Y_(l,c.alternate,c),c=c.sibling}function kf(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:Ac(4,c,c.return),kf(c);break;case 1:jl(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&H_(c,c.return,d),kf(c);break;case 27:o1(c.stateNode);case 26:case 5:jl(c,c.return),kf(c);break;case 22:c.memoizedState===null&&kf(c);break;case 30:kf(c);break;default:kf(c)}l=l.sibling}}function Sc(l,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,w=l,I=c,K=I.flags;switch(I.tag){case 0:case 11:case 15:Sc(w,I,d),Kd(4,I);break;case 1:if(Sc(w,I,d),v=I,w=v.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ke){gr(v,v.return,ke)}if(v=I,w=v.updateQueue,w!==null){var se=v.stateNode;try{var ye=w.shared.hiddenCallbacks;if(ye!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ye.length;w++)Tn(ye[w],se)}catch(ke){gr(v,v.return,ke)}}d&&K&64&&q_(I),Qd(I,I.return);break;case 27:$_(I);case 26:case 5:Sc(w,I,d),d&&v===null&&K&4&&G_(I),Qd(I,I.return);break;case 12:Sc(w,I,d);break;case 13:Sc(w,I,d),d&&K&4&&Z_(w,I);break;case 22:I.memoizedState===null&&Sc(w,I,d),Qd(I,I.return);break;case 30:break;default:Sc(w,I,d)}c=c.sibling}}function tm(l,c){var d=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==d&&(l!=null&&l.refCount++,d!=null&&bf(d))}function nm(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&bf(l))}function Ul(l,c,d,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)tx(l,c,d,v),c=c.sibling}function tx(l,c,d,v){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Ul(l,c,d,v),w&2048&&Kd(9,c);break;case 1:Ul(l,c,d,v);break;case 3:Ul(l,c,d,v),w&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&bf(l)));break;case 12:if(w&2048){Ul(l,c,d,v),l=c.stateNode;try{var I=c.memoizedProps,K=I.id,se=I.onPostCommit;typeof se=="function"&&se(K,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ye){gr(c,c.return,ye)}}else Ul(l,c,d,v);break;case 13:Ul(l,c,d,v);break;case 23:break;case 22:I=c.stateNode,K=c.alternate,c.memoizedState!==null?I._visibility&2?Ul(l,c,d,v):Zd(l,c):I._visibility&2?Ul(l,c,d,v):(I._visibility|=2,Nh(l,c,d,v,(c.subtreeFlags&10256)!==0)),w&2048&&tm(K,c);break;case 24:Ul(l,c,d,v),w&2048&&nm(c.alternate,c);break;default:Ul(l,c,d,v)}}function Nh(l,c,d,v,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var I=l,K=c,se=d,ye=v,ke=K.flags;switch(K.tag){case 0:case 11:case 15:Nh(I,K,se,ye,w),Kd(8,K);break;case 23:break;case 22:var We=K.stateNode;K.memoizedState!==null?We._visibility&2?Nh(I,K,se,ye,w):Zd(I,K):(We._visibility|=2,Nh(I,K,se,ye,w)),w&&ke&2048&&tm(K.alternate,K);break;case 24:Nh(I,K,se,ye,w),w&&ke&2048&&nm(K.alternate,K);break;default:Nh(I,K,se,ye,w)}c=c.sibling}}function Zd(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=l,v=c,w=v.flags;switch(v.tag){case 22:Zd(d,v),w&2048&&tm(v.alternate,v);break;case 24:Zd(d,v),w&2048&&nm(v.alternate,v);break;default:Zd(d,v)}c=c.sibling}}var Jd=8192;function Rh(l){if(l.subtreeFlags&Jd)for(l=l.child;l!==null;)nx(l),l=l.sibling}function nx(l){switch(l.tag){case 26:Rh(l),l.flags&Jd&&l.memoizedState!==null&&mC($s,l.memoizedState,l.memoizedProps);break;case 5:Rh(l);break;case 3:case 4:var c=$s;$s=up(l.stateNode.containerInfo),Rh(l),$s=c;break;case 22:l.memoizedState===null&&(c=l.alternate,c!==null&&c.memoizedState!==null?(c=Jd,Jd=16777216,Rh(l),Jd=c):Rh(l));break;default:Rh(l)}}function rx(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function e1(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];Hi=v,ax(v,l)}rx(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ix(l),l=l.sibling}function ix(l){switch(l.tag){case 0:case 11:case 15:e1(l),l.flags&2048&&Ac(9,l,l.return);break;case 3:e1(l);break;case 12:e1(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,Q0(l)):e1(l);break;default:e1(l)}}function Q0(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];Hi=v,ax(v,l)}rx(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:Ac(8,c,c.return),Q0(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,Q0(c));break;default:Q0(c)}l=l.sibling}}function ax(l,c){for(;Hi!==null;){var d=Hi;switch(d.tag){case 0:case 11:case 15:Ac(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:bf(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Hi=v;else e:for(d=l;Hi!==null;){v=Hi;var w=v.sibling,I=v.return;if(K_(v),v===d){Hi=null;break e}if(w!==null){w.return=I,Hi=w;break e}Hi=I}}}var D8={getCacheForType:function(l){var c=ii(ai),d=c.data.get(l);return d===void 0&&(d=l(),c.data.set(l,d)),d}},P8=typeof WeakMap=="function"?WeakMap:Map,tr=0,yr=null,yn=null,Nn=0,nr=0,Vo=null,Cc=!1,Oh=!1,rm=!1,Mu=0,Kr=0,Tc=0,Mf=0,im=0,gs=0,Dh=0,t1=null,fo=null,am=!1,om=0,Z0=1/0,J0=null,Ic=null,ia=0,Nc=null,Ph=null,Lh=0,sm=0,lm=null,ox=null,n1=0,um=null;function zo(){if((tr&2)!==0&&Nn!==0)return Nn&-Nn;if(U.T!==null){var l=Cu;return l!==0?l:mm()}return dr()}function sx(){gs===0&&(gs=(Nn&536870912)===0||Dn?ha():536870912);var l=ps.current;return l!==null&&(l.flags|=32),gs}function qo(l,c,d){(l===yr&&(nr===2||nr===9)||l.cancelPendingCommit!==null)&&(kh(l,0),Rc(l,Nn,gs,!1)),or(l,d),((tr&2)===0||l!==yr)&&(l===yr&&((tr&2)===0&&(Mf|=d),Kr===4&&Rc(l,Nn,gs,!1)),Vl(l))}function lx(l,c,d){if((tr&6)!==0)throw Error(r(327));var v=!d&&(c&124)===0&&(c&l.expiredLanes)===0||di(l,c),w=v?M8(l,c):hm(l,c,!0),I=v;do{if(w===0){Oh&&!v&&Rc(l,c,0,!1);break}else{if(d=l.current.alternate,I&&!L8(d)){w=hm(l,c,!1),I=!1;continue}if(w===2){if(I=c,l.errorRecoveryDisabledLanes&I)var K=0;else K=l.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){c=K;e:{var se=l;w=t1;var ye=se.current.memoizedState.isDehydrated;if(ye&&(kh(se,K).flags|=256),K=hm(se,K,!1),K!==2){if(rm&&!ye){se.errorRecoveryDisabledLanes|=I,Mf|=I,w=4;break e}I=fo,fo=w,I!==null&&(fo===null?fo=I:fo.push.apply(fo,I))}w=K}if(I=!1,w!==2)continue}}if(w===1){kh(l,0),Rc(l,c,0,!0);break}e:{switch(v=l,I=w,I){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Rc(v,c,gs,!Cc);break e;case 2:fo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=om+300-gt(),10<w)){if(Rc(v,c,gs,!Cc),An(v,0,!0)!==0)break e;v.timeoutHandle=Bx(ux.bind(null,v,d,fo,J0,am,c,gs,Mf,Dh,Cc,I,2,-0,0),w);break e}ux(v,d,fo,J0,am,c,gs,Mf,Dh,Cc,I,0,-0,0)}}break}while(!0);Vl(l)}function ux(l,c,d,v,w,I,K,se,ye,ke,We,Ze,Fe,je){if(l.timeoutHandle=-1,Ze=c.subtreeFlags,(Ze&8192||(Ze&16785408)===16785408)&&(u1={stylesheets:null,count:0,unsuspend:gC},nx(c),Ze=vC(),Ze!==null)){l.cancelPendingCommit=Ze(mx.bind(null,l,c,I,d,v,w,K,se,ye,We,1,Fe,je)),Rc(l,I,K,!ke);return}mx(l,c,I,d,v,w,K,se,ye)}function L8(l){for(var c=l;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var w=d[v],I=w.getSnapshot;w=w.value;try{if(!mi(I(),w))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Rc(l,c,d,v){c&=~im,c&=~Mf,l.suspendedLanes|=c,l.pingedLanes&=~c,v&&(l.warmLanes|=c),v=l.expirationTimes;for(var w=c;0<w;){var I=31-_t(w),K=1<<I;v[I]=-1,w&=~K}d!==0&&Tt(l,d,c)}function ep(){return(tr&6)===0?(r1(0),!1):!0}function cm(){if(yn!==null){if(nr===0)var l=yn.return;else l=yn,Vs=yi=null,wh(l),Th=null,$d=0,l=yn;for(;l!==null;)z_(l.alternate,l),l=l.return;yn=null}}function kh(l,c){var d=l.timeoutHandle;d!==-1&&(l.timeoutHandle=-1,Z8(d)),d=l.cancelPendingCommit,d!==null&&(l.cancelPendingCommit=null,d()),cm(),yr=l,yn=d=ls(l.current,null),Nn=c,nr=0,Vo=null,Cc=!1,Oh=di(l,c),rm=!1,Dh=gs=im=Mf=Tc=Kr=0,fo=t1=null,am=!1,(c&8)!==0&&(c|=c&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=c;0<v;){var w=31-_t(v),I=1<<w;c|=l[w],v&=~I}return Mu=c,oo(),d}function cx(l,c){Lt=null,U.H=V0,c===te||c===ae?(c=Ne(),nr=3):c===re?(c=Ne(),nr=4):nr=c===I_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Vo=c,yn===null&&(Kr=1,W0(l,ln(c,l.current)))}function fx(){var l=U.H;return U.H=V0,l===null?V0:l}function hx(){var l=U.A;return U.A=D8,l}function fm(){Kr=4,Cc||(Nn&4194048)!==Nn&&ps.current!==null||(Oh=!0),(Tc&134217727)===0&&(Mf&134217727)===0||yr===null||Rc(yr,Nn,gs,!1)}function hm(l,c,d){var v=tr;tr|=2;var w=fx(),I=hx();(yr!==l||Nn!==c)&&(J0=null,kh(l,c)),c=!1;var K=Kr;e:do try{if(nr!==0&&yn!==null){var se=yn,ye=Vo;switch(nr){case 8:cm(),K=6;break e;case 3:case 2:case 9:case 6:ps.current===null&&(c=!0);var ke=nr;if(nr=0,Vo=null,Mh(l,se,ye,ke),d&&Oh){K=0;break e}break;default:ke=nr,nr=0,Vo=null,Mh(l,se,ye,ke)}}k8(),K=Kr;break}catch(We){cx(l,We)}while(!0);return c&&l.shellSuspendCounter++,Vs=yi=null,tr=v,U.H=w,U.A=I,yn===null&&(yr=null,Nn=0,oo()),K}function k8(){for(;yn!==null;)dx(yn)}function M8(l,c){var d=tr;tr|=2;var v=fx(),w=hx();yr!==l||Nn!==c?(J0=null,Z0=gt()+500,kh(l,c)):Oh=di(l,c);e:do try{if(nr!==0&&yn!==null){c=yn;var I=Vo;t:switch(nr){case 1:nr=0,Vo=null,Mh(l,c,I,1);break;case 2:case 9:if(he(I)){nr=0,Vo=null,px(c);break}c=function(){nr!==2&&nr!==9||yr!==l||(nr=7),Vl(l)},I.then(c,c);break e;case 3:nr=7;break e;case 4:nr=5;break e;case 7:he(I)?(nr=0,Vo=null,px(c)):(nr=0,Vo=null,Mh(l,c,I,7));break;case 5:var K=null;switch(yn.tag){case 26:K=yn.memoizedState;case 5:case 27:var se=yn;if(!K||Yx(K)){nr=0,Vo=null;var ye=se.sibling;if(ye!==null)yn=ye;else{var ke=se.return;ke!==null?(yn=ke,tp(ke)):yn=null}break t}}nr=0,Vo=null,Mh(l,c,I,5);break;case 6:nr=0,Vo=null,Mh(l,c,I,6);break;case 8:cm(),Kr=6;break e;default:throw Error(r(462))}}B8();break}catch(We){cx(l,We)}while(!0);return Vs=yi=null,U.H=v,U.A=w,tr=d,yn!==null?0:(yr=null,Nn=0,oo(),Kr)}function B8(){for(;yn!==null&&!Be();)dx(yn)}function dx(l){var c=U_(l.alternate,l,Mu);l.memoizedProps=l.pendingProps,c===null?tp(l):yn=c}function px(l){var c=l,d=c.alternate;switch(c.tag){case 15:case 0:c=L_(d,c,c.pendingProps,c.type,void 0,Nn);break;case 11:c=L_(d,c,c.pendingProps,c.type.render,c.ref,Nn);break;case 5:wh(c);default:z_(d,c),c=yn=yf(c,Mu),c=U_(d,c,Mu)}l.memoizedProps=l.pendingProps,c===null?tp(l):yn=c}function Mh(l,c,d,v){Vs=yi=null,wh(c),Th=null,$d=0;var w=c.return;try{if(C8(l,w,c,d,Nn)){Kr=1,W0(l,ln(d,l.current)),yn=null;return}}catch(I){if(w!==null)throw yn=w,I;Kr=1,W0(l,ln(d,l.current)),yn=null;return}c.flags&32768?(Dn||v===1?l=!0:Oh||(Nn&536870912)!==0?l=!1:(Cc=l=!0,(v===2||v===9||v===3||v===6)&&(v=ps.current,v!==null&&v.tag===13&&(v.flags|=16384))),gx(c,l)):tp(c)}function tp(l){var c=l;do{if((c.flags&32768)!==0){gx(c,Cc);return}l=c.return;var d=I8(c.alternate,c,Mu);if(d!==null){yn=d;return}if(c=c.sibling,c!==null){yn=c;return}yn=c=l}while(c!==null);Kr===0&&(Kr=5)}function gx(l,c){do{var d=N8(l.alternate,l);if(d!==null){d.flags&=32767,yn=d;return}if(d=l.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(l=l.sibling,l!==null)){yn=l;return}yn=l=d}while(l!==null);Kr=6,yn=null}function mx(l,c,d,v,w,I,K,se,ye){l.cancelPendingCommit=null;do np();while(ia!==0);if((tr&6)!==0)throw Error(r(327));if(c!==null){if(c===l.current)throw Error(r(177));if(I=c.lanes|c.childLanes,I|=Mr,vn(l,d,I,K,se,ye),l===yr&&(yn=yr=null,Nn=0),Ph=c,Nc=l,Lh=d,sm=I,lm=w,ox=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,V8(at,function(){return wx(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=U.T,U.T=null,w=q.p,q.p=2,K=tr,tr|=4;try{R8(l,c,d)}finally{tr=K,q.p=w,U.T=v}}ia=1,vx(),yx(),_x()}}function vx(){if(ia===1){ia=0;var l=Nc,c=Ph,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=U.T,U.T=null;var v=q.p;q.p=2;var w=tr;tr|=4;try{J_(c,l);var I=Em,K=ea(l.containerInfo),se=I.focusedElem,ye=I.selectionRange;if(K!==se&&se&&se.ownerDocument&&bl(se.ownerDocument.documentElement,se)){if(ye!==null&&Ci(se)){var ke=ye.start,We=ye.end;if(We===void 0&&(We=ke),"selectionStart"in se)se.selectionStart=ke,se.selectionEnd=Math.min(We,se.value.length);else{var Ze=se.ownerDocument||document,Fe=Ze&&Ze.defaultView||window;if(Fe.getSelection){var je=Fe.getSelection(),Xt=se.textContent.length,Ut=Math.min(ye.start,Xt),fr=ye.end===void 0?Ut:Math.min(ye.end,Xt);!je.extend&&Ut>fr&&(K=fr,fr=Ut,Ut=K);var Re=Ps(se,Ut),Ae=Ps(se,fr);if(Re&&Ae&&(je.rangeCount!==1||je.anchorNode!==Re.node||je.anchorOffset!==Re.offset||je.focusNode!==Ae.node||je.focusOffset!==Ae.offset)){var De=Ze.createRange();De.setStart(Re.node,Re.offset),je.removeAllRanges(),Ut>fr?(je.addRange(De),je.extend(Ae.node,Ae.offset)):(De.setEnd(Ae.node,Ae.offset),je.addRange(De))}}}}for(Ze=[],je=se;je=je.parentNode;)je.nodeType===1&&Ze.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<Ze.length;se++){var Ye=Ze[se];Ye.element.scrollLeft=Ye.left,Ye.element.scrollTop=Ye.top}}pp=!!Am,Em=Am=null}finally{tr=w,q.p=v,U.T=d}}l.current=c,ia=2}}function yx(){if(ia===2){ia=0;var l=Nc,c=Ph,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=U.T,U.T=null;var v=q.p;q.p=2;var w=tr;tr|=4;try{Y_(l,c.alternate,c)}finally{tr=w,q.p=v,U.T=d}}ia=3}}function _x(){if(ia===4||ia===3){ia=0,ge();var l=Nc,c=Ph,d=Lh,v=ox;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ia=5:(ia=0,Ph=Nc=null,xx(l,l.pendingLanes));var w=l.pendingLanes;if(w===0&&(Ic=null),kn(d),c=c.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(xt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=U.T,w=q.p,q.p=2,U.T=null;try{for(var I=l.onRecoverableError,K=0;K<v.length;K++){var se=v[K];I(se.value,{componentStack:se.stack})}}finally{U.T=c,q.p=w}}(Lh&3)!==0&&np(),Vl(l),w=l.pendingLanes,(d&4194090)!==0&&(w&42)!==0?l===um?n1++:(n1=0,um=l):n1=0,r1(0)}}function xx(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,bf(c)))}function np(l){return vx(),yx(),_x(),wx()}function wx(){if(ia!==5)return!1;var l=Nc,c=sm;sm=0;var d=kn(Lh),v=U.T,w=q.p;try{q.p=32>d?32:d,U.T=null,d=lm,lm=null;var I=Nc,K=Lh;if(ia=0,Ph=Nc=null,Lh=0,(tr&6)!==0)throw Error(r(331));var se=tr;if(tr|=4,ix(I.current),tx(I,I.current,K,d),tr=se,r1(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(xt,I)}catch{}return!0}finally{q.p=w,U.T=v,xx(l,c)}}function bx(l,c,d){c=ln(d,c),c=V2(l.stateNode,c,2),l=Qe(l,c,2),l!==null&&(or(l,2),Vl(l))}function gr(l,c,d){if(l.tag===3)bx(l,l,d);else for(;c!==null;){if(c.tag===3){bx(c,l,d);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ic===null||!Ic.has(v))){l=ln(d,l),d=C_(2),v=Qe(c,d,2),v!==null&&(T_(d,v,c,l),or(v,2),Vl(v));break}}c=c.return}}function dm(l,c,d){var v=l.pingCache;if(v===null){v=l.pingCache=new P8;var w=new Set;v.set(c,w)}else w=v.get(c),w===void 0&&(w=new Set,v.set(c,w));w.has(d)||(rm=!0,w.add(d),l=F8.bind(null,l,c,d),c.then(l,l))}function F8(l,c,d){var v=l.pingCache;v!==null&&v.delete(c),l.pingedLanes|=l.suspendedLanes&d,l.warmLanes&=~d,yr===l&&(Nn&d)===d&&(Kr===4||Kr===3&&(Nn&62914560)===Nn&&300>gt()-om?(tr&2)===0&&kh(l,0):im|=d,Dh===Nn&&(Dh=0)),Vl(l)}function Ax(l,c){c===0&&(c=Cn()),l=ks(l,c),l!==null&&(or(l,c),Vl(l))}function j8(l){var c=l.memoizedState,d=0;c!==null&&(d=c.retryLane),Ax(l,d)}function U8(l,c){var d=0;switch(l.tag){case 13:var v=l.stateNode,w=l.memoizedState;w!==null&&(d=w.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),Ax(l,d)}function V8(l,c){return st(l,c)}var rp=null,Bh=null,pm=!1,ip=!1,gm=!1,Bf=0;function Vl(l){l!==Bh&&l.next===null&&(Bh===null?rp=Bh=l:Bh=Bh.next=l),ip=!0,pm||(pm=!0,q8())}function r1(l,c){if(!gm&&ip){gm=!0;do for(var d=!1,v=rp;v!==null;){if(l!==0){var w=v.pendingLanes;if(w===0)var I=0;else{var K=v.suspendedLanes,se=v.pingedLanes;I=(1<<31-_t(42|l)+1)-1,I&=w&~(K&~se),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(d=!0,Tx(v,I))}else I=Nn,I=An(v,v===yr?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||di(v,I)||(d=!0,Tx(v,I));v=v.next}while(d);gm=!1}}function z8(){Ex()}function Ex(){ip=pm=!1;var l=0;Bf!==0&&(Q8()&&(l=Bf),Bf=0);for(var c=gt(),d=null,v=rp;v!==null;){var w=v.next,I=Sx(v,c);I===0?(v.next=null,d===null?rp=w:d.next=w,w===null&&(Bh=d)):(d=v,(l!==0||(I&3)!==0)&&(ip=!0)),v=w}r1(l)}function Sx(l,c){for(var d=l.suspendedLanes,v=l.pingedLanes,w=l.expirationTimes,I=l.pendingLanes&-62914561;0<I;){var K=31-_t(I),se=1<<K,ye=w[K];ye===-1?((se&d)===0||(se&v)!==0)&&(w[K]=an(se,c)):ye<=c&&(l.expiredLanes|=se),I&=~se}if(c=yr,d=Nn,d=An(l,l===c?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,d===0||l===c&&(nr===2||nr===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&wt(v),l.callbackNode=null,l.callbackPriority=0;if((d&3)===0||di(l,d)){if(c=d&-d,c===l.callbackPriority)return c;switch(v!==null&&wt(v),kn(d)){case 2:case 8:d=it;break;case 32:d=at;break;case 268435456:d=ct;break;default:d=at}return v=Cx.bind(null,l),d=st(d,v),l.callbackPriority=c,l.callbackNode=d,c}return v!==null&&v!==null&&wt(v),l.callbackPriority=2,l.callbackNode=null,2}function Cx(l,c){if(ia!==0&&ia!==5)return l.callbackNode=null,l.callbackPriority=0,null;var d=l.callbackNode;if(np()&&l.callbackNode!==d)return null;var v=Nn;return v=An(l,l===yr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(lx(l,v,c),Sx(l,gt()),l.callbackNode!=null&&l.callbackNode===d?Cx.bind(null,l):null)}function Tx(l,c){if(np())return null;lx(l,c,!0)}function q8(){J8(function(){(tr&6)!==0?st(Xe,z8):Ex()})}function mm(){return Bf===0&&(Bf=ha()),Bf}function Ix(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:No(""+l)}function Nx(l,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,l.id&&d.setAttribute("form",l.id),c.parentNode.insertBefore(d,c),l=new FormData(l),d.parentNode.removeChild(d),l}function H8(l,c,d,v,w){if(c==="submit"&&d&&d.stateNode===w){var I=Ix((w[Gn]||null).action),K=v.submitter;K&&(c=(c=K[Gn]||null)?Ix(c.formAction):K.getAttribute("formAction"),c!==null&&(I=c,K=null));var se=new Jo("action","action",null,v,w);l.push({event:se,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Bf!==0){var ye=K?Nx(w,K):new FormData(w);ds(d,{pending:!0,data:ye,method:w.method,action:I},null,ye)}}else typeof I=="function"&&(se.preventDefault(),ye=K?Nx(w,K):new FormData(w),ds(d,{pending:!0,data:ye,method:w.method,action:I},I,ye))},currentTarget:w}]})}}for(var vm=0;vm<xu.length;vm++){var ym=xu[vm],G8=ym.toLowerCase(),W8=ym[0].toUpperCase()+ym.slice(1);Nr(G8,"on"+W8)}Nr(cc,"onAnimationEnd"),Nr(El,"onAnimationIteration"),Nr(Sl,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Cl,"onTransitionRun"),Nr(_u,"onTransitionStart"),Nr(fc,"onTransitionCancel"),Nr(Tl,"onTransitionEnd"),da("onMouseEnter",["mouseout","mouseover"]),da("onMouseLeave",["mouseout","mouseover"]),da("onPointerEnter",["pointerout","pointerover"]),da("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var i1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(i1));function Rx(l,c){c=(c&4)!==0;for(var d=0;d<l.length;d++){var v=l[d],w=v.event;v=v.listeners;e:{var I=void 0;if(c)for(var K=v.length-1;0<=K;K--){var se=v[K],ye=se.instance,ke=se.currentTarget;if(se=se.listener,ye!==I&&w.isPropagationStopped())break e;I=se,w.currentTarget=ke;try{I(w)}catch(We){G0(We)}w.currentTarget=null,I=ye}else for(K=0;K<v.length;K++){if(se=v[K],ye=se.instance,ke=se.currentTarget,se=se.listener,ye!==I&&w.isPropagationStopped())break e;I=se,w.currentTarget=ke;try{I(w)}catch(We){G0(We)}w.currentTarget=null,I=ye}}}}function _n(l,c){var d=c[wr];d===void 0&&(d=c[wr]=new Set);var v=l+"__bubble";d.has(v)||(Ox(c,l,2,!1),d.add(v))}function _m(l,c,d){var v=0;c&&(v|=4),Ox(d,l,v,c)}var ap="_reactListening"+Math.random().toString(36).slice(2);function xm(l){if(!l[ap]){l[ap]=!0,Ao.forEach(function(d){d!=="selectionchange"&&($8.has(d)||_m(d,!1,l),_m(d,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[ap]||(c[ap]=!0,_m("selectionchange",!1,c))}}function Ox(l,c,d,v){switch(t3(c)){case 2:var w=xC;break;case 8:w=wC;break;default:w=Lm}d=w.bind(null,c,d,l),w=void 0,!Ji||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),v?w!==void 0?l.addEventListener(c,d,{capture:!0,passive:w}):l.addEventListener(c,d,!0):w!==void 0?l.addEventListener(c,d,{passive:w}):l.addEventListener(c,d,!1)}function wm(l,c,d,v,w){var I=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var K=v.tag;if(K===3||K===4){var se=v.stateNode.containerInfo;if(se===w)break;if(K===4)for(K=v.return;K!==null;){var ye=K.tag;if((ye===3||ye===4)&&K.stateNode.containerInfo===w)return;K=K.return}for(;se!==null;){if(K=Jr(se),K===null)return;if(ye=K.tag,ye===5||ye===6||ye===26||ye===27){v=I=K;continue e}se=se.parentNode}}v=v.return}ac(function(){var ke=I,We=Jn(d),Ze=[];e:{var Fe=Ls.get(l);if(Fe!==void 0){var je=Jo,Xt=l;switch(l){case"keypress":if(va(d)===0)break e;case"keydown":case"keyup":je=Po;break;case"focusin":Xt="focus",je=ts;break;case"focusout":Xt="blur",je=ts;break;case"beforeblur":case"afterblur":je=ts;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=es;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=yl;break;case cc:case El:case Sl:je=gl;break;case Tl:je=J;break;case"scroll":case"scrollend":je=du;break;case"wheel":je=_e;break;case"copy":case"cut":case"paste":je=ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Ds;break;case"toggle":case"beforetoggle":je=Ve}var Ut=(c&4)!==0,fr=!Ut&&(l==="scroll"||l==="scrollend"),Re=Ut?Fe!==null?Fe+"Capture":null:Fe;Ut=[];for(var Ae=ke,De;Ae!==null;){var Ye=Ae;if(De=Ye.stateNode,Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||De===null||Re===null||(Ye=Fi(Ae,Re),Ye!=null&&Ut.push(a1(Ae,Ye,De))),fr)break;Ae=Ae.return}0<Ut.length&&(Fe=new je(Fe,Xt,null,d,We),Ze.push({event:Fe,listeners:Ut}))}}if((c&7)===0){e:{if(Fe=l==="mouseover"||l==="pointerover",je=l==="mouseout"||l==="pointerout",Fe&&d!==Za&&(Xt=d.relatedTarget||d.fromElement)&&(Jr(Xt)||Xt[pr]))break e;if((je||Fe)&&(Fe=We.window===We?We:(Fe=We.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,je?(Xt=d.relatedTarget||d.toElement,je=ke,Xt=Xt?Jr(Xt):null,Xt!==null&&(fr=a(Xt),Ut=Xt.tag,Xt!==fr||Ut!==5&&Ut!==27&&Ut!==6)&&(Xt=null)):(je=null,Xt=ke),je!==Xt)){if(Ut=Wr,Ye="onMouseLeave",Re="onMouseEnter",Ae="mouse",(l==="pointerout"||l==="pointerover")&&(Ut=Ds,Ye="onPointerLeave",Re="onPointerEnter",Ae="pointer"),fr=je==null?Fe:ei(je),De=Xt==null?Fe:ei(Xt),Fe=new Ut(Ye,Ae+"leave",je,d,We),Fe.target=fr,Fe.relatedTarget=De,Ye=null,Jr(We)===ke&&(Ut=new Ut(Re,Ae+"enter",Xt,d,We),Ut.target=De,Ut.relatedTarget=fr,Ye=Ut),fr=Ye,je&&Xt)t:{for(Ut=je,Re=Xt,Ae=0,De=Ut;De;De=Fh(De))Ae++;for(De=0,Ye=Re;Ye;Ye=Fh(Ye))De++;for(;0<Ae-De;)Ut=Fh(Ut),Ae--;for(;0<De-Ae;)Re=Fh(Re),De--;for(;Ae--;){if(Ut===Re||Re!==null&&Ut===Re.alternate)break t;Ut=Fh(Ut),Re=Fh(Re)}Ut=null}else Ut=null;je!==null&&Dx(Ze,Fe,je,Ut,!1),Xt!==null&&fr!==null&&Dx(Ze,fr,Xt,Ut,!0)}}e:{if(Fe=ke?ei(ke):window,je=Fe.nodeName&&Fe.nodeName.toLowerCase(),je==="select"||je==="input"&&Fe.type==="file")var St=lc;else if(Yn(Fe))if(gu)St=dh;else{St=Od;var pn=_a}else je=Fe.nodeName,!je||je.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?ke&&fu(ke.elementType)&&(St=lc):St=mf;if(St&&(St=St(l,ke))){io(Ze,St,d,We);break e}pn&&pn(l,Fe,ke),l==="focusout"&&ke&&Fe.type==="number"&&ke.memoizedProps.value!=null&&Ko(Fe,"number",Fe.value)}switch(pn=ke?ei(ke):window,l){case"focusin":(Yn(pn)||pn.contentEditable==="true")&&(xa=pn,Lo=ke,os=null);break;case"focusout":os=Lo=xa=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,Ir(Ze,d,We);break;case"selectionchange":if(Al)break;case"keydown":case"keyup":Ir(Ze,d,We)}var Pt;if(ht)e:{switch(l){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else jt?Le(l,d)&&(zt="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(zt="onCompositionStart");zt&&(G&&d.locale!=="ko"&&(jt||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&jt&&(Pt=hu()):(ma=We,Zo="value"in ma?ma.value:ma.textContent,jt=!0)),pn=op(ke,zt),0<pn.length&&(zt=new Ns(zt,l,null,d,We),Ze.push({event:zt,listeners:pn}),Pt?zt.data=Pt:(Pt=nt(d),Pt!==null&&(zt.data=Pt)))),(Pt=B?dn(l,d):Kt(l,d))&&(zt=op(ke,"onBeforeInput"),0<zt.length&&(pn=new Ns("onBeforeInput","beforeinput",null,d,We),Ze.push({event:pn,listeners:zt}),pn.data=Pt)),H8(Ze,l,ke,d,We)}Rx(Ze,c)})}function a1(l,c,d){return{instance:l,listener:c,currentTarget:d}}function op(l,c){for(var d=c+"Capture",v=[];l!==null;){var w=l,I=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||I===null||(w=Fi(l,d),w!=null&&v.unshift(a1(l,w,I)),w=Fi(l,c),w!=null&&v.push(a1(l,w,I))),l.tag===3)return v;l=l.return}return[]}function Fh(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Dx(l,c,d,v,w){for(var I=c._reactName,K=[];d!==null&&d!==v;){var se=d,ye=se.alternate,ke=se.stateNode;if(se=se.tag,ye!==null&&ye===v)break;se!==5&&se!==26&&se!==27||ke===null||(ye=ke,w?(ke=Fi(d,I),ke!=null&&K.unshift(a1(d,ke,ye))):w||(ke=Fi(d,I),ke!=null&&K.push(a1(d,ke,ye)))),d=d.return}K.length!==0&&l.push({event:c,listeners:K})}var X8=/\r\n?/g,Y8=/\u0000|\uFFFD/g;function Px(l){return(typeof l=="string"?l:""+l).replace(X8,`
`).replace(Y8,"")}function Lx(l,c){return c=Px(c),Px(l)===c}function sp(){}function cr(l,c,d,v,w,I){switch(d){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||pa(l,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&pa(l,""+v);break;case"className":Ua(l,"class",v);break;case"tabIndex":Ua(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Ua(l,d,v);break;case"style":cu(l,v,I);break;case"data":if(c!=="object"){Ua(l,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||d!=="href")){l.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=No(""+v),l.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(d==="formAction"?(c!=="input"&&cr(l,c,"name",w.name,w,null),cr(l,c,"formEncType",w.formEncType,w,null),cr(l,c,"formMethod",w.formMethod,w,null),cr(l,c,"formTarget",w.formTarget,w,null)):(cr(l,c,"encType",w.encType,w,null),cr(l,c,"method",w.method,w,null),cr(l,c,"target",w.target,w,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=No(""+v),l.setAttribute(d,v);break;case"onClick":v!=null&&(l.onclick=sp);break;case"onScroll":v!=null&&_n("scroll",l);break;case"onScrollEnd":v!=null&&_n("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(w.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}d=No(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""+v):l.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""):l.removeAttribute(d);break;case"capture":case"download":v===!0?l.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,v):l.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(d,v):l.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(d):l.setAttribute(d,v);break;case"popover":_n("beforetoggle",l),_n("toggle",l),ja(l,"popover",v);break;case"xlinkActuate":ti(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ti(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ti(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ti(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ti(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ti(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ti(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ti(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ti(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ja(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Io.get(d)||d,ja(l,d,v))}}function bm(l,c,d,v,w,I){switch(d){case"style":cu(l,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(w.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"children":typeof v=="string"?pa(l,v):(typeof v=="number"||typeof v=="bigint")&&pa(l,""+v);break;case"onScroll":v!=null&&_n("scroll",l);break;case"onScrollEnd":v!=null&&_n("scrollend",l);break;case"onClick":v!=null&&(l.onclick=sp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),c=d.slice(2,w?d.length-7:void 0),I=l[Gn]||null,I=I!=null?I[d]:null,typeof I=="function"&&l.removeEventListener(c,I,w),typeof v=="function")){typeof I!="function"&&I!==null&&(d in l?l[d]=null:l.hasAttribute(d)&&l.removeAttribute(d)),l.addEventListener(c,v,w);break e}d in l?l[d]=v:v===!0?l.setAttribute(d,""):ja(l,d,v)}}}function aa(l,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",l),_n("load",l);var v=!1,w=!1,I;for(I in d)if(d.hasOwnProperty(I)){var K=d[I];if(K!=null)switch(I){case"src":v=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:cr(l,c,I,K,d,null)}}w&&cr(l,c,"srcSet",d.srcSet,d,null),v&&cr(l,c,"src",d.src,d,null);return;case"input":_n("invalid",l);var se=I=K=w=null,ye=null,ke=null;for(v in d)if(d.hasOwnProperty(v)){var We=d[v];if(We!=null)switch(v){case"name":w=We;break;case"type":K=We;break;case"checked":ye=We;break;case"defaultChecked":ke=We;break;case"value":I=We;break;case"defaultValue":se=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,c));break;default:cr(l,c,v,We,d,null)}}Yo(l,I,se,ye,ke,K,w,!1),Xo(l);return;case"select":_n("invalid",l),v=K=I=null;for(w in d)if(d.hasOwnProperty(w)&&(se=d[w],se!=null))switch(w){case"value":I=se;break;case"defaultValue":K=se;break;case"multiple":v=se;default:cr(l,c,w,se,d,null)}c=I,d=K,l.multiple=!!v,c!=null?Qa(l,!!v,c,!1):d!=null&&Qa(l,!!v,d,!0);return;case"textarea":_n("invalid",l),I=w=v=null;for(K in d)if(d.hasOwnProperty(K)&&(se=d[K],se!=null))switch(K){case"value":v=se;break;case"defaultValue":w=se;break;case"children":I=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(91));break;default:cr(l,c,K,se,d,null)}Qo(l,v,w,I),Xo(l);return;case"option":for(ye in d)if(d.hasOwnProperty(ye)&&(v=d[ye],v!=null))switch(ye){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:cr(l,c,ye,v,d,null)}return;case"dialog":_n("beforetoggle",l),_n("toggle",l),_n("cancel",l),_n("close",l);break;case"iframe":case"object":_n("load",l);break;case"video":case"audio":for(v=0;v<i1.length;v++)_n(i1[v],l);break;case"image":_n("error",l),_n("load",l);break;case"details":_n("toggle",l);break;case"embed":case"source":case"link":_n("error",l),_n("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in d)if(d.hasOwnProperty(ke)&&(v=d[ke],v!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:cr(l,c,ke,v,d,null)}return;default:if(fu(c)){for(We in d)d.hasOwnProperty(We)&&(v=d[We],v!==void 0&&bm(l,c,We,v,d,void 0));return}}for(se in d)d.hasOwnProperty(se)&&(v=d[se],v!=null&&cr(l,c,se,v,d,null))}function K8(l,c,d,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,I=null,K=null,se=null,ye=null,ke=null,We=null;for(je in d){var Ze=d[je];if(d.hasOwnProperty(je)&&Ze!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ye=Ze;default:v.hasOwnProperty(je)||cr(l,c,je,null,v,Ze)}}for(var Fe in v){var je=v[Fe];if(Ze=d[Fe],v.hasOwnProperty(Fe)&&(je!=null||Ze!=null))switch(Fe){case"type":I=je;break;case"name":w=je;break;case"checked":ke=je;break;case"defaultChecked":We=je;break;case"value":K=je;break;case"defaultValue":se=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,c));break;default:je!==Ze&&cr(l,c,Fe,je,v,Ze)}}Ei(l,K,se,ye,ke,We,I,w);return;case"select":je=K=se=Fe=null;for(I in d)if(ye=d[I],d.hasOwnProperty(I)&&ye!=null)switch(I){case"value":break;case"multiple":je=ye;default:v.hasOwnProperty(I)||cr(l,c,I,null,v,ye)}for(w in v)if(I=v[w],ye=d[w],v.hasOwnProperty(w)&&(I!=null||ye!=null))switch(w){case"value":Fe=I;break;case"defaultValue":se=I;break;case"multiple":K=I;default:I!==ye&&cr(l,c,w,I,v,ye)}c=se,d=K,v=je,Fe!=null?Qa(l,!!d,Fe,!1):!!v!=!!d&&(c!=null?Qa(l,!!d,c,!0):Qa(l,!!d,d?[]:"",!1));return;case"textarea":je=Fe=null;for(se in d)if(w=d[se],d.hasOwnProperty(se)&&w!=null&&!v.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:cr(l,c,se,null,v,w)}for(K in v)if(w=v[K],I=d[K],v.hasOwnProperty(K)&&(w!=null||I!=null))switch(K){case"value":Fe=w;break;case"defaultValue":je=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==I&&cr(l,c,K,w,v,I)}Bn(l,Fe,je);return;case"option":for(var Xt in d)if(Fe=d[Xt],d.hasOwnProperty(Xt)&&Fe!=null&&!v.hasOwnProperty(Xt))switch(Xt){case"selected":l.selected=!1;break;default:cr(l,c,Xt,null,v,Fe)}for(ye in v)if(Fe=v[ye],je=d[ye],v.hasOwnProperty(ye)&&Fe!==je&&(Fe!=null||je!=null))switch(ye){case"selected":l.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:cr(l,c,ye,Fe,v,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in d)Fe=d[Ut],d.hasOwnProperty(Ut)&&Fe!=null&&!v.hasOwnProperty(Ut)&&cr(l,c,Ut,null,v,Fe);for(ke in v)if(Fe=v[ke],je=d[ke],v.hasOwnProperty(ke)&&Fe!==je&&(Fe!=null||je!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,c));break;default:cr(l,c,ke,Fe,v,je)}return;default:if(fu(c)){for(var fr in d)Fe=d[fr],d.hasOwnProperty(fr)&&Fe!==void 0&&!v.hasOwnProperty(fr)&&bm(l,c,fr,void 0,v,Fe);for(We in v)Fe=v[We],je=d[We],!v.hasOwnProperty(We)||Fe===je||Fe===void 0&&je===void 0||bm(l,c,We,Fe,v,je);return}}for(var Re in d)Fe=d[Re],d.hasOwnProperty(Re)&&Fe!=null&&!v.hasOwnProperty(Re)&&cr(l,c,Re,null,v,Fe);for(Ze in v)Fe=v[Ze],je=d[Ze],!v.hasOwnProperty(Ze)||Fe===je||Fe==null&&je==null||cr(l,c,Ze,Fe,v,je)}var Am=null,Em=null;function lp(l){return l.nodeType===9?l:l.ownerDocument}function kx(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mx(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function Sm(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Cm=null;function Q8(){var l=window.event;return l&&l.type==="popstate"?l===Cm?!1:(Cm=l,!0):(Cm=null,!1)}var Bx=typeof setTimeout=="function"?setTimeout:void 0,Z8=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,J8=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(l){return Fx.resolve(null).then(l).catch(eC)}:Bx;function eC(l){setTimeout(function(){throw l})}function Oc(l){return l==="head"}function jx(l,c){var d=c,v=0,w=0;do{var I=d.nextSibling;if(l.removeChild(d),I&&I.nodeType===8)if(d=I.data,d==="/$"){if(0<v&&8>v){d=v;var K=l.ownerDocument;if(d&1&&o1(K.documentElement),d&2&&o1(K.body),d&4)for(d=K.head,o1(d),K=d.firstChild;K;){var se=K.nextSibling,ye=K.nodeName;K[Zi]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&K.rel.toLowerCase()==="stylesheet"||d.removeChild(K),K=se}}if(w===0){l.removeChild(I),p1(c);return}w--}else d==="$"||d==="$?"||d==="$!"?w++:v=d.charCodeAt(0)-48;else v=0;d=I}while(d);p1(c)}function Tm(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Tm(d),pi(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}l.removeChild(d)}}function tC(l,c,d,v){for(;l.nodeType===1;){var w=d;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Zi])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(I=l.getAttribute("rel"),I==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(I!==w.rel||l.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||l.getAttribute("title")!==(w.title==null?null:w.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(I=l.getAttribute("src"),(I!==(w.src==null?null:w.src)||l.getAttribute("type")!==(w.type==null?null:w.type)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&I&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var I=w.name==null?null:""+w.name;if(w.type==="hidden"&&l.getAttribute("name")===I)return l}else return l;if(l=Xs(l.nextSibling),l===null)break}return null}function nC(l,c,d){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=Xs(l.nextSibling),l===null))return null;return l}function Im(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function rC(l,c){var d=l.ownerDocument;if(l.data!=="$?"||d.readyState==="complete")c();else{var v=function(){c(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function Xs(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return l}var Nm=null;function Ux(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"){if(c===0)return l;c--}else d==="/$"&&c++}l=l.previousSibling}return null}function Vx(l,c,d){switch(c=lp(d),l){case"html":if(l=c.documentElement,!l)throw Error(r(452));return l;case"head":if(l=c.head,!l)throw Error(r(453));return l;case"body":if(l=c.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function o1(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);pi(l)}var ms=new Map,zx=new Set;function up(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Bu=q.d;q.d={f:iC,r:aC,D:oC,C:sC,L:lC,m:uC,X:fC,S:cC,M:hC};function iC(){var l=Bu.f(),c=ep();return l||c}function aC(l){var c=Hr(l);c!==null&&c.tag===5&&c.type==="form"?Df(c):Bu.r(l)}var jh=typeof document>"u"?null:document;function qx(l,c,d){var v=jh;if(v&&typeof c=="string"&&c){var w=En(c);w='link[rel="'+l+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),zx.has(w)||(zx.add(w),l={rel:l,crossOrigin:d,href:c},v.querySelector(w)===null&&(c=v.createElement("link"),aa(c,"link",l),Mn(c),v.head.appendChild(c)))}}function oC(l){Bu.D(l),qx("dns-prefetch",l,null)}function sC(l,c){Bu.C(l,c),qx("preconnect",l,c)}function lC(l,c,d){Bu.L(l,c,d);var v=jh;if(v&&l&&c){var w='link[rel="preload"][as="'+En(c)+'"]';c==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+En(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+En(d.imageSizes)+'"]')):w+='[href="'+En(l)+'"]';var I=w;switch(c){case"style":I=Uh(l);break;case"script":I=Vh(l)}ms.has(I)||(l=h({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:l,as:c},d),ms.set(I,l),v.querySelector(w)!==null||c==="style"&&v.querySelector(s1(I))||c==="script"&&v.querySelector(l1(I))||(c=v.createElement("link"),aa(c,"link",l),Mn(c),v.head.appendChild(c)))}}function uC(l,c){Bu.m(l,c);var d=jh;if(d&&l){var v=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+En(v)+'"][href="'+En(l)+'"]',I=w;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Vh(l)}if(!ms.has(I)&&(l=h({rel:"modulepreload",href:l},c),ms.set(I,l),d.querySelector(w)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(l1(I)))return}v=d.createElement("link"),aa(v,"link",l),Mn(v),d.head.appendChild(v)}}}function cC(l,c,d){Bu.S(l,c,d);var v=jh;if(v&&l){var w=sr(v).hoistableStyles,I=Uh(l);c=c||"default";var K=w.get(I);if(!K){var se={loading:0,preload:null};if(K=v.querySelector(s1(I)))se.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":c},d),(d=ms.get(I))&&Rm(l,d);var ye=K=v.createElement("link");Mn(ye),aa(ye,"link",l),ye._p=new Promise(function(ke,We){ye.onload=ke,ye.onerror=We}),ye.addEventListener("load",function(){se.loading|=1}),ye.addEventListener("error",function(){se.loading|=2}),se.loading|=4,cp(K,c,v)}K={type:"stylesheet",instance:K,count:1,state:se},w.set(I,K)}}}function fC(l,c){Bu.X(l,c);var d=jh;if(d&&l){var v=sr(d).hoistableScripts,w=Vh(l),I=v.get(w);I||(I=d.querySelector(l1(w)),I||(l=h({src:l,async:!0},c),(c=ms.get(w))&&Om(l,c),I=d.createElement("script"),Mn(I),aa(I,"link",l),d.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(w,I))}}function hC(l,c){Bu.M(l,c);var d=jh;if(d&&l){var v=sr(d).hoistableScripts,w=Vh(l),I=v.get(w);I||(I=d.querySelector(l1(w)),I||(l=h({src:l,async:!0,type:"module"},c),(c=ms.get(w))&&Om(l,c),I=d.createElement("script"),Mn(I),aa(I,"link",l),d.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(w,I))}}function Hx(l,c,d,v){var w=(w=de.current)?up(w):null;if(!w)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=Uh(d.href),d=sr(w).hoistableStyles,v=d.get(c),v||(v={type:"style",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){l=Uh(d.href);var I=sr(w).hoistableStyles,K=I.get(l);if(K||(w=w.ownerDocument||w,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(l,K),(I=w.querySelector(s1(l)))&&!I._p&&(K.instance=I,K.state.loading=5),ms.has(l)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ms.set(l,d),I||dC(w,l,d,K.state))),c&&v===null)throw Error(r(528,""));return K}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Vh(d),d=sr(w).hoistableScripts,v=d.get(c),v||(v={type:"script",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Uh(l){return'href="'+En(l)+'"'}function s1(l){return'link[rel="stylesheet"]['+l+"]"}function Gx(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function dC(l,c,d,v){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=l.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),aa(c,"link",d),Mn(c),l.head.appendChild(c))}function Vh(l){return'[src="'+En(l)+'"]'}function l1(l){return"script[async]"+l}function Wx(l,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var v=l.querySelector('style[data-href~="'+En(d.href)+'"]');if(v)return c.instance=v,Mn(v),v;var w=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Mn(v),aa(v,"style",w),cp(v,d.precedence,l),c.instance=v;case"stylesheet":w=Uh(d.href);var I=l.querySelector(s1(w));if(I)return c.state.loading|=4,c.instance=I,Mn(I),I;v=Gx(d),(w=ms.get(w))&&Rm(v,w),I=(l.ownerDocument||l).createElement("link"),Mn(I);var K=I;return K._p=new Promise(function(se,ye){K.onload=se,K.onerror=ye}),aa(I,"link",v),c.state.loading|=4,cp(I,d.precedence,l),c.instance=I;case"script":return I=Vh(d.src),(w=l.querySelector(l1(I)))?(c.instance=w,Mn(w),w):(v=d,(w=ms.get(I))&&(v=h({},d),Om(v,w)),l=l.ownerDocument||l,w=l.createElement("script"),Mn(w),aa(w,"link",v),l.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,cp(v,d.precedence,l));return c.instance}function cp(l,c,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=v.length?v[v.length-1]:null,I=w,K=0;K<v.length;K++){var se=v[K];if(se.dataset.precedence===c)I=se;else if(I!==w)break}I?I.parentNode.insertBefore(l,I.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(l,c.firstChild))}function Rm(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function Om(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var fp=null;function $x(l,c,d){if(fp===null){var v=new Map,w=fp=new Map;w.set(d,v)}else w=fp,v=w.get(d),v||(v=new Map,w.set(d,v));if(v.has(l))return v;for(v.set(l,null),d=d.getElementsByTagName(l),w=0;w<d.length;w++){var I=d[w];if(!(I[Zi]||I[Hn]||l==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var K=I.getAttribute(c)||"";K=l+K;var se=v.get(K);se?se.push(I):v.set(K,[I])}}return v}function Xx(l,c,d){l=l.ownerDocument||l,l.head.insertBefore(d,c==="title"?l.querySelector("head > title"):null)}function pC(l,c,d){if(d===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Yx(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var u1=null;function gC(){}function mC(l,c,d){if(u1===null)throw Error(r(475));var v=u1;if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=Uh(d.href),I=l.querySelector(s1(w));if(I){l=I._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(v.count++,v=hp.bind(v),l.then(v,v)),c.state.loading|=4,c.instance=I,Mn(I);return}I=l.ownerDocument||l,d=Gx(d),(w=ms.get(w))&&Rm(d,w),I=I.createElement("link"),Mn(I);var K=I;K._p=new Promise(function(se,ye){K.onload=se,K.onerror=ye}),aa(I,"link",d),c.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=hp.bind(v),l.addEventListener("load",c),l.addEventListener("error",c))}}function vC(){if(u1===null)throw Error(r(475));var l=u1;return l.stylesheets&&l.count===0&&Dm(l,l.stylesheets),0<l.count?function(c){var d=setTimeout(function(){if(l.stylesheets&&Dm(l,l.stylesheets),l.unsuspend){var v=l.unsuspend;l.unsuspend=null,v()}},6e4);return l.unsuspend=c,function(){l.unsuspend=null,clearTimeout(d)}}:null}function hp(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var dp=null;function Dm(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,dp=new Map,c.forEach(yC,l),dp=null,hp.call(l))}function yC(l,c){if(!(c.state.loading&4)){var d=dp.get(l);if(d)var v=d.get(null);else{d=new Map,dp.set(l,d);for(var w=l.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<w.length;I++){var K=w[I];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(d.set(K.dataset.precedence,K),v=K)}v&&d.set(null,v)}w=c.instance,K=w.getAttribute("data-precedence"),I=d.get(K)||v,I===v&&d.set(null,w),d.set(K,w),this.count++,v=hp.bind(this),w.addEventListener("load",v),w.addEventListener("error",v),I?I.parentNode.insertBefore(w,I.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(w,l.firstChild)),c.state.loading|=4}}var c1={$$typeof:M,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function _C(l,c,d,v,w,I,K,se){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=v,this.onUncaughtError=w,this.onCaughtError=I,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function Kx(l,c,d,v,w,I,K,se,ye,ke,We,Ze){return l=new _C(l,c,d,K,se,ye,ke,Ze),c=1,I===!0&&(c|=24),I=zi(3,null,null,c),l.current=I,I.stateNode=l,c=Pd(),c.refCount++,l.pooledCache=c,c.refCount++,I.memoizedState={element:v,isDehydrated:d,cache:c},we(I),l}function Qx(l){return l?(l=vi,l):vi}function Zx(l,c,d,v,w,I){w=Qx(w),v.context===null?v.context=w:v.pendingContext=w,v=qe(c),v.payload={element:d},I=I===void 0?null:I,I!==null&&(v.callback=I),d=Qe(l,v,c),d!==null&&(qo(d,l,c),$e(d,l,c))}function Jx(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<c?d:c}}function Pm(l,c){Jx(l,c),(l=l.alternate)&&Jx(l,c)}function e3(l){if(l.tag===13){var c=ks(l,67108864);c!==null&&qo(c,l,67108864),Pm(l,67108864)}}var pp=!0;function xC(l,c,d,v){var w=U.T;U.T=null;var I=q.p;try{q.p=2,Lm(l,c,d,v)}finally{q.p=I,U.T=w}}function wC(l,c,d,v){var w=U.T;U.T=null;var I=q.p;try{q.p=8,Lm(l,c,d,v)}finally{q.p=I,U.T=w}}function Lm(l,c,d,v){if(pp){var w=km(v);if(w===null)wm(l,c,v,gp,d),n3(l,v);else if(AC(w,l,c,d,v))v.stopPropagation();else if(n3(l,v),c&4&&-1<bC.indexOf(l)){for(;w!==null;){var I=Hr(w);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var K=Yt(I.pendingLanes);if(K!==0){var se=I;for(se.pendingLanes|=2,se.entangledLanes|=2;K;){var ye=1<<31-_t(K);se.entanglements[1]|=ye,K&=~ye}Vl(I),(tr&6)===0&&(Z0=gt()+500,r1(0))}}break;case 13:se=ks(I,2),se!==null&&qo(se,I,2),ep(),Pm(I,2)}if(I=km(v),I===null&&wm(l,c,v,gp,d),I===w)break;w=I}w!==null&&v.stopPropagation()}else wm(l,c,v,null,d)}}function km(l){return l=Jn(l),Mm(l)}var gp=null;function Mm(l){if(gp=null,l=Jr(l),l!==null){var c=a(l);if(c===null)l=null;else{var d=c.tag;if(d===13){if(l=o(c),l!==null)return l;l=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return gp=l,null}function t3(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Xe:return 2;case it:return 8;case at:case ot:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Bm=!1,Dc=null,Pc=null,Lc=null,f1=new Map,h1=new Map,kc=[],bC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n3(l,c){switch(l){case"focusin":case"focusout":Dc=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":Lc=null;break;case"pointerover":case"pointerout":f1.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":h1.delete(c.pointerId)}}function d1(l,c,d,v,w,I){return l===null||l.nativeEvent!==I?(l={blockedOn:c,domEventName:d,eventSystemFlags:v,nativeEvent:I,targetContainers:[w]},c!==null&&(c=Hr(c),c!==null&&e3(c)),l):(l.eventSystemFlags|=v,c=l.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),l)}function AC(l,c,d,v,w){switch(c){case"focusin":return Dc=d1(Dc,l,c,d,v,w),!0;case"dragenter":return Pc=d1(Pc,l,c,d,v,w),!0;case"mouseover":return Lc=d1(Lc,l,c,d,v,w),!0;case"pointerover":var I=w.pointerId;return f1.set(I,d1(f1.get(I)||null,l,c,d,v,w)),!0;case"gotpointercapture":return I=w.pointerId,h1.set(I,d1(h1.get(I)||null,l,c,d,v,w)),!0}return!1}function r3(l){var c=Jr(l.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){l.blockedOn=c,Fa(l.priority,function(){if(d.tag===13){var v=zo();v=bi(v);var w=ks(d,v);w!==null&&qo(w,d,v),Pm(d,v)}});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function mp(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var d=km(l.nativeEvent);if(d===null){d=l.nativeEvent;var v=new d.constructor(d.type,d);Za=v,d.target.dispatchEvent(v),Za=null}else return c=Hr(d),c!==null&&e3(c),l.blockedOn=d,!1;c.shift()}return!0}function i3(l,c,d){mp(l)&&d.delete(c)}function EC(){Bm=!1,Dc!==null&&mp(Dc)&&(Dc=null),Pc!==null&&mp(Pc)&&(Pc=null),Lc!==null&&mp(Lc)&&(Lc=null),f1.forEach(i3),h1.forEach(i3)}function vp(l,c){l.blockedOn===c&&(l.blockedOn=null,Bm||(Bm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,EC)))}var yp=null;function a3(l){yp!==l&&(yp=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){yp===l&&(yp=null);for(var c=0;c<l.length;c+=3){var d=l[c],v=l[c+1],w=l[c+2];if(typeof v!="function"){if(Mm(v||d)===null)continue;break}var I=Hr(d);I!==null&&(l.splice(c,3),c-=3,ds(I,{pending:!0,data:w,method:d.method,action:v},v,w))}}))}function p1(l){function c(ye){return vp(ye,l)}Dc!==null&&vp(Dc,l),Pc!==null&&vp(Pc,l),Lc!==null&&vp(Lc,l),f1.forEach(c),h1.forEach(c);for(var d=0;d<kc.length;d++){var v=kc[d];v.blockedOn===l&&(v.blockedOn=null)}for(;0<kc.length&&(d=kc[0],d.blockedOn===null);)r3(d),d.blockedOn===null&&kc.shift();if(d=(l.ownerDocument||l).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var w=d[v],I=d[v+1],K=w[Gn]||null;if(typeof I=="function")K||a3(d);else if(K){var se=null;if(I&&I.hasAttribute("formAction")){if(w=I,K=I[Gn]||null)se=K.formAction;else if(Mm(w)!==null)continue}else se=K.action;typeof se=="function"?d[v+1]=se:(d.splice(v,3),v-=3),a3(d)}}}function Fm(l){this._internalRoot=l}_p.prototype.render=Fm.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));var d=c.current,v=zo();Zx(d,v,l,c,null,null)},_p.prototype.unmount=Fm.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;Zx(l.current,2,null,l,null,null),ep(),c[pr]=null}};function _p(l){this._internalRoot=l}_p.prototype.unstable_scheduleHydration=function(l){if(l){var c=dr();l={blockedOn:null,target:l,priority:c};for(var d=0;d<kc.length&&c!==0&&c<kc[d].priority;d++);kc.splice(d,0,l),d===0&&r3(l)}};var o3=e.version;if(o3!=="19.1.0")throw Error(r(527,o3,"19.1.0"));q.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=u(c),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var SC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{xt=xp.inject(SC),bt=xp}catch{}}return m1.createRoot=function(l,c){if(!i(l))throw Error(r(299));var d=!1,v="",w=b_,I=A_,K=E_,se=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(K=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(se=c.unstable_transitionCallbacks)),c=Kx(l,1,!1,null,null,d,v,w,I,K,se,null),l[pr]=c.current,xm(l),new Fm(c)},m1.hydrateRoot=function(l,c,d){if(!i(l))throw Error(r(299));var v=!1,w="",I=b_,K=A_,se=E_,ye=null,ke=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(I=d.onUncaughtError),d.onCaughtError!==void 0&&(K=d.onCaughtError),d.onRecoverableError!==void 0&&(se=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ye=d.unstable_transitionCallbacks),d.formState!==void 0&&(ke=d.formState)),c=Kx(l,1,!0,c,d??null,v,w,I,K,se,ye,ke),c.context=Qx(null),d=c.current,v=zo(),v=bi(v),w=qe(v),w.callback=null,Qe(d,w,v),d=v,c.current.lanes=d,or(c,d),Vl(c),l[pr]=c.current,xm(l),new _p(c)},m1.version="19.1.0",m1}var m3;function M4(){if(m3)return Vm.exports;m3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vm.exports=LC(),Vm.exports}var kC=M4();const MC=k4(kC);var v1={},v3;function BC(){if(v3)return v1;v3=1,Object.defineProperty(v1,"__esModule",{value:!0}),v1.parse=o,v1.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,m){const x=new a,b=g.length;if(b<2)return x;const S=(m==null?void 0:m.decode)||h;let C=0;do{const D=g.indexOf("=",C);if(D===-1)break;const M=g.indexOf(";",C),V=M===-1?b:M;if(D>V){C=g.lastIndexOf(";",D-1)+1;continue}const X=s(g,C,D),$=u(g,D,X),N=g.slice(X,$);if(x[N]===void 0){let A=s(g,D+1,V),T=u(g,V,A);const F=S(g.slice(A,T));x[N]=F}C=V+1}while(C<b);return x}function s(g,m,x){do{const b=g.charCodeAt(m);if(b!==32&&b!==9)return m}while(++m<x);return x}function u(g,m,x){for(;m>x;){const b=g.charCodeAt(--m);if(b!==32&&b!==9)return m+1}return x}function f(g,m,x){const b=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const S=b(m);if(!e.test(S))throw new TypeError(`argument val is invalid: ${m}`);let C=g+"="+S;if(!x)return C;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);C+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);C+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);C+="; Path="+x.path}if(x.expires){if(!p(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);C+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(C+="; HttpOnly"),x.secure&&(C+="; Secure"),x.partitioned&&(C+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return C}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return v1}BC();var y3="popstate";function FC(n={}){function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return Lv("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:G1(i)}return UC(e,t,null,n)}function Ur(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jC(){return Math.random().toString(36).substring(2,10)}function _3(n,e){return{usr:n.state,key:n.key,idx:e}}function Lv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?bd(e):e,state:t,key:e&&e.key||r||jC()}}function G1({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function bd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function UC(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function p(){s="POP";let S=h(),C=S==null?null:S-f;f=S,u&&u({action:s,location:b.location,delta:C})}function g(S,C){s="PUSH";let D=Lv(b.location,S,C);f=h()+1;let M=_3(D,f),V=b.createHref(D);try{o.pushState(M,"",V)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(V)}a&&u&&u({action:s,location:b.location,delta:1})}function m(S,C){s="REPLACE";let D=Lv(b.location,S,C);f=h();let M=_3(D,f),V=b.createHref(D);o.replaceState(M,"",V),a&&u&&u({action:s,location:b.location,delta:0})}function x(S){return VC(S)}let b={get action(){return s},get location(){return n(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(y3,p),u=S,()=>{i.removeEventListener(y3,p),u=null}},createHref(S){return e(i,S)},createURL:x,encodeLocation(S){let C=x(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:m,go(S){return o.go(S)}};return b}function VC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ur(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:G1(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function B4(n,e,t="/"){return zC(n,e,t,!1)}function zC(n,e,t,r){let i=typeof e=="string"?bd(e):e,a=Gu(i.pathname||"/",t);if(a==null)return null;let o=F4(n);qC(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let f=eT(a);s=ZC(o[u],f,r)}return s}function F4(n,e=[],t=[],r=""){let i=(a,o,s)=>{let u={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Ur(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=zu([r,u.relativePath]),h=t.concat(u);a.children&&a.children.length>0&&(Ur(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),F4(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:KC(f,a.index),routesMeta:h})};return n.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let u of j4(a.path))i(a,o,u)}),e}function j4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=j4(r.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&s.push(...o),s.map(u=>n.startsWith("/")&&u===""?"/":u)}function qC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:QC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var HC=/^:[\w-]+$/,GC=3,WC=2,$C=1,XC=10,YC=-2,x3=n=>n==="*";function KC(n,e){let t=n.split("/"),r=t.length;return t.some(x3)&&(r+=YC),e&&(r+=WC),t.filter(i=>!x3(i)).reduce((i,a)=>i+(HC.test(a)?GC:a===""?$C:XC),r)}function QC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function ZC(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",o=[];for(let s=0;s<r.length;++s){let u=r[s],f=s===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=ig({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),g=u.route;if(!p&&f&&t&&!r[r.length-1].route.index&&(p=ig({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:zu([a,p.pathname]),pathnameBase:iT(zu([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=zu([a,p.pathnameBase]))}return o}function ig(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=JC(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let x=s[g]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const m=s[g];return p&&!m?f[h]=void 0:f[h]=(m||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:n}}function JC(n,e=!1,t=!0){Zl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function eT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zl(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function tT(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?bd(n):n;return{pathname:t?t.startsWith("/")?t:nT(t,e):e,search:aT(r),hash:oT(i)}}function nT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Gm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function U4(n){let e=rT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function V4(n,e,t,r=!1){let i;typeof n=="string"?i=bd(n):(i={...n},Ur(!i.pathname||!i.pathname.includes("?"),Gm("?","pathname","search",i)),Ur(!i.pathname||!i.pathname.includes("#"),Gm("#","pathname","hash",i)),Ur(!i.search||!i.search.includes("#"),Gm("#","search","hash",i)));let a=n===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=t;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}s=p>=0?e[p]:"/"}let u=tT(i,s),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var zu=n=>n.join("/").replace(/\/\/+/g,"/"),iT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var z4=["POST","PUT","PATCH","DELETE"];new Set(z4);var lT=["GET",...z4];new Set(lT);var Ad=ve.createContext(null);Ad.displayName="DataRouter";var Hg=ve.createContext(null);Hg.displayName="DataRouterState";var q4=ve.createContext({isTransitioning:!1});q4.displayName="ViewTransition";var uT=ve.createContext(new Map);uT.displayName="Fetchers";var cT=ve.createContext(null);cT.displayName="Await";var ru=ve.createContext(null);ru.displayName="Navigation";var o0=ve.createContext(null);o0.displayName="Location";var iu=ve.createContext({outlet:null,matches:[],isDataRoute:!1});iu.displayName="Route";var qy=ve.createContext(null);qy.displayName="RouteError";function fT(n,{relative:e}={}){Ur(s0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ve.useContext(ru),{hash:i,pathname:a,search:o}=l0(n,{relative:e}),s=a;return t!=="/"&&(s=a==="/"?t:zu([t,a])),r.createHref({pathname:s,search:o,hash:i})}function s0(){return ve.useContext(o0)!=null}function oh(){return Ur(s0(),"useLocation() may be used only in the context of a <Router> component."),ve.useContext(o0).location}var H4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G4(n){ve.useContext(ru).static||ve.useLayoutEffect(n)}function Hy(){let{isDataRoute:n}=ve.useContext(iu);return n?ST():hT()}function hT(){Ur(s0(),"useNavigate() may be used only in the context of a <Router> component.");let n=ve.useContext(Ad),{basename:e,navigator:t}=ve.useContext(ru),{matches:r}=ve.useContext(iu),{pathname:i}=oh(),a=JSON.stringify(U4(r)),o=ve.useRef(!1);return G4(()=>{o.current=!0}),ve.useCallback((u,f={})=>{if(Zl(o.current,H4),!o.current)return;if(typeof u=="number"){t.go(u);return}let h=V4(u,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zu([e,h.pathname])),(f.replace?t.replace:t.push)(h,f.state,f)},[e,t,a,i,n])}ve.createContext(null);function dT(){let{matches:n}=ve.useContext(iu),e=n[n.length-1];return e?e.params:{}}function l0(n,{relative:e}={}){let{matches:t}=ve.useContext(iu),{pathname:r}=oh(),i=JSON.stringify(U4(t));return ve.useMemo(()=>V4(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function pT(n,e){return W4(n,e)}function W4(n,e,t,r){var C;Ur(s0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ve.useContext(ru),{matches:a}=ve.useContext(iu),o=a[a.length-1],s=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let D=h&&h.path||"";$4(u,!h||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let p=oh(),g;if(e){let D=typeof e=="string"?bd(e):e;Ur(f==="/"||((C=D.pathname)==null?void 0:C.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${D.pathname}" was given in the \`location\` prop.`),g=D}else g=p;let m=g.pathname||"/",x=m;if(f!=="/"){let D=f.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(D.length).join("/")}let b=B4(n,{pathname:x});Zl(h||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Zl(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=_T(b&&b.map(D=>Object.assign({},D,{params:Object.assign({},s,D.params),pathname:zu([f,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?f:zu([f,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,r);return e&&S?ve.createElement(o0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function gT(){let n=ET(),e=sT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=ve.createElement(ve.Fragment,null,ve.createElement("p",null,"💿 Hey developer 👋"),ve.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ve.createElement("code",{style:a},"ErrorBoundary")," or"," ",ve.createElement("code",{style:a},"errorElement")," prop on your route.")),ve.createElement(ve.Fragment,null,ve.createElement("h2",null,"Unexpected Application Error!"),ve.createElement("h3",{style:{fontStyle:"italic"}},e),t?ve.createElement("pre",{style:i},t):null,o)}var mT=ve.createElement(gT,null),vT=class extends ve.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ve.createElement(iu.Provider,{value:this.props.routeContext},ve.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yT({routeContext:n,match:e,children:t}){let r=ve.useContext(Ad);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ve.createElement(iu.Provider,{value:n},t)}function _T(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let u=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Ur(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,s=-1;if(t)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(s=u),f.route.id){let{loaderData:h,errors:p}=t,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){o=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((u,f,h)=>{let p,g=!1,m=null,x=null;t&&(p=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||mT,o&&(s<0&&h===0?($4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):s===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,h+1)),S=()=>{let C;return p?C=m:g?C=x:f.route.Component?C=ve.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=u,ve.createElement(yT,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:t!=null},children:C})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?ve.createElement(vT,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function Gy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xT(n){let e=ve.useContext(Ad);return Ur(e,Gy(n)),e}function wT(n){let e=ve.useContext(Hg);return Ur(e,Gy(n)),e}function bT(n){let e=ve.useContext(iu);return Ur(e,Gy(n)),e}function Wy(n){let e=bT(n),t=e.matches[e.matches.length-1];return Ur(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function AT(){return Wy("useRouteId")}function ET(){var r;let n=ve.useContext(qy),e=wT("useRouteError"),t=Wy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function ST(){let{router:n}=xT("useNavigate"),e=Wy("useNavigate"),t=ve.useRef(!1);return G4(()=>{t.current=!0}),ve.useCallback(async(i,a={})=>{Zl(t.current,H4),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var w3={};function $4(n,e,t){!e&&!w3[n]&&(w3[n]=!0,Zl(!1,t))}ve.memo(CT);function CT({routes:n,future:e,state:t}){return W4(n,void 0,t,e)}function Zs(n){Ur(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){Ur(!s0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),s=ve.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof t=="string"&&(t=bd(t));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=t,m=ve.useMemo(()=>{let x=Gu(u,o);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:r}},[o,u,f,h,p,g,r]);return Zl(m!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:ve.createElement(ru.Provider,{value:s},ve.createElement(o0.Provider,{children:e,value:m}))}function IT({children:n,location:e}){return pT(kv(n),e)}function kv(n,e=[]){let t=[];return ve.Children.forEach(n,(r,i)=>{if(!ve.isValidElement(r))return;let a=[...e,i];if(r.type===ve.Fragment){t.push.apply(t,kv(r.props.children,a));return}Ur(r.type===Zs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ur(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kv(r.props.children,a)),t.push(o)}),t}var Fp="get",jp="application/x-www-form-urlencoded";function Gg(n){return n!=null&&typeof n.tagName=="string"}function NT(n){return Gg(n)&&n.tagName.toLowerCase()==="button"}function RT(n){return Gg(n)&&n.tagName.toLowerCase()==="form"}function OT(n){return Gg(n)&&n.tagName.toLowerCase()==="input"}function DT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PT(n,e){return n.button===0&&(!e||e==="_self")&&!DT(n)}var wp=null;function LT(){if(wp===null)try{new FormData(document.createElement("form"),0),wp=!1}catch{wp=!0}return wp}var kT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wm(n){return n!=null&&!kT.has(n)?(Zl(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jp}"`),null):n}function MT(n,e){let t,r,i,a,o;if(RT(n)){let s=n.getAttribute("action");r=s?Gu(s,e):null,t=n.getAttribute("method")||Fp,i=Wm(n.getAttribute("enctype"))||jp,a=new FormData(n)}else if(NT(n)||OT(n)&&(n.type==="submit"||n.type==="image")){let s=n.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||s.getAttribute("action");if(r=u?Gu(u,e):null,t=n.getAttribute("formmethod")||s.getAttribute("method")||Fp,i=Wm(n.getAttribute("formenctype"))||Wm(s.getAttribute("enctype"))||jp,a=new FormData(s,n),!LT()){let{name:f,type:h,value:p}=n;if(h==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Gg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fp,r=null,i=jp,o=n}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:o}}function $y(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function BT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jT(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await BT(a,t);return o.links?o.links():[]}return[]}));return qT(r.flat(1).filter(FT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function b3(n,e,t,r,i,a){let o=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,s=(u,f)=>{var h;return t[f].pathname!==u.pathname||((h=t[f].route.path)==null?void 0:h.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,f)=>o(u,f)||s(u,f)):a==="data"?e.filter((u,f)=>{var p;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||s(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function UT(n,e,{includeHydrateFallback:t}={}){return VT(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function VT(n){return[...new Set(n)]}function zT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qT(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(zT(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HT=new Set([100,101,204,205]);function GT(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Gu(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function X4(){let n=ve.useContext(Ad);return $y(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WT(){let n=ve.useContext(Hg);return $y(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xy=ve.createContext(void 0);Xy.displayName="FrameworkContext";function Y4(){let n=ve.useContext(Xy);return $y(n,"You must render this element inside a <HydratedRouter> element"),n}function $T(n,e){let t=ve.useContext(Xy),[r,i]=ve.useState(!1),[a,o]=ve.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,g=ve.useRef(null);ve.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let b=C=>{C.forEach(D=>{o(D.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[n]),ve.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let m=()=>{i(!0)},x=()=>{i(!1),o(!1)};return t?n!=="intent"?[a,g,{}]:[a,g,{onFocus:y1(s,m),onBlur:y1(u,x),onMouseEnter:y1(f,m),onMouseLeave:y1(h,x),onTouchStart:y1(p,m)}]:[!1,g,{}]}function y1(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function XT({page:n,...e}){let{router:t}=X4(),r=ve.useMemo(()=>B4(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ve.createElement(KT,{page:n,matches:r,...e}):null}function YT(n){let{manifest:e,routeModules:t}=Y4(),[r,i]=ve.useState([]);return ve.useEffect(()=>{let a=!1;return jT(n,e,t).then(o=>{a||i(o)}),()=>{a=!0}},[n,e,t]),r}function KT({page:n,matches:e,...t}){let r=oh(),{manifest:i,routeModules:a}=Y4(),{basename:o}=X4(),{loaderData:s,matches:u}=WT(),f=ve.useMemo(()=>b3(n,e,u,i,r,"data"),[n,e,u,i,r]),h=ve.useMemo(()=>b3(n,e,u,i,r,"assets"),[n,e,u,i,r]),p=ve.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,b=!1;if(e.forEach(C=>{var M;let D=i.routes[C.route.id];!D||!D.hasLoader||(!f.some(V=>V.route.id===C.route.id)&&C.route.id in s&&((M=a[C.route.id])!=null&&M.shouldRevalidate)||D.hasClientLoader?b=!0:x.add(C.route.id))}),x.size===0)return[];let S=GT(n,o);return b&&x.size>0&&S.searchParams.set("_routes",e.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[o,s,r,i,f,e,n,a]),g=ve.useMemo(()=>UT(h,i),[h,i]),m=YT(h);return ve.createElement(ve.Fragment,null,p.map(x=>ve.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),g.map(x=>ve.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),m.map(({key:x,link:b})=>ve.createElement("link",{key:x,...b})))}function QT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var K4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K4&&(window.__reactRouterVersion="7.6.2")}catch{}function ZT({basename:n,children:e,window:t}){let r=ve.useRef();r.current==null&&(r.current=FC({window:t,v5Compat:!0}));let i=r.current,[a,o]=ve.useState({action:i.action,location:i.location}),s=ve.useCallback(u=>{ve.startTransition(()=>o(u))},[o]);return ve.useLayoutEffect(()=>i.listen(s),[i,s]),ve.createElement(TT,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var Q4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_r=ve.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:s,target:u,to:f,preventScrollReset:h,viewTransition:p,...g},m){let{basename:x}=ve.useContext(ru),b=typeof f=="string"&&Q4.test(f),S,C=!1;if(typeof f=="string"&&b&&(S=f,K4))try{let T=new URL(window.location.href),F=f.startsWith("//")?new URL(T.protocol+f):new URL(f),O=Gu(F.pathname,x);F.origin===T.origin&&O!=null?f=O+F.search+F.hash:C=!0}catch{Zl(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=fT(f,{relative:i}),[M,V,X]=$T(r,g),$=nI(f,{replace:o,state:s,target:u,preventScrollReset:h,relative:i,viewTransition:p});function N(T){e&&e(T),T.defaultPrevented||$(T)}let A=ve.createElement("a",{...g,...X,href:S||D,onClick:C||a?e:N,ref:QT(m,V),target:u,"data-discover":!b&&t==="render"?"true":void 0});return M&&!b?ve.createElement(ve.Fragment,null,A,ve.createElement(XT,{page:D})):A});_r.displayName="Link";var JT=ve.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:s,children:u,...f},h){let p=l0(o,{relative:f.relative}),g=oh(),m=ve.useContext(Hg),{navigator:x,basename:b}=ve.useContext(ru),S=m!=null&&sI(p)&&s===!0,C=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,D=g.pathname,M=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(D=D.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&b&&(M=Gu(M,b)||M);const V=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let X=D===C||!i&&D.startsWith(C)&&D.charAt(V)==="/",$=M!=null&&(M===C||!i&&M.startsWith(C)&&M.charAt(C.length)==="/"),N={isActive:X,isPending:$,isTransitioning:S},A=X?e:void 0,T;typeof r=="function"?T=r(N):T=[r,X?"active":null,$?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(N):a;return ve.createElement(_r,{...f,"aria-current":A,className:T,ref:h,style:F,to:o,viewTransition:s},typeof u=="function"?u(N):u)});JT.displayName="NavLink";var eI=ve.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:o=Fp,action:s,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...g},m)=>{let x=aI(),b=oI(s,{relative:f}),S=o.toLowerCase()==="get"?"get":"post",C=typeof s=="string"&&Q4.test(s),D=M=>{if(u&&u(M),M.defaultPrevented)return;M.preventDefault();let V=M.nativeEvent.submitter,X=(V==null?void 0:V.getAttribute("formmethod"))||o;x(V||M.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p})};return ve.createElement("form",{ref:m,method:S,action:b,onSubmit:r?u:D,...g,"data-discover":!C&&n==="render"?"true":void 0})});eI.displayName="Form";function tI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z4(n){let e=ve.useContext(Ad);return Ur(e,tI(n)),e}function nI(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Hy(),u=oh(),f=l0(n,{relative:a});return ve.useCallback(h=>{if(PT(h,e)){h.preventDefault();let p=t!==void 0?t:G1(u)===G1(f);s(n,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[u,s,f,t,r,e,n,i,a,o])}var rI=0,iI=()=>`__${String(++rI)}__`;function aI(){let{router:n}=Z4("useSubmit"),{basename:e}=ve.useContext(ru),t=AT();return ve.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:u,body:f}=MT(r,e);if(i.navigate===!1){let h=i.fetcherKey||iI();await n.fetch(h,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function oI(n,{relative:e}={}){let{basename:t}=ve.useContext(ru),r=ve.useContext(iu);Ur(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...l0(n||".",{relative:e})},o=oh();if(n==null){a.search=o.search;let s=new URLSearchParams(a.search),u=s.getAll("index");if(u.some(h=>h==="")){s.delete("index"),u.filter(p=>p).forEach(p=>s.append("index",p));let h=s.toString();a.search=h?`?${h}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:zu([t,a.pathname])),G1(a)}function sI(n,e={}){let t=ve.useContext(q4);Ur(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Z4("useViewTransitionState"),i=l0(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Gu(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Gu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ig(i.pathname,o)!=null||ig(i.pathname,a)!=null}[...HT];const lI=()=>{};var A3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],o=n[t++],s=n[t++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},eA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],o=i+1<n.length,s=o?n[i+1]:0,u=i+2<n.length,f=u?n[i+2]:0,h=a>>2,p=(a&3)<<4|s>>4;let g=(s&15)<<2|f>>6,m=f&63;u||(m=64,o||(g=64)),r.push(t[h],t[p],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(J4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],s=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||s==null||f==null||p==null)throw new cI;const g=a<<2|s>>4;if(r.push(g),f!==64){const m=s<<4&240|f>>2;if(r.push(m),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fI=function(n){const e=J4(n);return eA.encodeByteArray(e,!0)},ag=function(n){return fI(n).replace(/\./g,"")},tA=function(n){try{return eA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=()=>hI().__FIREBASE_DEFAULTS__,pI=()=>{if(typeof process>"u"||typeof A3>"u")return;const n=A3.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tA(n[1]);return e&&JSON.parse(e)},Wg=()=>{try{return lI()||dI()||pI()||gI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nA=n=>{var e,t;return(t=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rA=n=>{const e=nA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},iA=()=>{var n;return(n=Wg())===null||n===void 0?void 0:n.config},aA=n=>{var e;return(e=Wg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n){return n.endsWith(".cloudworkstations.dev")}async function Yy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ag(JSON.stringify(t)),ag(JSON.stringify(o)),""].join(".")}const M1={};function vI(){const n={prod:[],emulator:[]};for(const e of Object.keys(M1))M1[e]?n.emulator.push(e):n.prod.push(e);return n}function yI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let E3=!1;function Ky(n,e){if(typeof window>"u"||typeof document>"u"||!Ed(window.location.host)||M1[n]===e||M1[n]||E3)return;M1[n]=e;function t(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=vI().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function s(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{E3=!0,o()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=yI(r),m=t("text"),x=document.getElementById(m)||document.createElement("span"),b=t("learnmore"),S=document.getElementById(b)||document.createElement("a"),C=t("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const M=g.element;s(M),h(S,b);const V=f();u(D,C),M.append(D,x,S,V),document.body.appendChild(M)}a?(x.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ma())}function xI(){var n;const e=(n=Wg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AI(){const n=Ma();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function EI(){return!xI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function SI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="FirebaseError";class bs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CI,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sh.prototype.create)}}class sh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?TI(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new bs(i,s,r)}}function TI(n,e){return n.replace(II,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const II=/\{\$([^}]+)}/g;function NI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function nf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],o=e[i];if(S3(a)&&S3(o)){if(!nf(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function S3(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function C1(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function T1(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RI(n,e){const t=new OI(n,e);return t.subscribe.bind(t)}class OI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");DI(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=$m),i.error===void 0&&(i.error=$m),i.complete===void 0&&(i.complete=$m);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $m(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1e3,LI=2,kI=4*60*60*1e3,MI=.5;function C3(n,e=PI,t=LI){const r=e*Math.pow(t,n),i=Math.round(MI*r*(Math.random()-.5)*2);return Math.min(kI,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(n){return n&&n._delegate?n._delegate:n}class ws{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:Uf})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Uf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uf){return this.instances.has(e)}getOptions(e=Uf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uf){return this.component?this.component.multipleInstances?e:Uf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FI(n){return n===Uf?void 0:n}function jI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wn||(wn={}));const VI={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},zI=wn.INFO,qI={[wn.DEBUG]:"log",[wn.VERBOSE]:"log",[wn.INFO]:"info",[wn.WARN]:"warn",[wn.ERROR]:"error"},HI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=qI[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=zI,this._logHandler=HI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wn.DEBUG,...e),this._logHandler(this,wn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wn.VERBOSE,...e),this._logHandler(this,wn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wn.INFO,...e),this._logHandler(this,wn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wn.WARN,...e),this._logHandler(this,wn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wn.ERROR,...e),this._logHandler(this,wn.ERROR,...e)}}const GI=(n,e)=>e.some(t=>n instanceof t);let T3,I3;function WI(){return T3||(T3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return I3||(I3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cA=new WeakMap,Mv=new WeakMap,fA=new WeakMap,Xm=new WeakMap,Qy=new WeakMap;function XI(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",o)},a=()=>{t(Yc(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&cA.set(t,n)}).catch(()=>{}),Qy.set(e,n),e}function YI(n){if(Mv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",o),n.removeEventListener("abort",o)},a=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",o),n.addEventListener("abort",o)});Mv.set(n,e)}let Bv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KI(n){Bv=n(Bv)}function QI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ym(this),e,...t);return fA.set(r,e.sort?e.sort():[e]),Yc(r)}:$I().includes(n)?function(...e){return n.apply(Ym(this),e),Yc(cA.get(this))}:function(...e){return Yc(n.apply(Ym(this),e))}}function ZI(n){return typeof n=="function"?QI(n):(n instanceof IDBTransaction&&YI(n),GI(n,WI())?new Proxy(n,Bv):n)}function Yc(n){if(n instanceof IDBRequest)return XI(n);if(Xm.has(n))return Xm.get(n);const e=ZI(n);return e!==n&&(Xm.set(n,e),Qy.set(e,n)),e}const Ym=n=>Qy.get(n);function hA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(n,e),s=Yc(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yc(o.result),u.oldVersion,u.newVersion,Yc(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),s.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),s}const JI=["get","getKey","getAll","getAllKeys","count"],e7=["put","add","delete","clear"],Km=new Map;function N3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=e7.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JI.includes(t)))return;const a=async function(o,...s){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(s.shift())),(await Promise.all([f[t](...s),i&&u.done]))[0]};return Km.set(e,a),a}KI(n=>({...n,get:(e,t,r)=>N3(e,t)||n.get(e,t,r),has:(e,t)=>!!N3(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(n7(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function n7(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fv="@firebase/app",R3="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new $g("@firebase/app"),r7="@firebase/app-compat",i7="@firebase/analytics-compat",a7="@firebase/analytics",o7="@firebase/app-check-compat",s7="@firebase/app-check",l7="@firebase/auth",u7="@firebase/auth-compat",c7="@firebase/database",f7="@firebase/data-connect",h7="@firebase/database-compat",d7="@firebase/functions",p7="@firebase/functions-compat",g7="@firebase/installations",m7="@firebase/installations-compat",v7="@firebase/messaging",y7="@firebase/messaging-compat",_7="@firebase/performance",x7="@firebase/performance-compat",w7="@firebase/remote-config",b7="@firebase/remote-config-compat",A7="@firebase/storage",E7="@firebase/storage-compat",S7="@firebase/firestore",C7="@firebase/ai",T7="@firebase/firestore-compat",I7="firebase",N7="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="[DEFAULT]",R7={[Fv]:"fire-core",[r7]:"fire-core-compat",[a7]:"fire-analytics",[i7]:"fire-analytics-compat",[s7]:"fire-app-check",[o7]:"fire-app-check-compat",[l7]:"fire-auth",[u7]:"fire-auth-compat",[c7]:"fire-rtdb",[f7]:"fire-data-connect",[h7]:"fire-rtdb-compat",[d7]:"fire-fn",[p7]:"fire-fn-compat",[g7]:"fire-iid",[m7]:"fire-iid-compat",[v7]:"fire-fcm",[y7]:"fire-fcm-compat",[_7]:"fire-perf",[x7]:"fire-perf-compat",[w7]:"fire-rc",[b7]:"fire-rc-compat",[A7]:"fire-gcs",[E7]:"fire-gcs-compat",[S7]:"fire-fst",[T7]:"fire-fst-compat",[C7]:"fire-vertex","fire-js":"fire-js",[I7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=new Map,O7=new Map,Uv=new Map;function O3(n,e){try{n.container.addComponent(e)}catch(t){Wu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ol(n){const e=n.name;if(Uv.has(e))return Wu.debug(`There were multiple attempts to register component ${e}.`),!1;Uv.set(e,n);for(const t of og.values())O3(t,n);for(const t of O7.values())O3(t,n);return!0}function hf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ho(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kc=new sh("app","Firebase",D7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=N7;function dA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Kc.create("bad-app-name",{appName:String(i)});if(t||(t=iA()),!t)throw Kc.create("no-options");const a=og.get(i);if(a){if(nf(t,a.options)&&nf(r,a.config))return a;throw Kc.create("duplicate-app",{appName:i})}const o=new UI(i);for(const u of Uv.values())o.addComponent(u);const s=new P7(t,r,o);return og.set(i,s),s}function Xg(n=jv){const e=og.get(n);if(!e&&n===jv&&iA())return dA();if(!e)throw Kc.create("no-app",{appName:n});return e}function yo(n,e,t){var r;let i=(r=R7[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wu.warn(s.join(" "));return}ol(new ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7="firebase-heartbeat-database",k7=1,W1="firebase-heartbeat-store";let Qm=null;function pA(){return Qm||(Qm=hA(L7,k7,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(W1)}catch(t){console.warn(t)}}}}).catch(n=>{throw Kc.create("idb-open",{originalErrorMessage:n.message})})),Qm}async function M7(n){try{const t=(await pA()).transaction(W1),r=await t.objectStore(W1).get(gA(n));return await t.done,r}catch(e){if(e instanceof bs)Wu.warn(e.message);else{const t=Kc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wu.warn(t.message)}}}async function D3(n,e){try{const r=(await pA()).transaction(W1,"readwrite");await r.objectStore(W1).put(e,gA(n)),await r.done}catch(t){if(t instanceof bs)Wu.warn(t.message);else{const r=Kc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wu.warn(r.message)}}}function gA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=1024,F7=30;class j7{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new V7(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P3();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>F7){const o=z7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P3(),{heartbeatsToSend:r,unsentEntries:i}=U7(this._heartbeatsCache.heartbeats),a=ag(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Wu.warn(t),""}}}function P3(){return new Date().toISOString().substring(0,10)}function U7(n,e=B7){const t=[];let r=n.slice();for(const i of n){const a=t.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),L3(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),L3(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class V7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await M7(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return D3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return D3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function L3(n){return ag(JSON.stringify({version:2,heartbeats:n})).length}function z7(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(n){ol(new ws("platform-logger",e=>new t7(e),"PRIVATE")),ol(new ws("heartbeat",e=>new j7(e),"PRIVATE")),yo(Fv,R3,n),yo(Fv,R3,"esm2017"),yo("fire-js","")}q7("");function Zy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H7=mA,vA=new sh("auth","Firebase",mA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new $g("@firebase/auth");function G7(n,...e){sg.logLevel<=wn.WARN&&sg.warn(`Auth (${lh}): ${n}`,...e)}function Up(n,...e){sg.logLevel<=wn.ERROR&&sg.error(`Auth (${lh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n,...e){throw Jy(n,...e)}function $l(n,...e){return Jy(n,...e)}function yA(n,e,t){const r=Object.assign(Object.assign({},H7()),{[e]:t});return new sh("auth","Firebase",r).create(e,{appName:n.name})}function qu(n){return yA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return vA.create(n,...e)}function Wt(n,e,...t){if(!n)throw Jy(e,...t)}function ju(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Up(e),new Error(e)}function $u(n,e){n||ju(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function W7(){return k3()==="http:"||k3()==="https:"}function k3(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W7()||sA()||"connection"in navigator)?navigator.onLine:!0}function X7(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t){this.shortDelay=e,this.longDelay=t,$u(t>e,"Short delay should be less than long delay!"),this.isMobile=_I()||bI()}get(){return $7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(n,e){$u(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ju("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ju("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ju("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q7=new c0(3e4,6e4);function Ju(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ec(n,e,t,r,i={}){return xA(n,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=u0(Object.assign({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:u},a);return wI()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ed(n.emulatorConfig.host)&&(f.credentials="include"),_A.fetch()(await wA(n,n.config.apiHost,t,s),f)})}async function xA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y7),e);try{const i=new J7(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw bp(n,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[u,f]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bp(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw bp(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw bp(n,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw yA(n,h,f);sl(n,h)}}catch(i){if(i instanceof bs)throw i;sl(n,"network-request-failed",{message:String(i)})}}async function f0(n,e,t,r,i={}){const a=await ec(n,e,t,r,i);return"mfaPendingCredential"in a&&sl(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function wA(n,e,t,r){const i=`${e}${t}?${r}`,a=n,o=a.config.emulator?e5(n.config,i):`${n.config.apiScheme}://${i}`;return K7.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Z7(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class J7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($l(this.auth,"network-request-failed")),Q7.get())})}}function bp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=$l(n,e,r);return i.customData._tokenResponse=t,i}function M3(n){return n!==void 0&&n.enterprise!==void 0}class eN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Z7(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tN(n,e){return ec(n,"GET","/v2/recaptchaConfig",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(n,e){return ec(n,"POST","/v1/accounts:delete",e)}async function lg(n,e){return ec(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rN(n,e=!1){const t=Vr(n),r=await t.getIdToken(e),i=t5(r);Wt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:B1(Zm(i.auth_time)),issuedAtTime:B1(Zm(i.iat)),expirationTime:B1(Zm(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Zm(n){return Number(n)*1e3}function t5(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Up("JWT malformed, contained fewer than 3 sections"),null;try{const i=tA(t);return i?JSON.parse(i):(Up("Failed to decode base64 JWT payload"),null)}catch(i){return Up("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function B3(n){const e=t5(n);return Wt(e,"internal-error"),Wt(typeof e.exp<"u","internal-error"),Wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof bs&&iN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function iN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B1(this.lastLoginAt),this.creationTime=B1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(n){var e;const t=n.auth,r=await n.getIdToken(),i=await $1(n,lg(t,{idToken:r}));Wt(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?bA(a.providerUserInfo):[],s=sN(n.providerData,o),u=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(s!=null&&s.length),h=u?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new zv(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function oN(n){const e=Vr(n);await ug(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bA(n){return n.map(e=>{var{providerId:t}=e,r=Zy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(n,e){const t=await xA(n,{},async()=>{const r=u0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,o=await wA(n,i,"/v1/token",`key=${a}`),s=await n._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",_A.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uN(n,e){return ec(n,"POST","/v2/accounts:revokeToken",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wt(e.idToken,"internal-error"),Wt(typeof e.idToken<"u","internal-error"),Wt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Wt(e.length!==0,"internal-error");const t=B3(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await lN(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,o=new id;return r&&(Wt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Wt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Wt(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new id,this.toJSON())}_performRefresh(){return ju("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n,e){Wt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class il{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Zy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await $1(this,this.stsTokenManager.getToken(this.auth,e));return Wt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rN(this,e)}reload(){return oN(this)}_assign(e){this!==e&&(Wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new il(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ug(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ho(this.auth.app))return Promise.reject(qu(this.auth));const e=await this.getIdToken();return await $1(this,nN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,o,s,u,f,h;const p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,x=(o=t.photoURL)!==null&&o!==void 0?o:void 0,b=(s=t.tenantId)!==null&&s!==void 0?s:void 0,S=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,C=(f=t.createdAt)!==null&&f!==void 0?f:void 0,D=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:M,emailVerified:V,isAnonymous:X,providerData:$,stsTokenManager:N}=t;Wt(M&&N,e,"internal-error");const A=id.fromJSON(this.name,N);Wt(typeof M=="string",e,"internal-error"),Bc(p,e.name),Bc(g,e.name),Wt(typeof V=="boolean",e,"internal-error"),Wt(typeof X=="boolean",e,"internal-error"),Bc(m,e.name),Bc(x,e.name),Bc(b,e.name),Bc(S,e.name),Bc(C,e.name),Bc(D,e.name);const T=new il({uid:M,auth:e,email:g,emailVerified:V,displayName:p,isAnonymous:X,photoURL:x,phoneNumber:m,tenantId:b,stsTokenManager:A,createdAt:C,lastLoginAt:D});return $&&Array.isArray($)&&(T.providerData=$.map(F=>Object.assign({},F))),S&&(T._redirectEventId=S),T}static async _fromIdTokenResponse(e,t,r=!1){const i=new id;i.updateFromServerResponse(t);const a=new il({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ug(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Wt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?bA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new id;s.updateFromIdToken(r);const u=new il({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Map;function Uu(n){$u(n instanceof Function,"Expected a class definition");let e=F3.get(n);return e?($u(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,F3.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AA.type="NONE";const j3=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n,e,t){return`firebase:${n}:${e}:${t}`}class ad{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Vp(this.userKey,i.apiKey,a),this.fullPersistenceKey=Vp("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await lg(this.auth,{idToken:e}).catch(()=>{});return t?il._fromGetAccountInfoResponse(this.auth,t,e):null}return il._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ad(Uu(j3),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Uu(j3);const o=Vp(r,e.config.apiKey,e.name);let s=null;for(const f of t)try{const h=await f._get(o);if(h){let p;if(typeof h=="string"){const g=await lg(e,{idToken:h}).catch(()=>{});if(!g)break;p=await il._fromGetAccountInfoResponse(e,g,h)}else p=il._fromJSON(e,h);f!==a&&(s=p),a=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new ad(a,e,r):(a=u[0],s&&await a._set(o,s.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new ad(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NA(e))return"Blackberry";if(RA(e))return"Webos";if(SA(e))return"Safari";if((e.includes("chrome/")||CA(e))&&!e.includes("edge/"))return"Chrome";if(IA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EA(n=Ma()){return/firefox\//i.test(n)}function SA(n=Ma()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CA(n=Ma()){return/crios\//i.test(n)}function TA(n=Ma()){return/iemobile/i.test(n)}function IA(n=Ma()){return/android/i.test(n)}function NA(n=Ma()){return/blackberry/i.test(n)}function RA(n=Ma()){return/webos/i.test(n)}function n5(n=Ma()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cN(n=Ma()){var e;return n5(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fN(){return AI()&&document.documentMode===10}function OA(n=Ma()){return n5(n)||IA(n)||RA(n)||NA(n)||/windows phone/i.test(n)||TA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,e=[]){let t;switch(n){case"Browser":t=U3(Ma());break;case"Worker":t=`${U3(Ma())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((o,s)=>{try{const u=e(a);o(u)}catch(u){s(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n,e={}){return ec(n,"GET","/v2/passwordPolicy",Ju(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=6;class gN{constructor(e){var t,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:pN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,o,s;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V3(this),this.idTokenSubscription=new V3(this),this.beforeStateQueue=new hN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Uu(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await ad.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lg(this,{idToken:e}),r=await il._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ho(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,s=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===s)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ug(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ho(this.app))return Promise.reject(qu(this));const t=e?Vr(e):null;return t&&Wt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ho(this.app)?Promise.reject(qu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ho(this.app)?Promise.reject(qu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Uu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dN(this),t=new gN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await uN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Uu(e)||this._popupRedirectResolver;Wt(t,this,"argument-error"),this.redirectPersistenceManager=await ad.create(this,[Uu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ho(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&G7(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function df(n){return Vr(n)}class V3{constructor(e){this.auth=e,this.observer=null,this.addObserver=RI(t=>this.observer=t)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vN(n){Yg=n}function PA(n){return Yg.loadJS(n)}function yN(){return Yg.recaptchaEnterpriseScript}function _N(){return Yg.gapiScript}function xN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wN{constructor(){this.enterprise=new bN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AN="recaptcha-enterprise",LA="NO_RECAPTCHA";class EN{constructor(e){this.type=AN,this.auth=df(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{tN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const f=new eN(u);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(u=>{s(u)})})}function i(a,o,s){const u=window.grecaptcha;M3(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(LA)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wN().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!t&&M3(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=yN();u.length!==0&&(u+=s),PA(u).then(()=>{i(s,a,o)}).catch(f=>{o(f)})}}).catch(s=>{o(s)})})}}async function z3(n,e,t,r=!1,i=!1){const a=new EN(n);let o;if(i)o=LA;else try{o=await a.verify(t)}catch{o=await a.verify(t,!0)}const s=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const u=s.phoneEnrollmentInfo.phoneNumber,f=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const u=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function cg(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await z3(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await z3(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n,e){const t=hf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(nf(a,e??{}))return i;sl(i,"already-initialized")}return t.initialize({options:e})}function CN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Uu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TN(n,e,t){const r=df(n);Wt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=kA(e),{host:o,port:s}=IN(e),u=s===null?"":`:${s}`,f={url:`${a}//${o}${u}/`},h=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Wt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Wt(nf(f,r.config.emulator)&&nf(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ed(o)?(Yy(`${a}//${o}${u}`),Ky("Auth",!0)):NN()}function kA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function IN(n){const e=kA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:q3(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:q3(o)}}}function q3(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ju("not implemented")}_getIdTokenResponse(e){return ju("not implemented")}_linkToIdToken(e,t){return ju("not implemented")}_getReauthenticationResolver(e){return ju("not implemented")}}async function RN(n,e){return ec(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(n,e){return f0(n,"POST","/v1/accounts:signInWithPassword",Ju(n,e))}async function MA(n,e){return ec(n,"POST","/v1/accounts:sendOobCode",Ju(n,e))}async function DN(n,e){return MA(n,e)}async function PN(n,e){return MA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(n,e){return f0(n,"POST","/v1/accounts:signInWithEmailLink",Ju(n,e))}async function kN(n,e){return f0(n,"POST","/v1/accounts:signInWithEmailLink",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends r5{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new X1(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new X1(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,t,"signInWithPassword",ON);case"emailLink":return LN(e,{email:this._email,oobCode:this._password});default:sl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",RN);case"emailLink":return kN(e,{idToken:t,email:this._email,oobCode:this._password});default:sl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(n,e){return f0(n,"POST","/v1/accounts:signInWithIdp",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="http://localhost";class Zf extends r5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Zy(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zf(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return od(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,od(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,od(e,t)}buildRequest(){const e={requestUri:MN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=u0(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FN(n){const e=C1(T1(n)).link,t=e?C1(T1(e)).deep_link_id:null,r=C1(T1(n)).deep_link_id;return(r?C1(T1(r)).link:null)||r||t||e||n}class i5{constructor(e){var t,r,i,a,o,s;const u=C1(T1(e)),f=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=BN((i=u.mode)!==null&&i!==void 0?i:null);Wt(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(a=u.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=u.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const t=FN(e);try{return new i5(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.providerId=Sd.PROVIDER_ID}static credential(e,t){return X1._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=i5.parseLink(t);return Wt(r,"argument-error"),X1._fromEmailAndCode(e,r.code,r.tenantId)}}Sd.PROVIDER_ID="password";Sd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends BA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends h0{constructor(){super("facebook.com")}static credential(e){return Zf._fromParams({providerId:qc.PROVIDER_ID,signInMethod:qc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qc.credentialFromTaggedObject(e)}static credentialFromError(e){return qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qc.credential(e.oauthAccessToken)}catch{return null}}}qc.FACEBOOK_SIGN_IN_METHOD="facebook.com";qc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends h0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zf._fromParams({providerId:Hc.PROVIDER_ID,signInMethod:Hc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hc.credentialFromTaggedObject(e)}static credentialFromError(e){return Hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Hc.credential(t,r)}catch{return null}}}Hc.GOOGLE_SIGN_IN_METHOD="google.com";Hc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends h0{constructor(){super("github.com")}static credential(e){return Zf._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gc.credential(e.oauthAccessToken)}catch{return null}}}Gc.GITHUB_SIGN_IN_METHOD="github.com";Gc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends h0{constructor(){super("twitter.com")}static credential(e,t){return Zf._fromParams({providerId:Wc.PROVIDER_ID,signInMethod:Wc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wc.credentialFromTaggedObject(e)}static credentialFromError(e){return Wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Wc.credential(t,r)}catch{return null}}}Wc.TWITTER_SIGN_IN_METHOD="twitter.com";Wc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(n,e){return f0(n,"POST","/v1/accounts:signUp",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await il._fromIdTokenResponse(e,r,i),o=H3(r);return new Jf({user:a,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=H3(r);return new Jf({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function H3(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends bs{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new fg(e,t,r,i)}}function FA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fg._fromErrorAndOperation(n,a,e,r):a})}async function UN(n,e,t=!1){const r=await $1(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jf._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(n,e,t=!1){const{auth:r}=n;if(Ho(r.app))return Promise.reject(qu(r));const i="reauthenticate";try{const a=await $1(n,FA(r,i,e,n),t);Wt(a.idToken,r,"internal-error");const o=t5(a.idToken);Wt(o,r,"internal-error");const{sub:s}=o;return Wt(n.uid===s,r,"user-mismatch"),Jf._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&sl(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(n,e,t=!1){if(Ho(n.app))return Promise.reject(qu(n));const r="signIn",i=await FA(n,r,e),a=await Jf._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function zN(n,e){return jA(df(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n){const e=df(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qN(n,e,t){const r=df(n);await cg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",PN)}async function HN(n,e,t){if(Ho(n.app))return Promise.reject(qu(n));const r=df(n),o=await cg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&UA(n),u}),s=await Jf._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function GN(n,e,t){return Ho(n.app)?Promise.reject(qu(n)):zN(Vr(n),Sd.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UA(n),r})}async function WN(n,e){const t=Vr(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await DN(t.auth,i);a!==n.email&&await n.reload()}function $N(n,e,t,r){return Vr(n).onIdTokenChanged(e,t,r)}function XN(n,e,t){return Vr(n).beforeAuthStateChanged(e,t)}function YN(n,e,t,r){return Vr(n).onAuthStateChanged(e,t,r)}function KN(n){return Vr(n).signOut()}const hg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hg,"1"),this.storage.removeItem(hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=1e3,ZN=10;class zA extends VA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,s,u)=>{this.notifyListeners(o,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);fN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zA.type="LOCAL";const JN=zA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA extends VA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qA.type="SESSION";const HA=qA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Kg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async f=>f(t.origin,a)),u=await eR(s);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,u)=>{const f=a5("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(g.data.response);break;default:clearTimeout(h),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(){return window}function nR(n){Xl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return typeof Xl().WorkerGlobalScope<"u"&&typeof Xl().importScripts=="function"}async function rR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aR(){return GA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebaseLocalStorageDb",oR=1,dg="firebaseLocalStorage",$A="fbase_key";class d0{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qg(n,e){return n.transaction([dg],e?"readwrite":"readonly").objectStore(dg)}function sR(){const n=indexedDB.deleteDatabase(WA);return new d0(n).toPromise()}function qv(){const n=indexedDB.open(WA,oR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(dg,{keyPath:$A})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(dg)?e(r):(r.close(),await sR(),e(await qv()))})})}async function G3(n,e,t){const r=Qg(n,!0).put({[$A]:e,value:t});return new d0(r).toPromise()}async function lR(n,e){const t=Qg(n,!1).get(e),r=await new d0(t).toPromise();return r===void 0?null:r.value}function W3(n,e){const t=Qg(n,!0).delete(e);return new d0(t).toPromise()}const uR=800,cR=3;class XA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kg._getInstance(aR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rR(),!this.activeServiceWorker)return;this.sender=new tR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qv();return await G3(e,hg,"1"),await W3(e,hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>G3(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>lR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W3(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Qg(i,!1).getAll();return new d0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XA.type="LOCAL";const fR=XA;new c0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n,e){return e?Uu(e):(Wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5 extends r5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return od(e,this._buildIdpRequest())}_linkToIdToken(e,t){return od(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return od(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dR(n){return jA(n.auth,new o5(n),n.bypassAuthState)}function pR(n){const{auth:e,user:t}=n;return Wt(t,e,"internal-error"),VN(t,new o5(n),n.bypassAuthState)}async function gR(n){const{auth:e,user:t}=n;return Wt(t,e,"internal-error"),UN(t,new o5(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dR;case"linkViaPopup":case"linkViaRedirect":return gR;case"reauthViaPopup":case"reauthViaRedirect":return pR;default:sl(this.auth,"internal-error")}}resolve(e){$u(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$u(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new c0(2e3,1e4);class Jh extends YA{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Jh.currentPopupAction&&Jh.currentPopupAction.cancel(),Jh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wt(e,this.auth,"internal-error"),e}async onExecution(){$u(this.filter.length===1,"Popup operations only handle one event");const e=a5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($l(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($l(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($l(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mR.get())};e()}}Jh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="pendingRedirect",zp=new Map;class yR extends YA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zp.get(this.auth._key());if(!e){try{const r=await _R(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zp.set(this.auth._key(),e)}return this.bypassAuthState||zp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _R(n,e){const t=bR(e),r=wR(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function xR(n,e){zp.set(n._key(),e)}function wR(n){return Uu(n._redirectPersistence)}function bR(n){return Vp(vR,n.config.apiKey,n.name)}async function AR(n,e,t=!1){if(Ho(n.app))return Promise.reject(qu(n));const r=df(n),i=hR(r,e),o=await new yR(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=10*60*1e3;class SR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!KA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($l(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ER&&this.cachedEventUids.clear(),this.cachedEventUids.has($3(e))}saveEventToCache(e){this.cachedEventUids.add($3(e)),this.lastProcessedEventTime=Date.now()}}function $3(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n,e={}){return ec(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NR=/^https?/;async function RR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TR(n);for(const t of e)try{if(OR(t))return}catch{}sl(n,"unauthorized-domain")}function OR(n){const e=Vv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!NR.test(t))return!1;if(IR.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new c0(3e4,6e4);function X3(){const n=Xl().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PR(n){return new Promise((e,t)=>{var r,i,a;function o(){X3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X3(),t($l(n,"network-request-failed"))},timeout:DR.get()})}if(!((i=(r=Xl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Xl().gapi)===null||a===void 0)&&a.load)o();else{const s=xN("iframefcb");return Xl()[s]=()=>{gapi.load?o():t($l(n,"network-request-failed"))},PA(`${_N()}?onload=${s}`).catch(u=>t(u))}}).catch(e=>{throw qp=null,e})}let qp=null;function LR(n){return qp=qp||PR(n),qp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new c0(5e3,15e3),MR="__/auth/iframe",BR="emulator/auth/iframe",FR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UR(n){const e=n.config;Wt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?e5(e,BR):`https://${n.config.authDomain}/${MR}`,r={apiKey:e.apiKey,appName:n.name,v:lh},i=jR.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${u0(r).slice(1)}`}async function VR(n){const e=await LR(n),t=Xl().gapi;return Wt(t,n,"internal-error"),e.open({where:document.body,url:UR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FR,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=$l(n,"network-request-failed"),s=Xl().setTimeout(()=>{a(o)},kR.get());function u(){Xl().clearTimeout(s),i(r)}r.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qR=500,HR=600,GR="_blank",WR="http://localhost";class Y3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $R(n,e,t,r=qR,i=HR){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u=Object.assign(Object.assign({},zR),{width:r.toString(),height:i.toString(),top:a,left:o}),f=Ma().toLowerCase();t&&(s=CA(f)?GR:t),EA(f)&&(e=e||WR,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[m,x])=>`${g}${m}=${x},`,"");if(cN(f)&&s!=="_self")return XR(e||"",s),new Y3(null);const p=window.open(e||"",s,h);Wt(p,n,"popup-blocked");try{p.focus()}catch{}return new Y3(p)}function XR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="__/auth/handler",KR="emulator/auth/handler",QR=encodeURIComponent("fac");async function K3(n,e,t,r,i,a){Wt(n.config.authDomain,n,"auth-domain-config-required"),Wt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:lh,eventId:i};if(e instanceof BA){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",NI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof h0){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const s=o;for(const h of Object.keys(s))s[h]===void 0&&delete s[h];const u=await n._getAppCheckToken(),f=u?`#${QR}=${encodeURIComponent(u)}`:"";return`${ZR(n)}?${u0(s).slice(1)}${f}`}function ZR({config:n}){return n.emulator?e5(n,KR):`https://${n.authDomain}/${YR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class JR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HA,this._completeRedirectFn=AR,this._overrideRedirectResult=xR}async _openPopup(e,t,r,i){var a;$u((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await K3(e,t,r,Vv(),i);return $R(e,o,a5())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await K3(e,t,r,Vv(),i);return nR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):($u(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await VR(e),r=new SR(e);return t.register("authEvent",i=>(Wt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jm,{type:Jm},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Jm];o!==void 0&&t(!!o),sl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OA()||SA()||n5()}}const e9=JR;var Q3="@firebase/auth",Z3="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r9(n){ol(new ws("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Wt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DA(n)},f=new mN(r,i,a,u);return CN(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ol(new ws("auth-internal",e=>{const t=df(e.getProvider("auth").getImmediate());return(r=>new t9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(Q3,Z3,n9(n)),yo(Q3,Z3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=5*60,a9=aA("authIdTokenMaxAge")||i9;let J3=null;const o9=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>a9)return;const i=t==null?void 0:t.token;J3!==i&&(J3=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s9(n=Xg()){const e=hf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=SN(n,{popupRedirectResolver:e9,persistence:[fR,JN,HA]}),r=aA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=o9(a.toString());XN(t,o,()=>o(t.currentUser)),$N(t,s=>o(s))}}const i=nA("auth");return i&&TN(t,`http://${i}`),t}function l9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=$l("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",l9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r9("Browser");var ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qc,QA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function T(){}T.prototype=A.prototype,N.D=A.prototype,N.prototype=new T,N.prototype.constructor=N,N.C=function(F,O,P){for(var j=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)j[Y-2]=arguments[Y];return A.prototype[O].apply(F,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,A,T){T||(T=0);var F=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)F[O]=A.charCodeAt(T++)|A.charCodeAt(T++)<<8|A.charCodeAt(T++)<<16|A.charCodeAt(T++)<<24;else for(O=0;16>O;++O)F[O]=A[T++]|A[T++]<<8|A[T++]<<16|A[T++]<<24;A=N.g[0],T=N.g[1],O=N.g[2];var P=N.g[3],j=A+(P^T&(O^P))+F[0]+3614090360&4294967295;A=T+(j<<7&4294967295|j>>>25),j=P+(O^A&(T^O))+F[1]+3905402710&4294967295,P=A+(j<<12&4294967295|j>>>20),j=O+(T^P&(A^T))+F[2]+606105819&4294967295,O=P+(j<<17&4294967295|j>>>15),j=T+(A^O&(P^A))+F[3]+3250441966&4294967295,T=O+(j<<22&4294967295|j>>>10),j=A+(P^T&(O^P))+F[4]+4118548399&4294967295,A=T+(j<<7&4294967295|j>>>25),j=P+(O^A&(T^O))+F[5]+1200080426&4294967295,P=A+(j<<12&4294967295|j>>>20),j=O+(T^P&(A^T))+F[6]+2821735955&4294967295,O=P+(j<<17&4294967295|j>>>15),j=T+(A^O&(P^A))+F[7]+4249261313&4294967295,T=O+(j<<22&4294967295|j>>>10),j=A+(P^T&(O^P))+F[8]+1770035416&4294967295,A=T+(j<<7&4294967295|j>>>25),j=P+(O^A&(T^O))+F[9]+2336552879&4294967295,P=A+(j<<12&4294967295|j>>>20),j=O+(T^P&(A^T))+F[10]+4294925233&4294967295,O=P+(j<<17&4294967295|j>>>15),j=T+(A^O&(P^A))+F[11]+2304563134&4294967295,T=O+(j<<22&4294967295|j>>>10),j=A+(P^T&(O^P))+F[12]+1804603682&4294967295,A=T+(j<<7&4294967295|j>>>25),j=P+(O^A&(T^O))+F[13]+4254626195&4294967295,P=A+(j<<12&4294967295|j>>>20),j=O+(T^P&(A^T))+F[14]+2792965006&4294967295,O=P+(j<<17&4294967295|j>>>15),j=T+(A^O&(P^A))+F[15]+1236535329&4294967295,T=O+(j<<22&4294967295|j>>>10),j=A+(O^P&(T^O))+F[1]+4129170786&4294967295,A=T+(j<<5&4294967295|j>>>27),j=P+(T^O&(A^T))+F[6]+3225465664&4294967295,P=A+(j<<9&4294967295|j>>>23),j=O+(A^T&(P^A))+F[11]+643717713&4294967295,O=P+(j<<14&4294967295|j>>>18),j=T+(P^A&(O^P))+F[0]+3921069994&4294967295,T=O+(j<<20&4294967295|j>>>12),j=A+(O^P&(T^O))+F[5]+3593408605&4294967295,A=T+(j<<5&4294967295|j>>>27),j=P+(T^O&(A^T))+F[10]+38016083&4294967295,P=A+(j<<9&4294967295|j>>>23),j=O+(A^T&(P^A))+F[15]+3634488961&4294967295,O=P+(j<<14&4294967295|j>>>18),j=T+(P^A&(O^P))+F[4]+3889429448&4294967295,T=O+(j<<20&4294967295|j>>>12),j=A+(O^P&(T^O))+F[9]+568446438&4294967295,A=T+(j<<5&4294967295|j>>>27),j=P+(T^O&(A^T))+F[14]+3275163606&4294967295,P=A+(j<<9&4294967295|j>>>23),j=O+(A^T&(P^A))+F[3]+4107603335&4294967295,O=P+(j<<14&4294967295|j>>>18),j=T+(P^A&(O^P))+F[8]+1163531501&4294967295,T=O+(j<<20&4294967295|j>>>12),j=A+(O^P&(T^O))+F[13]+2850285829&4294967295,A=T+(j<<5&4294967295|j>>>27),j=P+(T^O&(A^T))+F[2]+4243563512&4294967295,P=A+(j<<9&4294967295|j>>>23),j=O+(A^T&(P^A))+F[7]+1735328473&4294967295,O=P+(j<<14&4294967295|j>>>18),j=T+(P^A&(O^P))+F[12]+2368359562&4294967295,T=O+(j<<20&4294967295|j>>>12),j=A+(T^O^P)+F[5]+4294588738&4294967295,A=T+(j<<4&4294967295|j>>>28),j=P+(A^T^O)+F[8]+2272392833&4294967295,P=A+(j<<11&4294967295|j>>>21),j=O+(P^A^T)+F[11]+1839030562&4294967295,O=P+(j<<16&4294967295|j>>>16),j=T+(O^P^A)+F[14]+4259657740&4294967295,T=O+(j<<23&4294967295|j>>>9),j=A+(T^O^P)+F[1]+2763975236&4294967295,A=T+(j<<4&4294967295|j>>>28),j=P+(A^T^O)+F[4]+1272893353&4294967295,P=A+(j<<11&4294967295|j>>>21),j=O+(P^A^T)+F[7]+4139469664&4294967295,O=P+(j<<16&4294967295|j>>>16),j=T+(O^P^A)+F[10]+3200236656&4294967295,T=O+(j<<23&4294967295|j>>>9),j=A+(T^O^P)+F[13]+681279174&4294967295,A=T+(j<<4&4294967295|j>>>28),j=P+(A^T^O)+F[0]+3936430074&4294967295,P=A+(j<<11&4294967295|j>>>21),j=O+(P^A^T)+F[3]+3572445317&4294967295,O=P+(j<<16&4294967295|j>>>16),j=T+(O^P^A)+F[6]+76029189&4294967295,T=O+(j<<23&4294967295|j>>>9),j=A+(T^O^P)+F[9]+3654602809&4294967295,A=T+(j<<4&4294967295|j>>>28),j=P+(A^T^O)+F[12]+3873151461&4294967295,P=A+(j<<11&4294967295|j>>>21),j=O+(P^A^T)+F[15]+530742520&4294967295,O=P+(j<<16&4294967295|j>>>16),j=T+(O^P^A)+F[2]+3299628645&4294967295,T=O+(j<<23&4294967295|j>>>9),j=A+(O^(T|~P))+F[0]+4096336452&4294967295,A=T+(j<<6&4294967295|j>>>26),j=P+(T^(A|~O))+F[7]+1126891415&4294967295,P=A+(j<<10&4294967295|j>>>22),j=O+(A^(P|~T))+F[14]+2878612391&4294967295,O=P+(j<<15&4294967295|j>>>17),j=T+(P^(O|~A))+F[5]+4237533241&4294967295,T=O+(j<<21&4294967295|j>>>11),j=A+(O^(T|~P))+F[12]+1700485571&4294967295,A=T+(j<<6&4294967295|j>>>26),j=P+(T^(A|~O))+F[3]+2399980690&4294967295,P=A+(j<<10&4294967295|j>>>22),j=O+(A^(P|~T))+F[10]+4293915773&4294967295,O=P+(j<<15&4294967295|j>>>17),j=T+(P^(O|~A))+F[1]+2240044497&4294967295,T=O+(j<<21&4294967295|j>>>11),j=A+(O^(T|~P))+F[8]+1873313359&4294967295,A=T+(j<<6&4294967295|j>>>26),j=P+(T^(A|~O))+F[15]+4264355552&4294967295,P=A+(j<<10&4294967295|j>>>22),j=O+(A^(P|~T))+F[6]+2734768916&4294967295,O=P+(j<<15&4294967295|j>>>17),j=T+(P^(O|~A))+F[13]+1309151649&4294967295,T=O+(j<<21&4294967295|j>>>11),j=A+(O^(T|~P))+F[4]+4149444226&4294967295,A=T+(j<<6&4294967295|j>>>26),j=P+(T^(A|~O))+F[11]+3174756917&4294967295,P=A+(j<<10&4294967295|j>>>22),j=O+(A^(P|~T))+F[2]+718787259&4294967295,O=P+(j<<15&4294967295|j>>>17),j=T+(P^(O|~A))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+P&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var T=A-this.blockSize,F=this.B,O=this.h,P=0;P<A;){if(O==0)for(;P<=T;)i(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<A;)if(F[O++]=N.charCodeAt(P++),O==this.blockSize){i(this,F),O=0;break}}else for(;P<A;)if(F[O++]=N[P++],O==this.blockSize){i(this,F),O=0;break}}this.h=O,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var T=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=T&255,T/=256;for(this.u(N),N=Array(16),A=T=0;4>A;++A)for(var F=0;32>F;F+=8)N[T++]=this.g[A]>>>F&255;return N};function a(N,A){var T=s;return Object.prototype.hasOwnProperty.call(T,N)?T[N]:T[N]=A(N)}function o(N,A){this.h=A;for(var T=[],F=!0,O=N.length-1;0<=O;O--){var P=N[O]|0;F&&P==A||(T[O]=P,F=!1)}this.g=T}var s={};function u(N){return-128<=N&&128>N?a(N,function(A){return new o([A|0],0>A?-1:0)}):new o([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return p;if(0>N)return S(f(-N));for(var A=[],T=1,F=0;N>=T;F++)A[F]=N/T|0,T*=4294967296;return new o(A,0)}function h(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return S(h(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=f(Math.pow(A,8)),F=p,O=0;O<N.length;O+=8){var P=Math.min(8,N.length-O),j=parseInt(N.substring(O,O+P),A);8>P?(P=f(Math.pow(A,P)),F=F.j(P).add(f(j))):(F=F.j(T),F=F.add(f(j)))}return F}var p=u(0),g=u(1),m=u(16777216);n=o.prototype,n.m=function(){if(b(this))return-S(this).m();for(var N=0,A=1,T=0;T<this.g.length;T++){var F=this.i(T);N+=(0<=F?F:4294967296+F)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(b(this))return"-"+S(this).toString(N);for(var A=f(Math.pow(N,6)),T=this,F="";;){var O=V(T,A).g;T=C(T,O.j(A));var P=((0<T.g.length?T.g[0]:T.h)>>>0).toString(N);if(T=O,x(T))return P+F;for(;6>P.length;)P="0"+P;F=P+F}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function b(N){return N.h==-1}n.l=function(N){return N=C(this,N),b(N)?-1:x(N)?0:1};function S(N){for(var A=N.g.length,T=[],F=0;F<A;F++)T[F]=~N.g[F];return new o(T,~N.h).add(g)}n.abs=function(){return b(this)?S(this):this},n.add=function(N){for(var A=Math.max(this.g.length,N.g.length),T=[],F=0,O=0;O<=A;O++){var P=F+(this.i(O)&65535)+(N.i(O)&65535),j=(P>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);F=j>>>16,P&=65535,j&=65535,T[O]=j<<16|P}return new o(T,T[T.length-1]&-2147483648?-1:0)};function C(N,A){return N.add(S(A))}n.j=function(N){if(x(this)||x(N))return p;if(b(this))return b(N)?S(this).j(S(N)):S(S(this).j(N));if(b(N))return S(this.j(S(N)));if(0>this.l(m)&&0>N.l(m))return f(this.m()*N.m());for(var A=this.g.length+N.g.length,T=[],F=0;F<2*A;F++)T[F]=0;for(F=0;F<this.g.length;F++)for(var O=0;O<N.g.length;O++){var P=this.i(F)>>>16,j=this.i(F)&65535,Y=N.i(O)>>>16,le=N.i(O)&65535;T[2*F+2*O]+=j*le,D(T,2*F+2*O),T[2*F+2*O+1]+=P*le,D(T,2*F+2*O+1),T[2*F+2*O+1]+=j*Y,D(T,2*F+2*O+1),T[2*F+2*O+2]+=P*Y,D(T,2*F+2*O+2)}for(F=0;F<A;F++)T[F]=T[2*F+1]<<16|T[2*F];for(F=A;F<2*A;F++)T[F]=0;return new o(T,0)};function D(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function M(N,A){this.g=N,this.h=A}function V(N,A){if(x(A))throw Error("division by zero");if(x(N))return new M(p,p);if(b(N))return A=V(S(N),A),new M(S(A.g),S(A.h));if(b(A))return A=V(N,S(A)),new M(S(A.g),A.h);if(30<N.g.length){if(b(N)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var T=g,F=A;0>=F.l(N);)T=X(T),F=X(F);var O=$(T,1),P=$(F,1);for(F=$(F,2),T=$(T,2);!x(F);){var j=P.add(F);0>=j.l(N)&&(O=O.add(T),P=j),F=$(F,1),T=$(T,1)}return A=C(N,O.j(A)),new M(O,A)}for(O=p;0<=N.l(A);){for(T=Math.max(1,Math.floor(N.m()/A.m())),F=Math.ceil(Math.log(T)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),P=f(T),j=P.j(A);b(j)||0<j.l(N);)T-=F,P=f(T),j=P.j(A);x(P)&&(P=g),O=O.add(P),N=C(N,j)}return new M(O,N)}n.A=function(N){return V(this,N).h},n.and=function(N){for(var A=Math.max(this.g.length,N.g.length),T=[],F=0;F<A;F++)T[F]=this.i(F)&N.i(F);return new o(T,this.h&N.h)},n.or=function(N){for(var A=Math.max(this.g.length,N.g.length),T=[],F=0;F<A;F++)T[F]=this.i(F)|N.i(F);return new o(T,this.h|N.h)},n.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),T=[],F=0;F<A;F++)T[F]=this.i(F)^N.i(F);return new o(T,this.h^N.h)};function X(N){for(var A=N.g.length+1,T=[],F=0;F<A;F++)T[F]=N.i(F)<<1|N.i(F-1)>>>31;return new o(T,N.h)}function $(N,A){var T=A>>5;A%=32;for(var F=N.g.length-T,O=[],P=0;P<F;P++)O[P]=0<A?N.i(P+T)>>>A|N.i(P+T+1)<<32-A:N.i(P+T);return new o(O,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,Qc=o}).apply(typeof ew<"u"?ew:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZA,I1,JA,Hp,Hv,eE,tE,nE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,B,G){return _==Array.prototype||_==Object.prototype||(_[B]=G.value),_};function t(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var B=0;B<_.length;++B){var G=_[B];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=t(this);function i(_,B){if(B)e:{var G=r;_=_.split(".");for(var oe=0;oe<_.length-1;oe++){var Ce=_[oe];if(!(Ce in G))break e;G=G[Ce]}_=_[_.length-1],oe=G[_],B=B(oe),B!=oe&&B!=null&&e(G,_,{configurable:!0,writable:!0,value:B})}}function a(_,B){_ instanceof String&&(_+="");var G=0,oe=!1,Ce={next:function(){if(!oe&&G<_.length){var Le=G++;return{value:B(Le,_[Le]),done:!1}}return oe=!0,{done:!0,value:void 0}}};return Ce[Symbol.iterator]=function(){return Ce},Ce}i("Array.prototype.values",function(_){return _||function(){return a(this,function(B,G){return G})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function u(_){var B=typeof _;return B=B!="object"?B:_?Array.isArray(_)?"array":B:"null",B=="array"||B=="object"&&typeof _.length=="number"}function f(_){var B=typeof _;return B=="object"&&_!=null||B=="function"}function h(_,B,G){return _.call.apply(_.bind,arguments)}function p(_,B,G){if(!_)throw Error();if(2<arguments.length){var oe=Array.prototype.slice.call(arguments,2);return function(){var Ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ce,oe),_.apply(B,Ce)}}return function(){return _.apply(B,arguments)}}function g(_,B,G){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(_,B){var G=Array.prototype.slice.call(arguments,1);return function(){var oe=G.slice();return oe.push.apply(oe,arguments),_.apply(this,oe)}}function x(_,B){function G(){}G.prototype=B.prototype,_.aa=B.prototype,_.prototype=new G,_.prototype.constructor=_,_.Qb=function(oe,Ce,Le){for(var nt=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)nt[jt-2]=arguments[jt];return B.prototype[Ce].apply(oe,nt)}}function b(_){const B=_.length;if(0<B){const G=Array(B);for(let oe=0;oe<B;oe++)G[oe]=_[oe];return G}return[]}function S(_,B){for(let G=1;G<arguments.length;G++){const oe=arguments[G];if(u(oe)){const Ce=_.length||0,Le=oe.length||0;_.length=Ce+Le;for(let nt=0;nt<Le;nt++)_[Ce+nt]=oe[nt]}else _.push(oe)}}class C{constructor(B,G){this.i=B,this.j=G,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function D(_){return/^[\s\xa0]*$/.test(_)}function M(){var _=s.navigator;return _&&(_=_.userAgent)?_:""}function V(_){return V[" "](_),_}V[" "]=function(){};var X=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function $(_,B,G){for(const oe in _)B.call(G,_[oe],oe,_)}function N(_,B){for(const G in _)B.call(void 0,_[G],G,_)}function A(_){const B={};for(const G in _)B[G]=_[G];return B}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(_,B){let G,oe;for(let Ce=1;Ce<arguments.length;Ce++){oe=arguments[Ce];for(G in oe)_[G]=oe[G];for(let Le=0;Le<T.length;Le++)G=T[Le],Object.prototype.hasOwnProperty.call(oe,G)&&(_[G]=oe[G])}}function O(_){var B=1;_=_.split(":");const G=[];for(;0<B&&_.length;)G.push(_.shift()),B--;return _.length&&G.push(_.join(":")),G}function P(_){s.setTimeout(()=>{throw _},0)}function j(){var _=ce;let B=null;return _.g&&(B=_.g,_.g=_.g.next,_.g||(_.h=null),B.next=null),B}class Y{constructor(){this.h=this.g=null}add(B,G){const oe=le.get();oe.set(B,G),this.h?this.h.next=oe:this.g=oe,this.h=oe}}var le=new C(()=>new U,_=>_.reset());class U{constructor(){this.next=this.g=this.h=null}set(B,G){this.h=B,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let q,ie=!1,ce=new Y,W=()=>{const _=s.Promise.resolve(void 0);q=()=>{_.then(me)}};var me=()=>{for(var _;_=j();){try{_.h.call(_.g)}catch(G){P(G)}var B=le;B.j(_),100>B.h&&(B.h++,_.next=B.g,B.g=_)}ie=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(_,B){this.type=_,this.g=this.target=B,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,B=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const G=()=>{};s.addEventListener("test",G,B),s.removeEventListener("test",G,B)}catch{}return _}();function ne(_,B){if(Q.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var G=this.type=_.type,oe=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=B,B=_.relatedTarget){if(X){e:{try{V(B.nodeName);var Ce=!0;break e}catch{}Ce=!1}Ce||(B=null)}}else G=="mouseover"?B=_.fromElement:G=="mouseout"&&(B=_.toElement);this.relatedTarget=B,oe?(this.clientX=oe.clientX!==void 0?oe.clientX:oe.pageX,this.clientY=oe.clientY!==void 0?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:de[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&ne.aa.h.call(this)}}x(ne,Q);var de={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),be=0;function Te(_,B,G,oe,Ce){this.listener=_,this.proxy=null,this.src=B,this.type=G,this.capture=!!oe,this.ha=Ce,this.key=++be,this.da=this.fa=!1}function Ge(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function He(_){this.src=_,this.g={},this.h=0}He.prototype.add=function(_,B,G,oe,Ce){var Le=_.toString();_=this.g[Le],_||(_=this.g[Le]=[],this.h++);var nt=st(_,B,oe,Ce);return-1<nt?(B=_[nt],G||(B.fa=!1)):(B=new Te(B,this.src,Le,!!oe,Ce),B.fa=G,_.push(B)),B};function rt(_,B){var G=B.type;if(G in _.g){var oe=_.g[G],Ce=Array.prototype.indexOf.call(oe,B,void 0),Le;(Le=0<=Ce)&&Array.prototype.splice.call(oe,Ce,1),Le&&(Ge(B),_.g[G].length==0&&(delete _.g[G],_.h--))}}function st(_,B,G,oe){for(var Ce=0;Ce<_.length;++Ce){var Le=_[Ce];if(!Le.da&&Le.listener==B&&Le.capture==!!G&&Le.ha==oe)return Ce}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),Be={};function ge(_,B,G,oe,Ce){if(Array.isArray(B)){for(var Le=0;Le<B.length;Le++)ge(_,B[Le],G,oe,Ce);return null}return G=Nt(G),_&&_[Ee]?_.K(B,G,f(oe)?!!oe.capture:!1,Ce):gt(_,B,G,!1,oe,Ce)}function gt(_,B,G,oe,Ce,Le){if(!B)throw Error("Invalid event type");var nt=f(Ce)?!!Ce.capture:!!Ce,jt=ct(_);if(jt||(_[wt]=jt=new He(_)),G=jt.add(B,G,oe,nt,Le),G.proxy)return G;if(oe=lt(),G.proxy=oe,oe.src=_,oe.listener=G,_.addEventListener)ee||(Ce=nt),Ce===void 0&&(Ce=!1),_.addEventListener(B.toString(),oe,Ce);else if(_.attachEvent)_.attachEvent(at(B.toString()),oe);else if(_.addListener&&_.removeListener)_.addListener(oe);else throw Error("addEventListener and attachEvent are unavailable.");return G}function lt(){function _(G){return B.call(_.src,_.listener,G)}const B=ot;return _}function Xe(_,B,G,oe,Ce){if(Array.isArray(B))for(var Le=0;Le<B.length;Le++)Xe(_,B[Le],G,oe,Ce);else oe=f(oe)?!!oe.capture:!!oe,G=Nt(G),_&&_[Ee]?(_=_.i,B=String(B).toString(),B in _.g&&(Le=_.g[B],G=st(Le,G,oe,Ce),-1<G&&(Ge(Le[G]),Array.prototype.splice.call(Le,G,1),Le.length==0&&(delete _.g[B],_.h--)))):_&&(_=ct(_))&&(B=_.g[B.toString()],_=-1,B&&(_=st(B,G,oe,Ce)),(G=-1<_?B[_]:null)&&it(G))}function it(_){if(typeof _!="number"&&_&&!_.da){var B=_.src;if(B&&B[Ee])rt(B.i,_);else{var G=_.type,oe=_.proxy;B.removeEventListener?B.removeEventListener(G,oe,_.capture):B.detachEvent?B.detachEvent(at(G),oe):B.addListener&&B.removeListener&&B.removeListener(oe),(G=ct(B))?(rt(G,_),G.h==0&&(G.src=null,B[wt]=null)):Ge(_)}}}function at(_){return _ in Be?Be[_]:Be[_]="on"+_}function ot(_,B){if(_.da)_=!0;else{B=new ne(B,this);var G=_.listener,oe=_.ha||_.src;_.fa&&it(_),_=G.call(oe,B)}return _}function ct(_){return _=_[wt],_ instanceof He?_:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(_){return typeof _=="function"?_:(_[mt]||(_[mt]=function(B){return _.handleEvent(B)}),_[mt])}function xt(){H.call(this),this.i=new He(this),this.M=this,this.F=null}x(xt,H),xt.prototype[Ee]=!0,xt.prototype.removeEventListener=function(_,B,G,oe){Xe(this,_,B,G,oe)};function bt(_,B){var G,oe=_.F;if(oe)for(G=[];oe;oe=oe.F)G.push(oe);if(_=_.M,oe=B.type||B,typeof B=="string")B=new Q(B,_);else if(B instanceof Q)B.target=B.target||_;else{var Ce=B;B=new Q(oe,_),F(B,Ce)}if(Ce=!0,G)for(var Le=G.length-1;0<=Le;Le--){var nt=B.g=G[Le];Ce=Rt(nt,oe,!0,B)&&Ce}if(nt=B.g=_,Ce=Rt(nt,oe,!0,B)&&Ce,Ce=Rt(nt,oe,!1,B)&&Ce,G)for(Le=0;Le<G.length;Le++)nt=B.g=G[Le],Ce=Rt(nt,oe,!1,B)&&Ce}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var _=this.i,B;for(B in _.g){for(var G=_.g[B],oe=0;oe<G.length;oe++)Ge(G[oe]);delete _.g[B],_.h--}}this.F=null},xt.prototype.K=function(_,B,G,oe){return this.i.add(String(_),B,!1,G,oe)},xt.prototype.L=function(_,B,G,oe){return this.i.add(String(_),B,!0,G,oe)};function Rt(_,B,G,oe){if(B=_.i.g[String(B)],!B)return!0;B=B.concat();for(var Ce=!0,Le=0;Le<B.length;++Le){var nt=B[Le];if(nt&&!nt.da&&nt.capture==G){var jt=nt.listener,dn=nt.ha||nt.src;nt.fa&&rt(_.i,nt),Ce=jt.call(dn,oe)!==!1&&Ce}}return Ce&&!oe.defaultPrevented}function _t(_,B,G){if(typeof _=="function")G&&(_=g(_,G));else if(_&&typeof _.handleEvent=="function")_=g(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:s.setTimeout(_,B||0)}function Ot(_){_.g=_t(()=>{_.g=null,_.i&&(_.i=!1,Ot(_))},_.l);const B=_.h;_.h=null,_.m.apply(null,B)}class ut extends H{constructor(B,G){super(),this.m=B,this.l=G,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(_){H.call(this),this.h=_,this.g={}}x(mn,H);var Vt=[];function Xn(_){$(_.g,function(B,G){this.g.hasOwnProperty(G)&&it(B)},_),_.g={}}mn.prototype.N=function(){mn.aa.N.call(this),Xn(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=s.JSON.stringify,An=s.JSON.parse,di=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function an(){}an.prototype.h=null;function ha(_){return _.h||(_.h=_.i())}function Cn(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){Q.call(this,"d")}x(or,Q);function vn(){Q.call(this,"c")}x(vn,Q);var Tt={},tn=null;function bi(){return tn=tn||new xt}Tt.La="serverreachability";function kn(_){Q.call(this,Tt.La,_)}x(kn,Q);function dr(_){const B=bi();bt(B,new kn(B))}Tt.STAT_EVENT="statevent";function Fa(_,B){Q.call(this,Tt.STAT_EVENT,_),this.stat=B}x(Fa,Q);function vt(_){const B=bi();bt(B,new Fa(B,_))}Tt.Ma="timingevent";function Hn(_,B){Q.call(this,Tt.Ma,_),this.size=B}x(Hn,Q);function Gn(_,B){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},B)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function wr(_,B,G,oe,Ce,Le){_.info(function(){if(_.g)if(Le)for(var nt="",jt=Le.split("&"),dn=0;dn<jt.length;dn++){var Kt=jt[dn].split("=");if(1<Kt.length){var Fn=Kt[0];Kt=Kt[1];var Yn=Fn.split("_");nt=2<=Yn.length&&Yn[1]=="type"?nt+(Fn+"="+Kt+"&"):nt+(Fn+"=redacted&")}}else nt=null;else nt=Le;return"XMLHTTP REQ ("+oe+") [attempt "+Ce+"]: "+B+`
`+G+`
`+nt})}function Tr(_,B,G,oe,Ce,Le,nt){_.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+Ce+"]: "+B+`
`+G+`
`+Le+" "+nt})}function qr(_,B,G,oe){_.info(function(){return"XMLHTTP TEXT ("+B+"): "+Zi(_,G)+(oe?" "+oe:"")})}function As(_,B){_.info(function(){return"TIMEOUT: "+B})}pr.prototype.info=function(){};function Zi(_,B){if(!_.g)return B;if(!B)return null;try{var G=JSON.parse(B);if(G){for(_=0;_<G.length;_++)if(Array.isArray(G[_])){var oe=G[_];if(!(2>oe.length)){var Ce=oe[1];if(Array.isArray(Ce)&&!(1>Ce.length)){var Le=Ce[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(var nt=1;nt<Ce.length;nt++)Ce[nt]=""}}}}return Yt(G)}catch{return B}}var pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function ei(){}x(ei,an),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Hr=new ei;function sr(_,B,G,oe){this.j=_,this.i=B,this.l=G,this.R=oe||1,this.U=new mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mn}function Mn(){this.i=null,this.g="",this.h=!1}var Ao={},Eo={};function Bi(_,B,G){_.L=1,_.v=Qo(Ei(B)),_.m=G,_.P=!0,da(_,null)}function da(_,B){_.F=Date.now(),Ss(_),_.A=Ei(_.v);var G=_.A,oe=_.R;Array.isArray(oe)||(oe=[String(oe)]),Ft(G.i,"t",oe),_.C=0,G=_.j.J,_.h=new Mn,_.g=J(_.j,G?B:null,!_.m),0<_.O&&(_.M=new ut(g(_.Y,_,_.g),_.O)),B=_.U,G=_.g,oe=_.ca;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&(Vt[0]=Ce.toString()),Ce=Vt);for(var Le=0;Le<Ce.length;Le++){var nt=ge(G,Ce[Le],oe||B.handleEvent,!1,B.h||B);if(!nt)break;B.g[nt.key]=nt}B=_.H?A(_.H):{},_.m?(_.u||(_.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,B)):(_.u="GET",_.g.ea(_.A,_.u,null,B)),dr(),wr(_.i,_.u,_.A,_.l,_.R,_.m)}sr.prototype.ca=function(_){_=_.target;const B=this.M;B&&Wr(_)==3?B.j():this.Y(_)},sr.prototype.Y=function(_){try{if(_==this.g)e:{const Yn=Wr(this.g);var B=this.g.Ba();const io=this.g.Z();if(!(3>Yn)&&(Yn!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Yn!=4||B==7||(B==8||0>=io?dr(3):dr(2)),ja(this);var G=this.g.Z();this.X=G;t:if(Es(this)){var oe=oc(this.g);_="";var Ce=oe.length,Le=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ti(this),Ua(this);var nt="";break t}this.h.i=new s.TextDecoder}for(B=0;B<Ce;B++)this.h.h=!0,_+=this.h.i.decode(oe[B],{stream:!(Le&&B==Ce-1)});oe.length=0,this.h.g+=_,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=G==200,Tr(this.i,this.u,this.A,this.l,this.R,Yn,G),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,dn=this.g;if((jt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(jt)){var Kt=jt;break t}}Kt=null}if(G=Kt)qr(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,So(this,G);else{this.o=!1,this.s=3,vt(12),ti(this),Ua(this);break e}}if(this.P){G=!0;let kr;for(;!this.J&&this.C<nt.length;)if(kr=su(this,nt),kr==Eo){Yn==4&&(this.s=4,vt(14),G=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==Ao){this.s=4,vt(15),qr(this.i,this.l,nt,"[Invalid Chunk]"),G=!1;break}else qr(this.i,this.l,kr,null),So(this,kr);if(Es(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yn!=4||nt.length!=0||this.h.h||(this.s=1,vt(16),G=!1),this.o=this.o&&G,!G)qr(this.i,this.l,nt,"[Invalid Chunked Response]"),ti(this),Ua(this);else if(0<nt.length&&!this.W){this.W=!0;var Fn=this.j;Fn.g==this&&Fn.ba&&!Fn.M&&(Fn.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),rs(Fn),Fn.M=!0,vt(11))}}else qr(this.i,this.l,nt,null),So(this,nt);Yn==4&&ti(this),this.o&&!this.J&&(Yn==4?is(this.j,this):(this.o=!1,Ss(this)))}else es(this.g),G==400&&0<nt.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),ti(this),Ua(this)}}}catch{}finally{}};function Es(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function su(_,B){var G=_.C,oe=B.indexOf(`
`,G);return oe==-1?Eo:(G=Number(B.substring(G,oe)),isNaN(G)?Ao:(oe+=1,oe+G>B.length?Eo:(B=B.slice(oe,oe+G),_.C=oe+G,B)))}sr.prototype.cancel=function(){this.J=!0,ti(this)};function Ss(_){_.S=Date.now()+_.I,tc(_,_.I)}function tc(_,B){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Gn(g(_.ba,_),B)}function ja(_){_.B&&(s.clearTimeout(_.B),_.B=null)}sr.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(As(this.i,this.A),this.L!=2&&(dr(),vt(17)),ti(this),this.s=2,Ua(this)):tc(this,this.S-_)};function Ua(_){_.j.G==0||_.J||is(_.j,_)}function ti(_){ja(_);var B=_.M;B&&typeof B.ma=="function"&&B.ma(),_.M=null,Xn(_.U),_.g&&(B=_.g,_.g=null,B.abort(),B.ma())}function So(_,B){try{var G=_.j;if(G.G!=0&&(G.g==_||lu(G.h,_))){if(!_.K&&lu(G.h,_)&&G.G==3){try{var oe=G.Da.g.parse(B)}catch{oe=null}if(Array.isArray(oe)&&oe.length==3){var Ce=oe;if(Ce[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<_.F)Po(G),gl(G);else break e;Os(G),vt(18)}}else G.za=Ce[1],0<G.za-G.T&&37500>Ce[2]&&G.F&&G.v==0&&!G.C&&(G.C=Gn(g(G.Za,G),6e3));if(1>=Co(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Vi(G,11)}else if((_.K||G.g==_)&&Po(G),!D(B))for(Ce=G.Da.g.parse(B),B=0;B<Ce.length;B++){let Kt=Ce[B];if(G.T=Kt[0],Kt=Kt[1],G.G==2)if(Kt[0]=="c"){G.K=Kt[1],G.ia=Kt[2];const Fn=Kt[3];Fn!=null&&(G.la=Fn,G.j.info("VER="+G.la));const Yn=Kt[4];Yn!=null&&(G.Aa=Yn,G.j.info("SVER="+G.Aa));const io=Kt[5];io!=null&&typeof io=="number"&&0<io&&(oe=1.5*io,G.L=oe,G.j.info("backChannelRequestTimeoutMs_="+oe)),oe=G;const kr=_.g;if(kr){const ya=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var Le=oe.h;Le.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(lr(Le,Le.h),Le.h=null))}if(oe.D){const as=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(oe.ya=as,Bn(oe.I,oe.D,as))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-_.F,G.j.info("Handshake RTT: "+G.R+"ms")),oe=G;var nt=_;if(oe.qa=R(oe,oe.J?oe.ia:null,oe.W),nt.K){gi(oe.h,nt);var jt=nt,dn=oe.L;dn&&(jt.I=dn),jt.B&&(ja(jt),Ss(jt)),oe.g=nt}else vl(oe);0<G.i.length&&ml(G)}else Kt[0]!="stop"&&Kt[0]!="close"||Vi(G,7);else G.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Vi(G,7):Do(G):Kt[0]!="noop"&&G.l&&G.l.ta(Kt),G.v=0)}}dr(4)}catch{}}var nc=class{constructor(_,B){this.g=_,this.map=B}};function Ka(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fl(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Co(_){return _.h?1:_.g?_.g.size:0}function lu(_,B){return _.h?_.h==B:_.g?_.g.has(B):!1}function lr(_,B){_.g?_.g.add(B):_.h=B}function gi(_,B){_.h&&_.h==B?_.h=null:_.g&&_.g.has(B)&&_.g.delete(B)}Ka.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function hl(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let B=_.i;for(const G of _.g.values())B=B.concat(G.D);return B}return b(_.i)}function rc(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(u(_)){for(var B=[],G=_.length,oe=0;oe<G;oe++)B.push(_[oe]);return B}B=[],G=0;for(oe in _)B[G++]=_[oe];return B}function Xo(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(u(_)||typeof _=="string"){var B=[];_=_.length;for(var G=0;G<_;G++)B.push(G);return B}B=[],G=0;for(const oe in _)B[G++]=oe;return B}}}function uu(_,B){if(_.forEach&&typeof _.forEach=="function")_.forEach(B,void 0);else if(u(_)||typeof _=="string")Array.prototype.forEach.call(_,B,void 0);else for(var G=Xo(_),oe=rc(_),Ce=oe.length,Le=0;Le<Ce;Le++)B.call(void 0,oe[Le],G&&G[Le],_)}var Ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dl(_,B){if(_){_=_.split("&");for(var G=0;G<_.length;G++){var oe=_[G].indexOf("="),Ce=null;if(0<=oe){var Le=_[G].substring(0,oe);Ce=_[G].substring(oe+1)}else Le=_[G];B(Le,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function En(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof En){this.h=_.h,Yo(this,_.j),this.o=_.o,this.g=_.g,Ko(this,_.s),this.l=_.l;var B=_.i,G=new Za;G.i=B.i,B.g&&(G.g=new Map(B.g),G.h=B.h),Qa(this,G),this.m=_.m}else _&&(B=String(_).match(Ai))?(this.h=!1,Yo(this,B[1]||"",!0),this.o=pa(B[2]||""),this.g=pa(B[3]||"",!0),Ko(this,B[4]),this.l=pa(B[5]||"",!0),Qa(this,B[6]||"",!0),this.m=pa(B[7]||"")):(this.h=!1,this.i=new Za(null,this.h))}En.prototype.toString=function(){var _=[],B=this.j;B&&_.push(To(B,cu,!0),":");var G=this.g;return(G||B=="file")&&(_.push("//"),(B=this.o)&&_.push(To(B,cu,!0),"@"),_.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&_.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&_.push("/"),_.push(To(G,G.charAt(0)=="/"?Io:fu,!0))),(G=this.i.toString())&&_.push("?",G),(G=this.m)&&_.push("#",To(G,No)),_.join("")};function Ei(_){return new En(_)}function Yo(_,B,G){_.j=G?pa(B,!0):B,_.j&&(_.j=_.j.replace(/:$/,""))}function Ko(_,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);_.s=B}else _.s=null}function Qa(_,B,G){B instanceof Za?(_.i=B,ac(_.i,_.h)):(G||(B=To(B,pl)),_.i=new Za(B,_.h))}function Bn(_,B,G){_.i.set(B,G)}function Qo(_){return Bn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function pa(_,B){return _?B?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function To(_,B,G){return typeof _=="string"?(_=encodeURI(_).replace(B,ic),G&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ic(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var cu=/[#\/\?@]/g,fu=/[#\?:]/g,Io=/[#\?]/g,pl=/[#\?@]/g,No=/#/g;function Za(_,B){this.h=this.g=null,this.i=_||null,this.j=!!B}function Jn(_){_.g||(_.g=new Map,_.h=0,_.i&&dl(_.i,function(B,G){_.add(decodeURIComponent(B.replace(/\+/g," ")),G)}))}n=Za.prototype,n.add=function(_,B){Jn(this),this.i=null,_=eo(this,_);var G=this.g.get(_);return G||this.g.set(_,G=[]),G.push(B),this.h+=1,this};function Ro(_,B){Jn(_),B=eo(_,B),_.g.has(B)&&(_.i=null,_.h-=_.g.get(B).length,_.g.delete(B))}function Ja(_,B){return Jn(_),B=eo(_,B),_.g.has(B)}n.forEach=function(_,B){Jn(this),this.g.forEach(function(G,oe){G.forEach(function(Ce){_.call(B,Ce,oe,this)},this)},this)},n.na=function(){Jn(this);const _=Array.from(this.g.values()),B=Array.from(this.g.keys()),G=[];for(let oe=0;oe<B.length;oe++){const Ce=_[oe];for(let Le=0;Le<Ce.length;Le++)G.push(B[oe])}return G},n.V=function(_){Jn(this);let B=[];if(typeof _=="string")Ja(this,_)&&(B=B.concat(this.g.get(eo(this,_))));else{_=Array.from(this.g.values());for(let G=0;G<_.length;G++)B=B.concat(_[G])}return B},n.set=function(_,B){return Jn(this),this.i=null,_=eo(this,_),Ja(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[B]),this.h+=1,this},n.get=function(_,B){return _?(_=this.V(_),0<_.length?String(_[0]):B):B};function Ft(_,B,G){Ro(_,B),0<G.length&&(_.i=null,_.g.set(eo(_,B),b(G)),_.h+=G.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],B=Array.from(this.g.keys());for(var G=0;G<B.length;G++){var oe=B[G];const Le=encodeURIComponent(String(oe)),nt=this.V(oe);for(oe=0;oe<nt.length;oe++){var Ce=Le;nt[oe]!==""&&(Ce+="="+encodeURIComponent(String(nt[oe]))),_.push(Ce)}}return this.i=_.join("&")};function eo(_,B){return B=String(B),_.j&&(B=B.toLowerCase()),B}function ac(_,B){B&&!_.j&&(Jn(_),_.i=null,_.g.forEach(function(G,oe){var Ce=oe.toLowerCase();oe!=Ce&&(Ro(this,oe),Ft(this,Ce,G))},_)),_.j=B}function Fi(_,B){const G=new pr;if(s.Image){const oe=new Image;oe.onload=m(Ji,G,"TestLoadImage: loaded",!0,B,oe),oe.onerror=m(Ji,G,"TestLoadImage: error",!1,B,oe),oe.onabort=m(Ji,G,"TestLoadImage: abort",!1,B,oe),oe.ontimeout=m(Ji,G,"TestLoadImage: timeout",!1,B,oe),s.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=_}else B(!1)}function ga(_,B){const G=new pr,oe=new AbortController,Ce=setTimeout(()=>{oe.abort(),Ji(G,"TestPingServer: timeout",!1,B)},1e4);fetch(_,{signal:oe.signal}).then(Le=>{clearTimeout(Ce),Le.ok?Ji(G,"TestPingServer: ok",!0,B):Ji(G,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(Ce),Ji(G,"TestPingServer: error",!1,B)})}function Ji(_,B,G,oe,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),oe(G)}catch{}}function to(){this.g=new di}function ma(_,B,G){const oe=G||"";try{uu(_,function(Ce,Le){let nt=Ce;f(Ce)&&(nt=Yt(Ce)),B.push(oe+Le+"="+encodeURIComponent(nt))})}catch(Ce){throw B.push(oe+"type="+encodeURIComponent("_badmap")),Ce}}function Zo(_){this.l=_.Ub||null,this.j=_.eb||!1}x(Zo,an),Zo.prototype.g=function(){return new Oo(this.l,this.j)},Zo.prototype.i=function(_){return function(){return _}}({});function Oo(_,B){xt.call(this),this.D=_,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Oo,xt),n=Oo.prototype,n.open=function(_,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=B,this.readyState=1,ji(this)},n.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(B.body=_),(this.D||s).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},n.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hu(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function hu(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}n.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var B=_.value?_.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!_.done}))&&(this.response=this.responseText+=B)}_.done?va(this):ji(this),this.readyState==3&&hu(this)}},n.Ra=function(_){this.g&&(this.response=this.responseText=_,va(this))},n.Qa=function(_){this.g&&(this.response=_,va(this))},n.ga=function(){this.g&&va(this)};function va(_){_.readyState=4,_.l=null,_.j=null,_.v=null,ji(_)}n.setRequestHeader=function(_,B){this.u.append(_,B)},n.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],B=this.h.entries();for(var G=B.next();!G.done;)G=G.value,_.push(G[0]+": "+G[1]),G=B.next();return _.join(`\r
`)};function ji(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function no(_){let B="";return $(_,function(G,oe){B+=oe,B+=":",B+=G,B+=`\r
`}),B}function Gr(_,B,G){e:{for(oe in G){var oe=!1;break e}oe=!0}oe||(G=no(G),typeof _=="string"?G!=null&&encodeURIComponent(String(G)):Bn(_,B,G))}function hn(_){xt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(hn,xt);var Jo=/^https?$/i,ro=["POST","PUT"];n=hn.prototype,n.Ha=function(_){this.J=_},n.ea=function(_,B,G,oe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);B=B?B.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?ha(this.o):ha(Hr),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(B,String(_),!0),this.B=!1}catch(Le){du(this,Le);return}if(_=G||"",G=new Map(this.headers),oe)if(Object.getPrototypeOf(oe)===Object.prototype)for(var Ce in oe)G.set(Ce,oe[Ce]);else if(typeof oe.keys=="function"&&typeof oe.get=="function")for(const Le of oe.keys())G.set(Le,oe.get(Le));else throw Error("Unknown input type for opt_headers: "+String(oe));oe=Array.from(G.keys()).find(Le=>Le.toLowerCase()=="content-type"),Ce=s.FormData&&_ instanceof s.FormData,!(0<=Array.prototype.indexOf.call(ro,B,void 0))||oe||Ce||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,nt]of G)this.g.setRequestHeader(Le,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ui(this),this.u=!0,this.g.send(_),this.u=!1}catch(Le){du(this,Le)}};function du(_,B){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=B,_.m=5,Cs(_),Va(_)}function Cs(_){_.A||(_.A=!0,bt(_,"complete"),bt(_,"error"))}n.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,bt(this,"complete"),bt(this,"abort"),Va(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),hn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ts(this):this.bb())},n.bb=function(){Ts(this)};function Ts(_){if(_.h&&typeof o<"u"&&(!_.v[1]||Wr(_)!=4||_.Z()!=2)){if(_.u&&Wr(_)==4)_t(_.Ea,0,_);else if(bt(_,"readystatechange"),Wr(_)==4){_.h=!1;try{const nt=_.Z();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var G;if(!(G=B)){var oe;if(oe=nt===0){var Ce=String(_.D).match(Ai)[1]||null;!Ce&&s.self&&s.self.location&&(Ce=s.self.location.protocol.slice(0,-1)),oe=!Jo.test(Ce?Ce.toLowerCase():"")}G=oe}if(G)bt(_,"complete"),bt(_,"success");else{_.m=6;try{var Le=2<Wr(_)?_.g.statusText:""}catch{Le=""}_.l=Le+" ["+_.Z()+"]",Cs(_)}}finally{Va(_)}}}}function Va(_,B){if(_.g){Ui(_);const G=_.g,oe=_.v[0]?()=>{}:null;_.g=null,_.v=null,B||bt(_,"ready");try{G.onreadystatechange=oe}catch{}}}function Ui(_){_.I&&(s.clearTimeout(_.I),_.I=null)}n.isActive=function(){return!!this.g};function Wr(_){return _.g?_.g.readyState:0}n.Z=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(_){if(this.g){var B=this.g.responseText;return _&&B.indexOf(_)==0&&(B=B.substring(_.length)),An(B)}};function oc(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function es(_){const B={};_=(_.g&&2<=Wr(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let oe=0;oe<_.length;oe++){if(D(_[oe]))continue;var G=O(_[oe]);const Ce=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const Le=B[Ce]||[];B[Ce]=Le,Le.push(G)}N(B,function(oe){return oe.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(_,B,G){return G&&G.internalChannelParams&&G.internalChannelParams[_]||B}function ts(_){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Si("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Si("baseRetryDelayMs",5e3,_),this.cb=Si("retryDelaySeedMs",1e4,_),this.Wa=Si("forwardChannelMaxRetries",2,_),this.wa=Si("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Ka(_&&_.concurrentRequestLimit),this.Da=new to,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ts.prototype,n.la=8,n.G=1,n.connect=function(_,B,G,oe){vt(0),this.W=_,this.H=B||{},G&&oe!==void 0&&(this.H.OSID=G,this.H.OAID=oe),this.F=this.X,this.I=R(this,null,this.W),ml(this)};function Do(_){if(Is(_),_.G==3){var B=_.U++,G=Ei(_.I);if(Bn(G,"SID",_.K),Bn(G,"RID",B),Bn(G,"TYPE","terminate"),ns(_,G),B=new sr(_,_.j,B),B.L=2,B.v=Qo(Ei(G)),G=!1,s.navigator&&s.navigator.sendBeacon)try{G=s.navigator.sendBeacon(B.v.toString(),"")}catch{}!G&&s.Image&&(new Image().src=B.v,G=!0),G||(B.g=J(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Ss(B)}yl(_)}function gl(_){_.g&&(rs(_),_.g.cancel(),_.g=null)}function Is(_){gl(_),_.u&&(s.clearTimeout(_.u),_.u=null),Po(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&s.clearTimeout(_.s),_.s=null)}function ml(_){if(!fl(_.h)&&!_.s){_.s=!0;var B=_.Ga;q||W(),ie||(q(),ie=!0),ce.add(B,_),_.B=0}}function pu(_,B){return Co(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=B.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Gn(g(_.Ga,_,B),Ds(_,_.B)),_.B++,!0)}n.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Ce=new sr(this,this.j,_);let Le=this.o;if(this.S&&(Le?(Le=A(Le),F(Le,this.S)):Le=this.S),this.m!==null||this.O||(Ce.H=Le,Le=null),this.P)e:{for(var B=0,G=0;G<this.i.length;G++){t:{var oe=this.i[G];if("__data__"in oe.map&&(oe=oe.map.__data__,typeof oe=="string")){oe=oe.length;break t}oe=void 0}if(oe===void 0)break;if(B+=oe,4096<B){B=G;break e}if(B===4096||G===this.i.length-1){B=G+1;break e}}B=1e3}else B=1e3;B=Rs(this,Ce,B),G=Ei(this.I),Bn(G,"RID",_),Bn(G,"CVER",22),this.D&&Bn(G,"X-HTTP-Session-Id",this.D),ns(this,G),Le&&(this.O?B="headers="+encodeURIComponent(String(no(Le)))+"&"+B:this.m&&Gr(G,this.m,Le)),lr(this.h,Ce),this.Ua&&Bn(G,"TYPE","init"),this.P?(Bn(G,"$req",B),Bn(G,"SID","null"),Ce.T=!0,Bi(Ce,G,null)):Bi(Ce,G,B),this.G=2}}else this.G==3&&(_?Ns(this,_):this.i.length==0||fl(this.h)||Ns(this))};function Ns(_,B){var G;B?G=B.l:G=_.U++;const oe=Ei(_.I);Bn(oe,"SID",_.K),Bn(oe,"RID",G),Bn(oe,"AID",_.T),ns(_,oe),_.m&&_.o&&Gr(oe,_.m,_.o),G=new sr(_,_.j,G,_.B+1),_.m===null&&(G.H=_.o),B&&(_.i=B.D.concat(_.i)),B=Rs(_,G,1e3),G.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),lr(_.h,G),Bi(G,oe,B)}function ns(_,B){_.H&&$(_.H,function(G,oe){Bn(B,oe,G)}),_.l&&uu({},function(G,oe){Bn(B,oe,G)})}function Rs(_,B,G){G=Math.min(_.i.length,G);var oe=_.l?g(_.l.Na,_.l,_):null;e:{var Ce=_.i;let Le=-1;for(;;){const nt=["count="+G];Le==-1?0<G?(Le=Ce[0].g,nt.push("ofs="+Le)):Le=0:nt.push("ofs="+Le);let jt=!0;for(let dn=0;dn<G;dn++){let Kt=Ce[dn].g;const Fn=Ce[dn].map;if(Kt-=Le,0>Kt)Le=Math.max(0,Ce[dn].g-100),jt=!1;else try{ma(Fn,nt,"req"+Kt+"_")}catch{oe&&oe(Fn)}}if(jt){oe=nt.join("&");break e}}}return _=_.i.splice(0,G),B.D=_,oe}function vl(_){if(!_.g&&!_.u){_.Y=1;var B=_.Fa;q||W(),ie||(q(),ie=!0),ce.add(B,_),_.v=0}}function Os(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Gn(g(_.Fa,_),Ds(_,_.v)),_.v++,!0)}n.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Gn(g(this.ab,this),_)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),gl(this),sc(this))};function rs(_){_.A!=null&&(s.clearTimeout(_.A),_.A=null)}function sc(_){_.g=new sr(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var B=Ei(_.qa);Bn(B,"RID","rpc"),Bn(B,"SID",_.K),Bn(B,"AID",_.T),Bn(B,"CI",_.F?"0":"1"),!_.F&&_.ja&&Bn(B,"TO",_.ja),Bn(B,"TYPE","xmlhttp"),ns(_,B),_.m&&_.o&&Gr(B,_.m,_.o),_.L&&(_.g.I=_.L);var G=_.g;_=_.ia,G.L=1,G.v=Qo(Ei(B)),G.m=null,G.P=!0,da(G,_)}n.Za=function(){this.C!=null&&(this.C=null,gl(this),Os(this),vt(19))};function Po(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function is(_,B){var G=null;if(_.g==B){Po(_),rs(_),_.g=null;var oe=2}else if(lu(_.h,B))G=B.D,gi(_.h,B),oe=1;else return;if(_.G!=0){if(B.o)if(oe==1){G=B.m?B.m.length:0,B=Date.now()-B.F;var Ce=_.B;oe=bi(),bt(oe,new Hn(oe,G)),ml(_)}else vl(_);else if(Ce=B.s,Ce==3||Ce==0&&0<B.X||!(oe==1&&pu(_,B)||oe==2&&Os(_)))switch(G&&0<G.length&&(B=_.h,B.i=B.i.concat(G)),Ce){case 1:Vi(_,5);break;case 4:Vi(_,10);break;case 3:Vi(_,6);break;default:Vi(_,2)}}}function Ds(_,B){let G=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(G*=2),G*B}function Vi(_,B){if(_.j.info("Error code "+B),B==2){var G=g(_.fb,_),oe=_.Xa;const Ce=!oe;oe=new En(oe||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Yo(oe,"https"),Qo(oe),Ce?Fi(oe.toString(),G):ga(oe.toString(),G)}else vt(2);_.G=0,_.l&&_.l.sa(B),yl(_),Is(_)}n.fb=function(_){_?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function yl(_){if(_.G=0,_.ka=[],_.l){const B=hl(_.h);(B.length!=0||_.i.length!=0)&&(S(_.ka,B),S(_.ka,_.i),_.h.i.length=0,b(_.i),_.i.length=0),_.l.ra()}}function R(_,B,G){var oe=G instanceof En?Ei(G):new En(G);if(oe.g!="")B&&(oe.g=B+"."+oe.g),Ko(oe,oe.s);else{var Ce=s.location;oe=Ce.protocol,B=B?B+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;var Le=new En(null);oe&&Yo(Le,oe),B&&(Le.g=B),Ce&&Ko(Le,Ce),G&&(Le.l=G),oe=Le}return G=_.D,B=_.ya,G&&B&&Bn(oe,G,B),Bn(oe,"VER",_.la),ns(_,oe),oe}function J(_,B,G){if(B&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=_.Ca&&!_.pa?new hn(new Zo({eb:G})):new hn(_.pa),B.Ha(_.J),B}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pe(){}n=pe.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _e(){}_e.prototype.g=function(_,B){return new Ie(_,B)};function Ie(_,B){xt.call(this),this.g=new ts(B),this.l=_,this.h=B&&B.messageUrlParams||null,_=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(_?_["X-WebChannel-Content-Type"]=B.messageContentType:_={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(_?_["X-WebChannel-Client-Profile"]=B.va:_={"X-WebChannel-Client-Profile":B.va}),this.g.S=_,(_=B&&B.Sb)&&!D(_)&&(this.g.m=_),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!D(B)&&(this.g.D=B,_=this.h,_!==null&&B in _&&(_=this.h,B in _&&delete _[B])),this.j=new ht(this)}x(Ie,xt),Ie.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ie.prototype.close=function(){Do(this.g)},Ie.prototype.o=function(_){var B=this.g;if(typeof _=="string"){var G={};G.__data__=_,_=G}else this.u&&(G={},G.__data__=Yt(_),_=G);B.i.push(new nc(B.Ya++,_)),B.G==3&&ml(B)},Ie.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,Ie.aa.N.call(this)};function Ve(_){or.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var B=_.__sm__;if(B){e:{for(const G in B){_=G;break e}_=void 0}(this.i=_)&&(_=this.i,B=B!==null&&_ in B?B[_]:void 0),this.data=B}else this.data=_}x(Ve,or);function tt(){vn.call(this),this.status=1}x(tt,vn);function ht(_){this.g=_}x(ht,pe),ht.prototype.ua=function(){bt(this.g,"a")},ht.prototype.ta=function(_){bt(this.g,new Ve(_))},ht.prototype.sa=function(_){bt(this.g,new tt)},ht.prototype.ra=function(){bt(this.g,"b")},_e.prototype.createWebChannel=_e.prototype.g,Ie.prototype.send=Ie.prototype.o,Ie.prototype.open=Ie.prototype.m,Ie.prototype.close=Ie.prototype.close,nE=function(){return new _e},tE=function(){return bi()},eE=Tt,Hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,Hp=pi,Jr.COMPLETE="complete",JA=Jr,Cn.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",xt.prototype.listen=xt.prototype.K,I1=Cn,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,ZA=hn}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const tw="@firebase/firestore",nw="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Da.UNAUTHENTICATED=new Da(null),Da.GOOGLE_CREDENTIALS=new Da("google-credentials-uid"),Da.FIRST_PARTY=new Da("first-party-uid"),Da.MOCK_USER=new Da("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new $g("@firebase/firestore");function $h(){return eh.logLevel}function At(n,...e){if(eh.logLevel<=wn.DEBUG){const t=e.map(s5);eh.debug(`Firestore (${Cd}): ${n}`,...t)}}function Xu(n,...e){if(eh.logLevel<=wn.ERROR){const t=e.map(s5);eh.error(`Firestore (${Cd}): ${n}`,...t)}}function dd(n,...e){if(eh.logLevel<=wn.WARN){const t=e.map(s5);eh.warn(`Firestore (${Cd}): ${n}`,...t)}}function s5(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,rE(n,r,t)}function rE(n,e,t){let r=`FIRESTORE (${Cd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xu(r),new Error(r)}function Zn(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||rE(e,i,r)}function en(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends bs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Da.UNAUTHENTICATED))}shutdown(){}}class c9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f9{constructor(e){this.t=e,this.currentUser=Da.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Zn(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let a=new Hu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},s=u=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>s(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?s(u):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hu)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zn(typeof r.accessToken=="string",31837,{l:r}),new iE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zn(e===null||typeof e=="string",2055,{h:e}),new Da(e)}}class h9{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Da.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d9{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new h9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Da.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ho(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Zn(this.o===void 0,3512);const r=a=>{a.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,At("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=g9(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function fn(n,e){return n<e?-1:n>e?1:0}function Gv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return fn(r,i);{const a=aE(),o=m9(a.encode(iw(n,t)),a.encode(iw(e,t)));return o!==0?o:fn(r,i)}}t+=r>65535?2:1}return fn(n.length,e.length)}function iw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function m9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return fn(n[t],e[t]);return fn(n.length,e.length)}function pd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=-62135596800,ow=1e6;class ki{static now(){return ki.fromMillis(Date.now())}static fromDate(e){return ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ow);return new ki(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Et(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Et(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aw)throw new Et(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ow}_compareTo(e){return this.seconds===e.seconds?fn(this.nanoseconds,e.nanoseconds):fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new ki(0,0))}static max(){return new Zt(new ki(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__name__";class ql{constructor(e,t,r){t===void 0?t=0:t>e.length&&$t(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&$t(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=ql.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return fn(e.length,t.length)}static compareSegments(e,t){const r=ql.isNumericId(e),i=ql.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ql.extractNumericId(e).compare(ql.extractNumericId(t)):Gv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qc.fromString(e.substring(4,e.length-2))}}class Sr extends ql{construct(e,t,r){return new Sr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Et(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Sr(t)}static emptyPath(){return new Sr([])}}const v9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ua extends ql{construct(e,t,r){return new ua(e,t,r)}static isValidIdentifier(e){return v9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ua.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sw}static keyField(){return new ua([sw])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Et(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Et(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Et(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Et(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ua(t)}static emptyPath(){return new ua([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.path=e}static fromPath(e){return new kt(Sr.fromString(e))}static fromName(e){return new kt(Sr.fromString(e).popFirst(5))}static empty(){return new kt(Sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Sr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new Sr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=-1;function y9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Zt.fromTimestamp(r===1e9?new ki(t+1,0):new ki(t,r));return new rf(i,kt.empty(),e)}function _9(n){return new rf(n.readTime,n.key,Y1)}class rf{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rf(Zt.min(),kt.empty(),Y1)}static max(){return new rf(Zt.max(),kt.empty(),Y1)}}function x9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=kt.comparator(n.documentKey,e.documentKey),t!==0?t:fn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==w9)throw n;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,r)=>{t(e)})}static reject(e){return new Je((t,r)=>{r(e)})}static waitFor(e){return new Je((t,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&t()},u=>r(u))}),o=!0,a===i&&t()})}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next(i=>i?Je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Je((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let u=0;u<a;u++){const f=u;t(e[f]).next(h=>{o[f]=h,++s,s===a&&r(o)},h=>i(h))}})}static doWhile(e,t){return new Je((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function A9(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Id(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Zg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=-1;function Jg(n){return n==null}function pg(n){return n===0&&1/n==-1/0}function E9(n){return typeof n=="number"&&Number.isInteger(n)&&!pg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="";function S9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lw(e)),e=C9(n.get(t),e);return lw(e)}function C9(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case sE:t+="";break;default:t+=a}}return t}function lw(n){return n+sE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,t){this.comparator=e,this.root=t||la.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,la.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,la.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}}class Ep{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class la{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??la.RED,this.left=i??la.EMPTY,this.right=a??la.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new la(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return la.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return la.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,la.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,la.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $t(27949);return e+(this.isRed()?0:1)}}la.EMPTY=null,la.RED=!0,la.BLACK=!1;la.EMPTY=new class{constructor(){this.size=0}get key(){throw $t(57766)}get value(){throw $t(16141)}get color(){throw $t(16727)}get left(){throw $t(29726)}get right(){throw $t(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new la(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mi(this.comparator);return t.data=e,t}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.fields=e,e.sort(ua.comparator)}static empty(){return new Go([])}unionWith(e){let t=new Mi(ua.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uE("Invalid base64 string: "+a):a}}(e);return new fa(t)}static fromUint8Array(e){const t=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new fa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fa.EMPTY_BYTE_STRING=new fa("");const T9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function af(n){if(Zn(!!n,39018),typeof n=="string"){let e=0;const t=T9.exec(n);if(Zn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:li(n.seconds),nanos:li(n.nanos)}}function li(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function of(n){return typeof n=="string"?fa.fromBase64String(n):fa.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="server_timestamp",fE="__type__",hE="__previous_value__",dE="__local_write_time__";function u5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[fE])===null||t===void 0?void 0:t.stringValue)===cE}function e2(n){const e=n.mapValue.fields[hE];return u5(e)?e2(e):e}function K1(n){const e=af(n.mapValue.fields[dE].timestampValue);return new ki(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,t,r,i,a,o,s,u,f,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=h}}const gg="(default)";class Q1{constructor(e,t){this.projectId=e,this.database=t||gg}static empty(){return new Q1("","")}get isDefaultDatabase(){return this.database===gg}isEqual(e){return e instanceof Q1&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="__type__",N9="__max__",Sp={mapValue:{}},gE="__vector__",mg="value";function sf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u5(n)?4:O9(n)?9007199254740991:R9(n)?10:11:$t(28295,{value:n})}function Jl(n,e){if(n===e)return!0;const t=sf(n);if(t!==sf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return K1(n).isEqual(K1(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=af(i.timestampValue),s=af(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return of(i.bytesValue).isEqual(of(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return li(i.geoPointValue.latitude)===li(a.geoPointValue.latitude)&&li(i.geoPointValue.longitude)===li(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return li(i.integerValue)===li(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=li(i.doubleValue),s=li(a.doubleValue);return o===s?pg(o)===pg(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return pd(n.arrayValue.values||[],e.arrayValue.values||[],Jl);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(uw(o)!==uw(s))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(s[u]===void 0||!Jl(o[u],s[u])))return!1;return!0}(n,e);default:return $t(52216,{left:n})}}function Z1(n,e){return(n.values||[]).find(t=>Jl(t,e))!==void 0}function gd(n,e){if(n===e)return 0;const t=sf(n),r=sf(e);if(t!==r)return fn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fn(n.booleanValue,e.booleanValue);case 2:return function(a,o){const s=li(a.integerValue||a.doubleValue),u=li(o.integerValue||o.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(n,e);case 3:return fw(n.timestampValue,e.timestampValue);case 4:return fw(K1(n),K1(e));case 5:return Gv(n.stringValue,e.stringValue);case 6:return function(a,o){const s=of(a),u=of(o);return s.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),u=o.split("/");for(let f=0;f<s.length&&f<u.length;f++){const h=fn(s[f],u[f]);if(h!==0)return h}return fn(s.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,o){const s=fn(li(a.latitude),li(o.latitude));return s!==0?s:fn(li(a.longitude),li(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return hw(n.arrayValue,e.arrayValue);case 10:return function(a,o){var s,u,f,h;const p=a.fields||{},g=o.fields||{},m=(s=p[mg])===null||s===void 0?void 0:s.arrayValue,x=(u=g[mg])===null||u===void 0?void 0:u.arrayValue,b=fn(((f=m==null?void 0:m.values)===null||f===void 0?void 0:f.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:hw(m,x)}(n.mapValue,e.mapValue);case 11:return function(a,o){if(a===Sp.mapValue&&o===Sp.mapValue)return 0;if(a===Sp.mapValue)return 1;if(o===Sp.mapValue)return-1;const s=a.fields||{},u=Object.keys(s),f=o.fields||{},h=Object.keys(f);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=Gv(u[p],h[p]);if(g!==0)return g;const m=gd(s[u[p]],f[h[p]]);if(m!==0)return m}return fn(u.length,h.length)}(n.mapValue,e.mapValue);default:throw $t(23264,{Pe:t})}}function fw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return fn(n,e);const t=af(n),r=af(e),i=fn(t.seconds,r.seconds);return i!==0?i:fn(t.nanos,r.nanos)}function hw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=gd(t[i],r[i]);if(a)return a}return fn(t.length,r.length)}function md(n){return Wv(n)}function Wv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=af(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return of(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return kt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Wv(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Wv(t.fields[o])}`;return i+"}"}(n.mapValue):$t(61005,{value:n})}function Gp(n){switch(sf(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=e2(n);return e?16+Gp(e):16;case 5:return 2*n.stringValue.length;case 6:return of(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Gp(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return pf(r.fields,(a,o)=>{i+=a.length+Gp(o)}),i}(n.mapValue);default:throw $t(13486,{value:n})}}function dw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $v(n){return!!n&&"integerValue"in n}function c5(n){return!!n&&"arrayValue"in n}function pw(n){return!!n&&"nullValue"in n}function gw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wp(n){return!!n&&"mapValue"in n}function R9(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pE])===null||t===void 0?void 0:t.stringValue)===gE}function F1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=F1(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=F1(n.arrayValue.values[t]);return e}return Object.assign({},n)}function O9(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===N9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.value=e}static empty(){return new mo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=F1(t)}setAll(e){let t=ua.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!t.isImmediateParentOf(s)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=s.popLast()}o?r[s.lastSegment()]=F1(o):i.push(s.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Wp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){pf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new mo(F1(this.value))}}function mE(n){const e=[];return pf(n.fields,(t,r)=>{const i=new ua([t]);if(Wp(r)){const a=mE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Go(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t,r,i,a,o,s){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Pa(e,0,Zt.min(),Zt.min(),Zt.min(),mo.empty(),0)}static newFoundDocument(e,t,r,i){return new Pa(e,1,t,Zt.min(),r,i,0)}static newNoDocument(e,t){return new Pa(e,2,t,Zt.min(),Zt.min(),mo.empty(),0)}static newUnknownDocument(e,t){return new Pa(e,3,t,Zt.min(),Zt.min(),mo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t){this.position=e,this.inclusive=t}}function mw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],o=n.position[i];if(a.field.isKeyField()?r=kt.comparator(kt.fromName(o.referenceValue),t.key):r=gd(o,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function vw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t="asc"){this.field=e,this.dir=t}}function D9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{}class wi extends vE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new L9(e,t,r):t==="array-contains"?new B9(e,r):t==="in"?new F9(e,r):t==="not-in"?new j9(e,r):t==="array-contains-any"?new U9(e,r):new wi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new k9(e,r):new M9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gd(t,this.value)):t!==null&&sf(this.value)===sf(t)&&this.matchesComparison(gd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ll extends vE{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ll(e,t)}matches(e){return yE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yE(n){return n.op==="and"}function _E(n){return P9(n)&&yE(n)}function P9(n){for(const e of n.filters)if(e instanceof ll)return!1;return!0}function Xv(n){if(n instanceof wi)return n.field.canonicalString()+n.op.toString()+md(n.value);if(_E(n))return n.filters.map(e=>Xv(e)).join(",");{const e=n.filters.map(t=>Xv(t)).join(",");return`${n.op}(${e})`}}function xE(n,e){return n instanceof wi?function(r,i){return i instanceof wi&&r.op===i.op&&r.field.isEqual(i.field)&&Jl(r.value,i.value)}(n,e):n instanceof ll?function(r,i){return i instanceof ll&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&xE(o,i.filters[s]),!0):!1}(n,e):void $t(19439)}function wE(n){return n instanceof wi?function(t){return`${t.field.canonicalString()} ${t.op} ${md(t.value)}`}(n):n instanceof ll?function(t){return t.op.toString()+" {"+t.getFilters().map(wE).join(" ,")+"}"}(n):"Filter"}class L9 extends wi{constructor(e,t,r){super(e,t,r),this.key=kt.fromName(r.referenceValue)}matches(e){const t=kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class k9 extends wi{constructor(e,t){super(e,"in",t),this.keys=bE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class M9 extends wi{constructor(e,t){super(e,"not-in",t),this.keys=bE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>kt.fromName(r.referenceValue))}class B9 extends wi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return c5(t)&&Z1(t.arrayValue,this.value)}}class F9 extends wi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Z1(this.value.arrayValue,t)}}class j9 extends wi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Z1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Z1(this.value.arrayValue,t)}}class U9 extends wi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!c5(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Z1(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,t=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function yw(n,e=null,t=[],r=[],i=null,a=null,o=null){return new V9(n,e,t,r,i,a,o)}function f5(n){const e=en(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Xv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Jg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>md(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>md(r)).join(",")),e.Ie=t}return e.Ie}function h5(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!D9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vw(n.startAt,e.startAt)&&vw(n.endAt,e.endAt)}function Yv(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t=null,r=[],i=[],a=null,o="F",s=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function z9(n,e,t,r,i,a,o,s){return new p0(n,e,t,r,i,a,o,s)}function t2(n){return new p0(n)}function _w(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AE(n){return n.collectionGroup!==null}function j1(n){const e=en(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Mi(ua.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(s=s.add(f.field))})}),s})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new yg(a,r))}),t.has(ua.keyField().canonicalString())||e.Ee.push(new yg(ua.keyField(),r))}return e.Ee}function Yl(n){const e=en(n);return e.de||(e.de=q9(e,j1(n))),e.de}function q9(n,e){if(n.limitType==="F")return yw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new yg(i.field,a)});const t=n.endAt?new vg(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new vg(n.startAt.position,n.startAt.inclusive):null;return yw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Kv(n,e){const t=n.filters.concat([e]);return new p0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qv(n,e,t){return new p0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function n2(n,e){return h5(Yl(n),Yl(e))&&n.limitType===e.limitType}function EE(n){return`${f5(Yl(n))}|lt:${n.limitType}`}function Xh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>wE(i)).join(", ")}]`),Jg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>md(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>md(i)).join(",")),`Target(${r})`}(Yl(n))}; limitType=${n.limitType})`}function r2(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):kt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of j1(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,s,u){const f=mw(o,s,u);return o.inclusive?f<=0:f<0}(r.startAt,j1(r),i)||r.endAt&&!function(o,s,u){const f=mw(o,s,u);return o.inclusive?f>=0:f>0}(r.endAt,j1(r),i))}(n,e)}function H9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SE(n){return(e,t)=>{let r=!1;for(const i of j1(n)){const a=G9(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function G9(n,e,t){const r=n.field.isKeyField()?kt.comparator(e.key,t.key):function(a,o,s){const u=o.data.field(a),f=s.data.field(a);return u!==null&&f!==null?gd(u,f):$t(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $t(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=new zr(kt.comparator);function Yu(){return W9}const CE=new zr(kt.comparator);function N1(...n){let e=CE;for(const t of n)e=e.insert(t.key,t);return e}function TE(n){let e=CE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hf(){return U1()}function IE(){return U1()}function U1(){return new uh(n=>n.toString(),(n,e)=>n.isEqual(e))}const $9=new zr(kt.comparator),X9=new Mi(kt.comparator);function bn(...n){let e=X9;for(const t of n)e=e.add(t);return e}const Y9=new Mi(fn);function K9(){return Y9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pg(e)?"-0":e}}function NE(n){return{integerValue:""+n}}function Q9(n,e){return E9(e)?NE(e):d5(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this._=void 0}}function Z9(n,e,t){return n instanceof J1?function(i,a){const o={fields:{[fE]:{stringValue:cE},[dE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&u5(a)&&(a=e2(a)),a&&(o.fields[hE]=a),{mapValue:o}}(t,e):n instanceof e0?OE(n,e):n instanceof t0?DE(n,e):function(i,a){const o=RE(i,a),s=xw(o)+xw(i.Re);return $v(o)&&$v(i.Re)?NE(s):d5(i.serializer,s)}(n,e)}function J9(n,e,t){return n instanceof e0?OE(n,e):n instanceof t0?DE(n,e):t}function RE(n,e){return n instanceof _g?function(r){return $v(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class J1 extends i2{}class e0 extends i2{constructor(e){super(),this.elements=e}}function OE(n,e){const t=PE(e);for(const r of n.elements)t.some(i=>Jl(i,r))||t.push(r);return{arrayValue:{values:t}}}class t0 extends i2{constructor(e){super(),this.elements=e}}function DE(n,e){let t=PE(e);for(const r of n.elements)t=t.filter(i=>!Jl(i,r));return{arrayValue:{values:t}}}class _g extends i2{constructor(e,t){super(),this.serializer=e,this.Re=t}}function xw(n){return li(n.integerValue||n.doubleValue)}function PE(n){return c5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t){this.field=e,this.transform=t}}function tO(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof e0&&i instanceof e0||r instanceof t0&&i instanceof t0?pd(r.elements,i.elements,Jl):r instanceof _g&&i instanceof _g?Jl(r.Re,i.Re):r instanceof J1&&i instanceof J1}(n.transform,e.transform)}class nO{constructor(e,t){this.version=e,this.transformResults=t}}class _s{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class a2{}function LE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new p5(n.key,_s.none()):new g0(n.key,n.data,_s.none());{const t=n.data,r=mo.empty();let i=new Mi(ua.comparator);for(let a of e.fields)if(!i.has(a)){let o=t.field(a);o===null&&a.length>1&&(a=a.popLast(),o=t.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new gf(n.key,r,new Go(i.toArray()),_s.none())}}function rO(n,e,t){n instanceof g0?function(i,a,o){const s=i.value.clone(),u=bw(i.fieldTransforms,a,o.transformResults);s.setAll(u),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof gf?function(i,a,o){if(!$p(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=bw(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(kE(i)),u.setAll(s),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function V1(n,e,t,r){return n instanceof g0?function(a,o,s,u){if(!$p(a.precondition,o))return s;const f=a.value.clone(),h=Aw(a.fieldTransforms,u,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof gf?function(a,o,s,u){if(!$p(a.precondition,o))return s;const f=Aw(a.fieldTransforms,u,o),h=o.data;return h.setAll(kE(a)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(a,o,s){return $p(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(n,e,t)}function iO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=RE(r.transform,i||null);a!=null&&(t===null&&(t=mo.empty()),t.set(r.field,a))}return t||null}function ww(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pd(r,i,(a,o)=>tO(a,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class g0 extends a2{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gf extends a2{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bw(n,e,t){const r=new Map;Zn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,J9(o,s,t[i]))}return r}function Aw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,o=t.data.field(i.field);r.set(i.field,Z9(a,o,e))}return r}class p5 extends a2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aO extends a2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&rO(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=V1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=V1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=IE();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=t.has(i.key)?null:s;const u=LE(o,s);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Zt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,(t,r)=>ww(t,r))&&pd(this.baseMutations,e.baseMutations,(t,r)=>ww(t,r))}}class g5{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Zn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return $9}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new g5(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi,Rn;function uO(n){switch(n){case et.OK:return $t(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return $t(15467,{code:n})}}function ME(n){if(n===void 0)return Xu("GRPC error has no .code"),et.UNKNOWN;switch(n){case xi.OK:return et.OK;case xi.CANCELLED:return et.CANCELLED;case xi.UNKNOWN:return et.UNKNOWN;case xi.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case xi.INTERNAL:return et.INTERNAL;case xi.UNAVAILABLE:return et.UNAVAILABLE;case xi.UNAUTHENTICATED:return et.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case xi.NOT_FOUND:return et.NOT_FOUND;case xi.ALREADY_EXISTS:return et.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return et.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case xi.ABORTED:return et.ABORTED;case xi.OUT_OF_RANGE:return et.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return et.UNIMPLEMENTED;case xi.DATA_LOSS:return et.DATA_LOSS;default:return $t(39323,{code:n})}}(Rn=xi||(xi={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new Qc([4294967295,4294967295],0);function Ew(n){const e=aE().encode(n),t=new QA;return t.update(e),new Uint8Array(t.digest())}function Sw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qc([t,r],0),new Qc([i,a],0)]}class m5{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new R1(`Invalid padding: ${t}`);if(r<0)throw new R1(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new R1(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new R1(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qc.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Qc.fromNumber(r)));return i.compare(cO)===1&&(i=new Qc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Ew(e),[r,i]=Sw(t);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);if(!this.be(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new m5(a,i,t);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const t=Ew(e),[r,i]=Sw(t);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class R1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,m0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new o2(Zt.min(),i,new zr(fn),Yu(),bn())}}class m0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new m0(r,t,bn(),bn(),bn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class BE{constructor(e,t){this.targetId=e,this.Ce=t}}class FE{constructor(e,t,r=fa.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Cw{constructor(){this.Fe=0,this.Me=Tw(),this.xe=fa.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=bn(),t=bn(),r=bn();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$t(38017,{changeType:a})}}),new m0(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Tw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Zn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fO{constructor(e){this.ze=e,this.je=new Map,this.He=Yu(),this.Je=Cp(),this.Ye=Cp(),this.Ze=new zr(fn)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:$t(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Yv(a))if(r===0){const o=new kt(a.path);this.tt(t,o,Pa.newNoDocument(o,Zt.min()))}else Zn(r===1,20013,{expectedCount:r});else{const o=this.ut(t);if(o!==r){const s=this.ct(e),u=s?this.lt(s,e,o):1;if(u!==0){this.st(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let o,s;try{o=of(r).toUint8Array()}catch(u){if(u instanceof uE)return dd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{s=new m5(o,i,a)}catch(u){return dd(u instanceof R1?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return s.pe===0?null:s}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&Yv(s.target)){const u=new kt(s.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,Pa.newNoDocument(u,e))}a.Le&&(t.set(o,a.qe()),a.Qe())}});let r=bn();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(u=>{const f=this._t(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new o2(e,t,this.Ze,this.He,r);return this.He=Yu(),this.Je=Cp(),this.Ye=Cp(),this.Ze=new zr(fn),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Cw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Mi(fn),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Mi(fn),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||At("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Cw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Cp(){return new zr(kt.comparator)}function Tw(){return new zr(kt.comparator)}const hO={asc:"ASCENDING",desc:"DESCENDING"},dO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pO={and:"AND",or:"OR"};class gO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zv(n,e){return n.useProto3Json||Jg(e)?e:{value:e}}function xg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mO(n,e){return xg(n,e.toTimestamp())}function Kl(n){return Zn(!!n,49232),Zt.fromTimestamp(function(t){const r=af(t);return new ki(r.seconds,r.nanos)}(n))}function v5(n,e){return Jv(n,e).canonicalString()}function Jv(n,e){const t=function(i){return new Sr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UE(n){const e=Sr.fromString(n);return Zn(GE(e),10190,{key:e.toString()}),e}function ey(n,e){return v5(n.databaseId,e.path)}function ev(n,e){const t=UE(e);if(t.get(1)!==n.databaseId.projectId)throw new Et(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Et(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new kt(zE(t))}function VE(n,e){return v5(n.databaseId,e)}function vO(n){const e=UE(n);return e.length===4?Sr.emptyPath():zE(e)}function ty(n){return new Sr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zE(n){return Zn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Iw(n,e,t){return{name:ey(n,e),fields:t.value.mapValue.fields}}function yO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:$t(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(Zn(h===void 0||typeof h=="string",58123),fa.fromBase64String(h||"")):(Zn(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),fa.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(f){const h=f.code===void 0?et.UNKNOWN:ME(f.code);return new Et(h,f.message||"")}(o);t=new FE(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ev(n,r.document.name),a=Kl(r.document.updateTime),o=r.document.createTime?Kl(r.document.createTime):Zt.min(),s=new mo({mapValue:{fields:r.document.fields}}),u=Pa.newFoundDocument(i,a,o,s),f=r.targetIds||[],h=r.removedTargetIds||[];t=new Xp(f,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ev(n,r.document),a=r.readTime?Kl(r.readTime):Zt.min(),o=Pa.newNoDocument(i,a),s=r.removedTargetIds||[];t=new Xp([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ev(n,r.document),a=r.removedTargetIds||[];t=new Xp([],a,i,null)}else{if(!("filter"in e))return $t(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new lO(i,a),s=r.targetId;t=new BE(s,o)}}return t}function _O(n,e){let t;if(e instanceof g0)t={update:Iw(n,e.key,e.value)};else if(e instanceof p5)t={delete:ey(n,e.key)};else if(e instanceof gf)t={update:Iw(n,e.key,e.data),updateMask:IO(e.fieldMask)};else{if(!(e instanceof aO))return $t(16599,{ft:e.type});t={verify:ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof J1)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof e0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof t0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof _g)return{fieldPath:o.field.canonicalString(),increment:s.Re};throw $t(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:mO(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:$t(27497)}(n,e.precondition)),t}function xO(n,e){return n&&n.length>0?(Zn(e!==void 0,14353),n.map(t=>function(i,a){let o=i.updateTime?Kl(i.updateTime):Kl(a);return o.isEqual(Zt.min())&&(o=Kl(a)),new nO(o,i.transformResults||[])}(t,e))):[]}function wO(n,e){return{documents:[VE(n,e.path)]}}function bO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=VE(n,i);const a=function(f){if(f.length!==0)return HE(ll.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(h=>function(g){return{field:Yh(g.field),direction:SO(g.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=Zv(n,e.limit);return s!==null&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function AO(n){let e=vO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Zn(r===1,65062);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];t.where&&(a=function(p){const g=qE(p);return g instanceof ll&&_E(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(g=>function(x){return new yg(Kh(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(t.orderBy));let s=null;t.limit&&(s=function(p){let g;return g=typeof p=="object"?p.value:p,Jg(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){const g=!!p.before,m=p.values||[];return new vg(m,g)}(t.startAt));let f=null;return t.endAt&&(f=function(p){const g=!p.before,m=p.values||[];return new vg(m,g)}(t.endAt)),z9(e,i,o,a,s,"F",u,f)}function EO(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Kh(t.unaryFilter.field);return wi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kh(t.unaryFilter.field);return wi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Kh(t.unaryFilter.field);return wi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Kh(t.unaryFilter.field);return wi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $t(61313);default:return $t(60726)}}(n):n.fieldFilter!==void 0?function(t){return wi.create(Kh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $t(58110);default:return $t(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ll.create(t.compositeFilter.filters.map(r=>qE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $t(1026)}}(t.compositeFilter.op))}(n):$t(30097,{filter:n})}function SO(n){return hO[n]}function CO(n){return dO[n]}function TO(n){return pO[n]}function Yh(n){return{fieldPath:n.canonicalString()}}function Kh(n){return ua.fromServerFormat(n.fieldPath)}function HE(n){return n instanceof wi?function(t){if(t.op==="=="){if(gw(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NAN"}};if(pw(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gw(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NOT_NAN"}};if(pw(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yh(t.field),op:CO(t.op),value:t.value}}}(n):n instanceof ll?function(t){const r=t.getFilters().map(i=>HE(i));return r.length===1?r[0]:{compositeFilter:{op:TO(t.op),filters:r}}}(n):$t(54877,{filter:n})}function IO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t,r,i,a=Zt.min(),o=Zt.min(),s=fa.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}withSequenceNumber(e){return new $c(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.wt=e}}function RO(n){const e=AO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.Cn=new DO}addToCollectionParentIndex(e,t){return this.Cn.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(rf.min())}getMinOffsetFromCollectionGroup(e,t){return Je.resolve(rf.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class DO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mi(Sr.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mi(Sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WE=41943040;class po{static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(WE,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new vd(0)}static lr(){return new vd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="LruGarbageCollector",PO=1048576;function Ow([n,e],[t,r]){const i=fn(n,t);return i===0?fn(e,r):i}class LO{constructor(e){this.Er=e,this.buffer=new Mi(Ow),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ow(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){At(Rw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Id(t)?At(Rw,"Ignoring IndexedDB error during garbage collection: ",t):await Td(t)}await this.mr(3e5)})}}class MO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Je.resolve(Zg.le);const r=new LO(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(Nw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,o,s,u,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,s=Date.now(),this.removeTargets(e,r,t))).next(p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(f=Date.now(),$h()<=wn.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(u-s)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-h}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p})))}}function BO(n,e){return new MO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.changes=new uh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&V1(r.mutation,i,Go.empty(),ki.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,bn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=bn()){const i=Hf();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let o=N1();return a.forEach((s,u)=>{o=o.insert(s,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Hf();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,bn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{t.set(o,s)})})}computeViews(e,t,r,i){let a=Yu();const o=U1(),s=function(){return U1()}();return t.forEach((u,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof gf)?a=a.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),V1(h.mutation,f,h.mutation.getFieldMask(),ki.now())):o.set(f.key,Go.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((f,h)=>o.set(f,h)),t.forEach((f,h)=>{var p;return s.set(f,new jO(h,(p=o.get(f))!==null&&p!==void 0?p:null))}),s))}recalculateAndSaveOverlays(e,t){const r=U1();let i=new zr((o,s)=>o-s),a=bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const s of o)s.keys().forEach(u=>{const f=t.get(u);if(f===null)return;let h=r.get(u)||Go.empty();h=s.applyToLocalView(f,h),r.set(u,h);const p=(i.get(s.batchId)||bn()).add(u);i=i.insert(s.batchId,p)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const u=s.getNext(),f=u.key,h=u.value,p=IE();h.forEach(g=>{if(!a.has(g)){const m=LE(t.get(g),r.get(g));m!==null&&p.set(g,m),a=a.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Je.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return kt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Je.resolve(Hf());let s=Y1,u=a;return o.next(f=>Je.forEach(f,(h,p)=>(s<p.largestBatchId&&(s=p.largestBatchId),a.get(h)?Je.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,u,f,bn())).next(h=>({batchId:s,changes:TE(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kt(t)).next(r=>{let i=N1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let o=N1();return this.indexManager.getCollectionParents(e,a).next(s=>Je.forEach(s,u=>{const f=function(p,g){return new p0(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(o=>{a.forEach((u,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,Pa.newInvalidDocument(h)))});let s=N1();return o.forEach((u,f)=>{const h=a.get(u);h!==void 0&&V1(h.mutation,f,Go.empty(),ki.now()),r2(t,f)&&(s=s.insert(u,f))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Je.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Kl(i.createTime)}}(t)),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:RO(i.bundledQuery),readTime:Kl(i.readTime)}}(t)),Je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.overlays=new zr(kt.comparator),this.Qr=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hf();return Je.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),Je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const i=Hf(),a=t.length+1,o=new kt(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const u=s.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new zr((f,h)=>f-h);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Hf(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const s=Hf(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,h)=>s.set(f,h)),!(s.size()>=i)););return Je.resolve(s)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sO(t,r));let a=this.Qr.get(t);a===void 0&&(a=bn(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.sessionToken=fa.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.$r=new Mi(Xi.Ur),this.Kr=new Mi(Xi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Xi(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Xi(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new kt(new Sr([])),r=new Xi(t,e),i=new Xi(t,e+1),a=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),a.push(o.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new kt(new Sr([])),r=new Xi(t,e),i=new Xi(t,e+1);let a=bn();return this.Kr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const t=new Xi(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Xi{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return kt.comparator(e.key,t.key)||fn(e.Zr,t.Zr)}static Wr(e,t){return fn(e.Zr,t.Zr)||kt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Mi(Xi.Ur)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oO(a,t,r,i);this.mutationQueue.push(o);for(const s of i)this.Xr=this.Xr.add(new Xi(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Je.resolve(o)}lookupMutationBatch(e,t){return Je.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return Je.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?l5:this.nr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xi(t,0),i=new Xi(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],o=>{const s=this.ei(o.Zr);a.push(s)}),Je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mi(fn);return t.forEach(i=>{const a=new Xi(i,0),o=new Xi(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,o],s=>{r=r.add(s.Zr)})}),Je.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;kt.isDocumentKey(a)||(a=a.child(""));const o=new Xi(new kt(a),0);let s=new Mi(fn);return this.Xr.forEachWhile(u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(s=s.add(u.Zr)),!0)},o),Je.resolve(this.ni(s))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Zn(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Je.forEach(t.mutations,i=>{const a=new Xi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Xi(t,0),i=this.Xr.firstAfterOrEqual(r);return Je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.ii=e,this.docs=function(){return new zr(kt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():Pa.newInvalidDocument(t))}getEntries(e,t){let r=Yu();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Pa.newInvalidDocument(i))}),Je.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Yu();const o=t.path,s=new kt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:f,value:{document:h}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||x9(_9(h),r)<=0||(i.has(h.key)||r2(t,h))&&(a=a.insert(h.key,h.mutableCopy()))}return Je.resolve(a)}getAllFromCollectionGroup(e,t,r,i){$t(9500)}si(e,t){return Je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new WO(this)}getSize(e){return Je.resolve(this.size)}}class WO extends FO{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Je.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.persistence=e,this.oi=new uh(t=>f5(t),h5),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this._i=0,this.ai=new y5,this.targetCount=0,this.ui=vd.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),Je.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new vd(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Tr(t),Je.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((o,s)=>{s.sequenceNumber<=t&&r.get(s.targetId)===null&&(this.oi.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Je.waitFor(a).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Je.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t){this.ci={},this.overlays={},this.li=new Zg(0),this.hi=!1,this.hi=!0,this.Pi=new qO,this.referenceDelegate=e(this),this.Ti=new $O(this),this.indexManager=new OO,this.remoteDocumentCache=function(i){return new GO(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new NO(t),this.Ei=new VO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new HO(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){At("MemoryPersistence","Starting transaction:",e);const i=new XO(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return Je.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class XO extends b9{constructor(e){super(),this.currentSequenceNumber=e}}class _5{constructor(e){this.persistence=e,this.Vi=new y5,this.mi=null}static fi(e){return new _5(e)}get gi(){if(this.mi)return this.mi;throw $t(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.gi,r=>{const i=kt.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,Zt.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Je.or([()=>Je.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class wg{constructor(e,t){this.persistence=e,this.yi=new uh(r=>S9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=BO(this,t)}static fi(e,t){return new wg(e,t)}di(){}Ai(e){return Je.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return Je.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?Je.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,t).next(s=>{s||(r++,a.removeEntry(o,Zt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Je.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Je.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Je.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Je.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gp(e.data.value)),t}Dr(e,t,r){return Je.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return Je.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=bn(),i=bn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new x5(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return EI()?8:A9(Ma())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.bs(e,t,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new YO;return this.Ss(e,t,o).next(s=>{if(a.result=s,this.fs)return this.Ds(e,t,o,s.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?($h()<=wn.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Xh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Je.resolve()):($h()<=wn.DEBUG&&At("QueryEngine","Query:",Xh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?($h()<=wn.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Xh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yl(t))):Je.resolve())}ws(e,t){if(_w(t))return Je.resolve(null);let r=Yl(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Qv(t,null,"F"),r=Yl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=bn(...a);return this.ys.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(u=>{const f=this.vs(t,s);return this.Cs(t,f,o,u.readTime)?this.ws(e,Qv(t,null,"F")):this.Fs(e,f,t,u)}))})))}bs(e,t,r,i){return _w(t)||i.isEqual(Zt.min())?Je.resolve(null):this.ys.getDocuments(e,r).next(a=>{const o=this.vs(t,a);return this.Cs(t,o,r,i)?Je.resolve(null):($h()<=wn.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xh(t)),this.Fs(e,o,t,y9(i,Y1)).next(s=>s))})}vs(e,t){let r=new Mi(SE(e));return t.forEach((i,a)=>{r2(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return $h()<=wn.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Xh(t)),this.ys.getDocumentsMatchingQuery(e,t,rf.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="LocalStore",QO=3e8;class ZO{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new zr(fn),this.Os=new uh(a=>f5(a),h5),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function JO(n,e,t,r){return new ZO(n,e,t,r)}async function XE(n,e){const t=en(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let u=bn();for(const f of i){o.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}for(const f of a){s.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(f=>({ks:f,removedBatchIds:o,addedBatchIds:s}))})})}function eD(n,e){const t=en(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(s,u,f,h){const p=f.batch,g=p.keys();let m=Je.resolve();return g.forEach(x=>{m=m.next(()=>h.getEntry(u,x)).next(b=>{const S=f.docVersions.get(x);Zn(S!==null,48541),b.version.compareTo(S)<0&&(p.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),h.addEntry(b)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(u,p))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let u=bn();for(let f=0;f<s.mutationResults.length;++f)s.mutationResults[f].transformResults.length>0&&(u=u.add(s.batch.mutations[f].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function YE(n){const e=en(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function tD(n,e){const t=en(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const s=[];e.targetChanges.forEach((h,p)=>{const g=i.get(p);if(!g)return;s.push(t.Ti.removeMatchingKeys(a,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(a,h.addedDocuments,p)));let m=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(fa.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(b,S,C){return b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=QO?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,m,h)&&s.push(t.Ti.updateTargetData(a,m))});let u=Yu(),f=bn();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&s.push(t.persistence.referenceDelegate.updateLimboDocument(a,h))}),s.push(nD(a,o,e.documentUpdates).next(h=>{u=h.qs,f=h.Qs})),!r.isEqual(Zt.min())){const h=t.Ti.getLastRemoteSnapshotVersion(a).next(p=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(h)}return Je.waitFor(s).next(()=>o.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,u,f)).next(()=>u)}).then(a=>(t.xs=i,a))}function nD(n,e,t){let r=bn(),i=bn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let o=Yu();return t.forEach((s,u)=>{const f=a.get(s);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(s)),u.isNoDocument()&&u.version.isEqual(Zt.min())?(e.removeEntry(s,u.readTime),o=o.insert(s,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(s,u)):At(w5,"Ignoring outdated watch update for ",s,". Current version:",f.version," Watch version:",u.version)}),{qs:o,Qs:i}})}function rD(n,e){const t=en(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=l5),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iD(n,e){const t=en(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,Je.resolve(i)):t.Ti.allocateTargetId(r).next(o=>(i=new $c(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function ny(n,e,t){const r=en(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Id(o))throw o;At(w5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Dw(n,e,t){const r=en(n);let i=Zt.min(),a=bn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,h){const p=en(u),g=p.Os.get(h);return g!==void 0?Je.resolve(p.xs.get(g)):p.Ti.getTargetData(f,h)}(r,o,Yl(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,s.targetId).next(u=>{a=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,t?i:Zt.min(),t?a:bn())).next(s=>(aD(r,H9(e),s),{documents:s,$s:a})))}function aD(n,e,t){let r=n.Ns.get(e)||Zt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class Pw{constructor(){this.activeTargetIds=K9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oD{constructor(){this.xo=new Pw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Pw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="ConnectivityMonitor";class kw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){At(Lw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){At(Lw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp=null;function ry(){return Tp===null?Tp=function(){return 268435456+Math.round(2147483648*Math.random())}():Tp++,"0x"+Tp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===gg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const o=ry(),s=this.jo(e,t.toUriEncodedString());At(tv,`Sending RPC '${e}' ${o}:`,s,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,a);const{host:f}=new URL(s),h=Ed(f);return this.Jo(e,s,u,r,h).then(p=>(At(tv,`Received RPC '${e}' ${o}: `,p),p),p=>{throw dd(tv,`RPC '${e}' ${o} failed with error: `,p,"url: ",s,"request:",r),p})}Yo(e,t,r,i,a,o){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=lD[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="WebChannelConnection";class fD extends uD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const o=ry();return new Promise((s,u)=>{const f=new ZA;f.setWithCredentials(!0),f.listenOnce(JA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Hp.NO_ERROR:const p=f.getResponseJson();At(Sa,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Hp.TIMEOUT:At(Sa,`RPC '${e}' ${o} timed out`),u(new Et(et.DEADLINE_EXCEEDED,"Request time out"));break;case Hp.HTTP_ERROR:const g=f.getStatus();if(At(Sa,`RPC '${e}' ${o} failed with status:`,g,"response text:",f.getResponseText()),g>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const b=function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(D)>=0?D:et.UNKNOWN}(x.status);u(new Et(b,x.message))}else u(new Et(et.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Et(et.UNAVAILABLE,"Connection failed."));break;default:$t(9055,{h_:e,streamId:o,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{At(Sa,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);At(Sa,`RPC '${e}' ${o} sending request:`,i),f.send(t,"POST",h,r,15)})}I_(e,t,r){const i=ry(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nE(),s=tE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const h=a.join("");At(Sa,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=o.createWebChannel(h,u);this.E_(p);let g=!1,m=!1;const x=new cD({Zo:S=>{m?At(Sa,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(At(Sa,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),At(Sa,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Xo:()=>p.close()}),b=(S,C,D)=>{S.listen(C,M=>{try{D(M)}catch(V){setTimeout(()=>{throw V},0)}})};return b(p,I1.EventType.OPEN,()=>{m||(At(Sa,`RPC '${e}' stream ${i} transport opened.`),x.__())}),b(p,I1.EventType.CLOSE,()=>{m||(m=!0,At(Sa,`RPC '${e}' stream ${i} transport closed`),x.u_(),this.d_(p))}),b(p,I1.EventType.ERROR,S=>{m||(m=!0,dd(Sa,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.u_(new Et(et.UNAVAILABLE,"The operation could not be completed")))}),b(p,I1.EventType.MESSAGE,S=>{var C;if(!m){const D=S.data[0];Zn(!!D,16349);const M=D,V=(M==null?void 0:M.error)||((C=M[0])===null||C===void 0?void 0:C.error);if(V){At(Sa,`RPC '${e}' stream ${i} received error:`,V);const X=V.status;let $=function(T){const F=xi[T];if(F!==void 0)return ME(F)}(X),N=V.message;$===void 0&&($=et.INTERNAL,N="Unknown error status: "+X+" with message "+V.message),m=!0,x.u_(new Et($,N)),p.close()}else At(Sa,`RPC '${e}' stream ${i} received:`,D),x.c_(D)}}),b(s,eE.STAT_EVENT,S=>{S.stat===Hv.PROXY?At(Sa,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Hv.NOPROXY&&At(Sa,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function nv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){return new gO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&At("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="PersistentStream";class QE{constructor(e,t,r,i,a,o,s,u){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new KE(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===et.RESOURCE_EXHAUSTED?(Xu(t.toString()),Xu("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new Et(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return At(Mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(At(Mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hD extends QE{constructor(e,t,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=yO(this.serializer,e),r=function(a){if(!("targetChange"in a))return Zt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Zt.min():o.readTime?Kl(o.readTime):Zt.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=ty(this.serializer),t.addTarget=function(a,o){let s;const u=o.target;if(s=Yv(u)?{documents:wO(a,u)}:{query:bO(a,u).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=jE(a,o.resumeToken);const f=Zv(a,o.expectedCount);f!==null&&(s.expectedCount=f)}else if(o.snapshotVersion.compareTo(Zt.min())>0){s.readTime=xg(a,o.snapshotVersion.toTimestamp());const f=Zv(a,o.expectedCount);f!==null&&(s.expectedCount=f)}return s}(this.serializer,e);const r=EO(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=ty(this.serializer),t.removeTarget=e,this.Q_(t)}}class dD extends QE{constructor(e,t,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Zn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Zn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Zn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=xO(e.writeResults,e.commitTime),r=Kl(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=ty(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_O(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{}class gD extends pD{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Et(et.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.zo(e,Jv(t,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Et(et.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Yo(e,Jv(t,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Et(et.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class mD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Xu(t),this.ua=!1):At("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="RemoteStore";class vD{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(o=>{r.enqueueAndForget(async()=>{ch(this)&&(At(th,"Restarting streams for network reachability change."),await async function(u){const f=en(u);f.da.add(4),await v0(f),f.Va.set("Unknown"),f.da.delete(4),await l2(f)}(this))})}),this.Va=new mD(r,i)}}async function l2(n){if(ch(n))for(const e of n.Aa)await e(!0)}async function v0(n){for(const e of n.Aa)await e(!1)}function ZE(n,e){const t=en(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),S5(t)?E5(t):Nd(t).N_()&&A5(t,e))}function b5(n,e){const t=en(n),r=Nd(t);t.Ea.delete(e),r.N_()&&JE(t,e),t.Ea.size===0&&(r.N_()?r.k_():ch(t)&&t.Va.set("Unknown"))}function A5(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nd(n).Z_(e)}function JE(n,e){n.ma.Ke(e),Nd(n).X_(e)}function E5(n){n.ma=new fO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Nd(n).start(),n.Va.ca()}function S5(n){return ch(n)&&!Nd(n).O_()&&n.Ea.size>0}function ch(n){return en(n).da.size===0}function e6(n){n.ma=void 0}async function yD(n){n.Va.set("Online")}async function _D(n){n.Ea.forEach((e,t)=>{A5(n,e)})}async function xD(n,e){e6(n),S5(n)?(n.Va.Pa(e),E5(n)):n.Va.set("Unknown")}async function wD(n,e,t){if(n.Va.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ea.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ea.delete(s),i.ma.removeTarget(s))}(n,e)}catch(r){At(th,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bg(n,r)}else if(e instanceof Xp?n.ma.Xe(e):e instanceof BE?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Zt.min()))try{const r=await YE(n.localStore);t.compareTo(r)>=0&&await function(a,o){const s=a.ma.It(o);return s.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const h=a.Ea.get(f);h&&a.Ea.set(f,h.withResumeToken(u.resumeToken,o))}}),s.targetMismatches.forEach((u,f)=>{const h=a.Ea.get(u);if(!h)return;a.Ea.set(u,h.withResumeToken(fa.EMPTY_BYTE_STRING,h.snapshotVersion)),JE(a,u);const p=new $c(h.target,u,f,h.sequenceNumber);A5(a,p)}),a.remoteSyncer.applyRemoteEvent(s)}(n,t)}catch(r){At(th,"Failed to raise snapshot:",r),await bg(n,r)}}async function bg(n,e,t){if(!Id(e))throw e;n.da.add(1),await v0(n),n.Va.set("Offline"),t||(t=()=>YE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{At(th,"Retrying IndexedDB access"),await t(),n.da.delete(1),await l2(n)})}function t6(n,e){return e().catch(t=>bg(n,t,e))}async function u2(n){const e=en(n),t=lf(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:l5;for(;bD(e);)try{const i=await rD(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,AD(e,i)}catch(i){await bg(e,i)}n6(e)&&r6(e)}function bD(n){return ch(n)&&n.Ia.length<10}function AD(n,e){n.Ia.push(e);const t=lf(n);t.N_()&&t.ea&&t.ta(e.mutations)}function n6(n){return ch(n)&&!lf(n).O_()&&n.Ia.length>0}function r6(n){lf(n).start()}async function ED(n){lf(n).ia()}async function SD(n){const e=lf(n);for(const t of n.Ia)e.ta(t.mutations)}async function CD(n,e,t){const r=n.Ia.shift(),i=g5.from(r,e,t);await t6(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await u2(n)}async function TD(n,e){e&&lf(n).ea&&await async function(r,i){if(function(o){return uO(o)&&o!==et.ABORTED}(i.code)){const a=r.Ia.shift();lf(r).L_(),await t6(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await u2(r)}}(n,e),n6(n)&&r6(n)}async function Bw(n,e){const t=en(n);t.asyncQueue.verifyOperationInProgress(),At(th,"RemoteStore received new credentials");const r=ch(t);t.da.add(3),await v0(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await l2(t)}async function ID(n,e){const t=en(n);e?(t.da.delete(2),await l2(t)):e||(t.da.add(2),await v0(t),t.Va.set("Unknown"))}function Nd(n){return n.fa||(n.fa=function(t,r,i){const a=en(t);return a.oa(),new hD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:yD.bind(null,n),n_:_D.bind(null,n),i_:xD.bind(null,n),Y_:wD.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),S5(n)?E5(n):n.Va.set("Unknown")):(await n.fa.stop(),e6(n))})),n.fa}function lf(n){return n.ga||(n.ga=function(t,r,i){const a=en(t);return a.oa(),new dD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:ED.bind(null,n),i_:TD.bind(null,n),na:SD.bind(null,n),ra:CD.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await u2(n)):(await n.ga.stop(),n.Ia.length>0&&(At(th,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const o=Date.now()+r,s=new C5(e,t,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T5(n,e){if(Xu("AsyncQueue",`${e}: ${n}`),Id(n))return new Et(et.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{static emptySet(e){return new sd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||kt.comparator(t.key,r.key):(t,r)=>kt.comparator(t.key,r.key),this.keyedMap=N1(),this.sortedSet=new zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new sd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.pa=new zr(kt.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):$t(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class yd{constructor(e,t,r,i,a,o,s,u,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,a){const o=[];return t.forEach(s=>{o.push({type:0,doc:s})}),new yd(e,t,sd.emptySet(t),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class RD{constructor(){this.queries=jw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=en(t),a=i.queries;i.queries=jw(),a.forEach((o,s)=>{for(const u of s.Sa)u.onError(r)})})(this,new Et(et.ABORTED,"Firestore shutting down"))}}function jw(){return new uh(n=>EE(n),n2)}async function I5(n,e){const t=en(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new ND,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(i,!0);break;case 1:a.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const s=T5(o,`Initialization of query '${Xh(e.query)}' failed`);return void e.onError(s)}t.queries.set(i,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&R5(t)}async function N5(n,e){const t=en(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function OD(n,e){const t=en(n);let r=!1;for(const i of e){const a=i.query,o=t.queries.get(a);if(o){for(const s of o.Sa)s.Ma(i)&&(r=!0);o.ba=i}}r&&R5(t)}function DD(n,e,t){const r=en(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function R5(n){n.Ca.forEach(e=>{e.next()})}var iy,Uw;(Uw=iy||(iy={})).xa="default",Uw.Cache="cache";class O5{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.key=e}}class a6{constructor(e){this.key=e}}class PD{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=bn(),this.mutatedKeys=bn(),this.Za=SE(e),this.Xa=new sd(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new Fw,i=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const g=i.get(h),m=r2(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;g&&m?g.data.isEqual(m.data)?x!==b&&(r.track({type:3,doc:m}),S=!0):this.ru(g,m)||(r.track({type:2,doc:m}),S=!0,(u&&this.Za(m,u)>0||f&&this.Za(m,f)<0)&&(s=!0)):!g&&m?(r.track({type:0,doc:m}),S=!0):g&&!m&&(r.track({type:1,doc:g}),S=!0,(u||f)&&(s=!0)),S&&(m?(o=o.add(m),a=b?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{Xa:o,nu:r,Cs:s,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,p)=>function(m,x){const b=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t(20277,{Vt:S})}};return b(m)-b(x)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;const s=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,f=u!==this.Ja;return this.Ja=u,o.length!==0||f?{snapshot:new yd(this.query,e.Xa,a,o,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:s}:{ou:s}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Fw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=bn(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new a6(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new i6(r))}),t}au(e){this.Ha=e.$s,this.Ya=bn();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return yd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const D5="SyncEngine";class LD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class kD{constructor(e){this.key=e,this.cu=!1}}class MD{constructor(e,t,r,i,a,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new uh(s=>EE(s),n2),this.Pu=new Map,this.Tu=new Set,this.Iu=new zr(kt.comparator),this.Eu=new Map,this.du=new y5,this.Au={},this.Ru=new Map,this.Vu=vd.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function BD(n,e,t=!0){const r=f6(n);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await o6(r,e,t,!0),i}async function FD(n,e){const t=f6(n);await o6(t,e,!0,!1)}async function o6(n,e,t,r){const i=await iD(n.localStore,Yl(e)),a=i.targetId,o=n.sharedClientState.addLocalQueryTarget(a,t);let s;return r&&(s=await jD(n,e,a,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&ZE(n.remoteStore,i),s}async function jD(n,e,t,r,i){n.fu=(p,g,m)=>async function(b,S,C,D){let M=S.view.tu(C);M.Cs&&(M=await Dw(b.localStore,S.query,!1).then(({documents:N})=>S.view.tu(N,M)));const V=D&&D.targetChanges.get(S.targetId),X=D&&D.targetMismatches.get(S.targetId)!=null,$=S.view.applyChanges(M,b.isPrimaryClient,V,X);return zw(b,S.targetId,$.ou),$.snapshot}(n,p,g,m);const a=await Dw(n.localStore,e,!0),o=new PD(e,a.$s),s=o.tu(a.documents),u=m0.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=o.applyChanges(s,n.isPrimaryClient,u);zw(n,t,f.ou);const h=new LD(e,t,o);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),f.snapshot}async function UD(n,e,t){const r=en(n),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(o=>!n2(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ny(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&b5(r.remoteStore,i.targetId),ay(r,i.targetId)}).catch(Td)):(ay(r,i.targetId),await ny(r.localStore,i.targetId,!0))}async function VD(n,e){const t=en(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),b5(t.remoteStore,r.targetId))}async function zD(n,e,t){const r=YD(n);try{const i=await function(o,s){const u=en(o),f=ki.now(),h=s.reduce((m,x)=>m.add(x.key),bn());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=Yu(),b=bn();return u.Bs.getEntries(m,h).next(S=>{x=S,x.forEach((C,D)=>{D.isValidDocument()||(b=b.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,x)).next(S=>{p=S;const C=[];for(const D of s){const M=iO(D,p.get(D.key).overlayedDocument);M!=null&&C.push(new gf(D.key,M,mE(M.value.mapValue),_s.exists(!0)))}return u.mutationQueue.addMutationBatch(m,f,C,s)}).next(S=>{g=S;const C=S.applyToLocalDocumentSet(p,b);return u.documentOverlayCache.saveOverlays(m,S.batchId,C)})}).then(()=>({batchId:g.batchId,changes:TE(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,u){let f=o.Au[o.currentUser.toKey()];f||(f=new zr(fn)),f=f.insert(s,u),o.Au[o.currentUser.toKey()]=f}(r,i.batchId,t),await y0(r,i.changes),await u2(r.remoteStore)}catch(i){const a=T5(i,"Failed to persist write");t.reject(a)}}async function s6(n,e){const t=en(n);try{const r=await tD(t.localStore,e);e.targetChanges.forEach((i,a)=>{const o=t.Eu.get(a);o&&(Zn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?Zn(o.cu,14607):i.removedDocuments.size>0&&(Zn(o.cu,42227),o.cu=!1))}),await y0(t,r,e)}catch(r){await Td(r)}}function Vw(n,e,t){const r=en(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((a,o)=>{const s=o.view.Fa(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const u=en(o);u.onlineState=s;let f=!1;u.queries.forEach((h,p)=>{for(const g of p.Sa)g.Fa(s)&&(f=!0)}),f&&R5(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qD(n,e,t){const r=en(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let o=new zr(kt.comparator);o=o.insert(a,Pa.newNoDocument(a,Zt.min()));const s=bn().add(a),u=new o2(Zt.min(),new Map,new zr(fn),o,s);await s6(r,u),r.Iu=r.Iu.remove(a),r.Eu.delete(e),P5(r)}else await ny(r.localStore,e,!1).then(()=>ay(r,e,t)).catch(Td)}async function HD(n,e){const t=en(n),r=e.batch.batchId;try{const i=await eD(t.localStore,e);u6(t,r,null),l6(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await y0(t,i)}catch(i){await Td(i)}}async function GD(n,e,t){const r=en(n);try{const i=await function(o,s){const u=en(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return u.mutationQueue.lookupMutationBatch(f,s).next(p=>(Zn(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(f,p))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,h,s)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>u.localDocuments.getDocuments(f,h))})}(r.localStore,e);u6(r,e,t),l6(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await y0(r,i)}catch(i){await Td(i)}}function l6(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function u6(n,e,t){const r=en(n);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||c6(n,r)})}function c6(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(b5(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),P5(n))}function zw(n,e,t){for(const r of t)r instanceof i6?(n.du.addReference(r.key,e),WD(n,r)):r instanceof a6?(At(D5,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||c6(n,r.key)):$t(19791,{pu:r})}function WD(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(At(D5,"New document in limbo: "+t),n.Tu.add(r),P5(n))}function P5(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new kt(Sr.fromString(e)),r=n.Vu.next();n.Eu.set(r,new kD(t)),n.Iu=n.Iu.insert(t,r),ZE(n.remoteStore,new $c(Yl(t2(t.path)),r,"TargetPurposeLimboResolution",Zg.le))}}async function y0(n,e,t){const r=en(n),i=[],a=[],o=[];r.hu.isEmpty()||(r.hu.forEach((s,u)=>{o.push(r.fu(u,e,t).then(f=>{var h;if((f||t)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=t==null?void 0:t.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(f){i.push(f);const p=x5.Rs(u.targetId,f);a.push(p)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(u,f){const h=en(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Je.forEach(f,g=>Je.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>Je.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!Id(p))throw p;At(w5,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const m=h.xs.get(g),x=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(x);h.xs=h.xs.insert(g,b)}}}(r.localStore,a))}async function $D(n,e){const t=en(n);if(!t.currentUser.isEqual(e)){At(D5,"User change. New user:",e.toKey());const r=await XE(t.localStore,e);t.currentUser=e,function(a,o){a.Ru.forEach(s=>{s.forEach(u=>{u.reject(new Et(et.CANCELLED,o))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await y0(t,r.ks)}}function XD(n,e){const t=en(n),r=t.Eu.get(e);if(r&&r.cu)return bn().add(r.key);{let i=bn();const a=t.Pu.get(e);if(!a)return i;for(const o of a){const s=t.hu.get(o);i=i.unionWith(s.view.eu)}return i}}function f6(n){const e=en(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=s6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qD.bind(null,e),e.lu.Y_=OD.bind(null,e.eventManager),e.lu.gu=DD.bind(null,e.eventManager),e}function YD(n){const e=en(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GD.bind(null,e),e}class Ag{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=s2(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return JO(this.persistence,new KO,e.initialUser,this.serializer)}Su(e){return new $E(_5.fi,this.serializer)}bu(e){return new oD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ag.provider={build:()=>new Ag};class KD extends Ag{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Zn(this.persistence.referenceDelegate instanceof wg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kO(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new $E(r=>wg.fi(r,t),this.serializer)}}class oy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await ID(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RD}()}createDatastore(e){const t=s2(e.databaseInfo.databaseId),r=function(a){return new fD(a)}(e.databaseInfo);return function(a,o,s,u){return new gD(a,o,s,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,o,s){return new vD(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,t=>Vw(this.syncEngine,t,0),function(){return kw.C()?new kw:new sD}())}createSyncEngine(e,t){return function(i,a,o,s,u,f,h){const p=new MD(i,a,o,s,u,f);return h&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=en(i);At(th,"RemoteStore shutting down."),a.da.add(5),await v0(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}oy.provider={build:()=>new oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Xu("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="FirestoreClient";class QD{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Da.UNAUTHENTICATED,this.clientId=oE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{At(uf,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(At(uf,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=T5(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rv(n,e){n.asyncQueue.verifyOperationInProgress(),At(uf,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await XE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function qw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ZD(n);At(uf,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Bw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Bw(e.remoteStore,i)),n._onlineComponents=e}async function ZD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){At(uf,"Using user provided OfflineComponentProvider");try{await rv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;dd("Error using user provided cache. Falling back to memory cache: "+t),await rv(n,new Ag)}}else At(uf,"Using default OfflineComponentProvider"),await rv(n,new KD(void 0));return n._offlineComponents}async function h6(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(At(uf,"Using user provided OnlineComponentProvider"),await qw(n,n._uninitializedComponentsProvider._online)):(At(uf,"Using default OnlineComponentProvider"),await qw(n,new oy))),n._onlineComponents}function JD(n){return h6(n).then(e=>e.syncEngine)}async function Eg(n){const e=await h6(n),t=e.eventManager;return t.onListen=BD.bind(null,e.syncEngine),t.onUnlisten=UD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VD.bind(null,e.syncEngine),t}function eP(n,e,t={}){const r=new Hu;return n.asyncQueue.enqueueAndForget(async()=>function(a,o,s,u,f){const h=new L5({next:g=>{h.xu(),o.enqueueAndForget(()=>N5(a,p));const m=g.docs.has(s);!m&&g.fromCache?f.reject(new Et(et.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&u&&u.source==="server"?f.reject(new Et(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new O5(t2(s.path),h,{includeMetadataChanges:!0,Qa:!0});return I5(a,p)}(await Eg(n),n.asyncQueue,e,t,r)),r.promise}function tP(n,e,t={}){const r=new Hu;return n.asyncQueue.enqueueAndForget(async()=>function(a,o,s,u,f){const h=new L5({next:g=>{h.xu(),o.enqueueAndForget(()=>N5(a,p)),g.fromCache&&u.source==="server"?f.reject(new Et(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new O5(s,h,{includeMetadataChanges:!0,Qa:!0});return I5(a,p)}(await Eg(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(n,e,t){if(!t)throw new Et(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nP(n,e,t,r){if(e===!0&&r===!0)throw new Et(et.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gw(n){if(!kt.isDocumentKey(n))throw new Et(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ww(n){if(kt.isDocumentKey(n))throw new Et(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function c2(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$t(12329,{type:typeof n})}function _o(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Et(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=c2(n);throw new Et(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="firestore.googleapis.com",$w=!0;class Xw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Et(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g6,this.ssl=$w}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$w;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PO)throw new Et(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Et(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Et(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Et(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class f2{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Et(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u9;switch(r.type){case"firstParty":return new d9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Hw.get(t);r&&(At("ComponentProvider","Removing Datastore"),Hw.delete(t),r.terminate())}(this),Promise.resolve()}}function rP(n,e,t,r={}){var i;n=_o(n,f2);const a=Ed(e),o=n._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;a&&(Yy(`https://${u}`),Ky("Firestore",!0)),o.host!==g6&&o.host!==u&&dd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:a,emulatorOptions:r});if(!nf(f,s)&&(n._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Da.MOCK_USER;else{h=oA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Et(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Da(g)}n._authCredentials=new c9(new iE(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fh(this.firestore,e,this._query)}}class ka{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ka(this.firestore,e,this._key)}}class Zc extends fh{constructor(e,t,r){super(e,t,t2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ka(this.firestore,null,new kt(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function Dr(n,e,...t){if(n=Vr(n),p6("collection","path",e),n instanceof f2){const r=Sr.fromString(e,...t);return Ww(r),new Zc(n,null,r)}{if(!(n instanceof ka||n instanceof Zc))throw new Et(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Sr.fromString(e,...t));return Ww(r),new Zc(n.firestore,null,r)}}function hi(n,e,...t){if(n=Vr(n),arguments.length===1&&(e=oE.newId()),p6("doc","path",e),n instanceof f2){const r=Sr.fromString(e,...t);return Gw(r),new ka(n,null,new kt(r))}{if(!(n instanceof ka||n instanceof Zc))throw new Et(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Sr.fromString(e,...t));return Gw(r),new ka(n.firestore,n instanceof Zc?n.converter:null,new kt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="AsyncQueue";class Kw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new KE(this,"async_queue_retry"),this.rc=()=>{const r=nv();r&&At(Yw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=nv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=nv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Hu;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Id(e))throw e;At(Yw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Xu("INTERNAL UNHANDLED ERROR: ",Qw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=C5.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&$t(47125,{cc:Qw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Qw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ku extends f2{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Kw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kw(e),this._firestoreClient=void 0,await e}}}function iP(n,e){const t=typeof n=="object"?n:Xg(),r=typeof n=="string"?n:gg,i=hf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=rA("firestore");a&&rP(i,...a)}return i}function h2(n){if(n._terminated)throw new Et(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aP(n),n._firestoreClient}function aP(n){var e,t,r;const i=n._freezeSettings(),a=function(s,u,f,h){return new I9(s,u,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,d6(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new QD(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(s){const u=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _d(fa.fromBase64String(e))}catch(t){throw new Et(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _d(fa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Et(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ua(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Et(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Et(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fn(this._lat,e._lat)||fn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=/^__.*__$/;class sP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new gf(e,this.data,this.fieldMask,t,this.fieldTransforms):new g0(e,this.data,t,this.fieldTransforms)}}class m6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function v6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t(40011,{Ic:n})}}class B5{constructor(e,t,r,i,a,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new B5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Sg(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(v6(this.Ic)&&oP.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class lP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||s2(e)}bc(e,t,r,i=!1){return new B5({Ic:e,methodName:t,wc:r,path:ua.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g2(n){const e=n._freezeSettings(),t=s2(n._databaseId);return new lP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function y6(n,e,t,r,i,a={}){const o=n.bc(a.merge||a.mergeFields?2:0,e,t,i);j5("Data must be an object, but it was:",o,r);const s=_6(r,o);let u,f;if(a.merge)u=new Go(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const g=sy(e,p,t);if(!o.contains(g))throw new Et(et.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);w6(h,g)||h.push(g)}u=new Go(h),f=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,f=o.fieldTransforms;return new sP(new mo(s),u,f)}class m2 extends p2{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m2}}class F5 extends p2{_toFieldTransform(e){return new eO(e.path,new J1)}isEqual(e){return e instanceof F5}}function uP(n,e,t,r){const i=n.bc(1,e,t);j5("Data must be an object, but it was:",i,r);const a=[],o=mo.empty();pf(r,(u,f)=>{const h=U5(e,u,t);f=Vr(f);const p=i.mc(h);if(f instanceof m2)a.push(h);else{const g=_0(f,p);g!=null&&(a.push(h),o.set(h,g))}});const s=new Go(a);return new m6(o,s,i.fieldTransforms)}function cP(n,e,t,r,i,a){const o=n.bc(1,e,t),s=[sy(e,r,t)],u=[i];if(a.length%2!=0)throw new Et(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)s.push(sy(e,a[g])),u.push(a[g+1]);const f=[],h=mo.empty();for(let g=s.length-1;g>=0;--g)if(!w6(f,s[g])){const m=s[g];let x=u[g];x=Vr(x);const b=o.mc(m);if(x instanceof m2)f.push(m);else{const S=_0(x,b);S!=null&&(f.push(m),h.set(m,S))}}const p=new Go(f);return new m6(h,p,o.fieldTransforms)}function fP(n,e,t,r=!1){return _0(t,n.bc(r?4:3,e))}function _0(n,e){if(x6(n=Vr(n)))return j5("Unsupported field value:",e,n),_6(n,e);if(n instanceof p2)return function(r,i){if(!v6(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let u=_0(s,i.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Vr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ki.fromDate(r);return{timestampValue:xg(i.serializer,a)}}if(r instanceof ki){const a=new ki(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xg(i.serializer,a)}}if(r instanceof k5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _d)return{bytesValue:jE(i.serializer,r._byteString)};if(r instanceof ka){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:v5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof M5)return function(o,s){return{mapValue:{fields:{[pE]:{stringValue:gE},[mg]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw s.gc("VectorValues must only contain numeric values.");return d5(s.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${c2(r)}`)}(n,e)}function _6(n,e){const t={};return lE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pf(n,(r,i)=>{const a=_0(i,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function x6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ki||n instanceof k5||n instanceof _d||n instanceof ka||n instanceof p2||n instanceof M5)}function j5(n,e,t){if(!x6(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=c2(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function sy(n,e,t){if((e=Vr(e))instanceof d2)return e._internalPath;if(typeof e=="string")return U5(n,e);throw Sg("Field path arguments must be of type string or ",n,!1,void 0,t)}const hP=new RegExp("[~\\*/\\[\\]]");function U5(n,e,t){if(e.search(hP)>=0)throw Sg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new d2(...e.split("."))._internalPath}catch{throw Sg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sg(n,e,t,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;t&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Et(et.INVALID_ARGUMENT,s+n+u)}function w6(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ka(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(V5("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dP extends b6{data(){return super.data()}}function V5(n,e){return typeof e=="string"?U5(n,e):e instanceof d2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Et(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z5{}class pP extends z5{}function Jc(n,e,...t){let r=[];e instanceof z5&&r.push(e),r=r.concat(t),function(a){const o=a.filter(u=>u instanceof q5).length,s=a.filter(u=>u instanceof v2).length;if(o>1||o>0&&s>0)throw new Et(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class v2 extends pP{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new v2(e,t,r)}_apply(e){const t=this._parse(e);return E6(e._query,t),new fh(e.firestore,e.converter,Kv(e._query,t))}_parse(e){const t=g2(e.firestore);return function(a,o,s,u,f,h,p){let g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Et(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){eb(p,h);const x=[];for(const b of p)x.push(Jw(u,a,b));g={arrayValue:{values:x}}}else g=Jw(u,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||eb(p,h),g=fP(s,o,p,h==="in"||h==="not-in");return wi.create(f,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nh(n,e,t){const r=e,i=V5("where",n);return v2._create(i,r,t)}class q5 extends z5{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new q5(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ll.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const u of s)E6(o,u),o=Kv(o,u)}(e._query,t),new fh(e.firestore,e.converter,Kv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Jw(n,e,t){if(typeof(t=Vr(t))=="string"){if(t==="")throw new Et(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(e)&&t.indexOf("/")!==-1)throw new Et(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Sr.fromString(t));if(!kt.isDocumentKey(r))throw new Et(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dw(n,new kt(r))}if(t instanceof ka)return dw(n,t._key);throw new Et(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c2(t)}.`)}function eb(n,e){if(!Array.isArray(n)||n.length===0)throw new Et(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E6(n,e){const t=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Et(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Et(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gP{convertValue(e,t="none"){switch(sf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(of(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $t(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return pf(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[mg].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>li(o.doubleValue));return new M5(a)}convertGeoPoint(e){return new k5(li(e.latitude),li(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=e2(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(K1(e));default:return null}}convertTimestamp(e){const t=af(e);return new ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Sr.fromString(e);Zn(GE(r),9688,{name:e});const i=new Q1(r.get(1),r.get(3)),a=new kt(r.popFirst(5));return i.isEqual(t)||Xu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C6 extends b6{constructor(e,t,r,i,a,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(V5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Yp extends C6{data(e={}){return super.data(e)}}class T6{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new O1(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Yp(this._firestore,this._userDataWriter,r.key,r,new O1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Et(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const u=new Yp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new O1(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const u=new Yp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new O1(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return s.type!==0&&(f=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),h=o.indexOf(s.doc.key)),{type:mP(s.type),doc:u,oldIndex:f,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(n){n=_o(n,ka);const e=_o(n.firestore,Ku);return eP(h2(e),n._key).then(t=>R6(e,n,t))}class H5 extends gP{constructor(e){super(),this.firestore=e}convertBytes(e){return new _d(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ka(this.firestore,null,t)}}function Pi(n){n=_o(n,fh);const e=_o(n.firestore,Ku),t=h2(e),r=new H5(e);return A6(n._query),tP(t,n._query).then(i=>new T6(e,r,n,i))}function G5(n,e,t){n=_o(n,ka);const r=_o(n.firestore,Ku),i=S6(n.converter,e);return y2(r,[y6(g2(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,_s.none())])}function eu(n,e,t,...r){n=_o(n,ka);const i=_o(n.firestore,Ku),a=g2(i);let o;return o=typeof(e=Vr(e))=="string"||e instanceof d2?cP(a,"updateDoc",n._key,e,t,r):uP(a,"updateDoc",n._key,e),y2(i,[o.toMutation(n._key,_s.exists(!0))])}function W5(n){return y2(_o(n.firestore,Ku),[new p5(n._key,_s.none())])}function I6(n,e){const t=_o(n.firestore,Ku),r=hi(n),i=S6(n.converter,e);return y2(t,[y6(g2(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,_s.exists(!1))]).then(()=>r)}function N6(n,...e){var t,r,i;n=Vr(n);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Zw(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Zw(e[o])){const p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,f,h;if(n instanceof ka)f=_o(n.firestore,Ku),h=t2(n._key.path),u={next:p=>{e[o]&&e[o](R6(f,n,p))},error:e[o+1],complete:e[o+2]};else{const p=_o(n,fh);f=_o(p.firestore,Ku),h=p._query;const g=new H5(f);u={next:m=>{e[o]&&e[o](new T6(f,g,p,m))},error:e[o+1],complete:e[o+2]},A6(n._query)}return function(g,m,x,b){const S=new L5(b),C=new O5(m,S,x);return g.asyncQueue.enqueueAndForget(async()=>I5(await Eg(g),C)),()=>{S.xu(),g.asyncQueue.enqueueAndForget(async()=>N5(await Eg(g),C))}}(h2(f),h,s,u)}function y2(n,e){return function(r,i){const a=new Hu;return r.asyncQueue.enqueueAndForget(async()=>zD(await JD(r),i,a)),a.promise}(h2(n),e)}function R6(n,e,t){const r=t.docs.get(e._key),i=new H5(n);return new C6(n,i,e._key,r,new O1(t.hasPendingWrites,t.fromCache),e.converter)}function Xa(){return new F5("serverTimestamp")}(function(e,t=!0){(function(i){Cd=i})(lh),ol(new ws("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Ku(new f9(r.getProvider("auth-internal")),new p9(o,r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Et(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q1(f.options.projectId,h)}(o,i),o);return a=Object.assign({useFetchStreams:t},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),yo(tw,nw,e),yo(tw,nw,"esm2017")})();var vP="firebase",yP="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(vP,yP,"app");const O6="@firebase/installations",$5="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=1e4,P6=`w:${$5}`,L6="FIS_v2",_P="https://firebaseinstallations.googleapis.com/v1",xP=60*60*1e3,wP="installations",bP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rh=new sh(wP,bP,AP);function k6(n){return n instanceof bs&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6({projectId:n}){return`${_P}/projects/${n}/installations`}function B6(n){return{token:n.token,requestStatus:2,expiresIn:SP(n.expiresIn),creationTime:Date.now()}}async function F6(n,e){const r=(await e.json()).error;return rh.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function j6({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function EP(n,{refreshToken:e}){const t=j6(n);return t.append("Authorization",CP(e)),t}async function U6(n){const e=await n();return e.status>=500&&e.status<600?n():e}function SP(n){return Number(n.replace("s","000"))}function CP(n){return`${L6} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=M6(n),i=j6(n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:t,authVersion:L6,appId:n.appId,sdkVersion:P6},s={method:"POST",headers:i,body:JSON.stringify(o)},u=await U6(()=>fetch(r,s));if(u.ok){const f=await u.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:B6(f.authToken)}}else throw await F6("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^[cdef][\w-]{21}$/,ly="";function RP(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=OP(n);return NP.test(t)?t:ly}catch{return ly}}function OP(n){return IP(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=new Map;function q6(n,e){const t=_2(n);H6(t,e),DP(t,e)}function H6(n,e){const t=z6.get(n);if(t)for(const r of t)r(e)}function DP(n,e){const t=PP();t&&t.postMessage({key:n,fid:e}),LP()}let Gf=null;function PP(){return!Gf&&"BroadcastChannel"in self&&(Gf=new BroadcastChannel("[Firebase] FID Change"),Gf.onmessage=n=>{H6(n.data.key,n.data.fid)}),Gf}function LP(){z6.size===0&&Gf&&(Gf.close(),Gf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="firebase-installations-database",MP=1,ih="firebase-installations-store";let iv=null;function X5(){return iv||(iv=hA(kP,MP,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ih)}}})),iv}async function Cg(n,e){const t=_2(n),i=(await X5()).transaction(ih,"readwrite"),a=i.objectStore(ih),o=await a.get(t);return await a.put(e,t),await i.done,(!o||o.fid!==e.fid)&&q6(n,e.fid),e}async function G6(n){const e=_2(n),r=(await X5()).transaction(ih,"readwrite");await r.objectStore(ih).delete(e),await r.done}async function x2(n,e){const t=_2(n),i=(await X5()).transaction(ih,"readwrite"),a=i.objectStore(ih),o=await a.get(t),s=e(o);return s===void 0?await a.delete(t):await a.put(s,t),await i.done,s&&(!o||o.fid!==s.fid)&&q6(n,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(n){let e;const t=await x2(n.appConfig,r=>{const i=BP(r),a=FP(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===ly?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function BP(n){const e=n||{fid:RP(),registrationStatus:0};return W6(e)}function FP(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(rh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=jP(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UP(n)}:{installationEntry:e}}async function jP(n,e){try{const t=await TP(n,e);return Cg(n.appConfig,t)}catch(t){throw k6(t)&&t.customData.serverCode===409?await G6(n.appConfig):await Cg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function UP(n){let e=await tb(n.appConfig);for(;e.registrationStatus===1;)await V6(100),e=await tb(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Y5(n);return r||t}return e}function tb(n){return x2(n,e=>{if(!e)throw rh.create("installation-not-found");return W6(e)})}function W6(n){return VP(n)?{fid:n.fid,registrationStatus:0}:n}function VP(n){return n.registrationStatus===1&&n.registrationTime+D6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP({appConfig:n,heartbeatServiceProvider:e},t){const r=qP(n,t),i=EP(n,t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:P6,appId:n.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},u=await U6(()=>fetch(r,s));if(u.ok){const f=await u.json();return B6(f)}else throw await F6("Generate Auth Token",u)}function qP(n,{fid:e}){return`${M6(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(n,e=!1){let t;const r=await x2(n.appConfig,a=>{if(!$6(a))throw rh.create("not-registered");const o=a.authToken;if(!e&&WP(o))return a;if(o.requestStatus===1)return t=HP(n,e),a;{if(!navigator.onLine)throw rh.create("app-offline");const s=XP(a);return t=GP(n,s),s}});return t?await t:r.authToken}async function HP(n,e){let t=await nb(n.appConfig);for(;t.authToken.requestStatus===1;)await V6(100),t=await nb(n.appConfig);const r=t.authToken;return r.requestStatus===0?K5(n,e):r}function nb(n){return x2(n,e=>{if(!$6(e))throw rh.create("not-registered");const t=e.authToken;return YP(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function GP(n,e){try{const t=await zP(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Cg(n.appConfig,r),t}catch(t){if(k6(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await G6(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Cg(n.appConfig,r)}throw t}}function $6(n){return n!==void 0&&n.registrationStatus===2}function WP(n){return n.requestStatus===2&&!$P(n)}function $P(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+xP}function XP(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function YP(n){return n.requestStatus===1&&n.requestTime+D6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(n){const e=n,{installationEntry:t,registrationPromise:r}=await Y5(e);return r?r.catch(console.error):K5(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,e=!1){const t=n;return await ZP(t),(await K5(t,e)).token}async function ZP(n){const{registrationPromise:e}=await Y5(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){if(!n||!n.options)throw av("App Configuration");if(!n.name)throw av("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw av(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function av(n){return rh.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="installations",eL="installations-internal",tL=n=>{const e=n.getProvider("app").getImmediate(),t=JP(e),r=hf(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},nL=n=>{const e=n.getProvider("app").getImmediate(),t=hf(e,X6).getImmediate();return{getId:()=>KP(t),getToken:i=>QP(t,i)}};function rL(){ol(new ws(X6,tL,"PUBLIC")),ol(new ws(eL,nL,"PRIVATE"))}rL();yo(O6,$5);yo(O6,$5,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="analytics",iL="firebase_id",aL="origin",oL=60*1e3,sL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q5="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new $g("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$o=new sh("analytics","Analytics",lL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n){if(!n.startsWith(Q5)){const e=$o.create("invalid-gtag-resource",{gtagURL:n});return xo.warn(e.message),""}return n}function Y6(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function cL(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function fL(n,e){const t=cL("firebase-js-sdk-policy",{createScriptURL:uL}),r=document.createElement("script"),i=`${Q5}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function hL(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function dL(n,e,t,r,i,a){const o=r[i];try{if(o)await e[o];else{const u=(await Y6(t)).find(f=>f.measurementId===i);u&&await e[u.appId]}}catch(s){xo.error(s)}n("config",i,a)}async function pL(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await Y6(t);for(const u of o){const f=s.find(p=>p.measurementId===u),h=f&&e[f.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){xo.error(a)}}function gL(n,e,t,r){async function i(a,...o){try{if(a==="event"){const[s,u]=o;await pL(n,e,t,s,u)}else if(a==="config"){const[s,u]=o;await dL(n,e,t,r,s,u)}else if(a==="consent"){const[s,u]=o;n("consent",s,u)}else if(a==="get"){const[s,u,f]=o;n("get",s,u,f)}else if(a==="set"){const[s]=o;n("set",s)}else n(a,...o)}catch(s){xo.error(s)}}return i}function mL(n,e,t,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=gL(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function vL(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Q5)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=30,_L=1e3;class xL{constructor(e={},t=_L){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const K6=new xL;function wL(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function bL(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:wL(r)},a=sL.replace("{app-id}",t),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(s=u.error.message)}catch{}throw $o.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function AL(n,e=K6,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw $o.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw $o.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new CL;return setTimeout(async()=>{s.abort()},oL),Q6({appId:r,apiKey:i,measurementId:a},o,s,e)}async function Q6(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=K6){var a;const{appId:o,measurementId:s}=n;try{await EL(r,e)}catch(u){if(s)return xo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw u}try{const u=await bL(n);return i.deleteThrottleMetadata(o),u}catch(u){const f=u;if(!SL(f)){if(i.deleteThrottleMetadata(o),s)return xo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:s};throw u}const h=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?C3(t,i.intervalMillis,yL):C3(t,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:t+1};return i.setThrottleMetadata(o,p),xo.debug(`Calling attemptFetch again in ${h} millis`),Q6(n,p,r,i)}}function EL(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r($o.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function SL(n){if(!(n instanceof bs)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class CL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TL(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(){if(lA())try{await uA()}catch(n){return xo.warn($o.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return xo.warn($o.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function NL(n,e,t,r,i,a,o){var s;const u=AL(n);u.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&xo.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>xo.error(m)),e.push(u);const f=IL().then(m=>{if(m)return r.getId()}),[h,p]=await Promise.all([u,f]);vL(a)||fL(a,h.measurementId),i("js",new Date);const g=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return g[aL]="firebase",g.update=!0,p!=null&&(g[iL]=p),i("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.app=e}_delete(){return delete z1[this.app.options.appId],Promise.resolve()}}let z1={},rb=[];const ib={};let ov="dataLayer",OL="gtag",ab,Z6,ob=!1;function DL(){const n=[];if(sA()&&n.push("This is a browser extension environment."),SI()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=$o.create("invalid-analytics-context",{errorInfo:e});xo.warn(t.message)}}function PL(n,e,t){DL();const r=n.options.appId;if(!r)throw $o.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)xo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $o.create("no-api-key");if(z1[r]!=null)throw $o.create("already-exists",{id:r});if(!ob){hL(ov);const{wrappedGtag:a,gtagCore:o}=mL(z1,rb,ib,ov,OL);Z6=a,ab=o,ob=!0}return z1[r]=NL(n,rb,ib,e,ab,ov,t),new RL(n)}function LL(n=Xg()){n=Vr(n);const e=hf(n,Tg);return e.isInitialized()?e.getImmediate():kL(n)}function kL(n,e={}){const t=hf(n,Tg);if(t.isInitialized()){const i=t.getImmediate();if(nf(e,t.getOptions()))return i;throw $o.create("already-initialized")}return t.initialize({options:e})}function ML(n,e,t,r){n=Vr(n),TL(Z6,z1[n.app.options.appId],e,t,r).catch(i=>xo.error(i))}const sb="@firebase/analytics",lb="0.10.16";function BL(){ol(new ws(Tg,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return PL(r,i,t)},"PUBLIC")),ol(new ws("analytics-internal",n,"PRIVATE")),yo(sb,lb),yo(sb,lb,"esm2017");function n(e){try{const t=e.getProvider(Tg).getImmediate();return{logEvent:(r,i,a)=>ML(t,r,i,a)}}catch(t){throw $o.create("interop-component-reg-failed",{reason:t})}}}BL();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="firebasestorage.googleapis.com",FL="storageBucket",jL=2*60*1e3,UL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends bs{constructor(e,t,r=0){super(sv(e),`Firebase Storage: ${t} (${sv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,au.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tu;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tu||(tu={}));function sv(n){return"storage/"+n}function VL(){const n="An unknown error occurred, please check the error payload for server response.";return new au(tu.UNKNOWN,n)}function zL(){return new au(tu.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qL(){return new au(tu.CANCELED,"User canceled the upload/download.")}function HL(n){return new au(tu.INVALID_URL,"Invalid URL '"+n+"'.")}function GL(n){return new au(tu.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ub(n){return new au(tu.INVALID_ARGUMENT,n)}function eS(){return new au(tu.APP_DELETED,"The Firebase app was deleted.")}function WL(n){return new au(tu.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=al.makeFromUrl(e,t)}catch{return new al(e,"")}if(r.path==="")return r;throw GL(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function f(V){V.path_=decodeURIComponent(V.path)}const h="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),x={bucket:1,path:3},b=t===J6?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",C=new RegExp(`^https?://${b}/${i}/${S}`,"i"),M=[{regex:s,indices:u,postModify:a},{regex:m,indices:x,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let V=0;V<M.length;V++){const X=M[V],$=X.regex.exec(e);if($){const N=$[X.indices.bucket];let A=$[X.indices.path];A||(A=""),r=new al(N,A),X.postModify(r);break}}if(r==null)throw HL(e);return r}}class $L{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(n,e,t){let r=1,i=null,a=null,o=!1,s=0;function u(){return s===2}let f=!1;function h(...S){f||(f=!0,e.apply(null,S))}function p(S){i=setTimeout(()=>{i=null,n(m,u())},S)}function g(){a&&clearTimeout(a)}function m(S,...C){if(f){g();return}if(S){g(),h.call(null,S,...C);return}if(u()||o){g(),h.call(null,S,...C);return}r<64&&(r*=2);let M;s===1?(s=2,M=0):M=(r+Math.random())*1e3,p(M)}let x=!1;function b(S){x||(x=!0,g(),!f&&(i!==null?(S||(s=2),clearTimeout(i),p(0)):S||(s=1)))}return p(0),a=setTimeout(()=>{o=!0,b(!0)},t),b}function YL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(n){return n!==void 0}function cb(n,e,t,r){if(r<e)throw ub(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ub(`Invalid value for '${n}'. Expected ${t} or less.`)}function QL(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Ig;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ig||(Ig={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,t,r,i,a,o,s,u,f,h,p,g=!0,m=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ip(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const u=s.loaded,f=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Ig.NO_ERROR,u=a.getStatus();if(!s||ZL(u,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Ig.ABORT;r(!1,new Ip(!1,null,h));return}const f=this.successCodes_.indexOf(u)!==-1;r(!0,new Ip(f,a))})},t=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(s,s.getResponse());KL(u)?a(u):a()}catch(u){o(u)}else if(s!==null){const u=VL();u.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,u)):o(u)}else if(i.canceled){const u=this.appDelete_?eS():qL();o(u)}else{const u=zL();o(u)}};this.canceled_?t(!1,new Ip(!1,null,!0)):this.backoffId_=XL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ip{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function ek(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function tk(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nk(n,e){e&&(n["X-Firebase-GMPID"]=e)}function rk(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ik(n,e,t,r,i,a,o=!0,s=!1){const u=QL(n.urlParams),f=n.url+u,h=Object.assign({},n.headers);return nk(h,e),ek(h,t),tk(h,a),rk(h,r),new JL(f,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function ok(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t){this._service=e,t instanceof al?this._location=t:this._location=al.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ng(e,t)}get root(){const e=new al(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ok(this._location.path)}get storage(){return this._service}get parent(){const e=ak(this._location.path);if(e===null)return null;const t=new al(this._location.bucket,e);return new Ng(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw WL(e)}}function fb(n,e){const t=e==null?void 0:e[FL];return t==null?null:al.makeFromBucketSpec(t,n)}function sk(n,e,t,r={}){n.host=`${e}:${t}`;const i=Ed(e);i&&(Yy(`https://${n.host}`),Ky("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:oA(a,n.app.options.projectId))}class lk{constructor(e,t,r,i,a,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=J6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jL,this._maxUploadRetryTime=UL,this._requests=new Set,i!=null?this._bucket=al.makeFromBucketSpec(i,this._host):this._bucket=fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=al.makeFromBucketSpec(this._url,e):this._bucket=fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ho(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ng(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new $L(eS());{const o=ik(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const hb="@firebase/storage",db="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="storage";function uk(n=Xg(),e){n=Vr(n);const r=hf(n,tS).getImmediate({identifier:e}),i=rA("storage");return i&&ck(r,...i),r}function ck(n,e,t,r={}){sk(n,e,t,r)}function fk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new lk(t,r,i,e,lh)}function hk(){ol(new ws(tS,fk,"PUBLIC").setMultipleInstances(!0)),yo(hb,db,""),yo(hb,db,"esm2017")}hk();const dk={apiKey:"AIzaSyD2okbjcvN3V4Qpd4deo59qZZNNRBIWX58",authDomain:"gmach-inventory-system.firebaseapp.com",projectId:"gmach-inventory-system",storageBucket:"gmach-inventory-system.appspot.com",messagingSenderId:"687472851540",appId:"1:687472851540:web:f846506cccaaefc1e74bc1",measurementId:"G-ZM8S3K7E2V"},w2=dA(dk);LL(w2);const n0=s9(w2),sn=iP(w2),pk=uk(w2),nS=ve.createContext(),gk=({children:n})=>{const[e,t]=ve.useState(null),[r,i]=ve.useState(!0);return ve.useEffect(()=>{const a=YN(n0,async s=>{if(s&&s.emailVerified){const u=await xd(hi(sn,"users",s.uid));if(u.exists()){const f=u.data();t({uid:s.uid,email:s.email,username:f.username,role:f.role})}}else t(null)});return(async()=>{const s=await xd(hi(sn,"settings","onlineOrdering"));if(s.exists()){const u=s.data();i(u.enabled===!0)}})(),()=>a()},[]),k.jsx(nS.Provider,{value:{user:e,setUser:t,onlineOrderingEnabled:r,setOnlineOrderingEnabled:i},children:n})},x0=()=>ve.useContext(nS),mk=()=>{const{user:n,setUser:e}=x0(),t=Hy(),[r,i]=ve.useState(!1),[a,o]=ve.useState(null),[s,u]=ve.useState(null);ve.useEffect(()=>{const M=hi(sn,"settings","onlineOrdering"),V=N6(M,X=>{X.exists()&&o(X.data().enabled)},X=>{console.error("שגיאה בקבלת עדכונים בזמן אמת:",X)});return()=>V()},[]),ve.useEffect(()=>{const M=()=>{u(window.innerWidth<=768)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const f=async()=>{try{await KN(n0),e(null),t("/login")}catch(M){alert("שגיאה בהתנתקות: "+M.message)}},h=()=>{i(!1)},p=M=>{switch(M){case"MainAdmin":return"מנהל ראשי";case"GmachAdmin":return"מנהל גמח";default:return"משתמש"}};if(s===null)return null;const g={backgroundColor:"#f2f2f2",padding:"10px 0",direction:"rtl",borderBottom:"1px solid #ccc",position:"relative",zIndex:1e3},m={padding:"12px 16px",textDecoration:"none",color:"#0056b3",fontWeight:"500",fontSize:"16px",display:"block"},x={position:"absolute",top:"10px",left:s?"20px":"auto",right:s?"auto":"20px",display:"flex",alignItems:"center",gap:"10px",fontWeight:"bold",color:"#333"},b={backgroundColor:"#e74c3c",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},S={position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:999},C={position:"fixed",top:0,right:r?0:"-70%",height:"100%",width:"70%",backgroundColor:"#fff",boxShadow:"0 0 12px rgba(0,0,0,0.25)",padding:"20px",display:"flex",flexDirection:"column",gap:"10px",transition:"right 0.3s ease",zIndex:1e3},D={display:"flex",justifyContent:"center",gap:"10px",padding:"10px 0"};return k.jsxs("div",{style:g,children:[s&&k.jsx("button",{onClick:()=>i(!0),style:{fontSize:"24px",background:"none",border:"none",cursor:"pointer",padding:"0 1rem"},children:"☰"}),!s&&k.jsxs("div",{style:D,children:[k.jsx(_r,{to:"/",style:m,children:"דף הבית"}),k.jsx(_r,{to:"/catalog",style:m,children:"קטלוג מוצרים"}),(n==null?void 0:n.role)==="User"&&a&&k.jsxs(k.Fragment,{children:[k.jsx(_r,{to:"/my-orders",style:m,children:"ההזמנות שלי"}),k.jsx(_r,{to:"/request",style:m,children:"בקשת השאלה"})]}),((n==null?void 0:n.role)==="GmachAdmin"||(n==null?void 0:n.role)==="MainAdmin")&&k.jsxs(k.Fragment,{children:[k.jsx(_r,{to:"/new-loan",style:m,children:"הזמנה חדשה"}),a&&k.jsx(_r,{to:"/requests",style:m,children:"בקשות להזמנה"}),k.jsx(_r,{to:"/Calendar",style:m,children:"השאלות פתוחות"}),k.jsx(_r,{to:"/history",style:m,children:"היסטוריית השאלות"}),k.jsx(_r,{to:"/manage-product",style:m,children:"ניהול מוצרים"})]}),(n==null?void 0:n.role)==="MainAdmin"&&k.jsx(_r,{to:"/manage-users",style:m,children:"ניהול משתמשים"}),!n&&k.jsxs(k.Fragment,{children:[k.jsx(_r,{to:"/login",style:m,children:"התחברות"}),k.jsx(_r,{to:"/register",style:m,children:"הרשמה"})]})]}),r&&s&&k.jsxs(k.Fragment,{children:[k.jsx("div",{style:S,onClick:h}),k.jsxs("div",{style:C,children:[k.jsx(_r,{to:"/",style:m,onClick:h,children:"דף הבית"}),k.jsx(_r,{to:"/catalog",style:m,onClick:h,children:"קטלוג מוצרים"}),(n==null?void 0:n.role)==="User"&&a&&k.jsxs(k.Fragment,{children:[k.jsx(_r,{to:"/my-orders",style:m,onClick:h,children:"ההזמנות שלי"}),k.jsx(_r,{to:"/request",style:m,onClick:h,children:"בקשת השאלה"})]}),((n==null?void 0:n.role)==="GmachAdmin"||(n==null?void 0:n.role)==="MainAdmin")&&k.jsxs(k.Fragment,{children:[k.jsx(_r,{to:"/new-loan",style:m,onClick:h,children:"הזמנה חדשה"}),a&&k.jsx(_r,{to:"/requests",style:m,onClick:h,children:"בקשות להזמנה"}),k.jsx(_r,{to:"/Calendar",style:m,onClick:h,children:"השאלות פתוחות"}),k.jsx(_r,{to:"/history",style:m,onClick:h,children:"היסטוריית השאלות"}),k.jsx(_r,{to:"/manage-product",style:m,onClick:h,children:"ניהול מוצרים"})]}),(n==null?void 0:n.role)==="MainAdmin"&&k.jsx(_r,{to:"/manage-users",style:m,onClick:h,children:"ניהול משתמשים"}),!n&&k.jsxs(k.Fragment,{children:[k.jsx(_r,{to:"/login",style:m,onClick:h,children:"התחברות"}),k.jsx(_r,{to:"/register",style:m,onClick:h,children:"הרשמה"})]})]})]}),n&&k.jsxs("div",{style:x,children:["שלום ",n.username," (",p(n.role),")",k.jsx("button",{style:b,onClick:f,children:"התנתק"})]})]})},vk=()=>{const{user:n}=x0(),e={padding:"2rem",textAlign:"center",direction:"rtl",maxWidth:"1000px",margin:"0 auto"},t={fontSize:"24px",fontWeight:"bold",marginBottom:"1rem"},r={maxWidth:"800px",margin:"0 auto",fontSize:"16px",lineHeight:"1.8",color:"#333"},i={display:"flex",justifyContent:"center",marginTop:"2rem"},a={width:"100%",minHeight:"300px",aspectRatio:"16/9",border:"1px solid #ccc",borderRadius:"12px"},o={position:"fixed",bottom:"20px",right:"20px",backgroundColor:"#007bff",color:"white",padding:"12px 20px",borderRadius:"10px",fontWeight:"bold",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)",zIndex:1e3,fontSize:"15px",maxWidth:"calc(100% - 40px)",wordWrap:"break-word"};return k.jsxs("div",{style:e,children:[k.jsx("h2",{style:t,children:'ברוכים הבאים לגמ"ח שמחת זקנתי'}),k.jsx("img",{src:"https://www.loan4all.co.il/wp-content/uploads/elementor/thumbs/%D7%A2%D7%99%D7%A6%D7%95%D7%91-%D7%9C%D7%9C%D7%90-%D7%A9%D7%9D-66-pk7bw0x4rbkrwfq7lsj9ow3fqrr6og52r04ld4c6uw.jpg",alt:'תמונה זמנית של גמ"ח',style:{width:"100%",height:"auto",borderRadius:"12px",marginBottom:"2rem",maxWidth:"800px"}}),k.jsxs("div",{style:r,children:['פני פתחה את גמ"ח הציוד לשמחות ואירועים "שמחת זקנתי" לפני כ־10 שנים, לזכר סבה וסבתה – אברהם ואסתר ליבן ז"ל, ממקימי הקיבוץ. הגמ"ח החל לפעול מתוך ביתם ממש ולאחר מכן עבר למבנה שהוקצה ושופץ על ידי הקיבוץ.',k.jsx("br",{}),k.jsx("br",{}),'הגמ"ח מצריך תחזוקה מתמדת, התרמות, חידושים וסידור עם משתמשים רבים מהאזור. משתמשי הגמ"ח נהנים ממגוון ציוד עשיר, ויש להזמין כמה חודשים מראש.']}),k.jsxs("div",{style:{marginTop:"2rem"},children:[k.jsx("h3",{children:"📍 מיקום והגעה"}),k.jsxs("div",{children:[k.jsx("a",{href:"https://maps.app.goo.gl/zHkUGZDnGVsUrBCB6",target:"_blank",rel:"noopener noreferrer",children:"Google Maps"})," |"," ",k.jsx("a",{href:"https://waze.com/ul?ll=31.775887,34.703164",target:"_blank",rel:"noopener noreferrer",children:"Waze"})]})]}),k.jsx("div",{style:i,children:k.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3397.5048273376477!2d34.700989976271735!3d31.775929474075373!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1502b42c80f15f07%3A0x1c268bf25e45b76b!2z15TXmdeo16jXnNeZ150!5e0!3m2!1siw!2sil!4v1713201210130!5m2!1siw!2sil",width:"100%",height:"100%",style:a,allowFullScreen:"",loading:"lazy",title:'מיקום גמ"ח'})}),(!n||n.role==="User")&&k.jsxs("div",{style:o,children:["📞 לתיאום ולהגעה: ",k.jsx("a",{href:"tel:0501234567",style:{color:"white",textDecoration:"underline"},children:"050-1234567"})]})]})},yk=()=>{const[n,e]=ve.useState(""),[t,r]=ve.useState(""),[i,a]=ve.useState(""),{setUser:o}=x0(),s=Hy(),u=async()=>{if(!n||!n.includes("@")){a("יש להזין אימייל תקין לשחזור סיסמה");return}try{await qN(n0,n),a("קישור לאיפוס סיסמה נשלח לאימייל")}catch(p){a("שגיאה בשליחת קישור לאיפוס סיסמה: "+p.message)}},f=async p=>{p.preventDefault(),a("");let g=n;if(!n.includes("@"))try{const m=Jc(Dr(sn,"users"),nh("username","==",n)),x=await Pi(m);if(!x.empty)g=x.docs[0].data().email;else{a("שם משתמש לא נמצא");return}}catch{a("שגיאה באחזור אימייל לפי שם משתמש");return}try{const x=(await GN(n0,g,t)).user;if(!x.emailVerified){a("נא לאמת את כתובת האימייל לפני ההתחברות");return}const b=hi(sn,"users",x.uid),S=await xd(b);if(S.exists()){const C=S.data();o({uid:x.uid,email:x.email,username:C.username,role:C.role}),s("/")}else a("לא נמצאו נתוני משתמש במסד הנתונים")}catch(m){switch(m.code){case"auth/invalid-credential":case"auth/wrong-password":a("סיסמה שגויה");break;case"auth/user-not-found":a("המשתמש לא נמצא");break;default:a("שגיאה: "+m.message)}}},h={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",backgroundColor:"#f2f2f2"},form:{backgroundColor:"#fff",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",width:"300px"},title:{textAlign:"center",marginBottom:"1.5rem",color:"#333"},input:{marginBottom:"1rem",padding:"0.8rem",fontSize:"1rem",borderRadius:"6px",border:"1px solid #ccc"},button:{backgroundColor:"#007bff",color:"white",border:"none",padding:"0.8rem",fontSize:"1rem",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.3s ease"},error:{color:"red",marginBottom:"1rem",fontSize:"0.9rem",textAlign:"center"}};return k.jsx("div",{style:h.container,children:k.jsxs("form",{onSubmit:f,style:h.form,children:[k.jsx("h2",{style:h.title,children:"התחברות"}),k.jsx("input",{type:"text",placeholder:"שם משתמש או אימייל",value:n,onChange:p=>e(p.target.value),style:h.input,required:!0}),k.jsx("input",{type:"password",placeholder:"סיסמה",value:t,onChange:p=>r(p.target.value),style:h.input,required:!0}),i&&k.jsx("div",{style:h.error,children:i}),k.jsx("button",{type:"submit",style:h.button,children:"התחבר"}),k.jsx("button",{type:"button",onClick:u,style:{marginTop:"0.5rem",backgroundColor:"transparent",border:"none",color:"#007bff",textDecoration:"underline",cursor:"pointer",fontSize:"0.9rem"},children:"שכחת סיסמה?"})]})})},_k=()=>{const[n,e]=ve.useState(""),[t,r]=ve.useState(""),[i,a]=ve.useState(""),[o,s]=ve.useState(""),u=p=>p.length>=8&&/[a-zA-Z]/.test(p),f=async p=>{if(p.preventDefault(),!u(i)){s("הסיסמה חייבת להכיל לפחות 8 תווים ולפחות אות אחת באנגלית A-Z / a-z");return}try{const m=(await HN(n0,n,i)).user;await G5(hi(sn,"users",m.uid),{email:n,username:t,role:"User"}),await WN(m),alert("נרשמת בהצלחה! נשלח אליך מייל לאימות.")}catch(g){s(g.message)}},h={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",backgroundColor:"#f2f2f2"},form:{backgroundColor:"#fff",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",width:"300px"},title:{textAlign:"center",marginBottom:"1.5rem",color:"#333"},input:{marginBottom:"1rem",padding:"0.8rem",fontSize:"1rem",borderRadius:"6px",border:"1px solid #ccc"},button:{backgroundColor:"#007bff",color:"white",border:"none",padding:"0.8rem",fontSize:"1rem",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.3s ease"},error:{color:"red",marginBottom:"1rem",fontSize:"0.9rem",textAlign:"center"}};return k.jsx("div",{style:h.container,children:k.jsxs("form",{onSubmit:f,style:h.form,children:[k.jsx("h2",{style:h.title,children:"הרשמה"}),k.jsx("input",{type:"text",placeholder:"שם משתמש",value:t,onChange:p=>r(p.target.value),style:h.input,required:!0}),k.jsx("input",{type:"email",placeholder:"אימייל",value:n,onChange:p=>e(p.target.value),style:h.input,required:!0}),k.jsx("input",{type:"password",placeholder:"סיסמה",value:i,onChange:p=>a(p.target.value),style:h.input,required:!0}),o&&k.jsx("div",{style:h.error,children:o}),k.jsx("button",{type:"submit",style:h.button,children:"הרשם"})]})})},xk=()=>{const{user:n}=x0(),[e,t]=ve.useState([]),[r,i]=ve.useState(""),[a,o]=ve.useState(null);ve.useEffect(()=>{(async()=>{const m=Dr(sn,"users"),b=(await Pi(m)).docs.map(S=>({id:S.id,...S.data()}));t(b)})()},[]),ve.useEffect(()=>{(async()=>{try{const m=hi(sn,"settings","onlineOrdering"),x=await xd(m);x.exists()&&o(x.data().enabled)}catch(m){console.error("שגיאה בטעינת ההגדרה:",m)}})()},[]);const s=async(g,m)=>{const x=hi(sn,"users",g);await eu(x,{role:m}),t(e.map(b=>b.id===g?{...b,role:m}:b))},u=async()=>{try{const g=!a;await eu(hi(sn,"settings","onlineOrdering"),{enabled:g}),o(g)}catch(g){alert("שגיאה בעדכון ההגדרה: "+g.message)}},f={container:{padding:"1rem",direction:"rtl",maxWidth:"100%",overflow:"hidden"},header:{fontSize:"1.8rem",marginBottom:"2rem",textAlign:"center",color:"#333",fontWeight:"600"},toggleBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",marginBottom:"2rem",backgroundColor:"#f8f9fa",padding:"16px 24px",borderRadius:"15px",border:"2px solid #e9ecef",maxWidth:"400px",margin:"0 auto 2rem auto",boxSizing:"border-box",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},toggleSwitch:{width:"50px",height:"28px",borderRadius:"50px",backgroundColor:a?"#4caf50":"#e74c3c",position:"relative",cursor:"pointer",transition:"0.3s",flexShrink:0},toggleCircle:{position:"absolute",top:"3px",left:a?"25px":"3px",width:"22px",height:"22px",borderRadius:"50%",backgroundColor:"white",transition:"0.3s",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},searchBox:{padding:"12px 16px",width:"100%",maxWidth:"500px",borderRadius:"10px",border:"2px solid #ddd",fontSize:"16px",marginBottom:"2rem",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s ease",display:"block",margin:"0 auto 2rem auto"},tableContainer:{overflowX:"auto",marginTop:"1rem",borderRadius:"12px",border:"1px solid #ddd",maxWidth:"1200px",margin:"0 auto",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},table:{width:"100%",borderCollapse:"collapse",minWidth:"600px",backgroundColor:"white"},th:{border:"1px solid #ddd",padding:"12px 8px",backgroundColor:"#f8f9fa",fontWeight:"600",fontSize:"0.9rem",textAlign:"center",whiteSpace:"nowrap"},td:{border:"1px solid #ddd",padding:"12px 8px",textAlign:"center",fontSize:"0.85rem",verticalAlign:"middle"},button:{padding:"8px 12px",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"0.8rem",fontWeight:"500",whiteSpace:"nowrap",minWidth:"100px",transition:"opacity 0.2s ease"},promoteBtn:{backgroundColor:"#28a745",color:"white"},demoteBtn:{backgroundColor:"#dc3545",color:"white"}};if(!n||n.role!=="MainAdmin")return k.jsx("div",{style:{padding:"2rem",textAlign:"center",direction:"rtl"},children:k.jsx("p",{children:"אין לך גישה לעמוד זה"})});const h=e.filter(g=>g.username&&g.username.toLowerCase().includes(r.toLowerCase())),p=({user:g})=>k.jsxs("div",{style:{backgroundColor:"white",border:"1px solid #ddd",borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[k.jsx("h4",{style:{margin:0,color:"#333",fontSize:"1.1rem"},children:g.username}),k.jsx("span",{style:{backgroundColor:g.role==="MainAdmin"?"#6f42c1":g.role==="GmachAdmin"?"#17a2b8":"#6c757d",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"500"},children:g.role==="User"?"משתמש רגיל":g.role==="GmachAdmin"?'מנהל גמ"ח':g.role==="MainAdmin"?"מנהל ראשי":g.role})]}),k.jsxs("p",{style:{margin:"0.5rem 0",color:"#666",fontSize:"0.9rem",wordBreak:"break-all"},children:["📧 ",g.email]}),g.role!=="MainAdmin"&&k.jsx("div",{style:{marginTop:"1rem"},children:g.role==="User"?k.jsx("button",{style:{...f.button,...f.promoteBtn,width:"100%"},onClick:()=>s(g.id,"GmachAdmin"),children:'שדרג למנהל גמ"ח'}):k.jsx("button",{style:{...f.button,...f.demoteBtn,width:"100%"},onClick:()=>s(g.id,"User"),children:"החזר למשתמש רגיל"})})]});return k.jsxs(k.Fragment,{children:[k.jsx("style",{children:`
          @media (max-width: 768px) {
            .desktop-table {
              display: none !important;
            }
            .mobile-cards {
              display: block !important;
            }
            .container-mobile {
              padding: 1rem !important;
            }
            .header-mobile {
              font-size: 1.5rem !important;
              margin-bottom: 1.5rem !important;
            }
            .toggle-mobile {
              max-width: 100% !important;
              margin: 0 0 1.5rem 0 !important;
              padding: 12px 16px !important;
            }
            .search-mobile {
              margin: 0 0 1.5rem 0 !important;
              max-width: 100% !important;
            }
          }
          
          @media (min-width: 769px) {
            .desktop-table {
              display: table !important;
            }
            .mobile-cards {
              display: none !important;
            }
            .container-desktop {
              padding: 2rem !important;
              max-width: 1400px !important;
              margin: 0 auto !important;
            }
          }
          
          input:focus {
            border-color: #1976d2 !important;
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1) !important;
          }
          
          button:hover {
            opacity: 0.9;
          }
          
          button:active {
            transform: translateY(1px);
          }
        `}),k.jsxs("div",{style:f.container,className:"container-mobile container-desktop",children:[k.jsx("h2",{style:f.header,className:"header-mobile",children:"ניהול משתמשים"}),a!==null&&k.jsxs("div",{style:f.toggleBox,className:"toggle-mobile",children:[k.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:"הזמנות דרך האתר:"}),k.jsx("div",{style:f.toggleSwitch,onClick:u,children:k.jsx("div",{style:f.toggleCircle})})]}),k.jsx("input",{type:"text",placeholder:"חיפוש משתמש...",value:r,onChange:g=>i(g.target.value),style:f.searchBox,className:"search-mobile",dir:"rtl"}),k.jsx("div",{style:f.tableContainer,className:"desktop-table",children:k.jsxs("table",{style:f.table,children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{style:f.th,children:"שם משתמש"}),k.jsx("th",{style:f.th,children:"אימייל"}),k.jsx("th",{style:f.th,children:"הרשאה"}),k.jsx("th",{style:f.th,children:"פעולה"})]})}),k.jsx("tbody",{children:h.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem",color:"#666"},children:"לא נמצאו משתמשים תואמים"})}):h.map(g=>k.jsxs("tr",{children:[k.jsx("td",{style:f.td,children:g.username}),k.jsx("td",{style:f.td,children:g.email}),k.jsx("td",{style:f.td,children:g.role==="User"?"משתמש רגיל":g.role==="GmachAdmin"?'מנהל גמ"ח':g.role==="MainAdmin"?"מנהל ראשי":g.role}),k.jsxs("td",{style:f.td,children:[g.role!=="MainAdmin"&&(g.role==="User"?k.jsx("button",{style:{...f.button,...f.promoteBtn},onClick:()=>s(g.id,"GmachAdmin"),children:'שדרג למנהל גמ"ח'}):k.jsx("button",{style:{...f.button,...f.demoteBtn},onClick:()=>s(g.id,"User"),children:"החזר למשתמש רגיל"})),g.role==="MainAdmin"&&k.jsx("span",{style:{color:"#999",fontSize:"0.8rem"},children:"---"})]})]},g.id))})]})}),k.jsx("div",{className:"mobile-cards",style:{display:"none"},children:h.length===0?k.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666",backgroundColor:"white",borderRadius:"12px",border:"1px solid #ddd"},children:"לא נמצאו משתמשים תואמים"}):h.map(g=>k.jsx(p,{user:g},g.id))})]})]})},wk=({form:n,errors:e,handleChange:t,handleConfirm:r,handleClear:i,setShowCatalogPopup:a,saving:o})=>{const s=[{label:"שם מתנדבת",name:"volunteerName",required:!0},{label:"שם לקוח",name:"clientName",required:!0},{label:"מקום מגורים",name:"address",required:!0},{label:"מספר פלאפון",name:"phone",required:!0},{label:"אימייל",name:"email",required:!1},{label:"סוג האירוע",name:"eventType",required:!0},{label:"תאריך לקיחת מוצרים",name:"pickupDate",type:"date",required:!0},{label:"תאריך האירוע",name:"eventDate",type:"date",required:!0},{label:"תאריך החזרת מוצרים",name:"returnDate",type:"date",required:!0}];return k.jsxs("div",{className:"loan-form-box",children:[k.jsx("h2",{style:{textAlign:"center"},children:"הזמנה חדשה"}),s.map(({label:u,name:f,type:h="text",required:p})=>k.jsxs("div",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[k.jsxs("label",{htmlFor:f,style:{display:"block",marginBottom:"0.3rem",maxWidth:"400px",margin:"0 auto",textAlign:"right"},children:[u,p&&" *"]}),k.jsx("input",{id:f,type:h,name:f,value:n[f],onChange:t,min:h==="date"?f==="pickupDate"?new Date().toISOString().split("T")[0]:f==="eventDate"||f==="returnDate"?n.pickupDate||new Date().toISOString().split("T")[0]:void 0:void 0,style:{display:"block",width:"100%",maxWidth:"400px",margin:"0 auto",padding:"10px",border:e[f]?"1px solid red":"1px solid #ccc",borderRadius:"6px",fontSize:"1rem"}}),e[f]&&k.jsx("div",{style:{color:"red",fontSize:"0.85rem",maxWidth:"400px",margin:"0.3rem auto 0",textAlign:"right"},children:e[f]})]},f)),k.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1.5rem"},children:k.jsx("button",{className:"btn btn-blue",onClick:()=>a(!0),children:"בחירת מוצרים"})}),k.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[k.jsx("button",{className:"btn btn-green",onClick:r,disabled:o,children:o?"שומר...":"אישור הזמנה"}),k.jsx("button",{className:"btn btn-red",onClick:i,disabled:o,children:"ביטול הזמנה"})]})]})};function bk(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function Ak(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var Ek=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sk=function(n){Ek(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),bk(a,i.prototype),Ak(a),a}return e}(Error),Ck=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wo=function(n){Ck(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(Sk),Tk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Js=function(n){Tk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(wo),Ik=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bt=function(n){Ik(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(wo),Nk=function(){function n(e){if(this.binarizer=e,e===null)throw new Bt("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),Rk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ki=function(n){Rk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(wo),Ok=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),xr=function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),Dk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Z5=function(n){Dk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(wo),Pk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pb=function(n){Pk(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Z5),Lk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Di=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new Bt("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new pb(t);if(r>e)throw new pb(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=Lk(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return xr.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=r(t,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),gn=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Qi=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);xr.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return t;a=r[i]}var s=i*32+gn.numberOfTrailingZeros(a);return s>t?t:s},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return t;a=~r[i]}var s=i*32+gn.numberOfTrailingZeros(a);return s>t?t:s},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Bt;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,o=r;o<=i;o++){var s=o>r?0:e&31,u=o<i?31:t&31,f=(2<<u)-(1<<s);a[o]|=f}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new Bt;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,s=i;s<=a;s++){var u=s>i?0:e&31,f=s<a?31:t&31,h=(2<<f)-(1<<u)&4294967295;if((o[s]&h)!==(r?h:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Bt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new Bt("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;t[r+a]=o}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-a]=o}if(this.size!==r*32){for(var s=r*32-this.size,u=e[0]>>>s,a=1;a<r;a++){var f=e[a];u|=f<<32-s,e[a-1]=u,u=f>>>s}e[r-1]=u}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&Di.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+Di.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),uy;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(uy||(uy={}));const Pr=uy;var kk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pt=function(n){kk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(wo),Mk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rr;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(rr||(rr={}));var Oi=function(){function n(e,t,r){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=o,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var u=this.values,f=0,h=u.length;f!==h;f++){var p=u[f];n.VALUES_TO_ECI.set(p,this)}try{for(var g=Mk(o),m=g.next();!m.done;m=g.next()){var x=m.value;n.NAME_TO_ECI.set(x,this)}}catch(b){i={error:b}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new pt("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new pt("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new pt("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(rr.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(rr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(rr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(rr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(rr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(rr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(rr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(rr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(rr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(rr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(rr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(rr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(rr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(rr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(rr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(rr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(rr.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(rr.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(rr.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(rr.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(rr.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(rr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(rr.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(rr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(rr.Big5,28,"Big5"),n.GB18030=new n(rr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(rr.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),Bk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kp=function(n){Bk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(wo),xs=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof Oi?e:Oi.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(r.equals(Oi.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Kp("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(Oi.UTF8)||e.equals(Oi.ISO8859_1)||e.equals(Oi.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n}(),On=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return xs.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(Pr.CHARACTER_SET)!==void 0)return t.get(Pr.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,o=!0,s=0,u=0,f=0,h=0,p=0,g=0,m=0,x=0,b=0,S=0,C=0,D=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,M=0;M<r&&(i||a||o);M++){var V=e[M]&255;o&&(s>0?(V&128)===0?o=!1:s--:(V&128)!==0&&((V&64)===0?o=!1:(s++,(V&32)===0?u++:(s++,(V&16)===0?f++:(s++,(V&8)===0?h++:o=!1))))),i&&(V>127&&V<160?i=!1:V>159&&(V<192||V===215||V===247)&&C++),a&&(p>0?V<64||V===127||V>252?a=!1:p--:V===128||V===160||V>239?a=!1:V>160&&V<224?(g++,x=0,m++,m>b&&(b=m)):V>127?(p++,m=0,x++,x>S&&(S=x)):(m=0,x=0))}return o&&s>0&&(o=!1),a&&p>0&&(a=!1),o&&(D||u+f+h>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||b>=3||S>=3)?n.SHIFT_JIS:i&&a?b===2&&g===2||C*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:o?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(s,u,f,h,p,g){if(s==="%%")return"%";if(t[++i]!==void 0){s=h?parseInt(h.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,x;switch(g){case"s":x=t[i];break;case"c":x=t[i][0];break;case"f":x=parseFloat(t[i]).toFixed(s);break;case"p":x=parseFloat(t[i]).toPrecision(s);break;case"e":x=parseFloat(t[i]).toExponential(s);break;case"x":x=parseInt(t[i]).toString(m||16);break;case"d":x=parseFloat(parseInt(t[i],m||10).toPrecision(s)).toFixed(0);break}x=typeof x=="object"?JSON.stringify(x):(+x).toString(m);for(var b=parseInt(f),S=f&&f[0]+""=="0"?"0":" ";x.length<b;)x=u!==void 0?x+S:S+x;return x}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},n.getBytes=function(e,t){return xs.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=Oi.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=Oi.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=Oi.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),cn=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=On.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),nu=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Bt("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var o=e[a],s=0;s<r;s++)o[s]&&i.set(s,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new Bt("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Bt("row lengths do not match");o=a,u++}f++}else if(e.substring(f,f+t.length)===t)f+=t.length,i[a]=!0,a++;else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!1,a++;else throw new Bt("illegal character encountered: "+e.substring(f));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Bt("row lengths do not match");u++}for(var h=new n(s,u),p=0;p<a;p++)i[p]&&h.set(Math.floor(p%s),Math.floor(p/s));return h},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Bt("input matrix dimensions do not match");for(var t=new Qi(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*r,u=e.getRow(a,t).getBitArray(),f=0;f<r;f++)i[s+f]^=u[f]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new Bt("Left and top must be nonnegative");if(i<1||r<1)throw new Bt("Height and width must be at least 1");var a=e+r,o=t+i;if(o>this.height||a>this.width)throw new Bt("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,f=t;f<o;f++)for(var h=f*s,p=e;p<a;p++)u[h+Math.floor(p/32)]|=1<<(p&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Qi(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,o=0;o<r;o++)t.setBulk(o*32,i[a+o]);return t},n.prototype.setRow=function(e,t){xr.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new Qi(e),i=new Qi(e),a=0,o=Math.floor((t+1)/2);a<o;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,o=t,s=-1,u=-1,f=0;f<t;f++)for(var h=0;h<r;h++){var p=i[f*r+h];if(p!==0){if(f<o&&(o=f),f>u&&(u=f),h*32<a){for(var g=0;(p<<31-g&4294967295)===0;)g++;h*32+g<a&&(a=h*32+g)}if(h*32+31>s){for(var g=31;!(p>>>g);)g--;h*32+g>s&&(s=h*32+g)}}}return s<a||u<o?null:Int32Array.from([a,o,s-a+1,u-o+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,o=t[r],s=0;(o<<31-s&4294967295)===0;)s++;return a+=s,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,o=t[r],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&Di.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Di.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new cn,a=0,o=this.height;a<o;a++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),Fk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ze=function(n){Fk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(wo),jk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Uk=function(n){jk(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new Qi(a):r.clear(),this.initArrays(a);for(var o=i.getRow(t,this.luminances),s=this.buckets,u=0;u<a;u++)s[(o[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(s);if(a<3)for(var u=0;u<a;u++)(o[u]&255)<f&&r.set(u);else for(var h=o[0]&255,p=o[1]&255,u=1;u<a-1;u++){var g=o[u+1]&255;(p*4-h-g)/2<f&&r.set(u),h=p,p=g}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new nu(r,i);this.initArrays(r);for(var o=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),f=t.getRow(u,this.luminances),h=Math.floor(r*4/5),p=Math.floor(r/5);p<h;p++){var g=f[p]&255;o[g>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),x=t.getMatrix(),s=0;s<i;s++)for(var b=s*r,p=0;p<r;p++){var g=x[b+p]&255;g<m&&a.set(p,s)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,o=0,s=0;s<r;s++)t[s]>o&&(a=s,o=t[s]),t[s]>i&&(i=t[s]);for(var u=0,f=0,s=0;s<r;s++){var h=s-a,p=t[s]*h*h;p>f&&(u=s,f=p)}if(a>u){var g=a;a=u,u=g}if(u-a<=r/16)throw new ze;for(var m=u-1,x=-1,s=u-1;s>a;s--){var b=s-a,p=b*b*(u-s)*(i-t[s]);p>x&&(m=s,x=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Ok),Vk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zk=function(n){Vk(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),o=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&o++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var u=e.calculateBlackPoints(a,o,s,r,i),f=new nu(r,i);e.calculateThresholdForBlock(a,o,s,r,i,u,f),this.matrix=f}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,o,s,u){for(var f=o-e.BLOCK_SIZE,h=a-e.BLOCK_SIZE,p=0;p<i;p++){var g=p<<e.BLOCK_SIZE_POWER;g>f&&(g=f);for(var m=e.cap(p,2,i-3),x=0;x<r;x++){var b=x<<e.BLOCK_SIZE_POWER;b>h&&(b=h);for(var S=e.cap(x,2,r-3),C=0,D=-2;D<=2;D++){var M=s[m+D];C+=M[S-2]+M[S-1]+M[S]+M[S+1]+M[S+2]}var V=C/25;e.thresholdBlock(t,b,g,V,a,u)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,o,s){for(var u=0,f=i*o+r;u<e.BLOCK_SIZE;u++,f+=o)for(var h=0;h<e.BLOCK_SIZE;h++)(t[f+h]&255)<=a&&s.set(r+h,i+u)},e.calculateBlackPoints=function(t,r,i,a,o){for(var s=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,f=new Array(i),h=0;h<i;h++){f[h]=new Int32Array(r);var p=h<<e.BLOCK_SIZE_POWER;p>s&&(p=s);for(var g=0;g<r;g++){var m=g<<e.BLOCK_SIZE_POWER;m>u&&(m=u);for(var x=0,b=255,S=0,C=0,D=p*a+m;C<e.BLOCK_SIZE;C++,D+=a){for(var M=0;M<e.BLOCK_SIZE;M++){var V=t[D+M]&255;x+=V,V<b&&(b=V),V>S&&(S=V)}if(S-b>e.MIN_DYNAMIC_RANGE)for(C++,D+=a;C<e.BLOCK_SIZE;C++,D+=a)for(var M=0;M<e.BLOCK_SIZE;M++)x+=t[D+M]&255}var X=x>>e.BLOCK_SIZE_POWER*2;if(S-b<=e.MIN_DYNAMIC_RANGE&&(X=b/2,h>0&&g>0)){var $=(f[h-1][g]+2*f[h][g-1]+f[h-1][g-1])/4;b<$&&(X=$)}f[h][g]=X}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Uk),b2=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new Kp("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new Kp("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new Kp("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new cn,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",t.append(s)}t.append(`
`)}return t.toString()},n}(),qk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J5=function(n){qk(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(b2),Hk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gk=function(n){Hk(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,u=0,f=t.length;s<f;s+=4,u++){var h=void 0,p=t[s+3];if(p===0)h=255;else{var g=t[s],m=t[s+1],x=t[s+2];h=306*g+601*m+117*x+512>>10}o[u]=h}else for(var s=0,u=0,b=t.length;s<b;s+=4,u++){var h=void 0,p=t[s+3];if(p===0)h=255;else{var g=t[s],m=t[s+1],x=t[s+2];h=306*g+601*m+117*x+512>>10}o[u]=255-h}return o},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Bt("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return r.width=u,r.height=f,i.translate(u/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new J5(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(b2),Wk=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),Ga=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{f(r.next(h))}catch(p){o(p)}}function u(h){try{f(r.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(s,u)}f((r=r.apply(n,e||[])).next())})},Wa=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(h){f=[6,h],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},$k=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rd=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return Ga(this,void 0,void 0,function(){var e,t,r,i,a,o,s,u,f,h,p,g;return Wa(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),t=[];try{for(r=$k(e),i=r.next();!i.done;i=r.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device "+(t.length+1),f=a.groupId,h={deviceId:s,label:u,kind:o,groupId:f},t.push(h))}catch(x){p={error:x}}finally{try{i&&!i.done&&(g=r.return)&&g.call(r)}finally{if(p)throw p.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return Ga(this,void 0,void 0,function(){var e;return Wa(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new Wk(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return Ga(this,void 0,void 0,function(){var t;return Wa(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return Ga(this,void 0,void 0,function(){return Wa(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return Ga(this,void 0,void 0,function(){var r,i;return Wa(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return Ga(this,void 0,void 0,function(){var r;return Wa(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return Ga(this,void 0,void 0,function(){var r,i;return Wa(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return Ga(this,void 0,void 0,function(){return Wa(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return Ga(this,void 0,void 0,function(){var i,a;return Wa(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,o.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return Ga(this,void 0,void 0,function(){var i;return Wa(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return Ga(this,void 0,void 0,function(){var i;return Wa(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return Ga(this,void 0,void 0,function(){var r;return Wa(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return Ga(this,void 0,void 0,function(){return Wa(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Js("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Js("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Js("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Js("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new Js("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new Js("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Js("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new Js("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Js("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Js("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return Ga(this,void 0,void 0,function(){return Wa(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return Ga(this,void 0,void 0,function(){return Wa(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new ze("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);o(u)}catch(g){var f=t&&g instanceof ze,h=g instanceof Ki||g instanceof pt,p=h&&r;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(g)}};return new Promise(function(o,s){return a(o,s)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(u){t(null,u);var o=u instanceof Ki||u instanceof pt,s=u instanceof ze;(o||s)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new Gk(r,t),a=new zk(i);return new Nk(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),Ba=function(){function n(e,t,r,i,a,o){r===void 0&&(r=t==null?0:8*t.length),o===void 0&&(o=xr.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=xr.currentTimeMillis():this.timestamp=o}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);xr.arraycopy(t,0,r,0,t.length),xr.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),cy;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(cy||(cy={}));const Mt=cy;var fy;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(fy||(fy={}));const ca=fy;var A2=function(){function n(e,t,r,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),D1=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Bt;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),ef=function(){function n(e,t){if(t.length===0)throw new Bt;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),xr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var o=t[i];r=D1.addOrSubtract(r,o)}return r}r=t[0];for(var s=t.length,u=this.field,i=1;i<s;i++)r=D1.addOrSubtract(u.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Bt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),o=r.length-t.length;xr.arraycopy(r,0,a,0,o);for(var s=o;s<r.length;s++)a[s]=D1.addOrSubtract(t[s-o],r[s]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Bt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),s=this.field,u=0;u<r;u++)for(var f=t[u],h=0;h<a;h++)o[u+h]=D1.addOrSubtract(o[u+h],s.multiply(f,i[h]));return new n(s,o)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,o=0;o<t;o++)i[o]=r.multiply(a[o],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Bt;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(r[s],t);return new n(o,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Bt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Bt("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=t.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(s,u),h=t.buildMonomial(s,u);r=r.addOrSubtract(h),i=i.addOrSubtract(f)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),Xk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rS=function(n){Xk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(wo),Yk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vo=function(n){Yk(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var o=new Int32Array(r),s=1,u=0;u<r;u++)o[u]=s,s*=2,s>=r&&(s^=t,s&=r-1);a.expTable=o;for(var f=new Int32Array(r),u=0;u<r-1;u++)f[o[u]]=u;return a.logTable=f,a.zero=new ef(a,Int32Array.from([0])),a.one=new ef(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Bt;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new ef(this,i)},e.prototype.inverse=function(t){if(t===0)throw new rS;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+gn.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(D1),Kk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Np=function(n){Kk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(wo),Qk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),w0=function(n){Qk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(wo),E2=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new ef(r,e),a=new Int32Array(t),o=!0,s=0;s<t;s++){var u=i.evaluateAt(r.exp(s+r.getGeneratorBase()));a[a.length-1-s]=u,u!==0&&(o=!1)}if(!o)for(var f=new ef(r,a),h=this.runEuclideanAlgorithm(r.buildMonomial(t,1),f,t),p=h[0],g=h[1],m=this.findErrorLocations(p),x=this.findErrorMagnitudes(g,m),s=0;s<m.length;s++){var b=e.length-1-r.log(m[s]);if(b<0)throw new Np("Bad error location");e[b]=vo.addOrSubtract(e[b],x[s])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,o=e,s=t,u=a.getZero(),f=a.getOne();s.getDegree()>=(r/2|0);){var h=o,p=u;if(o=s,u=f,o.isZero())throw new Np("r_{i-1} was zero");s=h;for(var g=a.getZero(),m=o.getCoefficient(o.getDegree()),x=a.inverse(m);s.getDegree()>=o.getDegree()&&!s.isZero();){var b=s.getDegree()-o.getDegree(),S=a.multiply(s.getCoefficient(s.getDegree()),x);g=g.addOrSubtract(a.buildMonomial(b,S)),s=s.addOrSubtract(o.multiplyByMonomial(b,S))}if(f=g.multiply(u).addOrSubtract(p),s.getDegree()>=o.getDegree())throw new w0("Division algorithm failed to reduce polynomial?")}var C=f.getCoefficient(0);if(C===0)throw new Np("sigmaTilde(0) was zero");var D=a.inverse(C),M=f.multiplyScalar(D),V=s.multiplyScalar(D);return[M,V]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,o=1;o<a.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(r[i]=a.inverse(o),i++);if(i!==t)throw new Np("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,o=0;o<r;o++){for(var s=a.inverse(t[o]),u=1,f=0;f<r;f++)if(o!==f){var h=a.multiply(t[f],s),p=(h&1)===0?h|1:h&-2;u=a.multiply(u,p)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(u)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},n}(),oa;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(oa||(oa={}));var gb=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),o=n.getEncodedData(i),s=new A2(a,o,null,null);return s.setNumBits(i.length),s},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=oa.UPPER,i=oa.UPPER,a="",o=0;o<t;)if(i===oa.BINARY){if(t-o<5)break;var s=n.readCode(e,o,5);if(o+=5,s===0){if(t-o<11)break;s=n.readCode(e,o,11)+31,o+=11}for(var u=0;u<s;u++){if(t-o<8){o=t;break}var f=n.readCode(e,o,8);a+=On.castAsNonUtf8Char(f),o+=8}i=r}else{var h=i===oa.DIGIT?4:5;if(t-o<h)break;var f=n.readCode(e,o,h);o+=h;var p=n.getCharacter(i,f);p.startsWith("CTRL_")?(r=i,i=n.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=i)):(a+=p,i=r)}return a},n.getTable=function(e){switch(e){case"L":return oa.LOWER;case"P":return oa.PUNCT;case"M":return oa.MIXED;case"D":return oa.DIGIT;case"B":return oa.BINARY;case"U":default:return oa.UPPER}},n.getCharacter=function(e,t){switch(e){case oa.UPPER:return n.UPPER_TABLE[t];case oa.LOWER:return n.LOWER_TABLE[t];case oa.MIXED:return n.MIXED_TABLE[t];case oa.PUNCT:return n.PUNCT_TABLE[t];case oa.DIGIT:return n.DIGIT_TABLE[t];default:throw new w0("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=vo.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=vo.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=vo.AZTEC_DATA_10):(r=12,t=vo.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new pt;for(var o=e.length%r,s=new Int32Array(a),u=0;u<a;u++,o+=r)s[u]=n.readCode(e,o,r);try{var f=new E2(t);f.decode(s,a-i)}catch(S){throw new pt(S)}for(var h=(1<<r)-1,p=0,u=0;u<i;u++){var g=s[u];if(g===0||g===h)throw new pt;(g===1||g===h-1)&&p++}for(var m=new Array(i*r-p),x=0,u=0;u<i;u++){var g=s[u];if(g===1||g===h-1)m.fill(g>1,x,x+r-1),x+=r-1;else for(var b=r-1;b>=0;--b)m[x++]=(g&1<<b)!==0}return m},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(r,t));if(t)for(var s=0;s<a.length;s++)a[s]=s;else for(var u=i+1+2*gn.truncDivision(gn.truncDivision(i,2)-1,15),f=i/2,h=gn.truncDivision(u,2),s=0;s<f;s++){var p=s+gn.truncDivision(s,15);a[f-s-1]=h-p-1,a[f+s]=h+p+1}for(var s=0,g=0;s<r;s++){for(var m=(r-s)*4+(t?9:12),x=s*2,b=i-1-x,S=0;S<m;S++)for(var C=S*2,D=0;D<2;D++)o[g+C+D]=e.get(a[x+D],a[x+S]),o[g+2*m+C+D]=e.get(a[x+S],a[b-D]),o[g+4*m+C+D]=e.get(a[b-D],a[b-S]),o[g+6*m+C+D]=e.get(a[b-S],a[x+D]);g+=m*8}return o},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),qn=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,o=t-i;return Math.sqrt(a*a+o*o)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n}(),hy=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),It=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*hy.floatToIntBits(this.x)+hy.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(r>=t&&r>=i?(o=e[0],a=e[1],s=e[2]):i>=r&&i>=t?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var u=a;a=s,s=u}e[0]=a,e[1]=o,e[2]=s},n.distance=function(e,t){return qn.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n}(),e_=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),Zk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jk=function(n){Zk(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(e_),dy=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ze}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,u=!1,f=!1,h=!1,p=!1,g=this.width,m=this.height;o;){o=!1;for(var x=!0;(x||!u)&&t<g;)x=this.containsBlackPoint(r,i,t,!1),x?(t++,o=!0,u=!0):u||t++;if(t>=g){a=!0;break}for(var b=!0;(b||!f)&&i<m;)b=this.containsBlackPoint(e,t,i,!0),b?(i++,o=!0,f=!0):f||i++;if(i>=m){a=!0;break}for(var S=!0;(S||!h)&&e>=0;)S=this.containsBlackPoint(r,i,e,!1),S?(e--,o=!0,h=!0):h||e--;if(e<0){a=!0;break}for(var C=!0;(C||!p)&&r>=0;)C=this.containsBlackPoint(e,t,r,!0),C?(r--,o=!0,p=!0):p||r--;if(r<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var D=t-e,M=null,V=1;M===null&&V<D;V++)M=this.getBlackPointOnSegment(e,i-V,e+V,i);if(M==null)throw new ze;for(var X=null,V=1;X===null&&V<D;V++)X=this.getBlackPointOnSegment(e,r+V,e+V,r);if(X==null)throw new ze;for(var $=null,V=1;$===null&&V<D;V++)$=this.getBlackPointOnSegment(t,r+V,t-V,r);if($==null)throw new ze;for(var N=null,V=1;N===null&&V<D;V++)N=this.getBlackPointOnSegment(t,i-V,t-V,i);if(N==null)throw new ze;return this.centerEdges(N,M,$,X)}else throw new ze},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=qn.round(qn.distance(e,t,r,i)),o=(r-e)/a,s=(i-t)/a,u=this.image,f=0;f<a;f++){var h=qn.round(e+f*o),p=qn.round(t+f*s);if(u.get(h,p))return new It(h,p)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),o=e.getY(),s=t.getX(),u=t.getY(),f=r.getX(),h=r.getY(),p=i.getX(),g=i.getY(),m=n.CORR;return a<this.width/2?[new It(p-m,g+m),new It(s+m,u+m),new It(f-m,h-m),new It(a+m,o-m)]:[new It(p+m,g+m),new It(s+m,u-m),new It(f-m,h+m),new It(a-m,o-m)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var o=e;o<=t;o++)if(a.get(o,r))return!0}else for(var s=e;s<=t;s++)if(a.get(r,s))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),mb=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<t.length&&a;o+=2){var s=Math.floor(t[o]),u=Math.floor(t[o+1]);if(s<-1||s>r||u<-1||u>i)throw new ze;a=!1,s===-1?(t[o]=0,a=!0):s===r&&(t[o]=r-1,a=!0),u===-1?(t[o+1]=0,a=!0):u===i&&(t[o+1]=i-1,a=!0)}a=!0;for(var o=t.length-2;o>=0&&a;o-=2){var s=Math.floor(t[o]),u=Math.floor(t[o+1]);if(s<-1||s>r||u<-1||u>i)throw new ze;a=!1,s===-1?(t[o]=0,a=!0):s===r&&(t[o]=r-1,a=!0),u===-1?(t[o+1]=0,a=!0):u===i&&(t[o+1]=i-1,a=!0)}},n}(),iS=function(){function n(e,t,r,i,a,o,s,u,f){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=u,this.a33=f}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,o,s,u,f,h,p,g,m,x,b,S){var C=n.quadrilateralToSquare(e,t,r,i,a,o,s,u),D=n.squareToQuadrilateral(f,h,p,g,m,x,b,S);return D.times(C)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,f=this.a31,h=this.a32,p=this.a33,g=0;g<t;g+=2){var m=e[g],x=e[g+1],b=a*m+u*x+p;e[g]=(r*m+o*x+f)/b,e[g+1]=(i*m+s*x+h)/b}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,f=this.a31,h=this.a32,p=this.a33,g=e.length,m=0;m<g;m++){var x=e[m],b=t[m],S=a*x+u*b+p;e[m]=(r*x+o*b+f)/S,t[m]=(i*x+s*b+h)/S}},n.squareToQuadrilateral=function(e,t,r,i,a,o,s,u){var f=e-r+a-s,h=t-i+o-u;if(f===0&&h===0)return new n(r-e,a-r,e,i-t,o-i,t,0,0,1);var p=r-a,g=s-a,m=i-o,x=u-o,b=p*x-g*m,S=(f*x-g*h)/b,C=(p*h-f*m)/b;return new n(r-e+S*r,s-e+C*s,e,i-t+S*i,u-t+C*u,t,S,C,1)},n.quadrilateralToSquare=function(e,t,r,i,a,o,s,u){return n.squareToQuadrilateral(e,t,r,i,a,o,s,u).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),eM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tM=function(n){eM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,o,s,u,f,h,p,g,m,x,b,S,C,D,M,V){var X=iS.quadrilateralToQuadrilateral(a,o,s,u,f,h,p,g,m,x,b,S,C,D,M,V);return this.sampleGridWithTransform(t,r,i,X)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new ze;for(var o=new nu(r,i),s=new Float32Array(2*r),u=0;u<i;u++){for(var f=s.length,h=u+.5,p=0;p<f;p+=2)s[p]=p/2+.5,s[p+1]=h;a.transformPoints(s),mb.checkAndNudgePoints(t,s);try{for(var p=0;p<f;p+=2)t.get(Math.floor(s[p]),Math.floor(s[p+1]))&&o.set(p/2,u)}catch{throw new ze}}return o},e}(mb),t_=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new tM,n}(),ho=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new It(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),nM=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new Jk(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ze;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var o=r[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,o,s){var u=(a>>t-2<<1)+(a&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(gn.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ze},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,o=new Int32Array(r),s=r-1;s>=0;--s)o[s]=e&15,e>>=4;try{var u=new E2(vo.AZTEC_PARAM);u.decode(o,a)}catch{throw new ze}for(var f=0,s=0;s<i;s++)f=(f<<4)+o[s];return f},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,o,1,-1),u=this.getFirstDifferent(r,o,1,1),f=this.getFirstDifferent(i,o,-1,1),h=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(h,s)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(s,u,f,h))break}t=s,r=u,i=f,a=h,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ze;this.compact=this.nbCenterLayers===5;var g=new It(t.getX()+.5,t.getY()-.5),m=new It(r.getX()+.5,r.getY()+.5),x=new It(i.getX()-.5,i.getY()+.5),b=new It(a.getX()-.5,a.getY()-.5);return this.expandSquare([g,m,x,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new dy(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new ho(o+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ho(o+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ho(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ho(o-7,s-7),!1,-1,-1).toResultPoint()}var u=qn.round((e.getX()+i.getX()+t.getX()+r.getX())/4),f=qn.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new dy(this.image,15,u,f).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new ho(u+7,f-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ho(u+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ho(u-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ho(u-7,f-7),!1,-1,-1).toResultPoint()}return u=qn.round((e.getX()+i.getX()+t.getX()+r.getX())/4),f=qn.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new ho(u,f)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var o=t_.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,u,u,f,u,f,f,u,f,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),o=a/r,s=e.getX(),u=e.getY(),f=o*(t.getX()-e.getX())/a,h=o*(t.getY()-e.getY())/a,p=0;p<r;p++)this.image.get(qn.round(s+p*f),qn.round(u+p*h))&&(i|=1<<r-p-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new ho(e.getX()-a,e.getY()+a),t=new ho(t.getX()-a,t.getY()-a),r=new ho(r.getX()+a,r.getY()-a),i=new ho(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,t);return s!==o||(s=this.getColor(t,r),s!==o)?!1:(s=this.getColor(r,i),s===o)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,o=0,s=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),h=Math.ceil(r),p=0;p<h;p++)s+=i,u+=a,this.image.get(qn.round(s),qn.round(u))!==f&&o++;var g=o/r;return g>.1&&g<.9?0:g<=.1===f?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=r,o+=i;for(a-=r,o-=i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=r;for(a-=r;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=i;return o-=i,new ho(a,o)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new It(s+i*a,u+i*o),h=new It(s-i*a,u-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var p=new It(s+i*a,u+i*o),g=new It(s-i*a,u-i*o),m=[f,p,h,g];return m},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=qn.round(e.getX()),r=qn.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return qn.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return qn.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(gn.truncDivision(this.nbLayers-4,8)+1)+15},n}(),py=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new nM(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new gb().decode(s)}catch(p){r=p}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new gb().decode(s)}catch(p){throw r??p}var u=new Ba(o.getText(),o.getRawBytes(),o.getNumBits(),a,Mt.AZTEC,xr.currentTimeMillis()),f=o.getByteSegments();f!=null&&u.putMetadata(ca.BYTE_SEGMENTS,f);var h=o.getECLevel();return h!=null&&u.putMetadata(ca.ERROR_CORRECTION_LEVEL,h),u},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(Pr.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,o){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),rM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){rM(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new py,t)||this}return e})(Rd);var Li=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(Pr.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),o=a.getResultMetadata(),s=270;o!==null&&o.get(ca.ORIENTATION)===!0&&(s=s+o.get(ca.ORIENTATION)%360),a.putMetadata(ca.ORIENTATION,s);var u=a.getResultPoints();if(u!==null)for(var f=i.getHeight(),h=0;h<u.length;h++)u[h]=new It(f-u[h].getY()-1,u[h].getX());return a}else throw new ze}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new Qi(r),o=t&&t.get(Pr.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),u;o?u=i:u=15;for(var f=Math.trunc(i/2),h=0;h<u;h++){var p=Math.trunc((h+1)/2),g=(h&1)===0,m=f+s*(g?p:-p);if(m<0||m>=i)break;try{a=e.getBlackRow(m,a)}catch{continue}for(var x=function(D){if(D===1&&(a.reverse(),t&&t.get(Pr.NEED_RESULT_POINT_CALLBACK)===!0)){var M=new Map;t.forEach(function($,N){return M.set(N,$)}),M.delete(Pr.NEED_RESULT_POINT_CALLBACK),t=M}try{var V=b.decodeRow(m,a,t);if(D===1){V.putMetadata(ca.ORIENTATION,180);var X=V.getResultPoints();X!==null&&(X[0]=new It(r-X[0].getX()-1,X[0].getY()),X[1]=new It(r-X[1].getX()-1,X[1].getY()))}return{value:V}}catch{}},b=this,S=0;S<2;S++){var C=x(S);if(typeof C=="object")return C.value}}throw new ze},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var o=e.getSize();if(t>=o)throw new ze;for(var s=!e.get(t),u=0,f=t;f<o;){if(e.get(f)!==s)r[u]++;else{if(++u===i)break;r[u]=1,s=!s}f++}if(!(u===i||u===i-1&&f===o))throw new ze},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new ze;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return Number.POSITIVE_INFINITY;var u=a/o;r*=u;for(var f=0,h=0;h<i;h++){var p=e[h],g=t[h]*u,m=p>g?p-g:g-p;if(m>r)return Number.POSITIVE_INFINITY;f+=m}return f/a},n}(),iM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vb=function(n){iM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,f=6,h=i;h<r;h++)if(t.get(h)!==u)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,g=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var x=Li.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);x<p&&(p=x,g=m)}if(g>=0&&t.isRange(Math.max(0,s-(h-s)/2),s,!1))return Int32Array.from([s,h,g]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,u=!u}throw new ze},e.decodeCode=function(t,r,i){Li.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],f=this.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=s)}if(o>=0)return o;throw new ze},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(Pr.ASSUME_GS1)===!0,o=e.findStartPattern(r),s=o[2],u=0,f=new Uint8Array(20);f[u++]=s;var h;switch(s){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new pt}for(var p=!1,g=!1,m="",x=o[0],b=o[1],S=Int32Array.from([0,0,0,0,0,0]),C=0,D=0,M=s,V=0,X=!0,$=!1,N=!1;!p;){var A=g;switch(g=!1,C=D,D=e.decodeCode(r,S,b),f[u++]=D,D!==e.CODE_STOP&&(X=!0),D!==e.CODE_STOP&&(V++,M+=V*D),x=b,b+=S.reduce(function(q,ie){return q+ie},0),D){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new pt}switch(h){case e.CODE_CODE_A:if(D<64)N===$?m+=String.fromCharCode(32+D):m+=String.fromCharCode(32+D+128),N=!1;else if(D<96)N===$?m+=String.fromCharCode(D-64):m+=String.fromCharCode(D+64),N=!1;else switch(D!==e.CODE_STOP&&(X=!1),D){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!$&&N?($=!0,N=!1):$&&N?($=!1,N=!1):N=!0;break;case e.CODE_SHIFT:g=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(D<96)N===$?m+=String.fromCharCode(32+D):m+=String.fromCharCode(32+D+128),N=!1;else switch(D!==e.CODE_STOP&&(X=!1),D){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!$&&N?($=!0,N=!1):$&&N?($=!1,N=!1):N=!0;break;case e.CODE_SHIFT:g=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(D<100)D<10&&(m+="0"),m+=D;else switch(D!==e.CODE_STOP&&(X=!1),D){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}A&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var T=b-x;if(b=r.getNextUnset(b),!r.isRange(b,Math.min(r.getSize(),b+(b-x)/2),!1))throw new ze;if(M-=V*C,M%103!==C)throw new Ki;var F=m.length;if(F===0)throw new ze;F>0&&X&&(h===e.CODE_CODE_C?m=m.substring(0,F-2):m=m.substring(0,F-1));for(var O=(o[1]+o[0])/2,P=x+T/2,j=f.length,Y=new Uint8Array(j),le=0;le<j;le++)Y[le]=f[le];var U=[new It(O,t),new It(P,t)];return new Ba(m,Y,0,U,Mt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Li),aM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yb=function(n){aM(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,o,s,u,f=this.counters;f.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(r,f),p=r.getNextSet(h[1]),g=r.getSize(),m,x;do{e.recordPattern(r,p,f);var b=e.toNarrowWidePattern(f);if(b<0)throw new ze;m=e.patternToChar(b),this.decodeRowResult+=m,x=p;try{for(var S=(a=void 0,lv(f)),C=S.next();!C.done;C=S.next()){var D=C.value;p+=D}}catch(j){a={error:j}}finally{try{C&&!C.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var M=0;try{for(var V=lv(f),X=V.next();!X.done;X=V.next()){var D=X.value;M+=D}}catch(j){s={error:j}}finally{try{X&&!X.done&&(u=V.return)&&u.call(V)}finally{if(s)throw s.error}}var $=p-x-M;if(p!==g&&$*2<M)throw new ze;if(this.usingCheckDigit){for(var N=this.decodeRowResult.length-1,A=0,T=0;T<N;T++)A+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(T));if(this.decodeRowResult.charAt(N)!==e.ALPHABET_STRING.charAt(A%43))throw new Ki;this.decodeRowResult=this.decodeRowResult.substring(0,N)}if(this.decodeRowResult.length===0)throw new ze;var F;this.extendedMode?F=e.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;var O=(h[1]+h[0])/2,P=x+M/2;return new Ba(F,null,0,[new It(O,t),new It(P,t)],Mt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),o=0,s=a,u=!1,f=r.length,h=a;h<i;h++)if(t.get(h)!==u)r[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((h-s)/2)),s,!1))return[s,h];s+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,u=!u}throw new ze},e.toNarrowWidePattern=function(t){var r,i,a=t.length,o=0,s;do{var u=2147483647;try{for(var f=(r=void 0,lv(t)),h=f.next();!h.done;h=f.next()){var p=h.value;p<u&&p>o&&(u=p)}}catch(b){r={error:b}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}o=u,s=0;for(var g=0,m=0,x=0;x<a;x++){var p=t[x];p>o&&(m|=1<<a-1-x,s++,g+=p)}if(s===3){for(var x=0;x<a&&s>0;x++){var p=t[x];if(p>o&&(s--,p*2>=g))return-1}return m}}while(s>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new ze},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var o=t.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=t.charAt(a+1),u="\0";switch(o){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new pt;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new pt;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="";else throw new pt;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new pt;break}i+=u,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Li),oM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_b=function(n){oM(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,o,s,u,f=this.findAsteriskPattern(r),h=r.getNextSet(f[1]),p=r.getSize(),g=this.counters;g.fill(0),this.decodeRowResult="";var m,x;do{e.recordPattern(r,h,g);var b=this.toPattern(g);if(b<0)throw new ze;m=this.patternToChar(b),this.decodeRowResult+=m,x=h;try{for(var S=(a=void 0,uv(g)),C=S.next();!C.done;C=S.next()){var D=C.value;h+=D}}catch(T){a={error:T}}finally{try{C&&!C.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}h=r.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var M=0;try{for(var V=uv(g),X=V.next();!X.done;X=V.next()){var D=X.value;M+=D}}catch(T){s={error:T}}finally{try{X&&!X.done&&(u=V.return)&&u.call(V)}finally{if(s)throw s.error}}if(h===p||!r.get(h))throw new ze;if(this.decodeRowResult.length<2)throw new ze;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var $=this.decodeExtended(this.decodeRowResult),N=(f[1]+f[0])/2,A=x+M/2;return new Ba($,null,0,[new It(N,t),new It(A,t)],Mt.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,u=a.length,f=0,h=i;h<r;h++)if(t.get(h)!==s)a[f]++;else{if(f===u-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,h]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,s=!s}throw new ze},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var o=uv(t),s=o.next();!s.done;s=o.next()){var u=s.value;a+=u}}catch(x){r={error:x}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}for(var f=0,h=t.length,p=0;p<h;p++){var g=Math.round(t[p]*9/a);if(g<1||g>4)return-1;if((p&1)===0)for(var m=0;m<g;m++)f=f<<1|1;else f<<=g}return f},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new ze},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var o=t.charAt(a);if(o>="a"&&o<="d"){if(a>=r-1)throw new pt;var s=t.charAt(a+1),u="\0";switch(o){case"d":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new pt;break;case"a":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new pt;break;case"b":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s>="X"&&s<="Z")u="";else throw new pt;break;case"c":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new pt;break}i+=u,a++}else i+=o}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,o=0,s=r-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(t.charAt(s)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[o%47])throw new Ki},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Li),sM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xb=function(n){sM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,o,s=this.decodeStart(r),u=this.decodeEnd(r),f=new cn;e.decodeMiddle(r,s[1],u[0],f);var h=f.toString(),p=null;i!=null&&(p=i.get(Pr.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var g=h.length,m=!1,x=0;try{for(var b=lM(p),S=b.next();!S.done;S=b.next()){var C=S.value;if(g===C){m=!0;break}C>x&&(x=C)}}catch(V){a={error:V}}finally{try{S&&!S.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}if(!m&&g>x&&(m=!0),!m)throw new pt;var D=[new It(s[1],t),new It(u[0],t)],M=new Ba(h,null,0,D,Mt.ITF,new Date().getTime());return M},e.decodeMiddle=function(t,r,i,a){var o=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),s.fill(0),u.fill(0);r<i;){Li.recordPattern(t,r,o);for(var f=0;f<5;f++){var h=2*f;s[f]=o[h],u[f]=o[h+1]}var p=e.decodeDigit(s);a.append(p.toString()),p=this.decodeDigit(u),a.append(p.toString()),o.forEach(function(g){r+=g})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new ze},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new ze;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ze&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,o=new Int32Array(a),s=t.getSize(),u=!1,f=0,h=r;o.fill(0);for(var p=r;p<s;p++)if(t.get(p)!==u)o[f]++;else{if(f===a-1){if(Li.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,p];h+=o[0]+o[1],xr.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new ze},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],u=Li.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,i=o):u===r&&(i=-1)}if(i>=0)return i%10;throw new ze},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Li),uM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wd=function(n){uM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var u=s-(a-s);u>=0&&(r=t.isRange(u,s,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new pt;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new pt;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,o){var s=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var u=0,f=r,h=a.length,p=i,g=r;g<s;g++)if(t.get(g)!==p)o[u]++;else{if(u===h-1){if(Li.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,g]);f+=o[0]+o[1];for(var m=o.slice(2,o.length),x=0;x<u-1;x++)o[x]=m[x];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,p=!p}throw new ze},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var o=this.MAX_AVG_VARIANCE,s=-1,u=a.length,f=0;f<u;f++){var h=a[f],p=Li.patternMatchVariance(r,h,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,s=f)}if(s>=0)return s;throw new ze},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Li),cM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fM=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),o=i.toString(),s=n.parseExtensionString(o),u=[new It((r[0]+r[1])/2,e),new It(a,e)],f=new Ba(o,null,0,u,Mt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},n.prototype.decodeMiddle=function(e,t,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=t[1],f=0,h=0;h<5&&u<s;h++){var p=wd.decodeDigit(e,o,u,wd.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var g=(i=void 0,cM(o)),m=g.next();!m.done;m=g.next()){var x=m.value;u+=x}}catch(S){i={error:S}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-h),h!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==5)throw new ze;var b=this.determineCheckDigit(f);if(n.extensionChecksum(r.toString())!==b)throw new ze;return u},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new ze},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[ca.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,o=a<10?"0"+a:a.toString();return t+i+"."+o},n}(),hM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dM=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),o=i.toString(),s=n.parseExtensionString(o),u=[new It((r[0]+r[1])/2,e),new It(a,e)],f=new Ba(o,null,0,u,Mt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},n.prototype.decodeMiddle=function(e,t,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=t[1],f=0,h=0;h<2&&u<s;h++){var p=wd.decodeDigit(e,o,u,wd.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var g=(i=void 0,hM(o)),m=g.next();!m.done;m=g.next()){var x=m.value;u+=x}}catch(b){i={error:b}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-h),h!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==2)throw new ze;if(parseInt(r.toString())%4!==f)throw new ze;return u},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[ca.ISSUE_NUMBER,parseInt(e)]])},n}(),pM=function(){function n(){}return n.decodeRow=function(e,t,r){var i=wd.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new fM;return a.decodeRow(e,t,i)}catch{var o=new dM;return o.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),gM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ri=function(n){gM(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),o=i==null?null:i.get(Pr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new It((a[0]+a[1])/2,t);o.foundPossibleResultPoint(s)}var u=this.decodeMiddle(r,a,this.decodeRowStringBuffer),f=u.rowOffset,h=u.resultString;if(o!=null){var p=new It(f,t);o.foundPossibleResultPoint(p)}var g=e.decodeEnd(r,f);if(o!=null){var m=new It((g[0]+g[1])/2,t);o.foundPossibleResultPoint(m)}var x=g[1],b=x+(x-g[0]);if(b>=r.getSize()||!r.isRange(x,b,!1))throw new ze;var S=h.toString();if(S.length<8)throw new pt;if(!e.checkChecksum(S))throw new Ki;var C=(a[1]+a[0])/2,D=(g[1]+g[0])/2,M=this.getBarcodeFormat(),V=[new It(C,t),new It(D,t)],X=new Ba(S,null,0,V,M,new Date().getTime()),$=0;try{var N=pM.decodeRow(t,r,g[1]);X.putMetadata(ca.UPC_EAN_EXTENSION,N.getText()),X.putAllMetadata(N.getResultMetadata()),X.addResultPoints(N.getResultPoints()),$=N.getText().length}catch{}var A=i==null?null:i.get(Pr.ALLOWED_EAN_EXTENSIONS);if(A!=null){var T=!1;for(var F in A)if($.toString()===F){T=!0;break}if(!T)throw new ze}return M===Mt.EAN_13||Mt.UPC_A,X},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new pt;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new pt;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(wd),mM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gy=function(n){mM(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,o,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=t.getSize(),p=r[1],g=0,m=0;m<6&&p<h;m++){var x=Ri.decodeDigit(t,f,p,Ri.L_AND_G_PATTERNS);i+=String.fromCharCode(48+x%10);try{for(var b=(a=void 0,wb(f)),S=b.next();!S.done;S=b.next()){var C=S.value;p+=C}}catch(X){a={error:X}}finally{try{S&&!S.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}x>=10&&(g|=1<<5-m)}i=e.determineFirstDigit(i,g);var D=Ri.findGuardPattern(t,p,!0,Ri.MIDDLE_PATTERN,new Int32Array(Ri.MIDDLE_PATTERN.length).fill(0));p=D[1];for(var m=0;m<6&&p<h;m++){var x=Ri.decodeDigit(t,f,p,Ri.L_PATTERNS);i+=String.fromCharCode(48+x);try{for(var M=(s=void 0,wb(f)),V=M.next();!V.done;V=M.next()){var C=V.value;p+=C}}catch(N){s={error:N}}finally{try{V&&!V.done&&(u=M.return)&&u.call(M)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Mt.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ze},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Ri),vM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ab=function(n){vM(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,o,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=t.getSize(),p=r[1],g=0;g<4&&p<h;g++){var m=Ri.decodeDigit(t,f,p,Ri.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var x=(a=void 0,bb(f)),b=x.next();!b.done;b=x.next()){var S=b.value;p+=S}}catch(V){a={error:V}}finally{try{b&&!b.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}}var C=Ri.findGuardPattern(t,p,!0,Ri.MIDDLE_PATTERN,new Int32Array(Ri.MIDDLE_PATTERN.length).fill(0));p=C[1];for(var g=0;g<4&&p<h;g++){var m=Ri.decodeDigit(t,f,p,Ri.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var D=(s=void 0,bb(f)),M=D.next();!M.done;M=D.next()){var S=M.value;p+=S}}catch($){s={error:$}}finally{try{M&&!M.done&&(u=D.return)&&u.call(D)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Mt.EAN_8},e}(Ri),yM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Eb=function(n){yM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new gy,t}return e.prototype.getBarcodeFormat=function(){return Mt.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new Ba(r.substring(1),null,null,t.getResultPoints(),Mt.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ze},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Ri),_M=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sb=function(n){_M(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,o,s=this.decodeMiddleCounters.map(function(S){return S});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=t.getSize(),f=r[1],h=0,p=0;p<6&&f<u;p++){var g=e.decodeDigit(t,s,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var m=(a=void 0,xM(s)),x=m.next();!x.done;x=m.next()){var b=x.value;f+=b}}catch(S){a={error:S}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}g>=10&&(h|=1<<5-p)}return e.determineNumSysAndCheckDigit(new cn(i),h),f},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Ri.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw ze.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Mt.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new cn;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Ri),wM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cv=function(n){wM(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(Pr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Mt.EAN_13)>-1&&a.push(new gy),i.indexOf(Mt.UPC_A)>-1&&a.push(new Eb),i.indexOf(Mt.EAN_8)>-1&&a.push(new Ab),i.indexOf(Mt.UPC_E)>-1&&a.push(new Sb)),a.length===0&&(a.push(new gy),a.push(new Eb),a.push(new Ab),a.push(new Sb)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,o;try{for(var s=Cb(this.readers),u=s.next();!u.done;u=s.next()){var f=u.value;try{var h=f.decodeRow(t,r,i),p=h.getBarcodeFormat()===Mt.EAN_13&&h.getText().charAt(0)==="0",g=i==null?null:i.get(Pr.POSSIBLE_FORMATS),m=g==null||g.includes(Mt.UPC_A);if(p&&m){var x=h.getRawBytes(),b=new Ba(h.getText().substring(1),x,x?x.length:null,h.getResultPoints(),Mt.UPC_A);return b.putAllMetadata(h.getResultMetadata()),b}return h}catch{}}}catch(S){a={error:S}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new ze},e.prototype.reset=function(){var t,r;try{for(var i=Cb(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(Li),bM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AM=function(n){bM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new ze;var o=this.codaBarDecodeRow(a.row);if(!o)throw new ze;return new Ba(o,null,0,[new It(a.left,t),new It(a.right,t)],Mt.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var o=[],s=r[0],u=1,f=1;f<r.length;f++)r[f]===s?u++:(s=r[f],o.push(u),u=1);return o.push(u),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(u,f){return(u+f)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),o=a.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[o])}var s=r.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(Li),EM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vf=function(n){EM(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(Li.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ze},e.count=function(t){return qn.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],o=1;o<t.length;o++)r[o]>a&&(a=r[o],i=o);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],o=1;o<t.length;o++)r[o]<a&&(a=r[o],i=o);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],o=a+t[2]+t[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var h=SM(t),p=h.next();!p.done;p=h.next()){var g=p.value;g>f&&(f=g),g<u&&(u=g)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Li),Rg=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),aS=function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new It(r,a)),this.resultPoints.push(new It(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),CM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ed=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,o=0;try{for(var s=CM(e),u=s.next();!u.done;u=s.next()){var f=u.value;o+=f}}catch(D){i={error:D}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var h=0,p=0,g=e.length,m=0;m<g-1;m++){var x=void 0;for(x=1,p|=1<<m;x<e[m];x++,p&=~(1<<m)){var b=n.combins(o-x-1,g-m-2);if(r&&p===0&&o-x-(g-m-1)>=g-m-1&&(b-=n.combins(o-x-(g-m),g-m-2)),g-m-1>1){for(var S=0,C=o-x-(g-m-2);C>t;C--)S+=n.combins(o-x-C-1,g-m-3);b-=S*(g-1-m)}else o-x>t&&b--;h+=b}o-=x}return h},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,o=1,s=e;s>r;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},n}(),TM=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new Qi(r),a=0,o=e[0],s=o.getRightChar().getValue(),u=11;u>=0;--u)(s&1<<u)!==0&&i.set(a),a++;for(var u=1;u<e.length;++u){for(var f=e[u],h=f.getLeftChar().getValue(),p=11;p>=0;--p)(h&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var g=f.getRightChar().getValue(),p=11;p>=0;--p)(g&1<<p)!==0&&i.set(a),a++}return i},n}(),Ff=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),n_=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),IM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ys=function(n){IM(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(n_),NM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jf=function(n){NM(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(n_),RM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zh=function(n){RM(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new pt;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(n_),Rp=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OM=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,o,s,u,f;if(!e)return null;if(e.length<2)throw new ze;var h=e.substring(0,2);try{for(var p=Rp(n.TWO_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){var m=g.value;if(m[0]===h)return m[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,m[2],e):n.processFixedAI(2,m[1],e)}}catch($){t={error:$}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}if(e.length<3)throw new ze;var x=e.substring(0,3);try{for(var b=Rp(n.THREE_DIGIT_DATA_LENGTH),S=b.next();!S.done;S=b.next()){var m=S.value;if(m[0]===x)return m[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,m[2],e):n.processFixedAI(3,m[1],e)}}catch($){i={error:$}}finally{try{S&&!S.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}try{for(var C=Rp(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),D=C.next();!D.done;D=C.next()){var m=D.value;if(m[0]===x)return m[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,m[2],e):n.processFixedAI(4,m[1],e)}}catch($){o={error:$}}finally{try{D&&!D.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}if(e.length<4)throw new ze;var M=e.substring(0,4);try{for(var V=Rp(n.FOUR_DIGIT_DATA_LENGTH),X=V.next();!X.done;X=V.next()){var m=X.value;if(m[0]===M)return m[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,m[2],e):n.processFixedAI(4,m[1],e)}}catch($){u={error:$}}finally{try{X&&!X.done&&(f=V.return)&&f.call(V)}finally{if(u)throw u.error}}throw new ze},n.processFixedAI=function(e,t,r){if(r.length<e)throw new ze;var i=r.substring(0,e);if(r.length<e+t)throw new ze;var a=r.substring(e,e+t),o=r.substring(e+t),s="("+i+")"+a,u=n.parseFieldsInGeneralPurpose(o);return u==null?s:s+u},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var o=r.substring(e,a),s=r.substring(a),u="("+i+")"+o,f=n.parseFieldsInGeneralPurpose(s);return f==null?u:u+f},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),Qp=function(){function n(e){this.buffer=new cn,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),o=OM.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new zh(this.information.getSize(),zh.FNC1,zh.FNC1):new zh(this.information.getSize(),t-1,zh.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new zh(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new jf(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new jf(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new jf(this.current.getPosition(),this.buffer.toString()):t=new jf(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ff(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new jf(this.current.getPosition(),this.buffer.toString());return new Ff(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ff(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new jf(this.current.getPosition(),this.buffer.toString());return new Ff(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ff(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new jf(this.current.getPosition(),this.buffer.toString());return new Ff(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ff(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ys(e+5,Ys.FNC1);if(t>=5&&t<15)return new Ys(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Ys(e+7,""+(r+1));if(r>=90&&r<116)return new Ys(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new pt}return new Ys(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ys(e+5,Ys.FNC1);if(t>=5&&t<15)return new Ys(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Ys(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new w0("Decoding invalid alphanumeric value: "+r)}return new Ys(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),oS=function(){function n(e){this.information=e,this.generalDecoder=new Qp(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),DM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nl=function(n){DM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var o=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(oS),PM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LM=function(n){PM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new cn;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(nl),kM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MM=function(n){kM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new cn;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(oS),BM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zp=function(n){BM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var o=this.checkWeight(a),s=1e5,u=0;u<5;++u)o/s===0&&t.append("0"),s/=10;t.append(o)},e}(nl),FM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sS=function(n){FM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Zp.GTIN_SIZE+e.WEIGHT_SIZE)throw new ze;var t=new cn;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Zp.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Zp),jM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UM=function(n){jM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(sS),VM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zM=function(n){VM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(sS),qM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HM=function(n){qM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+nl.GTIN_SIZE)throw new ze;var t=new cn;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+nl.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+nl.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(nl),GM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WM=function(n){GM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+nl.GTIN_SIZE)throw new ze;var t=new cn;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+nl.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+nl.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+nl.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(nl),$M=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fc=function(n){$M(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ze;var t=new cn;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&t.append("0"),t.append(s),o/10===0&&t.append("0"),t.append(o),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Zp);function XM(n){try{if(n.get(1))return new LM(n);if(!n.get(2))return new MM(n);var e=Qp.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new UM(n);case 5:return new zM(n)}var t=Qp.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new HM(n);case 13:return new WM(n)}var r=Qp.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new Fc(n,"310","11");case 57:return new Fc(n,"320","11");case 58:return new Fc(n,"310","13");case 59:return new Fc(n,"320","13");case 60:return new Fc(n,"310","15");case 61:return new Fc(n,"320","15");case 62:return new Fc(n,"310","17");case 63:return new Fc(n,"320","17")}}catch(i){throw console.log(i),new w0("unknown decoder: "+n)}}var Tb=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),YM=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),KM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QM=function(n){KM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(s){if(s instanceof ze){if(!this.pairs.length)throw new ze;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ze},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,o=r;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var u=(i=void 0,jc(t)),f=u.next();!f.done;f=u.next()){var h=f.value;this.pairs.push(h.getPairs())}}catch(g){i={error:g}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(t);p.push(s);try{return this.checkRows(p,o+1)}catch(g){console.log(g)}}}throw new ze},e.isValidSequence=function(t){var r,i;try{for(var a=jc(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(t.length>s.length)){for(var u=!0,f=0;f<t.length;f++)if(t[f].getFinderPattern().getValue()!==s[f]){u=!1;break}if(u)return!0}}}catch(h){r={error:h}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>t){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new YM(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,o,s,u,f;try{for(var h=jc(r),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.getPairs().length!==t.length){var m=!0;try{for(var x=(o=void 0,jc(g.getPairs())),b=x.next();!b.done;b=x.next()){var S=b.value,C=!1;try{for(var D=(u=void 0,jc(t)),M=D.next();!M.done;M=D.next()){var V=M.value;if(Tb.equals(S,V)){C=!0;break}}}catch(X){u={error:X}}finally{try{M&&!M.done&&(f=D.return)&&f.call(D)}finally{if(u)throw u.error}}C||(m=!1)}}catch(X){o={error:X}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}}}}catch(X){i={error:X}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,o,s,u,f;try{for(var h=jc(r),p=h.next();!p.done;p=h.next()){var g=p.value,m=!0;try{for(var x=(o=void 0,jc(t)),b=x.next();!b.done;b=x.next()){var S=b.value,C=!1;try{for(var D=(u=void 0,jc(g.getPairs())),M=D.next();!M.done;M=D.next()){var V=M.value;if(S.equals(V)){C=!0;break}}}catch(X){u={error:X}}finally{try{M&&!M.done&&(f=D.return)&&f.call(D)}finally{if(u)throw u.error}}if(!C){m=!1;break}}}catch(X){o={error:X}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}if(m)return!0}}catch(X){i={error:X}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=TM.buildBitArray(t),i=XM(r),a=i.parseInformation(),o=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],s[0],s[1]];return new Ba(a,null,null,u,Mt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);a+=u.getLeftChar().getChecksumPortion(),o++;var f=u.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var h=211*(o-4)+a;return h===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,u=-1;do this.findNextPair(t,r,u),o=this.parseFoundFinderPattern(t,i,a),o===null?u=e.getNextSecondBar(t,this.startEnd[0]):s=!1;while(s);var f=this.decodeDataCharacter(t,o,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ze;var h;try{h=this.decodeDataCharacter(t,o,a,!1)}catch(p){h=null,console.log(p)}return new Tb(f,h,o,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=t.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(r))s=0;else{var u=r[r.length-1];s=u.getFinderPattern().getStartEnd()[1]}var f=r.length%2!==0;this.startFromEven&&(f=!f);for(var h=!1;s<o&&(h=!t.get(s),!!h);)s++;for(var p=0,g=s,m=s;m<o;m++)if(t.get(m)!==h)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=g,this.startEnd[1]=m;return}f&&e.reverseCounters(a),g+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new ze},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,o,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!t.get(u);)u--;u++,a=this.startEnd[0]-u,o=u,s=this.startEnd[1]}else o=this.startEnd[0],s=t.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var f=this.getDecodeFinderCounters();xr.arraycopy(f,0,f,1,f.length-1),f[0]=a;var h;try{h=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new aS(h,[o,s],o,s,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],o);else{e.recordPattern(t,r.getStartEnd()[1],o);for(var u=0,f=o.length-1;u<f;u++,f--){var h=o[u];o[u]=o[f],o[f]=h}}var p=17,g=qn.sum(new Int32Array(o))/p,m=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(g-m)/m>.3)throw new ze;for(var x=this.getOddCounts(),b=this.getEvenCounts(),S=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var D=1*o[u]/g,M=D+.5;if(M<1){if(D<.3)throw new ze;M=1}else if(M>8){if(D>8.7)throw new ze;M=8}var V=u/2;(u&1)===0?(x[V]=M,S[V]=D-M):(b[V]=M,C[V]=D-M)}this.adjustOddEvenCounts(p);for(var X=4*r.getValue()+(i?0:2)+(a?0:1)-1,$=0,N=0,u=x.length-1;u>=0;u--){if(e.isNotA1left(r,i,a)){var A=e.WEIGHTS[X][2*u];N+=x[u]*A}$+=x[u]}for(var T=0,u=b.length-1;u>=0;u--)if(e.isNotA1left(r,i,a)){var A=e.WEIGHTS[X][2*u+1];T+=b[u]*A}var F=N+T;if(($&1)!==0||$>13||$<4)throw new ze;var O=(13-$)/2,P=e.SYMBOL_WIDEST[O],j=9-P,Y=ed.getRSSvalue(x,P,!0),le=ed.getRSSvalue(b,j,!1),U=e.EVEN_TOTAL_SUBSET[O],q=e.GSUM[O],ie=Y*U+le+q;return new Rg(ie,F)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=qn.sum(new Int32Array(this.getOddCounts())),i=qn.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;r>13?o=!0:r<4&&(a=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var f=r+i-t,h=(r&1)===1,p=(i&1)===0;if(f===1)if(h){if(p)throw new ze;o=!0}else{if(!p)throw new ze;u=!0}else if(f===-1)if(h){if(p)throw new ze;a=!0}else{if(!p)throw new ze;s=!0}else if(f===0){if(h){if(!p)throw new ze;r<i?(a=!0,u=!0):(o=!0,s=!0)}else if(p)throw new ze}else throw new ze;if(a){if(o)throw new ze;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new ze;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Vf),ZM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JM=function(n){ZM(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Rg),eB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ib=function(n){eB(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,o,s,u,f=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,f),r.reverse();var h=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,h),r.reverse();try{for(var p=fv(this.possibleLeftPairs),g=p.next();!g.done;g=p.next()){var m=g.value;if(m.getCount()>1)try{for(var x=(s=void 0,fv(this.possibleRightPairs)),b=x.next();!b.done;b=x.next()){var S=b.value;if(S.getCount()>1&&e.checkChecksum(m,S))return e.constructResult(m,S)}}catch(C){s={error:C}}finally{try{b&&!b.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}}}catch(C){a={error:C}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new ze},e.addOrTally=function(t,r){var i,a;if(r!=null){var o=!1;try{for(var s=fv(t),u=s.next();!u.done;u=s.next()){var f=u.value;if(f.getValue()===r.getValue()){f.incrementCount(),o=!0;break}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),o=new cn,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var u=0,s=0;s<13;s++){var f=o.charAt(s).charCodeAt(0)-48;u+=(s&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),o.append(u.toString());var h=t.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new Ba(o.toString(),null,0,[h[0],h[1],p[0],p[1]],Mt.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var o=this.findFinderPattern(t,r),s=this.parseFoundFinderPattern(t,i,r,o),u=a==null?null:a.get(Pr.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(o[0]+o[1])/2;r&&(f=t.getSize()-1-f),u.foundPossibleResultPoint(new It(f,i))}var h=this.decodeDataCharacter(t,s,!0),p=this.decodeDataCharacter(t,s,!1);return new JM(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Li.recordPatternInReverse(t,r.getStartEnd()[0],a);else{Li.recordPattern(t,r.getStartEnd()[1]+1,a);for(var s=0,u=a.length-1;s<u;s++,u--){var f=a[s];a[s]=a[u],a[u]=f}}for(var h=i?16:15,p=qn.sum(new Int32Array(a))/h,g=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var S=a[s]/p,C=Math.floor(S+.5);C<1?C=1:C>8&&(C=8);var D=Math.floor(s/2);(s&1)===0?(g[D]=C,x[D]=S-C):(m[D]=C,b[D]=S-C)}this.adjustOddEvenCounts(i,h);for(var M=0,V=0,s=g.length-1;s>=0;s--)V*=9,V+=g[s],M+=g[s];for(var X=0,$=0,s=m.length-1;s>=0;s--)X*=9,X+=m[s],$+=m[s];var N=V+3*X;if(i){if((M&1)!==0||M>12||M<4)throw new ze;var A=(12-M)/2,T=e.OUTSIDE_ODD_WIDEST[A],F=9-T,O=ed.getRSSvalue(g,T,!1),P=ed.getRSSvalue(m,F,!0),j=e.OUTSIDE_EVEN_TOTAL_SUBSET[A],Y=e.OUTSIDE_GSUM[A];return new Rg(O*j+P+Y,N)}else{if(($&1)!==0||$>10||$<4)throw new ze;var A=(10-$)/2,T=e.INSIDE_ODD_WIDEST[A],F=9-T,O=ed.getRSSvalue(g,T,!0),P=ed.getRSSvalue(m,F,!1),le=e.INSIDE_ODD_TOTAL_SUBSET[A],Y=e.INSIDE_GSUM[A];return new Rg(P*le+O+Y,N)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),o=!1,s=0;s<a&&(o=!t.get(s),r!==o);)s++;for(var u=0,f=s,h=s;h<a;h++)if(t.get(h)!==o)i[u]++;else{if(u===3){if(Vf.isFinderPattern(i))return[f,h];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,o=!o}throw new ze},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var o=t.get(a[0]),s=a[0]-1;s>=0&&o!==t.get(s);)s--;s++;var u=a[0]-s,f=this.getDecodeFinderCounters(),h=new Int32Array(f.length);xr.arraycopy(f,0,h,1,f.length-1),h[0]=u;var p=this.parseFinderValue(h,e.FINDER_PATTERNS),g=s,m=a[1];return i&&(g=t.getSize()-1-g,m=t.getSize()-1-m),new aS(p,[s,a[1]],g,m,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=qn.sum(new Int32Array(this.getOddCounts())),a=qn.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,u=!1,f=!1;t?(i>12?s=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(u=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(u=!0));var h=i+a-r,p=(i&1)===(t?1:0),g=(a&1)===1;if(h===1)if(p){if(g)throw new ze;s=!0}else{if(!g)throw new ze;f=!0}else if(h===-1)if(p){if(g)throw new ze;o=!0}else{if(!g)throw new ze;u=!0}else if(h===0){if(p){if(!g)throw new ze;i<a?(o=!0,f=!0):(s=!0,u=!0)}else if(g)throw new ze}else throw new ze;if(o){if(s)throw new ze;Vf.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Vf.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new ze;Vf.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Vf.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Vf),tB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),P1=function(n){tB(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Pr.POSSIBLE_FORMATS):null,a=t&&t.get(Pr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=t&&t.get(Pr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Mt.EAN_13)||i.includes(Mt.UPC_A)||i.includes(Mt.EAN_8)||i.includes(Mt.UPC_E))&&r.readers.push(new cv(t)),i.includes(Mt.CODE_39)&&r.readers.push(new yb(a,o)),i.includes(Mt.CODE_93)&&r.readers.push(new _b),i.includes(Mt.CODE_128)&&r.readers.push(new vb),i.includes(Mt.ITF)&&r.readers.push(new xb),i.includes(Mt.CODABAR)&&r.readers.push(new AM),i.includes(Mt.RSS_14)&&r.readers.push(new Ib),i.includes(Mt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new QM))),r.readers.length===0&&(r.readers.push(new cv(t)),r.readers.push(new yb),r.readers.push(new _b),r.readers.push(new cv(t)),r.readers.push(new vb),r.readers.push(new xb),r.readers.push(new Ib)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new ze},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(Li),nB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){nB(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new P1(r),t,r)||this}return e})(Rd);var Nb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qn=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),Wn=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),rB=function(){function n(e,t,r,i,a,o){var s,u;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,h=o.getECCodewords(),p=o.getECBlocks();try{for(var g=Nb(p),m=g.next();!m.done;m=g.next()){var x=m.value;f+=x.getCount()*(x.getDataCodewords()+h)}}catch(b){s={error:b}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}this.totalCodewords=f}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new pt;try{for(var a=Nb(n.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===t)return s}}catch(u){r={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new pt},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new Qn(5,new Wn(1,3))),new n(2,12,12,10,10,new Qn(7,new Wn(1,5))),new n(3,14,14,12,12,new Qn(10,new Wn(1,8))),new n(4,16,16,14,14,new Qn(12,new Wn(1,12))),new n(5,18,18,16,16,new Qn(14,new Wn(1,18))),new n(6,20,20,18,18,new Qn(18,new Wn(1,22))),new n(7,22,22,20,20,new Qn(20,new Wn(1,30))),new n(8,24,24,22,22,new Qn(24,new Wn(1,36))),new n(9,26,26,24,24,new Qn(28,new Wn(1,44))),new n(10,32,32,14,14,new Qn(36,new Wn(1,62))),new n(11,36,36,16,16,new Qn(42,new Wn(1,86))),new n(12,40,40,18,18,new Qn(48,new Wn(1,114))),new n(13,44,44,20,20,new Qn(56,new Wn(1,144))),new n(14,48,48,22,22,new Qn(68,new Wn(1,174))),new n(15,52,52,24,24,new Qn(42,new Wn(2,102))),new n(16,64,64,14,14,new Qn(56,new Wn(2,140))),new n(17,72,72,16,16,new Qn(36,new Wn(4,92))),new n(18,80,80,18,18,new Qn(48,new Wn(4,114))),new n(19,88,88,20,20,new Qn(56,new Wn(4,144))),new n(20,96,96,22,22,new Qn(68,new Wn(4,174))),new n(21,104,104,24,24,new Qn(56,new Wn(6,136))),new n(22,120,120,18,18,new Qn(68,new Wn(6,175))),new n(23,132,132,20,20,new Qn(62,new Wn(8,163))),new n(24,144,144,22,22,new Qn(62,new Wn(8,156),new Wn(2,155))),new n(25,8,18,6,16,new Qn(7,new Wn(1,5))),new n(26,8,32,6,14,new Qn(11,new Wn(1,10))),new n(27,12,26,10,24,new Qn(14,new Wn(1,16))),new n(28,12,36,10,16,new Qn(18,new Wn(1,22))),new n(29,16,36,14,16,new Qn(24,new Wn(1,32))),new n(30,16,48,14,22,new Qn(28,new Wn(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),iB=function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new pt;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new nu(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return rB.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,u=!1,f=!1,h=!1;do if(r===a&&i===0&&!s)e[t++]=this.readCorner1(a,o)&255,r-=2,i+=2,s=!0;else if(r===a-2&&i===0&&(o&3)!==0&&!u)e[t++]=this.readCorner2(a,o)&255,r-=2,i+=2,u=!0;else if(r===a+4&&i===2&&(o&7)===0&&!f)e[t++]=this.readCorner3(a,o)&255,r-=2,i+=2,f=!0;else if(r===a-2&&i===0&&(o&7)===4&&!h)e[t++]=this.readCorner4(a,o)&255,r-=2,i+=2,h=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,o)&255),r-=2,i+=2;while(r>=0&&i<o);r+=1,i+=3;do r>=0&&i<o&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,o)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<o);if(t!==this.version.getTotalCodewords())throw new pt;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Bt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/i|0,s=r/a|0,u=o*i,f=s*a,h=new nu(f,u),p=0;p<o;++p)for(var g=p*i,m=0;m<s;++m)for(var x=m*a,b=0;b<i;++b)for(var S=p*(i+2)+1+b,C=g+b,D=0;D<a;++D){var M=m*(a+2)+1+D;if(e.get(M,S)){var V=x+D;h.set(V,C)}}return h},n}(),Rb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aB=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,o,s=t.getECBlocks(),u=0,f=s.getECBlocks();try{for(var h=Rb(f),p=h.next();!p.done;p=h.next()){var g=p.value;u+=g.getCount()}}catch(Y){r={error:Y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}var m=new Array(u),x=0;try{for(var b=Rb(f),S=b.next();!S.done;S=b.next())for(var g=S.value,C=0;C<g.getCount();C++){var D=g.getDataCodewords(),M=s.getECCodewords()+D;m[x++]=new n(D,new Uint8Array(M))}}catch(Y){a={error:Y}}finally{try{S&&!S.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}for(var V=m[0].codewords.length,X=V-s.getECCodewords(),$=X-1,N=0,C=0;C<$;C++)for(var A=0;A<x;A++)m[A].codewords[C]=e[N++];for(var T=t.getVersionNumber()===24,F=T?8:x,A=0;A<F;A++)m[A].codewords[X-1]=e[N++];for(var O=m[0].codewords.length,C=X;C<O;C++)for(var A=0;A<x;A++){var P=T?(A+8)%x:A,j=T&&P>7?C-1:C;m[P].codewords[j]=e[N++]}if(N!==e.length)throw new Bt;return m},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),lS=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Bt(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var o=8-r,s=e<o?e:o,u=o-s,f=255>>8-s<<u;t=(a[i]&f)>>u,e-=s,r+=s,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;t=t<<e|(a[i]&f)>>u,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),Ii;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ii||(Ii={}));var oB=function(){function n(){}return n.decode=function(e){var t=new lS(e),r=new cn,i=new cn,a=new Array,o=Ii.ASCII_ENCODE;do if(o===Ii.ASCII_ENCODE)o=this.decodeAsciiSegment(t,r,i);else{switch(o){case Ii.C40_ENCODE:this.decodeC40Segment(t,r);break;case Ii.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Ii.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Ii.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Ii.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new pt}o=Ii.ASCII_ENCODE}while(o!==Ii.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new A2(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new pt;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),Ii.ASCII_ENCODE;if(a===129)return Ii.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&t.append("0"),t.append(""+o)}else switch(a){case 230:return Ii.C40_ENCODE;case 231:return Ii.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Ii.ANSIX12_ENCODE;case 239:return Ii.TEXT_ENCODE;case 240:return Ii.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new pt;break}}while(e.available()>0);return Ii.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else throw new pt;break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else switch(u){case 27:t.append("");break;case 30:r=!0;break;default:throw new pt}a=0;break;case 3:r?(t.append(String.fromCharCode(u+224)),r=!1):t.append(String.fromCharCode(u+96)),a=0;break;default:throw new pt}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else throw new pt;break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else switch(u){case 27:t.append("");break;case 30:r=!0;break;default:throw new pt}a=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f),a=0}else throw new pt;break;default:throw new pt}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var o=r[a];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new pt;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new pt;for(var s=new Uint8Array(o),u=0;u<o;u++){if(e.available()<8)throw new pt;s[u]=this.unrandomize255State(e.readBits(8),i++)}r.push(s);try{t.append(xs.decode(s,On.ISO88591))}catch(f){throw new w0("Platform does not support required encoding: "+f.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),sB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lB=function(){function n(){this.rsDecoder=new E2(vo.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new iB(e),a=i.getVersion(),o=i.readCodewords(),s=aB.getDataBlocks(o,a),u=0;try{for(var f=sB(s),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getNumDataCodewords()}}catch(M){t={error:M}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}for(var g=new Uint8Array(u),m=s.length,x=0;x<m;x++){var b=s[x],S=b.getCodewords(),C=b.getNumDataCodewords();this.correctErrors(S,C);for(var D=0;D<C;D++)g[D*m+x]=S[D]}return oB.decode(g)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Ki}for(var i=0;i<t;i++)e[i]=r[i]},n}(),uB=function(){function n(e){this.image=e,this.rectangleDetector=new dy(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new ze;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],o=t[3],s=this.transitionsBetween(r,o)+1,u=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var f=n.sampleGrid(this.image,r,i,a,o,s,u);return new e_(f,[r,i,a,o])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new It(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new It(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],o=this.transitionsBetween(t,r),s=this.transitionsBetween(r,i),u=this.transitionsBetween(i,a),f=this.transitionsBetween(a,t),h=o,p=[a,t,r,i];return h>s&&(h=s,p[0]=t,p[1]=r,p[2]=i,p[3]=a),h>u&&(h=u,p[0]=r,p[1]=i,p[2]=a,p[3]=t),h>f&&(p[0]=i,p[1]=a,p[2]=t,p[3]=r),p},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=n.shiftPoint(r,i,(o+1)*4),u=n.shiftPoint(i,r,(o+1)*4),f=this.transitionsBetween(s,t),h=this.transitionsBetween(u,a);return f<h?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=this.transitionsBetween(r,a),u=n.shiftPoint(t,r,(s+1)*4),f=n.shiftPoint(i,r,(o+1)*4);o=this.transitionsBetween(u,a),s=this.transitionsBetween(f,a);var h=new It(a.getX()+(i.getX()-r.getX())/(o+1),a.getY()+(i.getY()-r.getY())/(o+1)),p=new It(a.getX()+(t.getX()-r.getX())/(s+1),a.getY()+(t.getY()-r.getY())/(s+1));if(!this.isValid(h))return this.isValid(p)?p:null;if(!this.isValid(p))return h;var g=this.transitionsBetween(u,h)+this.transitionsBetween(f,h),m=this.transitionsBetween(u,p)+this.transitionsBetween(f,p);return g>m?h:p},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,s=this.transitionsBetween(i,a)+1,u=n.shiftPoint(t,r,s*4),f=n.shiftPoint(i,r,o*4);o=this.transitionsBetween(u,a)+1,s=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var h=(t.getX()+r.getX()+i.getX()+a.getX())/4,p=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,h,p),r=n.moveAway(r,h,p),i=n.moveAway(i,h,p),a=n.moveAway(a,h,p);var g,m;return u=n.shiftPoint(t,r,s*4),u=n.shiftPoint(u,a,o*4),g=n.shiftPoint(r,t,s*4),g=n.shiftPoint(g,i,o*4),f=n.shiftPoint(i,a,s*4),f=n.shiftPoint(f,r,o*4),m=n.shiftPoint(a,i,s*4),m=n.shiftPoint(m,t,o*4),[u,g,f,m]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,o,s){var u=t_.getInstance();return u.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),s=Math.abs(o-i)>Math.abs(a-r);if(s){var u=r;r=i,i=u,u=a,a=o,o=u}for(var f=Math.abs(a-r),h=Math.abs(o-i),p=-f/2,g=i<o?1:-1,m=r<a?1:-1,x=0,b=this.image.get(s?i:r,s?r:i),S=r,C=i;S!==a;S+=m){var D=this.image.get(s?C:S,s?S:C);if(D!==b&&(x++,b=D),p+=h,p>0){if(C===o)break;C+=g,p-=f}}return x},n}(),my=function(){function n(){this.decoder=new lB}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(Pr.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var o=new uB(e.getBlackMatrix()).detect();r=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=r.getRawBytes(),u=new Ba(r.getText(),s,8*s.length,i,Mt.DATA_MATRIX,xr.currentTimeMillis()),f=r.getByteSegments();f!=null&&u.putMetadata(ca.BYTE_SEGMENTS,f);var h=r.getECLevel();return h!=null&&u.putMetadata(ca.ERROR_CORRECTION_LEVEL,h),u},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new ze;var i=this.moduleSize(t,e),a=t[1],o=r[1],s=t[0],u=r[0],f=(u-s+1)/i,h=(o-a+1)/i;if(f<=0||h<=0)throw new ze;var p=i/2;a+=p,s+=p;for(var g=new nu(f,h),m=0;m<h;m++)for(var x=a+m*i,b=0;b<f;b++)e.get(s+b*i,x)&&g.set(b,m);return g},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new ze;var o=i-e[0];if(o===0)throw new ze;return o},n.NO_POINTS=[],n}(),cB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){cB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new my,t)||this}return e})(Rd);var td;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(td||(td={}));var fB=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new Js(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new Bt;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(td.L,"L",1),n.M=new n(td.M,"M",0),n.Q=new n(td.Q,"Q",3),n.H=new n(td.H,"H",2),n}(),hB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uS=function(){function n(e){this.errorCorrectionLevel=fB.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return gn.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=hB(n.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var f=u.value,h=f[0];if(h===e||h===t)return new n(f[1]);var p=n.numBitsDiffering(e,h);p<a&&(o=f[1],a=p),e!==t&&(p=n.numBitsDiffering(t,h),p<a&&(o=f[1],a=p))}}catch(g){r={error:g}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a<=3?new n(o):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),dB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Me=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=dB(i),o=a.next();!o.done;o=a.next()){var s=o.value;r+=s.getCount()}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),fe=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),pB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yf=function(){function n(e,t){for(var r,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var s=0,u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var h=pB(f),p=h.next();!p.done;p=h.next()){var g=p.value;s+=g.getCount()*(g.getDataCodewords()+u)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}this.totalCodewords=s}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new pt;try{return this.getVersionForNumber((e-17)/4)}catch{throw new pt}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new Bt;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var o=uS.numBitsDiffering(e,a);o<t&&(r=i+7,t=o)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new nu(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<r;o++)i===0&&(o===0||o===r-1)||i===r-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new Me(7,new fe(1,19)),new Me(10,new fe(1,16)),new Me(13,new fe(1,13)),new Me(17,new fe(1,9))),new n(2,Int32Array.from([6,18]),new Me(10,new fe(1,34)),new Me(16,new fe(1,28)),new Me(22,new fe(1,22)),new Me(28,new fe(1,16))),new n(3,Int32Array.from([6,22]),new Me(15,new fe(1,55)),new Me(26,new fe(1,44)),new Me(18,new fe(2,17)),new Me(22,new fe(2,13))),new n(4,Int32Array.from([6,26]),new Me(20,new fe(1,80)),new Me(18,new fe(2,32)),new Me(26,new fe(2,24)),new Me(16,new fe(4,9))),new n(5,Int32Array.from([6,30]),new Me(26,new fe(1,108)),new Me(24,new fe(2,43)),new Me(18,new fe(2,15),new fe(2,16)),new Me(22,new fe(2,11),new fe(2,12))),new n(6,Int32Array.from([6,34]),new Me(18,new fe(2,68)),new Me(16,new fe(4,27)),new Me(24,new fe(4,19)),new Me(28,new fe(4,15))),new n(7,Int32Array.from([6,22,38]),new Me(20,new fe(2,78)),new Me(18,new fe(4,31)),new Me(18,new fe(2,14),new fe(4,15)),new Me(26,new fe(4,13),new fe(1,14))),new n(8,Int32Array.from([6,24,42]),new Me(24,new fe(2,97)),new Me(22,new fe(2,38),new fe(2,39)),new Me(22,new fe(4,18),new fe(2,19)),new Me(26,new fe(4,14),new fe(2,15))),new n(9,Int32Array.from([6,26,46]),new Me(30,new fe(2,116)),new Me(22,new fe(3,36),new fe(2,37)),new Me(20,new fe(4,16),new fe(4,17)),new Me(24,new fe(4,12),new fe(4,13))),new n(10,Int32Array.from([6,28,50]),new Me(18,new fe(2,68),new fe(2,69)),new Me(26,new fe(4,43),new fe(1,44)),new Me(24,new fe(6,19),new fe(2,20)),new Me(28,new fe(6,15),new fe(2,16))),new n(11,Int32Array.from([6,30,54]),new Me(20,new fe(4,81)),new Me(30,new fe(1,50),new fe(4,51)),new Me(28,new fe(4,22),new fe(4,23)),new Me(24,new fe(3,12),new fe(8,13))),new n(12,Int32Array.from([6,32,58]),new Me(24,new fe(2,92),new fe(2,93)),new Me(22,new fe(6,36),new fe(2,37)),new Me(26,new fe(4,20),new fe(6,21)),new Me(28,new fe(7,14),new fe(4,15))),new n(13,Int32Array.from([6,34,62]),new Me(26,new fe(4,107)),new Me(22,new fe(8,37),new fe(1,38)),new Me(24,new fe(8,20),new fe(4,21)),new Me(22,new fe(12,11),new fe(4,12))),new n(14,Int32Array.from([6,26,46,66]),new Me(30,new fe(3,115),new fe(1,116)),new Me(24,new fe(4,40),new fe(5,41)),new Me(20,new fe(11,16),new fe(5,17)),new Me(24,new fe(11,12),new fe(5,13))),new n(15,Int32Array.from([6,26,48,70]),new Me(22,new fe(5,87),new fe(1,88)),new Me(24,new fe(5,41),new fe(5,42)),new Me(30,new fe(5,24),new fe(7,25)),new Me(24,new fe(11,12),new fe(7,13))),new n(16,Int32Array.from([6,26,50,74]),new Me(24,new fe(5,98),new fe(1,99)),new Me(28,new fe(7,45),new fe(3,46)),new Me(24,new fe(15,19),new fe(2,20)),new Me(30,new fe(3,15),new fe(13,16))),new n(17,Int32Array.from([6,30,54,78]),new Me(28,new fe(1,107),new fe(5,108)),new Me(28,new fe(10,46),new fe(1,47)),new Me(28,new fe(1,22),new fe(15,23)),new Me(28,new fe(2,14),new fe(17,15))),new n(18,Int32Array.from([6,30,56,82]),new Me(30,new fe(5,120),new fe(1,121)),new Me(26,new fe(9,43),new fe(4,44)),new Me(28,new fe(17,22),new fe(1,23)),new Me(28,new fe(2,14),new fe(19,15))),new n(19,Int32Array.from([6,30,58,86]),new Me(28,new fe(3,113),new fe(4,114)),new Me(26,new fe(3,44),new fe(11,45)),new Me(26,new fe(17,21),new fe(4,22)),new Me(26,new fe(9,13),new fe(16,14))),new n(20,Int32Array.from([6,34,62,90]),new Me(28,new fe(3,107),new fe(5,108)),new Me(26,new fe(3,41),new fe(13,42)),new Me(30,new fe(15,24),new fe(5,25)),new Me(28,new fe(15,15),new fe(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new Me(28,new fe(4,116),new fe(4,117)),new Me(26,new fe(17,42)),new Me(28,new fe(17,22),new fe(6,23)),new Me(30,new fe(19,16),new fe(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new Me(28,new fe(2,111),new fe(7,112)),new Me(28,new fe(17,46)),new Me(30,new fe(7,24),new fe(16,25)),new Me(24,new fe(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new Me(30,new fe(4,121),new fe(5,122)),new Me(28,new fe(4,47),new fe(14,48)),new Me(30,new fe(11,24),new fe(14,25)),new Me(30,new fe(16,15),new fe(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new Me(30,new fe(6,117),new fe(4,118)),new Me(28,new fe(6,45),new fe(14,46)),new Me(30,new fe(11,24),new fe(16,25)),new Me(30,new fe(30,16),new fe(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new Me(26,new fe(8,106),new fe(4,107)),new Me(28,new fe(8,47),new fe(13,48)),new Me(30,new fe(7,24),new fe(22,25)),new Me(30,new fe(22,15),new fe(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new Me(28,new fe(10,114),new fe(2,115)),new Me(28,new fe(19,46),new fe(4,47)),new Me(28,new fe(28,22),new fe(6,23)),new Me(30,new fe(33,16),new fe(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new Me(30,new fe(8,122),new fe(4,123)),new Me(28,new fe(22,45),new fe(3,46)),new Me(30,new fe(8,23),new fe(26,24)),new Me(30,new fe(12,15),new fe(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new Me(30,new fe(3,117),new fe(10,118)),new Me(28,new fe(3,45),new fe(23,46)),new Me(30,new fe(4,24),new fe(31,25)),new Me(30,new fe(11,15),new fe(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new Me(30,new fe(7,116),new fe(7,117)),new Me(28,new fe(21,45),new fe(7,46)),new Me(30,new fe(1,23),new fe(37,24)),new Me(30,new fe(19,15),new fe(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new Me(30,new fe(5,115),new fe(10,116)),new Me(28,new fe(19,47),new fe(10,48)),new Me(30,new fe(15,24),new fe(25,25)),new Me(30,new fe(23,15),new fe(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new Me(30,new fe(13,115),new fe(3,116)),new Me(28,new fe(2,46),new fe(29,47)),new Me(30,new fe(42,24),new fe(1,25)),new Me(30,new fe(23,15),new fe(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new Me(30,new fe(17,115)),new Me(28,new fe(10,46),new fe(23,47)),new Me(30,new fe(10,24),new fe(35,25)),new Me(30,new fe(19,15),new fe(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new Me(30,new fe(17,115),new fe(1,116)),new Me(28,new fe(14,46),new fe(21,47)),new Me(30,new fe(29,24),new fe(19,25)),new Me(30,new fe(11,15),new fe(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new Me(30,new fe(13,115),new fe(6,116)),new Me(28,new fe(14,46),new fe(23,47)),new Me(30,new fe(44,24),new fe(7,25)),new Me(30,new fe(59,16),new fe(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new Me(30,new fe(12,121),new fe(7,122)),new Me(28,new fe(12,47),new fe(26,48)),new Me(30,new fe(39,24),new fe(14,25)),new Me(30,new fe(22,15),new fe(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new Me(30,new fe(6,121),new fe(14,122)),new Me(28,new fe(6,47),new fe(34,48)),new Me(30,new fe(46,24),new fe(10,25)),new Me(30,new fe(2,15),new fe(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new Me(30,new fe(17,122),new fe(4,123)),new Me(28,new fe(29,46),new fe(14,47)),new Me(30,new fe(49,24),new fe(10,25)),new Me(30,new fe(24,15),new fe(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new Me(30,new fe(4,122),new fe(18,123)),new Me(28,new fe(13,46),new fe(32,47)),new Me(30,new fe(48,24),new fe(14,25)),new Me(30,new fe(42,15),new fe(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new Me(30,new fe(20,117),new fe(4,118)),new Me(28,new fe(40,47),new fe(7,48)),new Me(30,new fe(43,24),new fe(22,25)),new Me(30,new fe(10,15),new fe(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new Me(30,new fe(19,118),new fe(6,119)),new Me(28,new fe(18,47),new fe(31,48)),new Me(30,new fe(34,24),new fe(34,25)),new Me(30,new fe(20,15),new fe(61,16)))],n}(),Wi;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(Wi||(Wi={}));var Ob=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[Wi.DATA_MASK_000,new n(Wi.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Wi.DATA_MASK_001,new n(Wi.DATA_MASK_001,function(e,t){return(e&1)===0})],[Wi.DATA_MASK_010,new n(Wi.DATA_MASK_010,function(e,t){return t%3===0})],[Wi.DATA_MASK_011,new n(Wi.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Wi.DATA_MASK_100,new n(Wi.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Wi.DATA_MASK_101,new n(Wi.DATA_MASK_101,function(e,t){return e*t%6===0})],[Wi.DATA_MASK_110,new n(Wi.DATA_MASK_110,function(e,t){return e*t%6<3})],[Wi.DATA_MASK_111,new n(Wi.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),gB=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new pt;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,r=i-1;r>=o;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=uS.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new pt},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Yf.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)r=this.copyBit(o,a,r);var s=Yf.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;r=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)r=this.copyBit(o,a,r);if(s=Yf.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new pt},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=Ob.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),o=!0,s=new Uint8Array(t.getTotalCodewords()),u=0,f=0,h=0,p=i-1;p>0;p-=2){p===6&&p--;for(var g=0;g<i;g++)for(var m=o?i-1-g:g,x=0;x<2;x++)a.get(p-x,m)||(h++,f<<=1,this.bitMatrix.get(p-x,m)&&(f|=1),h===8&&(s[u++]=f,h=0,f=0));o=!o}if(u!==t.getTotalCodewords())throw new pt;return s},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Ob.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),Db=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mB=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,o,s;if(e.length!==t.getTotalCodewords())throw new Bt;var u=t.getECBlocksForLevel(r),f=0,h=u.getECBlocks();try{for(var p=Db(h),g=p.next();!g.done;g=p.next()){var m=g.value;f+=m.getCount()}}catch(j){i={error:j}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var x=new Array(f),b=0;try{for(var S=Db(h),C=S.next();!C.done;C=S.next())for(var m=C.value,D=0;D<m.getCount();D++){var M=m.getDataCodewords(),V=u.getECCodewordsPerBlock()+M;x[b++]=new n(M,new Uint8Array(V))}}catch(j){o={error:j}}finally{try{C&&!C.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}for(var X=x[0].codewords.length,$=x.length-1;$>=0;){var N=x[$].codewords.length;if(N===X)break;$--}$++;for(var A=X-u.getECCodewordsPerBlock(),T=0,D=0;D<A;D++)for(var F=0;F<b;F++)x[F].codewords[D]=e[T++];for(var F=$;F<b;F++)x[F].codewords[A]=e[T++];for(var O=x[0].codewords.length,D=A;D<O;D++)for(var F=0;F<b;F++){var P=F<$?D:D+1;x[F].codewords[P]=e[T++]}return x},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),vs;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(vs||(vs={}));var Er=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new Bt;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(vs.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(vs.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(vs.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(vs.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(vs.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(vs.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(vs.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(vs.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(vs.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(vs.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),vB=function(){function n(){}return n.decode=function(e,t,r,i){var a=new lS(e),o=new cn,s=new Array,u=-1,f=-1;try{var h=null,p=!1,g=void 0;do{if(a.available()<4)g=Er.TERMINATOR;else{var m=a.readBits(4);g=Er.forBits(m)}switch(g){case Er.TERMINATOR:break;case Er.FNC1_FIRST_POSITION:case Er.FNC1_SECOND_POSITION:p=!0;break;case Er.STRUCTURED_APPEND:if(a.available()<16)throw new pt;u=a.readBits(8),f=a.readBits(8);break;case Er.ECI:var x=n.parseECIValue(a);if(h=Oi.getCharacterSetECIByValue(x),h===null)throw new pt;break;case Er.HANZI:var b=a.readBits(4),S=a.readBits(g.getCharacterCountBits(t));b===n.GB2312_SUBSET&&n.decodeHanziSegment(a,o,S);break;default:var C=a.readBits(g.getCharacterCountBits(t));switch(g){case Er.NUMERIC:n.decodeNumericSegment(a,o,C);break;case Er.ALPHANUMERIC:n.decodeAlphanumericSegment(a,o,C,p);break;case Er.BYTE:n.decodeByteSegment(a,o,C,h,s,i);break;case Er.KANJI:n.decodeKanjiSegment(a,o,C);break;default:throw new pt}break}}while(g!==Er.TERMINATOR)}catch{throw new pt}return new A2(e,o.toString(),s.length===0?null:s,r===null?null:r.toString(),u,f)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new pt;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,r--}try{t.append(xs.decode(i,On.GB2312))}catch(u){throw new pt(u)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new pt;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,r--}try{t.append(xs.decode(i,On.SHIFT_JIS))}catch(u){throw new pt(u)}},n.decodeByteSegment=function(e,t,r,i,a,o){if(8*r>e.available())throw new pt;for(var s=new Uint8Array(r),u=0;u<r;u++)s[u]=e.readBits(8);var f;i===null?f=On.guessEncoding(s,o):f=i.getName();try{t.append(xs.decode(s,f))}catch(h){throw new pt(h)}a.push(s)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new pt;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new pt;var o=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(o/45))),t.append(n.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(e.available()<6)throw new pt;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new pt;var i=e.readBits(10);if(i>=1e3)throw new pt;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new pt;var a=e.readBits(7);if(a>=100)throw new pt;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new pt;var o=e.readBits(4);if(o>=10)throw new pt;t.append(n.toAlphaNumericChar(o))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new pt},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),cS=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),Pb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yB=function(){function n(){this.rsDecoder=new E2(vo.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(nu.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new gB(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(o){i=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new cS(!0)),a}catch(o){throw i!==null?i:o}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,o,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),h=mB.getDataBlocks(f,s,u),p=0;try{for(var g=Pb(h),m=g.next();!m.done;m=g.next()){var x=m.value;p+=x.getNumDataCodewords()}}catch($){r={error:$}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}var b=new Uint8Array(p),S=0;try{for(var C=Pb(h),D=C.next();!D.done;D=C.next()){var x=D.value,M=x.getCodewords(),V=x.getNumDataCodewords();this.correctErrors(M,V);for(var X=0;X<V;X++)b[S++]=M[X]}}catch($){a={error:$}}finally{try{D&&!D.done&&(o=C.return)&&o.call(C)}finally{if(a)throw a.error}}return vB.decode(b,s,u,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Ki}for(var i=0;i<t;i++)e[i]=r[i]},n}(),_B=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xB=function(n){_B(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,o=(this.getY()+t)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(It),wB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bB=function(){function n(e,t,r,i,a,o,s){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,o=new Int32Array(3),s=this.image,u=0;u<t;u++){var f=a+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var h=e;h<i&&!s.get(h,f);)h++;for(var p=0;h<i;){if(s.get(h,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,f,h);if(g!==null)return g}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;h++}if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,f,i);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ze},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&a.get(t,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&!a.get(t,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<o&&a.get(t,u)&&s[1]<=r;)s[1]++,u++;if(u===o||s[1]>r)return NaN;for(;u<o&&!a.get(t,u)&&s[2]<=r;)s[2]++,u++;if(s[2]>r)return NaN;var f=s[0]+s[1]+s[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(s)?n.centerFromEnd(s,u):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,o=e[0]+e[1]+e[2],s=n.centerFromEnd(e,r),u=this.crossCheckVertical(t,s,2*e[1],o);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var h=wB(this.possibleCenters),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.aboutEquals(f,u,s))return g.combineEstimate(u,s,f)}}catch(x){i={error:x}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}var m=new xB(s,u,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},n}(),AB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),EB=function(n){AB(e,n);function e(t,r,i,a){var o=n.call(this,t,r)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,o=(this.count*this.getX()+r)/a,s=(this.count*this.getY()+t)/a,u=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,u,a)},e}(It),SB=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),_1=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CB=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(Pr.TRY_HARDER)!==void 0,r=e!=null&&e.get(Pr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*n.MAX_MODULES));(s<n.MIN_SKIP||t)&&(s=n.MIN_SKIP);for(var u=!1,f=new Int32Array(5),h=s-1;h<a&&!u;h+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,g=0;g<o;g++)if(i.get(g,h))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(n.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,g,r);if(m===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var x=this.findRowSkip();x>f[2]&&(h+=x-f[2]-s,g=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(n.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,o,r);m===!0&&(s=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var b=this.selectBestPatterns();return It.orderBestPatterns(b),new SB(b)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&t>=o&&s.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!s.get(t-o,e-o)&&a[1]<=r;)a[1]++,o++;if(e<o||t<o||a[1]>r)return!1;for(;e>=o&&t>=o&&s.get(t-o,e-o)&&a[0]<=r;)a[0]++,o++;if(a[0]>r)return!1;var u=s.getHeight(),f=s.getWidth();for(o=1;e+o<u&&t+o<f&&s.get(t+o,e+o);)a[2]++,o++;if(e+o>=u||t+o>=f)return!1;for(;e+o<u&&t+o<f&&!s.get(t+o,e+o)&&a[3]<r;)a[3]++,o++;if(e+o>=u||t+o>=f||a[3]>=r)return!1;for(;e+o<u&&t+o<f&&s.get(t+o,e+o)&&a[4]<r;)a[4]++,o++;if(a[4]>=r)return!1;var h=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(h-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(t,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(t,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&a.get(t,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<o&&a.get(t,u);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(t,u)&&s[3]<r;)s[3]++,u++;if(u===o||s[3]>=r)return NaN;for(;u<o&&a.get(t,u)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=2*i?NaN:n.foundPatternCross(s)?n.centerFromEnd(s,u):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(u,t);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(u,t)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&a.get(u,t)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<o&&a.get(u,t);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(u,t)&&s[3]<r;)s[3]++,u++;if(u===o||s[3]>=r)return NaN;for(;u<o&&a.get(u,t)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=i?NaN:n.foundPatternCross(s)?n.centerFromEnd(s,u):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=n.centerFromEnd(e,r),s=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var u=a/7,f=!1,h=this.possibleCenters,p=0,g=h.length;p<g;p++){var m=h[p];if(m.aboutEquals(u,s,o)){h[p]=m.combineEstimate(s,o,u),f=!0;break}}if(!f){var x=new EB(o,s,u);h.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=_1(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=n.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,o=0,s=this.possibleCenters.length;try{for(var u=_1(this.possibleCenters),f=u.next();!f.done;f=u.next()){var h=f.value;h.getCount()>=n.CENTER_QUORUM&&(a++,o+=h.getEstimatedModuleSize())}}catch(b){e={error:b}}finally{try{f&&!f.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/s,g=0;try{for(var m=_1(this.possibleCenters),x=m.next();!x.done;x=m.next()){var h=x.value;g+=Math.abs(h.getEstimatedModuleSize()-p)}}catch(b){r={error:b}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return g<=.05*o},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new ze;var o=this.possibleCenters,s;if(a>3){var u=0,f=0;try{for(var h=_1(this.possibleCenters),p=h.next();!p.done;p=h.next()){var g=p.value,m=g.getEstimatedModuleSize();u+=m,f+=m*m}}catch(X){e={error:X}}finally{try{p&&!p.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}s=u/a;var x=Math.sqrt(f/a-s*s);o.sort(function(X,$){var N=Math.abs($.getEstimatedModuleSize()-s),A=Math.abs(X.getEstimatedModuleSize()-s);return N<A?-1:N>A?1:0});for(var b=Math.max(.2*s,x),S=0;S<o.length&&o.length>3;S++){var C=o[S];Math.abs(C.getEstimatedModuleSize()-s)>b&&(o.splice(S,1),S--)}}if(o.length>3){var u=0;try{for(var D=_1(o),M=D.next();!M.done;M=D.next()){var V=M.value;u+=V.getEstimatedModuleSize()}}catch($){r={error:$}}finally{try{M&&!M.done&&(i=D.return)&&i.call(D)}finally{if(r)throw r.error}}s=u/o.length,o.sort(function($,N){if(N.getCount()===$.getCount()){var A=Math.abs(N.getEstimatedModuleSize()-s),T=Math.abs($.getEstimatedModuleSize()-s);return A<T?1:A>T?-1:0}else return N.getCount()-$.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),TB=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Pr.NEED_RESULT_POINT_CALLBACK);var t=new CB(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new ze("No pattern found in proccess finder.");var o=n.computeDimension(t,r,i,a),s=Yf.getProvisionalVersionForDimension(o),u=s.getDimensionForVersion()-7,f=null;if(s.getAlignmentPatternCenters().length>0)for(var h=r.getX()-t.getX()+i.getX(),p=r.getY()-t.getY()+i.getY(),g=1-3/u,m=Math.floor(t.getX()+g*(h-t.getX())),x=Math.floor(t.getY()+g*(p-t.getY())),b=4;b<=16;b<<=1)try{f=this.findAlignmentInRegion(a,m,x,b);break}catch(M){if(!(M instanceof ze))throw M}var S=n.createTransform(t,r,i,f,o),C=n.sampleGrid(this.image,S,o),D;return f===null?D=[i,t,r]:D=[i,t,r,f],new e_(C,D)},n.createTransform=function(e,t,r,i,a){var o=a-3.5,s,u,f,h;return i!==null?(s=i.getX(),u=i.getY(),f=o-3,h=f):(s=t.getX()-e.getX()+r.getX(),u=t.getY()-e.getY()+r.getY(),f=o,h=o),iS.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,h,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),s,u,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=t_.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=qn.round(It.distance(e,t)/i),o=qn.round(It.distance(e,r)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new ze("Dimensions could be not found.")}return s},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),o=1,s=e-(r-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(t-(i-t)*o);return o=1,u<0?(o=t/(t-u),u=0):u>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,s,u),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var o=e;e=t,t=o,o=r,r=i,i=o}for(var s=Math.abs(r-e),u=Math.abs(i-t),f=-s/2,h=e<r?1:-1,p=t<i?1:-1,g=0,m=r+h,x=e,b=t;x!==m;x+=h){var S=a?b:x,C=a?x:b;if(g===1===this.image.get(S,C)){if(g===2)return qn.distance(x,b,e,t);g++}if(f+=u,f>0){if(b===i)break;b+=p,f-=s}}return g===2?qn.distance(r+h,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),o=Math.max(0,t-a),s=Math.min(this.image.getWidth()-1,t+a);if(s-o<e*3)throw new ze("Alignment top exceeds estimated module size.");var u=Math.max(0,r-a),f=Math.min(this.image.getHeight()-1,r+a);if(f-u<e*3)throw new ze("Alignment bottom exceeds estimated module size.");var h=new bB(this.image,o,u,s-o,f-u,e,this.resultPointCallback);return h.find()},n}(),vy=function(){function n(){this.decoder=new yB}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(Pr.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var o=new TB(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(o.getBits(),t),i=o.getPoints()}r.getOther()instanceof cS&&r.getOther().applyMirroredCorrection(i);var s=new Ba(r.getText(),r.getRawBytes(),void 0,i,Mt.QR_CODE,void 0),u=r.getByteSegments();u!==null&&s.putMetadata(ca.BYTE_SEGMENTS,u);var f=r.getECLevel();return f!==null&&s.putMetadata(ca.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(s.putMetadata(ca.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(ca.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new ze;var i=this.moduleSize(t,e),a=t[1],o=r[1],s=t[0],u=r[0];if(s>=u||a>=o)throw new ze;if(o-a!==u-s&&(u=s+(o-a),u>=e.getWidth()))throw new ze;var f=Math.round((u-s+1)/i),h=Math.round((o-a+1)/i);if(f<=0||h<=0)throw new ze;if(h!==f)throw new ze;var p=Math.floor(i/2);a+=p,s+=p;var g=s+Math.floor((f-1)*i)-u;if(g>0){if(g>p)throw new ze;s-=g}var m=a+Math.floor((h-1)*i)-o;if(m>0){if(m>p)throw new ze;a-=m}for(var x=new nu(f,h),b=0;b<h;b++)for(var S=a+Math.floor(b*i),C=0;C<f;C++)e.get(s+Math.floor(C*i),S)&&x.set(C,b);return x},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],o=e[1],s=!0,u=0;a<i&&o<r;){if(s!==t.get(a,o)){if(++u===5)break;s=!s}a++,o++}if(a===i||o===r)throw new ze;return(a-e[0])/7},n.NO_POINTS=new Array,n}(),IB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pn=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return qn.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=IB(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[a++]=u}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=Di.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),NB=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),RB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OB=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new NB(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,o=0,s=0,u=!1;o<t.getHeight();){var f=n.findVertices(t,o,s);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,s=0;try{for(var h=(r=void 0,RB(a)),p=h.next();!p.done;p=h.next()){var g=p.value;g[1]!=null&&(o=Math.trunc(Math.max(o,g[1].getY()))),g[3]!=null&&(o=Math.max(o,Math.trunc(g[3].getY())))}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}o+=n.ROW_STEP;continue}if(u=!0,a.push(f),!e)break;f[2]!=null?(s=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return n.copyToResult(o,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),n.copyToResult(o,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),o},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,o){for(var s=new Array(4),u=!1,f=new Int32Array(o.length);i<t;i+=n.ROW_STEP){var h=n.findGuardPattern(e,a,i,r,!1,o,f);if(h!=null){for(;i>0;){var p=n.findGuardPattern(e,a,--i,r,!1,o,f);if(p!=null)h=p;else{i++;break}}s[0]=new It(h[0],i),s[1]=new It(h[1],i),u=!0;break}}var g=i+1;if(u){for(var m=0,p=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);g<t;g++){var h=n.findGuardPattern(e,p[0],g,r,!1,o,f);if(h!=null&&Math.abs(p[0]-h[0])<n.MAX_PATTERN_DRIFT&&Math.abs(p[1]-h[1])<n.MAX_PATTERN_DRIFT)p=h,m=0;else{if(m>n.SKIPPED_ROW_COUNT_MAX)break;m++}}g-=m+1,s[2]=new It(p[0],g),s[3]=new It(p[1],g)}return g-i<n.BARCODE_MIN_HEIGHT&&Di.fill(s,null),s},n.findGuardPattern=function(e,t,r,i,a,o,s){Di.fillWithin(s,0,s.length,0);for(var u=t,f=0;e.get(u,r)&&u>0&&f++<n.MAX_PIXEL_DRIFT;)u--;for(var h=u,p=0,g=o.length,m=a;h<i;h++){var x=e.get(h,r);if(x!==m)s[p]++;else{if(p===g-1){if(n.patternMatchVariance(s,o,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([u,h]);u+=s[0]+s[1],xr.arraycopy(s,2,s,0,p-1),s[p-1]=0,s[p]=0,p--}else p++;s[p]=1,m=!m}}return p===g-1&&n.patternMatchVariance(s,o,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([u,h-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return 1/0;var u=a/o;r*=u;for(var f=0,h=0;h<i;h++){var p=e[h],g=t[h]*u,m=p>g?p-g:g-p;if(m>r)return 1/0;f+=m}return f/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),DB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wf=function(){function n(e,t){if(t.length===0)throw new Bt;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),xr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=DB(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(p){t={error:p}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var u=this.coefficients[0],f=this.coefficients.length,h=1;h<f;h++)u=this.field.add(this.field.multiply(e,u),this.coefficients[h]);return u},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new Bt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),o=r.length-t.length;xr.arraycopy(r,0,a,0,o);for(var s=o;s<r.length;s++)a[s]=this.field.add(t[s-o],r[s]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Bt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Bt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),s=0;s<r;s++)for(var u=t[s],f=0;f<a;f++)o[s+f]=this.field.add(o[s+f],this.field.multiply(u,i[f]));return new n(this.field,o)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Bt;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new cn,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),PB=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Bt;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new rS;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),LB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kB=function(n){LB(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,o=0;o<t;o++)i.expTable[o]=a,a=a*r%t;for(var o=0;o<t-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Wf(i,new Int32Array([0])),i.one=new Wf(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Bt;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Wf(this,i)},e.PDF417_GF=new e(Pn.NUMBER_OF_CODEWORDS,3),e}(PB),MB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BB=function(){function n(){this.field=kB.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,o=new Wf(this.field,e),s=new Int32Array(t),u=!1,f=t;f>0;f--){var h=o.evaluateAt(this.field.exp(f));s[t-f]=h,h!==0&&(u=!0)}if(!u)return 0;var p=this.field.getOne();if(r!=null)try{for(var g=MB(r),m=g.next();!m.done;m=g.next()){var x=m.value,b=this.field.exp(e.length-1-x),S=new Wf(this.field,new Int32Array([this.field.subtract(0,b),1]));p=p.multiply(S)}}catch(A){i={error:A}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}for(var C=new Wf(this.field,s),D=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),C,t),M=D[0],V=D[1],X=this.findErrorLocations(M),$=this.findErrorMagnitudes(V,M,X),f=0;f<X.length;f++){var N=e.length-1-this.field.log(X[f]);if(N<0)throw Ki.getChecksumInstance();e[N]=this.field.subtract(e[N],$[f])}return X.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,o=t,s=this.field.getZero(),u=this.field.getOne();o.getDegree()>=Math.round(r/2);){var f=a,h=s;if(a=o,s=u,a.isZero())throw Ki.getChecksumInstance();o=f;for(var p=this.field.getZero(),g=a.getCoefficient(a.getDegree()),m=this.field.inverse(g);o.getDegree()>=a.getDegree()&&!o.isZero();){var x=o.getDegree()-a.getDegree(),b=this.field.multiply(o.getCoefficient(o.getDegree()),m);p=p.add(this.field.buildMonomial(x,b)),o=o.subtract(a.multiplyByMonomial(x,b))}u=p.multiply(s).subtract(h).negative()}var S=u.getCoefficient(0);if(S===0)throw Ki.getChecksumInstance();var C=this.field.inverse(S),D=u.multiply(C),M=o.multiply(C);return[D,M]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw Ki.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,t.getCoefficient(o));for(var s=new Wf(this.field,a),u=r.length,f=new Int32Array(u),o=0;o<u;o++){var h=this.field.inverse(r[o]),p=this.field.subtract(0,e.evaluateAt(h)),g=this.field.inverse(s.evaluateAt(h));f[o]=this.field.multiply(p,g)}return f},n}(),yy=function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var o=t==null||r==null,s=i==null||a==null;if(o&&s)throw new ze;o?(t=new It(0,i.getY()),r=new It(0,a.getY())):s&&(i=new It(e.getWidth()-1,t.getY()),a=new It(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var h=new It(u.getX(),f);r?i=h:o=h}if(t>0){var p=r?this.bottomLeft:this.bottomRight,g=Math.trunc(p.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var m=new It(p.getX(),g);r?a=m:s=m}return new n(this.image,i,a,o,s)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),FB=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),r_=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(o,s,u,f,h,p){if(o==="%%")return"%";if(t[++r]!==void 0){o=f?parseInt(f.substr(1)):void 0;var g=h?parseInt(h.substr(1)):void 0,m;switch(p){case"s":m=t[r];break;case"c":m=t[r][0];break;case"f":m=parseFloat(t[r]).toFixed(o);break;case"p":m=parseFloat(t[r]).toPrecision(o);break;case"e":m=parseFloat(t[r]).toExponential(o);break;case"x":m=parseInt(t[r]).toString(g||16);break;case"d":m=parseFloat(parseInt(t[r],g||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(g);for(var x=parseInt(u),b=u&&u[0]+""=="0"?"0":" ";m.length<x;)m=s!==void 0?m+b:b+m;return m}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),jB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fS=function(){function n(e){this.boundingBox=new yy(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new r_,i=0;try{for(var a=jB(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),UB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VB=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},L1=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(p,g){var m={getKey:function(){return p},getValue:function(){return g}};m.getValue()>r?(r=m.getValue(),i=[],i.push(m.getKey())):m.getValue()===r&&i.push(m.getKey())};try{for(var o=UB(this.values.entries()),s=o.next();!s.done;s=o.next()){var u=VB(s.value,2),f=u[0],h=u[1];a(f,h)}}catch(p){e={error:p}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return Pn.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),zB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lb=function(n){zB(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=hv(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,h=1,p=0,g=s;g<u;g++)if(r[g]!=null){var m=r[g],x=m.getRowNumber()-f;if(x===0)p++;else if(x===1)h=Math.max(h,p),p=1,f=m.getRowNumber();else if(x<0||m.getRowNumber()>=t.getRowCount()||x>g)r[g]=null;else{var b=void 0;h>2?b=(h-2)*x:b=x;for(var S=b>=g,C=1;C<=b&&!S;C++)S=r[g-C]!=null;S?r[g]=null:(f=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=hv(this.getCodewords()),s=o.next();!s.done;s=o.next()){var u=s.value;if(u!=null){var f=u.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.getCodewords(),f=-1,h=o;h<s;h++)if(u[h]!=null){var p=u[h];p.setRowNumberAsRowIndicatorColumn();var g=p.getRowNumber()-f;g===0||(g===1?f=p.getRowNumber():p.getRowNumber()>=t.getRowCount()?u[h]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new L1,o=new L1,s=new L1,u=new L1;try{for(var f=hv(i),h=f.next();!h.done;h=f.next()){var p=h.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var g=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(g*3+1);break;case 1:u.setValue(g/3),s.setValue(g%3);break;case 2:a.setValue(g+1);break}}}}catch(b){t={error:b}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Pn.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Pn.MAX_ROWS_IN_BARCODE)return null;var x=new FB(a.getValue()[0],o.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,x),x},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(o/3)!==r.getErrorCorrectionLevel()||o%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:o+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(fS),qB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HB=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Pn.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(a=n.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(a=n.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=r[t],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=s[t],f[3]=u[t],t>0&&(f[0]=r[t-1],f[4]=s[t-1],f[5]=u[t-1]),t>1&&(f[8]=r[t-2],f[10]=s[t-2],f[11]=u[t-2]),t<r.length-1&&(f[1]=r[t+1],f[6]=s[t+1],f[7]=u[t+1]),t<r.length-2&&(f[9]=r[t+2],f[12]=s[t+2],f[13]=u[t+2]);try{for(var h=qB(f),p=h.next();!p.done;p=h.next()){var g=p.value;if(n.adjustRowNumber(o,g))return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new r_,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n}(),GB=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),WB=function(){function n(){}return n.initialize=function(){for(var e=0;e<Pn.SYMBOL_TABLE.length;e++)for(var t=Pn.SYMBOL_TABLE[e],r=t&1,i=0;i<Pn.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(Pn.BARS_IN_MODULE)),n.RATIOS_TABLE[e][Pn.BARS_IN_MODULE-i-1]=Math.fround(a/Pn.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=qn.sum(e),r=new Int32Array(Pn.BARS_IN_MODULE),i=0,a=0,o=0;o<Pn.MODULES_IN_CODEWORD;o++){var s=t/(2*Pn.MODULES_IN_CODEWORD)+o*t/Pn.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return Pn.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=qn.sum(e),r=new Array(Pn.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=hy.MAX_VALUE,o=-1;this.bSymbolTableReady||n.initialize();for(var s=0;s<n.RATIOS_TABLE.length;s++){for(var u=0,f=n.RATIOS_TABLE[s],h=0;h<Pn.BARS_IN_MODULE;h++){var p=Math.fround(f[h]-r[h]);if(u+=Math.fround(p*p),u>=a)break}u<a&&(a=u,o=Pn.SYMBOL_TABLE[s])}return o},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(Pn.SYMBOL_TABLE.length).map(function(e){return new Array(Pn.BARS_IN_MODULE)}),n}(),$B=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),kb=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),XB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YB=function(n){XB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(wo),KB=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new YB;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new Z5;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),QB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZB=function(n){QB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(wo),JB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eF=function(n){JB(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new Bt("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new ZB;i=gn.MAX_VALUE}this.buf=Di.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new Z5;this.ensureCapacity(this.count+i),xr.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Di.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(KB),hr;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(hr||(hr={}));function hS(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Op;function zc(n){if(typeof Op>"u"&&(Op=hS()),Op===null)throw new Error("BigInt is not supported!");return Op(n)}function tF(){var n=[];n[0]=zc(1);var e=zc(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var nF=function(){function n(){}return n.decode=function(e,t){var r=new cn(""),i=Oi.ISO8859_1;r.enableDecoding(i);for(var a=1,o=e[a++],s=new $B;a<e[0];){switch(o){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(o,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:Oi.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,s);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new pt;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)o=e[a++];else throw pt.getFormatInstance()}if(r.length()===0)throw pt.getFormatInstance();var u=new A2(null,r.toString(),null,t);return u.setOther(s),u},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw pt.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(gn.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new cn;t=n.textCompaction(e,t,o),r.setFileId(o.toString());var s=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new cn;t=n.textCompaction(e,t+1,u),r.setFileName(u.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new cn;t=n.textCompaction(e,t+1,f),r.setSender(f.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new cn;t=n.textCompaction(e,t+1,h),r.setAddressee(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new cn;t=n.numericCompaction(e,t+1,p),r.setSegmentCount(gn.parseInt(p.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new cn;t=n.numericCompaction(e,t+1,g),r.setTimestamp(kb.parseLong(g.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new cn;t=n.numericCompaction(e,t+1,m),r.setChecksum(gn.parseInt(m.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var x=new cn;t=n.numericCompaction(e,t+1,x),r.setFileSize(kb.parseLong(x.toString()));break;default:throw pt.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw pt.getFormatInstance()}if(s!==-1){var b=t-s;r.isLastSegment()&&b--,r.setOptionalData(Di.copyOfRange(e,s,s+b))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),o=0,s=!1;t<e[0]&&!s;){var u=e[t++];if(u<n.TEXT_COMPACTION_MODE_LATCH)i[o]=u/30,i[o+1]=u%30,o+=2;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:i[o++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],a[o]=u,o++;break}}return n.decodeTextCompaction(i,a,o,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=hr.ALPHA,o=hr.ALPHA,s=0;s<r;){var u=e[s],f="";switch(a){case hr.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case n.LL:a=hr.LOWER;break;case n.ML:a=hr.MIXED;break;case n.PS:o=a,a=hr.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=hr.ALPHA;break}break;case hr.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case n.AS:o=a,a=hr.ALPHA_SHIFT;break;case n.ML:a=hr.MIXED;break;case n.PS:o=a,a=hr.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=hr.ALPHA;break}break;case hr.MIXED:if(u<n.PL)f=n.MIXED_CHARS[u];else switch(u){case n.PL:a=hr.PUNCT;break;case 26:f=" ";break;case n.LL:a=hr.LOWER;break;case n.AL:a=hr.ALPHA;break;case n.PS:o=a,a=hr.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=hr.ALPHA;break}break;case hr.PUNCT:if(u<n.PAL)f=n.PUNCT_CHARS[u];else switch(u){case n.PAL:a=hr.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=hr.ALPHA;break}break;case hr.ALPHA_SHIFT:if(a=o,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=hr.ALPHA;break}break;case hr.PUNCT_SHIFT:if(a=o,u<n.PAL)f=n.PUNCT_CHARS[u];else switch(u){case n.PAL:a=hr.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=hr.ALPHA;break}break}f!==""&&i.append(f),s++}},n.byteCompaction=function(e,t,r,i,a){var o=new eF,s=0,u=0,f=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),p=t[i++];i<t[0]&&!f;)switch(h[s++]=p,u=900*u+p,p=t[i++],p){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(s%5===0&&s>0){for(var g=0;g<6;++g)o.write(Number(zc(u)>>zc(8*(5-g))));u=0,s=0}break}i===t[0]&&p<n.TEXT_COMPACTION_MODE_LATCH&&(h[s++]=p);for(var m=0;m<s;m++)o.write(h[m]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!f;){var x=t[i++];if(x<n.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+x;else switch(x){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(s%5===0&&s>0){for(var g=0;g<6;++g)o.write(Number(zc(u)>>zc(8*(5-g))));u=0,s=0}}break}return a.append(xs.decode(o.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,o=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var s=e[t++];if(t===e[0]&&(a=!0),s<n.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||s===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(o,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=zc(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*zc(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new pt;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=hS()?tF():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),x1=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rF=function(){function n(){}return n.decode=function(e,t,r,i,a,o,s){for(var u=new yy(e,t,r,i,a),f=null,h=null,p,g=!0;;g=!1){if(t!=null&&(f=n.getRowIndicatorColumn(e,u,t,!0,o,s)),i!=null&&(h=n.getRowIndicatorColumn(e,u,i,!1,o,s)),p=n.merge(f,h),p==null)throw ze.getNotFoundInstance();var m=p.getBoundingBox();if(g&&m!=null&&(m.getMinY()<u.getMinY()||m.getMaxY()>u.getMaxY()))u=m;else break}p.setBoundingBox(u);var x=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(x,h);for(var b=f!=null,S=1;S<=x;S++){var C=b?S:x-S;if(p.getDetectionResultColumn(C)===void 0){var D=void 0;C===0||C===x?D=new Lb(u,C===0):D=new fS(u),p.setDetectionResultColumn(C,D);for(var M=-1,V=M,X=u.getMinY();X<=u.getMaxY();X++){if(M=n.getStartColumn(p,C,X,b),M<0||M>u.getMaxX()){if(V===-1)continue;M=V}var $=n.detectCodeword(e,u.getMinX(),u.getMaxX(),b,M,X,o,s);$!=null&&(D.setCodeword(X,$),V=M,o=Math.min(o,$.getWidth()),s=Math.max(s,$.getWidth()))}}}return n.createDecoderResult(p)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=yy.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new HB(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),o=0;try{for(var s=x1(i),u=s.next();!u.done;u=s.next()){var f=u.value;if(o+=a-f,f>0)break}}catch(m){t={error:m}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}for(var h=e.getCodewords(),p=0;o>0&&h[p]==null;p++)o--;for(var g=0,p=i.length-1;p>=0&&(g+=a-i[p],!(i[p]>0));p--);for(var p=h.length-1;g>0&&h[p]==null;p--)g--;return e.getBoundingBox().addMissingRows(o,g,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=x1(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,o){for(var s=new Lb(t,i),u=0;u<2;u++)for(var f=u===0?1:-1,h=Math.trunc(Math.trunc(r.getX())),p=Math.trunc(Math.trunc(r.getY()));p<=t.getMaxY()&&p>=t.getMinY();p+=f){var g=n.detectCodeword(e,0,e.getWidth(),i,h,p,a,o);g!=null&&(s.setCodeword(p,g),i?h=g.getStartX():h=g.getEndX())}return s},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Pn.MAX_CODEWORDS_IN_BARCODE)throw ze.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=t[s][u+1].getValue(),h=s*e.getBarcodeColumnCount()+u;f.length===0?r.push(h):f.length===1?i[h]=f[0]:(o.push(h),a.push(f))}for(var p=new Array(a.length),g=0;g<p.length;g++)p[g]=a[g];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Pn.toIntArray(r),Pn.toIntArray(o),p)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<o.length;u++)t[i[u]]=a[u][o[u]];try{return n.decodeCodewords(t,e,r)}catch(h){var f=h instanceof Ki;if(!f)throw h}if(o.length===0)throw Ki.getChecksumInstance();for(var u=0;u<o.length;u++)if(o[u]<a[u].length-1){o[u]++;break}else if(o[u]=0,u===o.length-1)throw Ki.getChecksumInstance()}throw Ki.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var u=0;u<o[s].length;u++)o[s][u]=new L1;var f=0;try{for(var h=x1(e.getDetectionResultColumns()),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null)try{for(var m=(i=void 0,x1(g.getCodewords())),x=m.next();!x.done;x=m.next()){var b=x.value;if(b!=null){var S=b.getRowNumber();if(S>=0){if(S>=o.length)continue;o[S][f].setValue(b.getValue())}}}}catch(C){i={error:C}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}f++}}catch(C){t={error:C}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return o},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,o,s=i?1:-1,u=null;if(n.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodeword(r)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(t).getCodewordNearby(r),u!=null)return i?u.getStartX():u.getEndX();if(n.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodewordNearby(r)),u!=null)return i?u.getEndX():u.getStartX();for(var f=0;n.isValidBarcodeColumn(e,t-s);){t-=s;try{for(var h=(a=void 0,x1(e.getDetectionResultColumn(t).getCodewords())),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null)return(i?g.getEndX():g.getStartX())+s*f*(g.getEndX()-g.getStartX())}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,o,s,u){a=n.adjustCodewordStartColumn(e,t,r,i,a,o);var f=n.getModuleBitCount(e,t,r,i,a,o);if(f==null)return null;var h,p=qn.sum(f);if(i)h=a+p;else{for(var g=0;g<f.length/2;g++){var m=f[g];f[g]=f[f.length-1-g],f[f.length-1-g]=m}h=a,a=h-p}if(!n.checkCodewordSkew(p,s,u))return null;var x=WB.getDecodedValue(f),b=Pn.getCodeword(x);return b===-1?null:new GB(a,h,n.getCodewordBucketNumber(x),b)},n.getModuleBitCount=function(e,t,r,i,a,o){for(var s=a,u=new Int32Array(8),f=0,h=i?1:-1,p=i;(i?s<r:s>=t)&&f<u.length;)e.get(s,o)===p?(u[f]++,s+=h):(f++,p=!p);return f===u.length||s===(i?r:t)&&f===u.length-1?u:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,o){for(var s=a,u=i?-1:1,f=0;f<2;f++){for(;(i?s>=t:s<r)&&i===e.get(s,o);){if(Math.abs(a-s)>n.CODEWORD_SKEW_SIZE)return a;s+=u}u=-u,i=!i}return s},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw pt.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var o=nF.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(r.length),o},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw Ki.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw pt.getFormatInstance();var r=e[0];if(r>e.length)throw pt.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw pt.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new r_,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new BB,n}(),iF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_y=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw ze.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof pt||r instanceof Ki?ze.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,o=new Array,s=OB.detectMultiple(e,t,r);try{for(var u=iF(s.getPoints()),f=u.next();!f.done;f=u.next()){var h=f.value,p=rF.decode(s.getBits(),h[4],h[5],h[6],h[7],n.getMinCodewordWidth(h),n.getMaxCodewordWidth(h)),g=new Ba(p.getText(),p.getRawBytes(),void 0,h,Mt.PDF_417);g.putMetadata(ca.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&g.putMetadata(ca.PDF417_EXTRA_METADATA,m),o.push(g)}}catch(x){i={error:x}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o.map(function(x){return x})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?gn.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*Pn.MODULES_IN_CODEWORD/Pn.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*Pn.MODULES_IN_CODEWORD/Pn.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*Pn.MODULES_IN_CODEWORD/Pn.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*Pn.MODULES_IN_CODEWORD/Pn.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),aF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mb=function(n){aF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(wo),Bb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oF=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Pr.TRY_HARDER)!==void 0,r=e==null?null:e.get(Pr.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(o){return o===Mt.UPC_A||o===Mt.UPC_E||o===Mt.EAN_13||o===Mt.EAN_8||o===Mt.CODABAR||o===Mt.CODE_39||o===Mt.CODE_93||o===Mt.CODE_128||o===Mt.ITF||o===Mt.RSS_14||o===Mt.RSS_EXPANDED});a&&!t&&i.push(new P1(e)),r.includes(Mt.QR_CODE)&&i.push(new vy),r.includes(Mt.DATA_MATRIX)&&i.push(new my),r.includes(Mt.AZTEC)&&i.push(new py),r.includes(Mt.PDF_417)&&i.push(new _y),a&&t&&i.push(new P1(e))}i.length===0&&(t||i.push(new P1(e)),i.push(new vy),i.push(new my),i.push(new py),i.push(new _y),t&&i.push(new P1(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=Bb(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new Mb("No readers where selected, nothing can be read.");try{for(var i=Bb(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof Mb)continue}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new ze("No MultiFormat Readers were able to detect the code.")},n}(),sF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lF=function(n){sF(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new oF;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(Rd),uF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){uF(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new _y,t)||this}return e})(Rd);var cF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){cF(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new vy,t)||this}return e})(Rd);var xy;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(xy||(xy={}));const Dp=xy;var dS=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ef(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var o=r.multiply(new ef(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(o),r=o}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new Bt("No error correction bytes");var r=e.length-t;if(r<=0)throw new Bt("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);xr.arraycopy(e,0,a,0,r);var o=new ef(this.field,a);o=o.multiplyByMonomial(t,1);for(var s=o.divide(i)[1],u=s.getCoefficients(),f=t-u.length,h=0;h<f;h++)e[r+h]=0;xr.arraycopy(u,0,e,r+f,u.length)},n}(),k1=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=r[o],u=0;u<i-1;u++){var f=s[u];f===s[u+1]&&f===r[o+1][u]&&f===r[o+1][u+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var u=r[o];s+6<i&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(n.isWhiteHorizontal(u,s-4,s)||n.isWhiteHorizontal(u,s+7,s+11))&&t++,o+6<a&&r[o][s]===1&&r[o+1][s]===0&&r[o+2][s]===1&&r[o+3][s]===1&&r[o+4][s]===1&&r[o+5][s]===0&&r[o+6][s]===1&&(n.isWhiteVertical(r,s,o-4,o)||n.isWhiteVertical(r,s,o+7,o+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=r[o],u=0;u<i;u++)s[u]===1&&t++;var f=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(t*2-f)*10/f);return h*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new Bt("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var u=0,f=-1,h=0;h<a;h++){var p=t?o[s][h]:o[h][s];p===f?u++:(u>=5&&(r+=n.N1+(u-5)),u=1,f=p)}u>=5&&(r+=n.N1+(u-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),fF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hF=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=fF(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Di.fill(o,e)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],o=t.bytes[r],s=0,u=this.width;s<u;++s)if(a[s]!==o[s])return!1;return!0},n.prototype.toString=function(){for(var e=new cn,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),wy=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new cn;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),dF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ar=function(n){dF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(wo),Fb=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new Qi;n.makeTypeInfoBits(e,t,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),u=n.TYPE_INFO_COORDINATES[a],f=u[0],h=u[1];if(r.setBoolean(f,h,s),a<8){var p=r.getWidth()-a-1,g=8;r.setBoolean(p,g,s)}else{var p=8,g=r.getHeight()-7+(a-8);r.setBoolean(p,g,s)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new Qi;n.makeVersionInfoBits(e,r);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+o,s),t.setBoolean(t.getHeight()-11+o,a,s)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,o=r.getWidth()-1,s=r.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<r.getHeight();){for(var u=0;u<2;++u){var f=o-u;if(n.isEmpty(r.get(f,s))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,t!==255&&k1.getDataMaskBit(t,f,s)&&(h=!h),r.setBoolean(f,s,h)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new Ar("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-gn.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new Bt("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!wy.isValidMaskPattern(t))throw new Ar("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var o=new Qi;if(o.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new Ar("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Ar("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ar;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new Ar;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new Ar;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)r.setNumber(e+o,t+i,a[o])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)r.setNumber(e+o,t+i,a[o])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var u=0;u!==o;u++){var f=i[u];f>=0&&n.isEmpty(t.get(f,s))&&n.embedPositionAdjustmentPattern(f-2,s-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),pF=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),jb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return k1.applyMaskPenaltyRule1(e)+k1.applyMaskPenaltyRule2(e)+k1.applyMaskPenaltyRule3(e)+k1.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(Dp.CHARACTER_SET)!==void 0;a&&(i=r.get(Dp.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new Qi;if(o===Er.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Oi.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(o,s);var f=new Qi;this.appendBytes(e,o,f,i);var h;if(r!==null&&r.get(Dp.QR_VERSION)!==void 0){var p=Number.parseInt(r.get(Dp.QR_VERSION).toString(),10);h=Yf.getVersionForNumber(p);var g=this.calculateBitsNeeded(o,s,f,h);if(!this.willFit(g,h,t))throw new Ar("Data too big for requested version")}else h=this.recommendVersion(t,o,s,f);var m=new Qi;m.appendBitArray(s);var x=o===Er.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(x,h,o,m),m.appendBitArray(f);var b=h.getECBlocksForLevel(t),S=h.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(S,m);var C=this.interleaveWithECBytes(m,h.getTotalCodewords(),S,b.getNumBlocks()),D=new wy;D.setECLevel(t),D.setMode(o),D.setVersion(h);var M=h.getDimensionForVersion(),V=new hF(M,M),X=this.chooseMaskPattern(C,t,h,V);return D.setMaskPattern(X),Fb.buildMatrix(C,t,h,X,V),D.setMatrix(V),D},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,Yf.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(t,r,i,o);return this.chooseVersion(s,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),Oi.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Er.KANJI;for(var r=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(n.isDigit(s))r=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Er.BYTE}return i?Er.ALPHANUMERIC:r?Er.NUMERIC:Er.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=xs.encode(e,Oi.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<wy.NUM_MASK_PATTERNS;s++){Fb.buildMatrix(e,t,r,s,i);var u=this.calculateMaskPenalty(i);u<a&&(a=u,o=s)}return o},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Yf.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new Ar("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),o=a.getTotalECCodewords(),s=i-o,u=(e+7)/8;return s>=u},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new Ar("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var o=e-t.getSizeInBytes(),i=0;i<o;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new Ar("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,o){if(i>=r)throw new Ar("Block ID too large");var s=e%r,u=r-s,f=Math.floor(e/r),h=f+1,p=Math.floor(t/r),g=p+1,m=f-p,x=h-g;if(m!==x)throw new Ar("EC bytes mismatch");if(r!==u+s)throw new Ar("RS blocks mismatch");if(e!==(p+m)*u+(g+x)*s)throw new Ar("Total bytes mismatch");i<u?(a[0]=p,o[0]=m):(a[0]=g,o[0]=x)},n.interleaveWithECBytes=function(e,t,r,i){var a,o,s,u;if(e.getSizeInBytes()!==r)throw new Ar("Number of bits and data bytes does not match");for(var f=0,h=0,p=0,g=new Array,m=0;m<i;++m){var x=new Int32Array(1),b=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,m,x,b);var S=x[0],C=new Uint8Array(S);e.toBytes(8*f,C,0,S);var D=n.generateECBytes(C,b[0]);g.push(new pF(C,D)),h=Math.max(h,S),p=Math.max(p,D.length),f+=x[0]}if(r!==f)throw new Ar("Data bytes does not match offset");for(var M=new Qi,m=0;m<h;++m)try{for(var V=(a=void 0,jb(g)),X=V.next();!X.done;X=V.next()){var $=X.value,C=$.getDataBytes();m<C.length&&M.appendBits(C[m],8)}}catch(F){a={error:F}}finally{try{X&&!X.done&&(o=V.return)&&o.call(V)}finally{if(a)throw a.error}}for(var m=0;m<p;++m)try{for(var N=(s=void 0,jb(g)),A=N.next();!A.done;A=N.next()){var $=A.value,D=$.getErrorCorrectionBytes();m<D.length&&M.appendBits(D[m],8)}}catch(F){s={error:F}}finally{try{A&&!A.done&&(u=N.return)&&u.call(N)}finally{if(s)throw s.error}}if(t!==M.getSizeInBytes())throw new Ar("Interleaving error: "+t+" and "+M.getSizeInBytes()+" differ.");return M},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new dS(vo.QR_CODE_FIELD_256).encode(i,t);for(var o=new Uint8Array(t),a=0;a<t;a++)o[a]=i[r+a];return o},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Ar(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case Er.NUMERIC:n.appendNumericBytes(e,r);break;case Er.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case Er.BYTE:n.append8BitBytes(e,r,i);break;case Er.KANJI:n.appendKanjiBytes(e,r);break;default:throw new Ar("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var o=n.getDigit(e.charAt(i+1)),s=n.getDigit(e.charAt(i+2));t.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<r){var o=n.getDigit(e.charAt(i+1));t.appendBits(a*10+o,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Ar;if(i+1<r){var o=n.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Ar;t.appendBits(a*45+o,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=xs.encode(e,r)}catch(u){throw new Ar(u)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];t.appendBits(s,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=xs.encode(e,Oi.SJIS)}catch(p){throw new Ar(p)}for(var i=r.length,a=0;a<i;a+=2){var o=r[a]&255,s=r[a+1]&255,u=o<<8&4294967295|s,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new Ar("Invalid byte sequence");var h=(f>>8)*192+(f&255);t.appendBits(h,13)}},n.appendECI=function(e,t){t.appendBits(Er.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=Oi.UTF8.getName(),n})();var gF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){gF(e,n);function e(t,r,i,a,o,s,u,f){var h=n.call(this,s,u)||this;if(h.yuvData=t,h.dataWidth=r,h.dataHeight=i,h.left=a,h.top=o,a+s>r||o+u>i)throw new Bt("Crop rectangle does not fit within image data.");return f&&h.reverseHorizontal(s,u),h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Bt("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return xr.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return xr.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<r;s++){var u=s*t;xr.arraycopy(this.yuvData,o,a,u,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var u=s*t,f=0;f<t;f++){var h=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+f]=4278190080|h*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<r;a++,o+=this.dataWidth)for(var s=o+t/2,u=o,f=o+t-1;u<s;u++,f--){var h=i[u];i[u]=i[f],i[f]=h}},e.prototype.invert=function(){return new J5(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(b2);var mF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){mF(e,n);function e(t,r,i,a,o,s,u){var f=n.call(this,r,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=s,f.top=u,t.BYTES_PER_ELEMENT===4){for(var h=r*i,p=new Uint8ClampedArray(h),g=0;g<h;g++){var m=t[g],x=m>>16&255,b=m>>7&510,S=m&255;p[g]=(x+b+S)/4&255}f.luminances=p}else f.luminances=t;if(a===void 0&&(f.dataWidth=r),o===void 0&&(f.dataHeight=i),s===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+r>f.dataWidth||f.top+i>f.dataHeight)throw new Bt("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Bt("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return xr.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return xr.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<r;s++){var u=s*t;xr.arraycopy(this.luminances,o,a,u,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new J5(this)},e})(b2);var vF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yF=function(n){vF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(Oi),_F=function(){function n(){}return n.ISO_8859_1=Oi.ISO8859_1,n}(),by,xF=301,wF=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=xF);return{LOG:n,ALOG:e}};by=wF([],[]),by.LOG;by.ALOG;var Ub;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Ub||(Ub={}));var Vb=129,pS=230,bF=231,AF=235,EF=236,SF=237,CF=238,TF=239,IF=240,dv=254,NF=254,zb="[)>05",qb="[)>06",Hb="",ir=0,sa=1,$a=2,Ni=3,$i=4,Oa=5,RF=function(){function n(){}return n.prototype.getEncodingMode=function(){return ir},n.prototype.encode=function(e){var t=rl.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=rl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Oa:e.writeCodeword(bF),e.signalEncoderChange(Oa);return;case sa:e.writeCodeword(pS),e.signalEncoderChange(sa);return;case Ni:e.writeCodeword(CF),e.signalEncoderChange(Ni);break;case $a:e.writeCodeword(TF),e.signalEncoderChange($a);break;case $i:e.writeCodeword(IF),e.signalEncoderChange($i);break;default:throw new Error("Illegal mode: "+i)}else rl.isExtendedASCII(r)?(e.writeCodeword(AF),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(rl.isDigit(e)&&rl.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),OF=function(){function n(){}return n.prototype.getEncodingMode=function(){return Oa},n.prototype.encode=function(e){var t=new cn;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=rl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ir);break}}var a=t.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||u)if(a<=249)t.setCharAt(0,On.getCharAt(a));else if(a<=1555)t.setCharAt(0,On.getCharAt(Math.floor(a/250)+249)),t.insert(1,On.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,r=t.length();f<r;f++)e.writeCodeword(this.randomize255State(t.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),i_=function(){function n(){}return n.prototype.getEncodingMode=function(){return sa},n.prototype.encodeMaximal=function(e){for(var t=new cn,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,r=this.encodeChar(o,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var s=Math.floor(t.length()/3*2),u=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(u);var f=e.getSymbolInfo().getDataCapacity()-u,h=Math.floor(t.length()%3);(h===2&&f!==2||h===1&&(r>3||f!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(pS),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new cn;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var u=new cn;for(t.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,t,u,i));t.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,t,u,i);break}var f=t.length();if(f%3===0){var h=rl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(ir);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),o=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(dv)}else if(o===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(dv),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(o>0||e.hasMoreCharacters())&&e.writeCodeword(dv)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ir)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new cn;return a.append(r),a.append(i),a.toString()},n}(),DF=function(){function n(){}return n.prototype.getEncodingMode=function(){return $i},n.prototype.encode=function(e){for(var t=new cn;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var o=rl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ir);break}}}t.append(On.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var o=r-1,s=this.encodeToCodewords(t.toString()),u=!e.hasMoreCharacters(),f=u&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(ir)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(On.getCharAt(e-64)):rl.illegalCharacter(On.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,o=t>=4?e.charAt(3).charCodeAt(0):0,s=(r<<18)+(i<<12)+(a<<6)+o,u=s>>16&255,f=s>>8&255,h=s&255,p=new cn;return p.append(u),t>=2&&p.append(f),t>=3&&p.append(h),p.toString()},n}(),PF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$n=function(){function n(e,t,r,i,a,o,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=u}return n.lookup=function(e,t,r,i,a){var o,s;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var u=LF(MF),f=u.next();!f.done;f=u.next()){var h=f.value;if(!(t===1&&h.rectangular)&&!(t===2&&!h.rectangular)&&!(r!=null&&(h.getSymbolWidth()<r.getWidth()||h.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(p){o={error:p}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),kF=function(n){PF(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}($n),MF=[new $n(!1,3,5,8,8,1),new $n(!1,5,7,10,10,1),new $n(!0,5,7,16,6,1),new $n(!1,8,10,12,12,1),new $n(!0,10,11,14,6,2),new $n(!1,12,12,14,14,1),new $n(!0,16,14,24,10,1),new $n(!1,18,14,16,16,1),new $n(!1,22,18,18,18,1),new $n(!0,22,18,16,10,2),new $n(!1,30,20,20,20,1),new $n(!0,32,24,16,14,2),new $n(!1,36,24,22,22,1),new $n(!1,44,28,24,24,1),new $n(!0,49,28,22,14,2),new $n(!1,62,36,14,14,4),new $n(!1,86,42,16,16,4),new $n(!1,114,48,18,18,4),new $n(!1,144,56,20,20,4),new $n(!1,174,68,22,22,4),new $n(!1,204,84,24,24,4,102,42),new $n(!1,280,112,14,14,16,140,56),new $n(!1,368,144,16,16,16,92,36),new $n(!1,456,192,18,18,16,114,48),new $n(!1,576,224,20,20,16,144,56),new $n(!1,696,272,22,22,16,174,68),new $n(!1,816,336,24,24,16,136,56),new $n(!1,1050,408,18,18,36,175,68),new $n(!1,1304,496,20,20,36,163,62),new kF],BF=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(s){return s.charCodeAt(0)}),r=new cn,i=0,a=t.length;i<a;i++){var o=String.fromCharCode(t[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new cn,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=$n.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),FF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jF=function(n){FF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ni},e.prototype.encode=function(t){for(var r=new cn;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var o=rl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(ir);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):rl.illegalCharacter(On.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(NF),t.getNewEncoding()<0&&t.signalEncoderChange(ir)},e}(i_),UF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VF=function(n){UF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return $a},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}(i_),rl=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=Vb+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new i_,s=[new RF,o,new VF,new jF,new DF,new OF],u=new BF(e);u.setSymbolShape(t),u.setSizeConstraints(r,i),e.startsWith(zb)&&e.endsWith(Hb)?(u.writeCodeword(EF),u.setSkipAtEnd(2),u.pos+=zb.length):e.startsWith(qb)&&e.endsWith(Hb)&&(u.writeCodeword(SF),u.setSkipAtEnd(2),u.pos+=qb.length);var f=ir;for(a&&(o.encodeMaximal(u),f=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)s[f].encode(u),u.getNewEncoding()>=0&&(f=u.getNewEncoding(),u.resetEncoderSignal());var h=u.getCodewordCount();u.updateSymbolInfo();var p=u.getSymbolInfo().getDataCapacity();h<p&&f!==ir&&f!==Oa&&f!==$i&&u.writeCodeword("þ");var g=u.getCodewords();for(g.length()<p&&g.append(Vb);g.length()<p;)g.append(this.randomize253State(g.length()+1));return u.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===Ni&&i===Ni){for(var a=Math.min(t+3,e.length),o=t;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ir}else if(r===$i&&i===$i){for(var a=Math.min(t+4,e.length),o=t;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ir}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===ir?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(t+a===e.length){Di.fill(o,0),Di.fill(s,0);var u=this.findMinimums(i,s,gn.MAX_VALUE,o),f=this.getMinimumCount(o);if(s[ir]===u)return ir;if(f===1){if(o[Oa]>0)return Oa;if(o[$i]>0)return $i;if(o[$a]>0)return $a;if(o[Ni]>0)return Ni}return sa}var h=e.charCodeAt(t+a);if(a++,this.isDigit(h)?i[ir]+=.5:this.isExtendedASCII(h)?(i[ir]=Math.ceil(i[ir]),i[ir]+=2):(i[ir]=Math.ceil(i[ir]),i[ir]++),this.isNativeC40(h)?i[sa]+=2/3:this.isExtendedASCII(h)?i[sa]+=8/3:i[sa]+=4/3,this.isNativeText(h)?i[$a]+=2/3:this.isExtendedASCII(h)?i[$a]+=8/3:i[$a]+=4/3,this.isNativeX12(h)?i[Ni]+=2/3:this.isExtendedASCII(h)?i[Ni]+=13/3:i[Ni]+=10/3,this.isNativeEDIFACT(h)?i[$i]+=3/4:this.isExtendedASCII(h)?i[$i]+=17/4:i[$i]+=13/4,this.isSpecialB256(h)?i[Oa]+=4:i[Oa]++,a>=4){if(Di.fill(o,0),Di.fill(s,0),this.findMinimums(i,s,gn.MAX_VALUE,o),s[ir]<this.min(s[Oa],s[sa],s[$a],s[Ni],s[$i]))return ir;if(s[Oa]<s[ir]||s[Oa]+1<this.min(s[sa],s[$a],s[Ni],s[$i]))return Oa;if(s[$i]+1<this.min(s[Oa],s[sa],s[$a],s[Ni],s[ir]))return $i;if(s[$a]+1<this.min(s[Oa],s[sa],s[$i],s[Ni],s[ir]))return $a;if(s[Ni]+1<this.min(s[Oa],s[sa],s[$i],s[$a],s[ir]))return Ni;if(s[sa]+1<this.min(s[ir],s[Oa],s[$i],s[$a])){if(s[sa]<s[Ni])return sa;if(s[sa]===s[Ni]){for(var p=t+a+1;p<e.length;){var g=e.charCodeAt(p);if(this.isX12TermSep(g))return Ni;if(!this.isNativeX12(g))break;p++}return sa}}}}},n.min=function(e,t,r,i,a){var o=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?o:Math.min(o,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var o=t[a]=Math.ceil(e[a]);r>o&&(r=o,Di.fill(i,0)),r===o&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=gn.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),pv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gb=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return xs.encode(e,this.charset)!=null}catch{return!1}},n}(),zF=function(){function n(e,t,r){var i,a,o,s,u,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(T){return new Gb(yF.forName(T))}),this.encoders=[];var h=[];h.push(new Gb(_F.ISO_8859_1));for(var p=t!=null&&t.name.startsWith("UTF"),g=0;g<e.length;g++){var m=!1;try{for(var x=(i=void 0,pv(h)),b=x.next();!b.done;b=x.next()){var S=b.value,C=e.charAt(g),D=C.charCodeAt(0);if(D===r||S.canEncode(C)){m=!0;break}}}catch(T){i={error:T}}finally{try{b&&!b.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}if(!m)try{for(var M=(o=void 0,pv(this.ENCODERS)),V=M.next();!V.done;V=M.next()){var S=V.value;if(S.canEncode(e.charAt(g))){h.push(S),m=!0;break}}}catch(T){o={error:T}}finally{try{V&&!V.done&&(s=M.return)&&s.call(M)}finally{if(o)throw o.error}}m||(p=!0)}if(h.length===1&&!p)this.encoders=[h[0]];else{this.encoders=[];var X=0;try{for(var $=pv(h),N=$.next();!N.done;N=$.next()){var S=N.value;this.encoders[X++]=S}}catch(T){u={error:T}}finally{try{N&&!N.done&&(f=$.return)&&f.call($)}finally{if(u)throw u.error}}}var A=-1;if(t!=null){for(var g=0;g<this.encoders.length;g++)if(this.encoders[g]!=null&&t.name===this.encoders[g].name){A=g;break}}this.priorityEncoderIndex=A}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return xs.encode(On.getCharAt(e),this.encoders[t].name)},n}(),qF=3,HF=function(){function n(e,t,r){this.fnc1=r;var i=new zF(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===r?1e3:o}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new cn,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,o){var s=e.charAt(i).charCodeAt(0),u=0,f=t.length();t.getPriorityEncoderIndex()>=0&&(s===o||t.canEncode(s,t.getPriorityEncoderIndex()))&&(u=t.getPriorityEncoderIndex(),f=u+1);for(var h=u;h<f;h++)(s===o||t.canEncode(s,h))&&this.addEdge(r,i+1,new Wb(s,t,h,a,o))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new Wb[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var o=1;o<=i;o++){for(var s=0;s<t.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,t,a,o,a[o][s],r);for(var s=0;s<t.length();s++)a[o-1][s]=null}for(var u=-1,f=gn.MAX_VALUE,s=0;s<t.length();s++)if(a[i][s]!=null){var h=a[i][s];h.cachedTotalSize<f&&(f=h.cachedTotalSize,u=s)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],g=a[i][u];g!=null;){if(g.isFNC1())p.unshift(1e3);else for(var m=t.encode(g.c,g.encoderIndex),o=m.length-1;o>=0;o--)p.unshift(m[o]&255);var x=g.previous===null?0:g.previous.encoderIndex;x!==g.encoderIndex&&p.unshift(256+t.getECIValue(g.encoderIndex)),g=g.previous}for(var b=[],o=0;o<b.length;o++)b[o]=p[o];return b},n}(),Wb=function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:t.encode(e,r).length,s=i===null?0:i.encoderIndex;s!==r&&(o+=qF),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),GF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var $b;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})($b||($b={}));(function(n){GF(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(HF);var WF=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),Xb=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),$F=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),XF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),a_=function(n){XF(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+gn.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}($F),YF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KF=function(n){YF(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(a_);function QF(n,e,t){return new KF(n,e,t)}function w1(n,e,t){return new a_(n,e,t)}var ZF=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],tf=0,Og=1,ys=2,gS=3,Gl=4,JF=new a_(null,0,0),gv=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],ej=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function tj(n){var e,t;try{for(var r=ej(n),i=r.next();!i.done;i=r.next()){var a=i.value;Di.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[tf][Gl]=0,n[Og][Gl]=0,n[Og][tf]=28,n[gS][Gl]=0,n[ys][Gl]=0,n[ys][tf]=15,n}var mS=tj(Di.createInt32Array(6,6)),nj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rj=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=gv[this.mode][e];i=w1(i,a&65535,a>>16),r+=a>>16}var o=e===ys?4:5;return i=w1(i,t,o),new n(i,e,0,r+o)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===ys?4:5;return r=w1(r,mS[this.mode][e],i),r=w1(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===Gl||this.mode===ys){var a=gv[r][tf];t=w1(t,a&65535,a>>16),i+=a>>16,r=tf}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new n(t,r,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=QF(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(gv[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new Qi;try{for(var s=nj(i),u=s.next();!u.done;u=s.next()){var f=u.value;f.appendTo(o,e)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o},n.prototype.toString=function(){return On.format("%s bits=%d bytes=%d",ZF[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(JF,tf,0,0),n}();function ij(n){var e=On.getCharCode(" "),t=On.getCharCode("."),r=On.getCharCode(",");n[tf][e]=1;for(var i=On.getCharCode("Z"),a=On.getCharCode("A"),o=a;o<=i;o++)n[tf][o]=o-a+2;n[Og][e]=1;for(var s=On.getCharCode("z"),u=On.getCharCode("a"),o=u;o<=s;o++)n[Og][o]=o-u+2;n[ys][e]=1;for(var f=On.getCharCode("9"),h=On.getCharCode("0"),o=h;o<=f;o++)n[ys][o]=o-h+2;n[ys][r]=12,n[ys][t]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],g=0;g<p.length;g++)n[gS][On.getCharCode(p[g])]=g;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<m.length;g++)On.getCharCode(m[g])>0&&(n[Gl][On.getCharCode(m[g])]=g);return n}var mv=ij(Di.createInt32Array(5,256)),Pp=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aj=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=On.getCharCode(" "),t=On.getCharCode(`
`),r=Xb.singletonList(rj.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case On.getCharCode("\r"):a=o===t?2:0;break;case On.getCharCode("."):a=o===e?3:0;break;case On.getCharCode(","):a=o===e?4:0;break;case On.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var s=Xb.min(r,function(u,f){return u.getBitCount()-f.getBitCount()});return s.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var o=Pp(e),s=o.next();!s.done;s=o.next()){var u=s.value;this.updateStateForChar(u,t,a)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=mv[e.getMode()][i]>0,o=null,s=0;s<=Gl;s++){var u=mv[s][i];if(u>0){if(o==null&&(o=e.endBinaryShift(t)),!a||s===e.getMode()||s===ys){var f=o.latchAndAppend(s,u);r.push(f)}if(!a&&mS[e.getMode()][s]>=0){var h=o.shiftAndAppend(s,u);r.push(h)}}}if(e.getBinaryShiftByteCount()>0||mv[e.getMode()][i]===0){var p=e.addBinaryShiftChar(t);r.push(p)}},n.updateStateListForPair=function(e,t,r){var i,a,o=[];try{for(var s=Pp(e),u=s.next();!u.done;u=s.next()){var f=u.value;this.updateStateForPair(f,t,r,o)}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Gl,r)),e.getMode()!==Gl&&i.push(a.shiftAndAppend(Gl,r)),r===3||r===4){var o=a.latchAndAppend(ys,16-r).latchAndAppend(ys,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(s)}},n.simplifyStates=function(e){var t,r,i,a,o=[];try{for(var s=Pp(e),u=s.next();!u.done;u=s.next()){var f=u.value,h=!0,p=function(S){if(S.isBetterThanOrEqualTo(f))return h=!1,"break";f.isBetterThanOrEqualTo(S)&&(o=o.filter(function(C){return C!==S}))};try{for(var g=(i=void 0,Pp(o)),m=g.next();!m.done;m=g.next()){var x=m.value,b=p(x);if(b==="break")break}}catch(S){i={error:S}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}h&&o.push(f)}}catch(S){t={error:S}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o},n}(),oj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new aj(e).encode(),a=gn.truncDivision(i.getSize()*t,100)+11,o=i.getSize()+a,s,u,f,h,p;if(r!==n.DEFAULT_AZTEC_LAYERS){if(s=r<0,u=Math.abs(r),u>(s?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Bt(On.format("Illegal value %s for layers",r));f=n.totalBitsInLayer(u,s),h=n.WORD_SIZE[u];var g=f-f%h;if(p=n.stuffBits(i,h),p.getSize()+a>g)throw new Bt("Data to large for user specified layer");if(s&&p.getSize()>h*64)throw new Bt("Data to large for user specified layer")}else{h=0,p=null;for(var m=0;;m++){if(m>n.MAX_NB_BITS)throw new Bt("Data too large for an Aztec code");if(s=m<=3,u=s?m+1:m,f=n.totalBitsInLayer(u,s),!(o>f)){(p==null||h!==n.WORD_SIZE[u])&&(h=n.WORD_SIZE[u],p=n.stuffBits(i,h));var g=f-f%h;if(!(s&&p.getSize()>h*64)&&p.getSize()+a<=g)break}}}var x=n.generateCheckWords(p,f,h),b=p.getSize()/h,S=n.generateModeMessage(s,u,b),C=(s?11:14)+u*4,D=new Int32Array(C),M;if(s){M=C;for(var m=0;m<D.length;m++)D[m]=m}else{M=C+1+2*gn.truncDivision(gn.truncDivision(C,2)-1,15);for(var V=gn.truncDivision(C,2),X=gn.truncDivision(M,2),m=0;m<V;m++){var $=m+gn.truncDivision(m,15);D[V-m-1]=X-$-1,D[V+m]=X+$+1}}for(var N=new nu(M),m=0,A=0;m<u;m++){for(var T=(u-m)*4+(s?9:12),F=0;F<T;F++)for(var O=F*2,P=0;P<2;P++)x.get(A+O+P)&&N.set(D[m*2+P],D[m*2+F]),x.get(A+T*2+O+P)&&N.set(D[m*2+F],D[C-1-m*2-P]),x.get(A+T*4+O+P)&&N.set(D[C-1-m*2-P],D[C-1-m*2-F]),x.get(A+T*6+O+P)&&N.set(D[C-1-m*2-F],D[m*2+P]);A+=T*8}if(n.drawModeMessage(N,s,M,S),s)n.drawBullsEye(N,gn.truncDivision(M,2),5);else{n.drawBullsEye(N,gn.truncDivision(M,2),7);for(var m=0,F=0;m<gn.truncDivision(C,2)-1;m+=15,F+=16)for(var P=gn.truncDivision(M,2)&1;P<M;P+=2)N.set(gn.truncDivision(M,2)-F,P),N.set(gn.truncDivision(M,2)+F,P),N.set(P,gn.truncDivision(M,2)-F),N.set(P,gn.truncDivision(M,2)+F)}var j=new WF;return j.setCompact(s),j.setSize(M),j.setLayers(u),j.setCodeWords(b),j.setMatrix(N),j},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new Qi;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=gn.truncDivision(r,2);if(t)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+gn.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},n.generateCheckWords=function(e,t,r){var i,a,o=e.getSize()/r,s=new dS(n.getGF(r)),u=gn.truncDivision(t,r),f=n.bitsToWords(e,r,u);s.encode(f,u-o);var h=t%r,p=new Qi;p.appendBits(0,h);try{for(var g=oj(Array.from(f)),m=g.next();!m.done;m=g.next()){var x=m.value;p.appendBits(x,r)}}catch(b){i={error:b}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}return p},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,o;for(a=0,o=e.getSize()/t;a<o;a++){for(var s=0,u=0;u<t;u++)s|=e.get(a*t+u)?1<<t-u-1:0;i[a]=s}return i},n.getGF=function(e){switch(e){case 4:return vo.AZTEC_PARAM;case 6:return vo.AZTEC_DATA_6;case 8:return vo.AZTEC_DATA_8;case 10:return vo.AZTEC_DATA_10;case 12:return vo.AZTEC_DATA_12;default:throw new Bt("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new Qi,i=e.getSize(),a=(1<<t)-2,o=0;o<i;o+=t){for(var s=0,u=0;u<t;u++)(o+u>=i||e.get(o+u))&&(s|=1<<t-1-u);(s&a)===a?(r.appendBits(s&a,t),o--):(s&a)===0?(r.appendBits(s|1,t),o--):r.appendBits(s,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();const sj=({onScanSuccess:n,onClose:e})=>{const t=ve.useRef(null),r=ve.useRef(null);return ve.useEffect(()=>{const i=new lF;return r.current=i,i.decodeFromVideoDevice(null,t.current,a=>{a&&(i.reset(),n(a.getText()))}),()=>{try{i.reset()}catch{}}},[n]),k.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"#000000e6",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[k.jsx("video",{ref:t,style:{width:"90%",maxWidth:"500px",borderRadius:"12px",border:"3px solid white"},muted:!0,autoPlay:!0,playsInline:!0}),k.jsx("button",{onClick:()=>{var i;(i=r.current)==null||i.reset(),e()},style:{marginTop:"1rem",padding:"10px 20px",backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer"},children:"סגור סורק"})]})};function vS(n){const e=[...new Set(n)].sort((t,r)=>t-r);for(let t=1;t<=e.length+1;t++)if(!e.includes(t))return t}async function Yb({name:n,quantity:e,allowMerge:t=!1,existingItemId:r=null,imageUrl:i=null,publicComment:a="",internalComment:o="",createdBy:s="",updatedBy:u="",createdAt:f=null,updatedAt:h=null}){if(n=n.trim(),t&&r){const S=hi(sn,"items",r),M=(await Pi(Jc(Dr(sn,"items"),nh("__name__","==",r)))).docs[0].data().quantity+e,V={quantity:M};return i&&(V.imageUrl=i),await eu(S,V),{merged:!0,newQuantity:M}}const g=(await Pi(Dr(sn,"items"))).docs.map(S=>S.data().ItemId).filter(S=>typeof S=="number"),m=vS(g),x=Dr(sn,"items"),b=hi(x);return await G5(b,{name:n,quantity:e,imageUrl:i,ItemId:m,isActive:!0,createdAt:f,updatedAt:h,createdBy:s,updatedBy:u,publicComment:a,internalComment:o}),{added:!0,ItemId:m}}async function lj(n,e=""){const t=hi(sn,"items",n),r=await xd(t);if(!r.exists())throw new Error("Item not found");const{ItemId:i,...a}=r.data();await I6(Dr(sn,"deletedItems"),{...a,deletedAt:Xa(),deletedBy:e}),await W5(t)}async function uj(n,e=""){const t=hi(sn,"deletedItems",n),r=await xd(t);if(!r.exists())throw new Error("Deleted item not found");const i=r.data(),o=(await Pi(Dr(sn,"items"))).docs.map(u=>u.data().ItemId).filter(u=>typeof u=="number"),s=vS(o);await G5(hi(Dr(sn,"items")),{...i,ItemId:s,createdAt:Xa(),updatedAt:Xa(),createdBy:e,updatedBy:e,isActive:!0}),await W5(t)}async function cj(n){const e=Jc(Dr(sn,"items"),nh("ItemId","==",Number(n))),t=await Pi(e);if(!t.empty){const r=t.docs[0];return{id:r.id,...r.data()}}throw new Error("לא נמצא מוצר עם ברקוד זה")}const fj=({item:n,onConfirm:e,onCancel:t})=>{const[r,i]=ve.useState(1),a=r>=1&&r<=n.quantity;return k.jsx("div",{className:"modal-overlay",children:k.jsxs("div",{className:"modal-box",dir:"rtl",children:[k.jsx("h3",{style:{textAlign:"center"},children:n.name}),k.jsx("img",{src:n.imageUrl,alt:n.name,style:{width:"100%",maxHeight:"200px",objectFit:"cover"}}),k.jsxs("p",{children:["מזהה מוצר: ",n.ItemId]}),k.jsxs("p",{children:["כמות זמינה: ",n.quantity]}),k.jsxs("div",{style:{marginTop:"1rem"},children:[k.jsx("label",{children:"בחר כמות:"}),k.jsx("input",{type:"number",value:r,min:1,max:n.quantity,onChange:o=>i(+o.target.value),style:{width:"100%",padding:"10px",marginTop:"0.5rem",border:a?"1px solid #ccc":"2px solid red"}}),!a&&k.jsxs("p",{style:{color:"red",marginTop:"0.5rem"},children:["כמות לא תקינה. יש לבחור בין 1 ל־",n.quantity]})]}),k.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"space-between"},children:[k.jsx("button",{className:"btn btn-red",onClick:t,children:"ביטול"}),k.jsx("button",{className:"btn btn-green",onClick:()=>e(r),disabled:!a,children:"אישור"})]})]})})},hj=({showCatalogPopup:n,setShowCatalogPopup:e,searchTerm:t,setSearchTerm:r,availableItems:i,toggleSelectItem:a,changeQty:o,form:s,loadingItems:u,setAvailableItems:f})=>{const[h,p]=ve.useState(!1),[g,m]=ve.useState(null);if(!n)return null;const x=async S=>{try{const C=await cj(S);if(i.some(M=>M.ItemId===C.ItemId&&M.selected)){alert("המוצר כבר קיים ברשימה"),p(!1);return}C.quantity>0?(m(C),p(!1)):(alert("המוצר לא זמין במלאי"),p(!1))}catch(C){alert(C.message),p(!1)}},b=(S,C)=>{let D=parseInt(C)||0;D>S.quantity&&(D=S.quantity),D<0&&(D=0),o(S.id,D)};return k.jsxs("div",{className:"modal-overlay",children:[k.jsxs("div",{className:"modal-box",dir:"rtl",children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[k.jsx("button",{style:{width:"180px"},className:"btn btn-gray",onClick:()=>p(!0),children:"סריקת ברקוד"}),k.jsx("input",{type:"text",placeholder:"חיפוש מוצר...",value:t,onChange:S=>r(S.target.value),style:{padding:"8px",border:"1px solid #ccc",borderRadius:"6px",width:"60%"}})]}),k.jsxs("h3",{style:{textAlign:"center",marginBottom:"1rem"},children:["מוצרים זמינים (",s.pickupDate," → ",s.returnDate,")"]}),u?k.jsx("p",{style:{textAlign:"center"},children:"טוען מוצרים…"}):k.jsx("div",{className:"modal-grid",children:i.filter(S=>S.name.toLowerCase().includes(t.toLowerCase())).map(S=>k.jsxs("div",{className:`item-card ${S.selected?"selected":""}`,children:[k.jsx("img",{src:S.imageUrl||"/no-image-available.png",alt:S.name,className:"item-image"}),k.jsx("h4",{children:S.name}),k.jsxs("p",{children:["זמין: ",S.quantity]}),k.jsxs("p",{children:["מזהה מוצר: ",S.ItemId]}),k.jsxs("div",{style:{margin:"0.5rem 0"},children:[k.jsx("label",{style:{marginBottom:"0.3rem",display:"block"},children:"כמות:"}),k.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[k.jsx("button",{onClick:()=>b(S,Math.max(0,S.selectedQty-1)),disabled:S.selectedQty<=0,style:{width:"30px",height:"30px",borderRadius:"50%",border:"1px solid #ccc",backgroundColor:S.selectedQty<=0?"#f5f5f5":"#fff",cursor:S.selectedQty<=0?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",color:S.selectedQty<=0?"#ccc":"#333"},children:"-"}),k.jsx("input",{type:"number",min:0,max:S.quantity,value:S.selectedQty,onChange:C=>b(S,C.target.value),onBlur:C=>{(parseInt(C.target.value)||0)>S.quantity&&b(S,S.quantity)},style:{width:"50px",height:"30px",padding:"5px",textAlign:"center",borderRadius:"6px",border:S.selectedQty>S.quantity?"2px solid red":"1px solid #ccc",backgroundColor:S.selectedQty>0?"#e3f2fd":"#fff",fontSize:"14px",fontWeight:"bold",appearance:"textfield",MozAppearance:"textfield"}}),k.jsx("button",{onClick:()=>b(S,Math.min(S.quantity,S.selectedQty+1)),disabled:S.selectedQty>=S.quantity,style:{width:"30px",height:"30px",borderRadius:"50%",border:"1px solid #ccc",backgroundColor:S.selectedQty>=S.quantity?"#f5f5f5":"#fff",cursor:S.selectedQty>=S.quantity?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",color:S.selectedQty>=S.quantity?"#ccc":"#333"},children:"+"})]}),S.selectedQty>S.quantity&&k.jsxs("div",{style:{color:"red",fontSize:"0.8rem",marginTop:"0.2rem"},children:["מקסימום: ",S.quantity]})]}),k.jsx("button",{onClick:()=>a(S.id),className:`btn ${S.selected?"btn-red":"btn-blue"}`,style:{width:"100%",marginTop:"0.5rem"},children:S.selected?"❌ הסר מוצר":"🛒 בחר מוצר"})]},S.id))}),k.jsxs("div",{className:"modal-actions",children:[k.jsx("button",{className:"btn btn-blue",onClick:()=>e(!1),children:"✔️ אישור"}),k.jsx("button",{className:"btn btn-gray",onClick:()=>e(!1),children:"❌ ביטול"})]})]}),h&&k.jsx(sj,{onScanSuccess:x,onClose:()=>p(!1)}),g&&k.jsx(fj,{item:g,onCancel:()=>{m(null),p(!1)},onConfirm:S=>{const C={...g};f(D=>D.map(M=>M.ItemId===C.ItemId?{...M,selected:!0,selectedQty:S}:M)),m(null),p(!1)}})]})},dj=({onOrderCreated:n})=>{const[e,t]=ve.useState({volunteerName:"",clientName:"",address:"",phone:"",email:"",eventType:"",pickupDate:"",eventDate:"",returnDate:""}),[r,i]=ve.useState({}),[a,o]=ve.useState(!1),[s,u]=ve.useState([]),[f,h]=ve.useState(!1),[p,g]=ve.useState(""),[m,x]=ve.useState(!1),b=X=>{t({...e,[X.target.name]:X.target.value})},S=()=>{const X={},$=new Date().toISOString().split("T")[0],{pickupDate:N,eventDate:A,returnDate:T}=e;return e.volunteerName.trim()||(X.volunteerName="שדה חובה"),e.clientName.trim()||(X.clientName="שדה חובה"),e.address.trim()||(X.address="שדה חובה"),e.phone.trim()?/^\d{10}$/.test(e.phone)||(X.phone="מספר טלפון לא תקין"):X.phone="שדה חובה",e.eventType.trim()||(X.eventType="שדה חובה"),N||(X.pickupDate="שדה חובה"),A||(X.eventDate="שדה חובה"),T||(X.returnDate="שדה חובה"),N&&N<$&&(X.pickupDate="תאריך לא יכול להיות בעבר"),A&&N&&A<N&&(X.eventDate="תאריך האירוע לא יכול להיות לפני לקיחה"),T&&N&&T<=N&&(X.returnDate="החזרה אחרי לקיחה"),i(X),Object.keys(X).length===0},C=()=>{window.confirm("האם אתה בטוח שברצונך לבטל את ההזמנה?")&&(t({volunteerName:"",clientName:"",address:"",phone:"",email:"",eventType:"",pickupDate:"",eventDate:"",returnDate:""}),i({}),u([]),g(""),o(!1))},D=async()=>{if(!S())return;const $=(await Pi(Dr(sn,"orders"))).docs.map(T=>T.data().simpleId).filter(T=>typeof T=="number"),N=$.length>0?Math.max(...$)+1:1,A=s.filter(T=>T.selected).map(T=>({id:T.id,ItemId:T.ItemId,name:T.name,quantity:T.selectedQty,imageUrl:T.imageUrl}));x(!0);try{const T=await I6(Dr(sn,"orders"),{...e,items:A,status:"open",simpleId:N,createdAt:Xa()});await eu(T,{orderId:T.id}),t({volunteerName:"",clientName:"",address:"",phone:"",email:"",eventType:"",pickupDate:"",eventDate:"",returnDate:""}),u([]),g(""),o(!1),alert(`ההזמנה נשמרה! מס' הזמנה: ${N}`),n&&await n()}catch(T){console.error("שגיאה בשמירה:",T),alert("שגיאה בשמירת ההזמנה")}x(!1)};ve.useEffect(()=>{if(!a)return;(async()=>{h(!0);const $=N=>N?N.toDate?N.toDate():typeof N=="string"?new Date(N):N:null;try{const A=(await Pi(Dr(sn,"items"))).docs.map(U=>({id:U.id,...U.data()})).filter(U=>U.isDeleted!==!0),T=await Pi(Dr(sn,"orders")),F=$(e.pickupDate),O=$(e.returnDate),P=T.docs.map(U=>U.data()).filter(U=>{const q=$(U.pickupDate),ie=$(U.returnDate);return U.status==="open"&&q&&ie&&F&&O&&ie>=F&&q<=O}),j={};P.forEach(U=>{var q;(q=U.items)==null||q.forEach(ie=>{j[ie.id]=(j[ie.id]||0)+ie.quantity})});const Y={};s.forEach(U=>{U.selected&&U.selectedQty>0&&(Y[U.id]={selected:U.selected,selectedQty:U.selectedQty})});const le=A.map(U=>{const q=(U.quantity||0)-(j[U.id]||0),ie=Y[U.id];return{...U,quantity:q,selected:ie?ie.selected:!1,selectedQty:ie?ie.selectedQty:0}}).filter(U=>U.quantity>0);u(le)}catch(N){console.error("שגיאה בחישוב זמינות:",N),u([])}h(!1)})()},[a,e.pickupDate,e.returnDate]);const M=X=>{u($=>$.map(N=>N.id===X?{...N,selected:!N.selected,selectedQty:N.selected?0:1}:N))},V=(X,$)=>{u(N=>N.map(A=>A.id===X?{...A,selected:$>0,selectedQty:$}:A))};return k.jsxs("div",{className:"new-loan-container",children:[k.jsx(wk,{form:e,errors:r,handleChange:b,handleConfirm:D,handleClear:C,setShowCatalogPopup:o,saving:m}),k.jsx(hj,{showCatalogPopup:a,setShowCatalogPopup:o,searchTerm:p,setSearchTerm:g,setAvailableItems:u,availableItems:s,toggleSelectItem:M,changeQty:V,form:e,loadingItems:f})]})};function yS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=yS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Kf(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=yS(n))&&(r&&(r+=" "),r+=e);return r}function pj(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}pj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var b0=n=>typeof n=="number"&&!isNaN(n),ah=n=>typeof n=="string",Qu=n=>typeof n=="function",gj=n=>ah(n)||b0(n),Ay=n=>ah(n)||Qu(n)?n:null,mj=(n,e)=>n===!1||b0(n)&&n>0?n:e,Ey=n=>ve.isValidElement(n)||ah(n)||Qu(n)||b0(n);function vj(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function yj({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:s,done:u,nodeRef:f,isIn:h,playToast:p}){let g=t?`${n}--${o}`:n,m=t?`${e}--${o}`:e,x=ve.useRef(0);return ve.useLayoutEffect(()=>{let b=f.current,S=g.split(" "),C=D=>{D.target===f.current&&(p(),b.removeEventListener("animationend",C),b.removeEventListener("animationcancel",C),x.current===0&&D.type!=="animationcancel"&&b.classList.remove(...S))};b.classList.add(...S),b.addEventListener("animationend",C),b.addEventListener("animationcancel",C)},[]),ve.useEffect(()=>{let b=f.current,S=()=>{b.removeEventListener("animationend",S),r?vj(b,u,i):u()};h||(s?S():(x.current=1,b.className+=` ${m}`,b.addEventListener("animationend",S)))},[h]),Ln.createElement(Ln.Fragment,null,a)}}function Kb(n,e){return{content:_S(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function _S(n,e,t=!1){return ve.isValidElement(n)&&!ah(n.type)?ve.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Qu(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function _j({closeToast:n,theme:e,ariaLabel:t="close"}){return Ln.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Ln.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ln.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function xj({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:a,controlledProgress:o,progress:s,rtl:u,isIn:f,theme:h}){let p=i||o&&s===0,g={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};o&&(g.transform=`scaleX(${s})`);let m=Kf("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),x=Qu(a)?a({rtl:u,type:r,defaultClassName:m}):Kf(m,a),b={[o&&s>=1?"onTransitionEnd":"onAnimationEnd"]:o&&s<1?null:()=>{f&&t()}};return Ln.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Ln.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),Ln.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:g,...b}))}var wj=1,xS=()=>`${wj++}`;function bj(n,e,t){let r=1,i=0,a=[],o=[],s=e,u=new Map,f=new Set,h=D=>(f.add(D),()=>f.delete(D)),p=()=>{o=Array.from(u.values()),f.forEach(D=>D())},g=({containerId:D,toastId:M,updateId:V})=>{let X=D?D!==n:n!==1,$=u.has(M)&&V==null;return X||$},m=(D,M)=>{u.forEach(V=>{var X;(M==null||M===V.props.toastId)&&((X=V.toggle)==null||X.call(V,D))})},x=D=>{var M,V;(V=(M=D.props)==null?void 0:M.onClose)==null||V.call(M,D.removalReason),D.isActive=!1},b=D=>{if(D==null)u.forEach(x);else{let M=u.get(D);M&&x(M)}p()},S=()=>{i-=a.length,a=[]},C=D=>{var M,V;let{toastId:X,updateId:$}=D.props,N=$==null;D.staleId&&u.delete(D.staleId),D.isActive=!0,u.set(X,D),p(),t(Kb(D,N?"added":"updated")),N&&((V=(M=D.props).onOpen)==null||V.call(M))};return{id:n,props:s,observe:h,toggle:m,removeToast:b,toasts:u,clearQueue:S,buildToast:(D,M)=>{if(g(M))return;let{toastId:V,updateId:X,data:$,staleId:N,delay:A}=M,T=X==null;T&&i++;let F={...s,style:s.toastStyle,key:r++,...Object.fromEntries(Object.entries(M).filter(([P,j])=>j!=null)),toastId:V,updateId:X,data:$,isIn:!1,className:Ay(M.className||s.toastClassName),progressClassName:Ay(M.progressClassName||s.progressClassName),autoClose:M.isLoading?!1:mj(M.autoClose,s.autoClose),closeToast(P){u.get(V).removalReason=P,b(V)},deleteToast(){let P=u.get(V);if(P!=null){if(t(Kb(P,"removed")),u.delete(V),i--,i<0&&(i=0),a.length>0){C(a.shift());return}p()}}};F.closeButton=s.closeButton,M.closeButton===!1||Ey(M.closeButton)?F.closeButton=M.closeButton:M.closeButton===!0&&(F.closeButton=Ey(s.closeButton)?s.closeButton:!0);let O={content:D,props:F,staleId:N};s.limit&&s.limit>0&&i>s.limit&&T?a.push(O):b0(A)?setTimeout(()=>{C(O)},A):C(O)},setProps(D){s=D},setToggle:(D,M)=>{let V=u.get(D);V&&(V.toggle=M)},isToastActive:D=>{var M;return(M=u.get(D))==null?void 0:M.isActive},getSnapshot:()=>o}}var Ya=new Map,r0=[],Sy=new Set,Aj=n=>Sy.forEach(e=>e(n)),wS=()=>Ya.size>0;function Ej(){r0.forEach(n=>AS(n.content,n.options)),r0=[]}var Sj=(n,{containerId:e})=>{var t;return(t=Ya.get(e||1))==null?void 0:t.toasts.get(n)};function bS(n,e){var t;if(e)return!!((t=Ya.get(e))!=null&&t.isToastActive(n));let r=!1;return Ya.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function Cj(n){if(!wS()){r0=r0.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||gj(n))Ya.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Ya.get(n.containerId);e?e.removeToast(n.id):Ya.forEach(t=>{t.removeToast(n.id)})}}var Tj=(n={})=>{Ya.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function AS(n,e){Ey(n)&&(wS()||r0.push({content:n,options:e}),Ya.forEach(t=>{t.buildToast(n,e)}))}function Ij(n){var e;(e=Ya.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function ES(n,e){Ya.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function Nj(n){let e=n.containerId||1;return{subscribe(t){let r=bj(e,n,Aj);Ya.set(e,r);let i=r.observe(t);return Ej(),()=>{i(),Ya.delete(e)}},setProps(t){var r;(r=Ya.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Ya.get(e))==null?void 0:t.getSnapshot()}}}function Rj(n){return Sy.add(n),()=>{Sy.delete(n)}}function Oj(n){return n&&(ah(n.toastId)||b0(n.toastId))?n.toastId:xS()}function A0(n,e){return AS(n,e),e.toastId}function S2(n,e){return{...e,type:e&&e.type||n,toastId:Oj(e)}}function C2(n){return(e,t)=>A0(e,S2(n,t))}function xn(n,e){return A0(n,S2("default",e))}xn.loading=(n,e)=>A0(n,S2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Dj(n,{pending:e,error:t,success:r},i){let a;e&&(a=ah(e)?xn.loading(e,i):xn.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(f,h,p)=>{if(h==null){xn.dismiss(a);return}let g={type:f,...o,...i,data:p},m=ah(h)?{render:h}:h;return a?xn.update(a,{...g,...m}):xn(m.render,{...g,...m}),p},u=Qu(n)?n():n;return u.then(f=>s("success",r,f)).catch(f=>s("error",t,f)),u}xn.promise=Dj;xn.success=C2("success");xn.info=C2("info");xn.error=C2("error");xn.warning=C2("warning");xn.warn=xn.warning;xn.dark=(n,e)=>A0(n,S2("default",{theme:"dark",...e}));function Pj(n){Cj(n)}xn.dismiss=Pj;xn.clearWaitingQueue=Tj;xn.isActive=bS;xn.update=(n,e={})=>{let t=Sj(n,e);if(t){let{props:r,content:i}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:xS()};a.toastId!==n&&(a.staleId=n);let o=a.render||i;delete a.render,A0(o,a)}};xn.done=n=>{xn.update(n,{progress:1})};xn.onChange=Rj;xn.play=n=>ES(!0,n);xn.pause=n=>ES(!1,n);function Lj(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=ve.useRef(Nj(n)).current;i(n);let a=(e=ve.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function o(s){if(!a)return[];let u=new Map;return n.newestOnTop&&a.reverse(),a.forEach(f=>{let{position:h}=f.props;u.has(h)||u.set(h,[]),u.get(h).push(f)}),Array.from(u,f=>s(f[0],f[1]))}return{getToastToRender:o,isToastActive:bS,count:a==null?void 0:a.length}}function kj(n){let[e,t]=ve.useState(!1),[r,i]=ve.useState(!1),a=ve.useRef(null),o=ve.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:u,closeToast:f,onClick:h,closeOnClick:p}=n;Ij({id:n.toastId,containerId:n.containerId,fn:t}),ve.useEffect(()=>{if(n.pauseOnFocusLoss)return g(),()=>{m()}},[n.pauseOnFocusLoss]);function g(){document.hasFocus()||C(),window.addEventListener("focus",S),window.addEventListener("blur",C)}function m(){window.removeEventListener("focus",S),window.removeEventListener("blur",C)}function x(N){if(n.draggable===!0||n.draggable===N.pointerType){D();let A=a.current;o.canCloseOnClick=!0,o.canDrag=!0,A.style.transition="none",n.draggableDirection==="x"?(o.start=N.clientX,o.removalDistance=A.offsetWidth*(n.draggablePercent/100)):(o.start=N.clientY,o.removalDistance=A.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function b(N){let{top:A,bottom:T,left:F,right:O}=a.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&n.pauseOnHover&&N.clientX>=F&&N.clientX<=O&&N.clientY>=A&&N.clientY<=T?C():S()}function S(){t(!0)}function C(){t(!1)}function D(){o.didMove=!1,document.addEventListener("pointermove",V),document.addEventListener("pointerup",X)}function M(){document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",X)}function V(N){let A=a.current;if(o.canDrag&&A){o.didMove=!0,e&&C(),n.draggableDirection==="x"?o.delta=N.clientX-o.start:o.delta=N.clientY-o.start,o.start!==N.clientX&&(o.canCloseOnClick=!1);let T=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;A.style.transform=`translate3d(${T},0)`,A.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function X(){M();let N=a.current;if(o.canDrag&&o.didMove&&N){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let $={onPointerDown:x,onPointerUp:b};return s&&u&&($.onMouseEnter=C,n.stacked||($.onMouseLeave=S)),p&&($.onClick=N=>{h&&h(N),o.canCloseOnClick&&f(!0)}),{playToast:S,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:$}}var Mj=typeof window<"u"?ve.useLayoutEffect:ve.useEffect,T2=({theme:n,type:e,isLoading:t,...r})=>Ln.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function Bj(n){return Ln.createElement(T2,{...n},Ln.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Fj(n){return Ln.createElement(T2,{...n},Ln.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function jj(n){return Ln.createElement(T2,{...n},Ln.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Uj(n){return Ln.createElement(T2,{...n},Ln.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Vj(){return Ln.createElement("div",{className:"Toastify__spinner"})}var Cy={info:Fj,warning:Bj,success:jj,error:Uj,spinner:Vj},zj=n=>n in Cy;function qj({theme:n,type:e,isLoading:t,icon:r}){let i=null,a={theme:n,type:e};return r===!1||(Qu(r)?i=r({...a,isLoading:t}):ve.isValidElement(r)?i=ve.cloneElement(r,a):t?i=Cy.spinner():zj(e)&&(i=Cy[e](a))),i}var Hj=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:a}=kj(n),{closeButton:o,children:s,autoClose:u,onClick:f,type:h,hideProgressBar:p,closeToast:g,transition:m,position:x,className:b,style:S,progressClassName:C,updateId:D,role:M,progress:V,rtl:X,toastId:$,deleteToast:N,isIn:A,isLoading:T,closeOnClick:F,theme:O,ariaLabel:P}=n,j=Kf("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":F}),Y=Qu(b)?b({rtl:X,position:x,type:h,defaultClassName:j}):Kf(j,b),le=qj(n),U=!!V||!u,q={closeToast:g,type:h,theme:O},ie=null;return o===!1||(Qu(o)?ie=o(q):ve.isValidElement(o)?ie=ve.cloneElement(o,q):ie=_j(q)),Ln.createElement(m,{isIn:A,done:N,position:x,preventExitTransition:t,nodeRef:r,playToast:a},Ln.createElement("div",{id:$,tabIndex:0,onClick:f,"data-in":A,className:Y,...i,style:S,ref:r,...A&&{role:M,"aria-label":P}},le!=null&&Ln.createElement("div",{className:Kf("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},le),_S(s,n,!e),ie,!n.customProgressBar&&Ln.createElement(xj,{...D&&!U?{key:`p-${D}`}:{},rtl:X,theme:O,delay:u,isRunning:e,isIn:A,closeToast:g,hide:p,type:h,className:C,controlledProgress:U,progress:V||0})))},Gj=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Wj=yj(Gj("bounce",!0)),$j={position:"top-right",transition:Wj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Xj(n){let e={...$j,...n},t=n.stacked,[r,i]=ve.useState(!0),a=ve.useRef(null),{getToastToRender:o,isToastActive:s,count:u}=Lj(e),{className:f,style:h,rtl:p,containerId:g,hotKeys:m}=e;function x(S){let C=Kf("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":p});return Qu(f)?f({position:S,rtl:p,defaultClassName:C}):Kf(C,Ay(f))}function b(){t&&(i(!0),xn.play())}return Mj(()=>{var S;if(t){let C=a.current.querySelectorAll('[data-in="true"]'),D=12,M=(S=e.position)==null?void 0:S.includes("top"),V=0,X=0;Array.from(C).reverse().forEach(($,N)=>{let A=$;A.classList.add("Toastify__toast--stacked"),N>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=M?"top":"bot");let T=V*(r?.2:1)+(r?0:D*N);A.style.setProperty("--y",`${M?T:T*-1}px`),A.style.setProperty("--g",`${D}`),A.style.setProperty("--s",`${1-(r?X:0)}`),V+=A.offsetHeight,X+=.025})}},[r,u,t]),ve.useEffect(()=>{function S(C){var D;let M=a.current;m(C)&&((D=M.querySelector('[tabIndex="0"]'))==null||D.focus(),i(!1),xn.pause()),C.key==="Escape"&&(document.activeElement===M||M!=null&&M.contains(document.activeElement))&&(i(!0),xn.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[m]),Ln.createElement("section",{ref:a,className:"Toastify",id:g,onMouseEnter:()=>{t&&(i(!1),xn.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((S,C)=>{let D=C.length?{...h}:{...h,pointerEvents:"none"};return Ln.createElement("div",{tabIndex:-1,className:x(S),"data-stacked":t,style:D,key:`c-${S}`},C.map(({content:M,props:V})=>Ln.createElement(Hj,{...V,stacked:t,collapseAll:b,isIn:s(V.toastId,V.containerId),key:`t-${V.key}`},M)))}))}var qh={},vv={exports:{}},yv,Qb;function Yj(){if(Qb)return yv;Qb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yv=n,yv}var _v,Zb;function Kj(){if(Zb)return _v;Zb=1;var n=Yj();function e(){}function t(){}return t.resetWarningCache=e,_v=function(){function r(o,s,u,f,h,p){if(p!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},_v}var Jb;function Qj(){return Jb||(Jb=1,vv.exports=Kj()()),vv.exports}var e4;function Zj(){if(e4)return qh;e4=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.default=void 0;var n=Object.assign||function(N){for(var A=1;A<arguments.length;A++){var T=arguments[A];for(var F in T)Object.prototype.hasOwnProperty.call(T,F)&&(N[F]=T[F])}return N},e=function(){function N(A,T){for(var F=0;F<T.length;F++){var O=T[F];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}return function(A,T,F){return T&&N(A.prototype,T),F&&N(A,F),A}}(),t,r;qh.confirmAlert=$;var i=qg(),a=f(i),o=Qj(),s=f(o),u=M4();function f(N){return N&&N.__esModule?N:{default:N}}function h(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}function p(N,A){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:N}function g(N,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(N,A):N.__proto__=A)}var m=(r=t=function(N){g(A,N);function A(){var T,F,O,P;h(this,A);for(var j=arguments.length,Y=Array(j),le=0;le<j;le++)Y[le]=arguments[le];return P=(F=(O=p(this,(T=A.__proto__||Object.getPrototypeOf(A)).call.apply(T,[this].concat(Y))),O),O.handleClickButton=function(U){U.onClick&&U.onClick(),O.close()},O.handleClickOverlay=function(U){var q=O.props,ie=q.closeOnClickOutside,ce=q.onClickOutside,W=U.target===O.overlay;ie&&W&&(ce(),O.close()),U.stopPropagation()},O.close=function(){var U=O.props.afterClose;X(),M(O.props),C(U)},O.keyboard=function(U){var q=O.props,ie=q.closeOnEscape,ce=q.onKeypressEscape,W=q.onkeyPress,me=q.keyCodeForClose,H=U.keyCode,Q=H===27;me.includes(H)&&O.close(),ie&&Q&&(ce(U),O.close()),W&&W()},O.componentDidMount=function(){document.addEventListener("keydown",O.keyboard,!1)},O.componentWillUnmount=function(){document.removeEventListener("keydown",O.keyboard,!1),O.props.willUnmount()},O.renderCustomUI=function(){var U=O.props,q=U.title,ie=U.message,ce=U.buttons,W=U.customUI,me={title:q,message:ie,buttons:ce,onClose:O.close};return W(me)},F),p(O,P)}return e(A,[{key:"render",value:function(){var F=this,O=this.props,P=O.title,j=O.message,Y=O.buttons,le=O.childrenElement,U=O.customUI,q=O.overlayClassName;return a.default.createElement("div",{className:"react-confirm-alert-overlay "+q,ref:function(ce){return F.overlay=ce},onClick:this.handleClickOverlay},a.default.createElement("div",{className:"react-confirm-alert"},U?this.renderCustomUI():a.default.createElement("div",{className:"react-confirm-alert-body"},P&&a.default.createElement("h1",null,P),j,le(),a.default.createElement("div",{className:"react-confirm-alert-button-group"},Y.map(function(ie,ce){return a.default.createElement("button",n({key:ce,className:ie.className},ie,{onClick:function(me){return F.handleClickButton(ie)}}),ie.label)})))))}}]),A}(i.Component),t.propTypes={title:s.default.string,message:s.default.string,buttons:s.default.array.isRequired,childrenElement:s.default.func,customUI:s.default.func,closeOnClickOutside:s.default.bool,closeOnEscape:s.default.bool,keyCodeForClose:s.default.arrayOf(s.default.number),willUnmount:s.default.func,afterClose:s.default.func,onClickOutside:s.default.func,onKeypressEscape:s.default.func,onkeyPress:s.default.func,overlayClassName:s.default.string},t.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},r);qh.default=m;var x=null,b="react-confirm-alert";function S(){var N=document.getElementById("react-confirm-alert-firm-svg");if(!N){var A="http://www.w3.org/2000/svg",T=document.createElementNS(A,"feGaussianBlur");T.setAttribute("stdDeviation","0.3");var F=document.createElementNS(A,"filter");F.setAttribute("id","gaussian-blur"),F.appendChild(T);var O=document.createElementNS(A,"svg");O.setAttribute("id","react-confirm-alert-firm-svg"),O.setAttribute("class","react-confirm-alert-svg"),O.appendChild(F),document.body.appendChild(O)}}function C(N){var A=document.getElementById("react-confirm-alert-firm-svg");A&&A.parentNode.removeChild(A),document.body.children[0].classList.remove("react-confirm-alert-blur"),N()}function D(N){var A=document.getElementById(N.targetId||b);N.targetId&&!A&&console.error("React Confirm Alert:","Can not get element id (#"+N.targetId+")"),A?(x=(0,u.createRoot)(A),x.render(a.default.createElement(m,N))):(document.body.children[0].classList.add("react-confirm-alert-blur"),A=document.createElement("div"),A.id=b,document.body.appendChild(A),x=(0,u.createRoot)(A),x.render(a.default.createElement(m,N)))}function M(N){var A=document.getElementById(N.targetId||b);A&&x.unmount(A)}function V(){document.body.classList.add("react-confirm-alert-body-element")}function X(){document.body.classList.remove("react-confirm-alert-body-element")}function $(N){V(),S(),D(N)}return qh}var Jj=Zj();function eU(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}function SS(n,e){return new Promise(function(t,r){let i;return tU(n).then(function(a){try{return i=a,t(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const tU=n=>new Promise((e,t)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const a=new DataView(i);let o=0;if(a.getUint16(o)!==65496)return t("not a valid JPEG");for(o+=2;;){const s=a.getUint16(o);if(s===65498)break;const u=a.getUint16(o+2);if(s===65505&&a.getUint32(o+4)===1165519206){const f=o+10;let h;switch(a.getUint16(f)){case 18761:h=!0;break;case 19789:h=!1;break;default:return t("TIFF header contains invalid endian")}if(a.getUint16(f+2,h)!==42)return t("TIFF header contains invalid version");const p=a.getUint32(f+4,h),g=f+p+2+12*a.getUint16(f+p,h);for(let m=f+p+2;m<g;m+=12)if(a.getUint16(m,h)==274){if(a.getUint16(m+2,h)!==3)return t("Orientation data type is invalid");if(a.getUint32(m+4,h)!==1)return t("Orientation data count is invalid");a.setUint16(m+8,1,h);break}return e(i.slice(o,o+2+u))}o+=2+u}return e(new Blob)}),r.readAsArrayBuffer(n)});var Dg={},nU={get exports(){return Dg},set exports(n){Dg=n}};(function(n){var e,t,r={};nU.exports=r,r.parse=function(i,a){for(var o=r.bin.readUshort,s=r.bin.readUint,u=0,f={},h=new Uint8Array(i),p=h.length-4;s(h,p)!=101010256;)p--;u=p,u+=4;var g=o(h,u+=4);o(h,u+=2);var m=s(h,u+=2),x=s(h,u+=4);u+=4,u=x;for(var b=0;b<g;b++){s(h,u),u+=4,u+=4,u+=4,s(h,u+=4),m=s(h,u+=4);var S=s(h,u+=4),C=o(h,u+=4),D=o(h,u+2),M=o(h,u+4);u+=6;var V=s(h,u+=8);u+=4,u+=C+D+M,r._readLocal(h,V,f,m,S,a)}return f},r._readLocal=function(i,a,o,s,u,f){var h=r.bin.readUshort,p=r.bin.readUint;p(i,a),h(i,a+=4),h(i,a+=2);var g=h(i,a+=2);p(i,a+=2),p(i,a+=4),a+=4;var m=h(i,a+=8),x=h(i,a+=2);a+=2;var b=r.bin.readUTF8(i,a,m);if(a+=m,a+=x,f)o[b]={size:u,csize:s};else{var S=new Uint8Array(i.buffer,a);if(g==0)o[b]=new Uint8Array(S.buffer.slice(a,a+s));else{if(g!=8)throw"unknown compression method: "+g;var C=new Uint8Array(u);r.inflateRaw(S,C),o[b]=C}}},r.inflateRaw=function(i,a){return r.F.inflate(i,a)},r.inflate=function(i,a){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),a)},r.deflate=function(i,a){a==null&&(a={level:6});var o=0,s=new Uint8Array(50+Math.floor(1.1*i.length));s[o]=120,s[o+1]=156,o+=2,o=r.F.deflateRaw(i,s,o,a.level);var u=r.adler(i,0,i.length);return s[o+0]=u>>>24&255,s[o+1]=u>>>16&255,s[o+2]=u>>>8&255,s[o+3]=u>>>0&255,new Uint8Array(s.buffer,0,o+4)},r.deflateRaw=function(i,a){a==null&&(a={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),s=r.F.deflateRaw(i,o,s,a.level);return new Uint8Array(o.buffer,0,s)},r.encode=function(i,a){a==null&&(a=!1);var o=0,s=r.bin.writeUint,u=r.bin.writeUshort,f={};for(var h in i){var p=!r._noNeed(h)&&!a,g=i[h],m=r.crc.crc(g,0,g.length);f[h]={cpr:p,usize:g.length,crc:m,file:p?r.deflateRaw(g):g}}for(var h in f)o+=f[h].file.length+30+46+2*r.bin.sizeUTF8(h);o+=22;var x=new Uint8Array(o),b=0,S=[];for(var h in f){var C=f[h];S.push(b),b=r._writeHeader(x,b,h,C,0)}var D=0,M=b;for(var h in f)C=f[h],S.push(b),b=r._writeHeader(x,b,h,C,1,S[D++]);var V=b-M;return s(x,b,101010256),b+=4,u(x,b+=4,D),u(x,b+=2,D),s(x,b+=2,V),s(x,b+=4,M),b+=4,b+=2,x.buffer},r._noNeed=function(i){var a=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},r._writeHeader=function(i,a,o,s,u,f){var h=r.bin.writeUint,p=r.bin.writeUshort,g=s.file;return h(i,a,u==0?67324752:33639248),a+=4,u==1&&(a+=2),p(i,a,20),p(i,a+=2,0),p(i,a+=2,s.cpr?8:0),h(i,a+=2,0),h(i,a+=4,s.crc),h(i,a+=4,g.length),h(i,a+=4,s.usize),p(i,a+=4,r.bin.sizeUTF8(o)),p(i,a+=2,0),a+=2,u==1&&(a+=2,a+=2,h(i,a+=6,f),a+=4),a+=r.bin.writeUTF8(i,a,o),u==0&&(i.set(g,a),a+=g.length),a},r.crc={table:function(){for(var i=new Uint32Array(256),a=0;a<256;a++){for(var o=a,s=0;s<8;s++)1&o?o=3988292384^o>>>1:o>>>=1;i[a]=o}return i}(),update:function(i,a,o,s){for(var u=0;u<s;u++)i=r.crc.table[255&(i^a[o+u])]^i>>>8;return i},crc:function(i,a,o){return 4294967295^r.crc.update(4294967295,i,a,o)}},r.adler=function(i,a,o){for(var s=1,u=0,f=a,h=a+o;f<h;){for(var p=Math.min(f+5552,h);f<p;)u+=s+=i[f++];s%=65521,u%=65521}return u<<16|s},r.bin={readUshort:function(i,a){return i[a]|i[a+1]<<8},writeUshort:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255},readUint:function(i,a){return 16777216*i[a+3]+(i[a+2]<<16|i[a+1]<<8|i[a])},writeUint:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255,i[a+2]=o>>16&255,i[a+3]=o>>24&255},readASCII:function(i,a,o){for(var s="",u=0;u<o;u++)s+=String.fromCharCode(i[a+u]);return s},writeASCII:function(i,a,o){for(var s=0;s<o.length;s++)i[a+s]=o.charCodeAt(s)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,a,o){for(var s,u="",f=0;f<o;f++)u+="%"+r.bin.pad(i[a+f].toString(16));try{s=decodeURIComponent(u)}catch{return r.bin.readASCII(i,a,o)}return s},writeUTF8:function(i,a,o){for(var s=o.length,u=0,f=0;f<s;f++){var h=o.charCodeAt(f);if((4294967168&h)==0)i[a+u]=h,u++;else if((4294965248&h)==0)i[a+u]=192|h>>6,i[a+u+1]=128|h>>0&63,u+=2;else if((4294901760&h)==0)i[a+u]=224|h>>12,i[a+u+1]=128|h>>6&63,i[a+u+2]=128|h>>0&63,u+=3;else{if((4292870144&h)!=0)throw"e";i[a+u]=240|h>>18,i[a+u+1]=128|h>>12&63,i[a+u+2]=128|h>>6&63,i[a+u+3]=128|h>>0&63,u+=4}}return u},sizeUTF8:function(i){for(var a=i.length,o=0,s=0;s<a;s++){var u=i.charCodeAt(s);if((4294967168&u)==0)o++;else if((4294965248&u)==0)o+=2;else if((4294901760&u)==0)o+=3;else{if((4292870144&u)!=0)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,a,o,s){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],f=r.F.U,h=r.F._goodIndex;r.F._hash;var p=r.F._putsE,g=0,m=o<<3,x=0,b=i.length;if(s==0){for(;g<b;)p(a,m,g+(O=Math.min(65535,b-g))==b?1:0),m=r.F._copyExact(i,g,O,a,m+8),g+=O;return m>>>3}var S=f.lits,C=f.strt,D=f.prev,M=0,V=0,X=0,$=0,N=0,A=0;for(b>2&&(C[A=r.F._hash(i,0)]=0),g=0;g<b;g++){if(N=A,g+1<b-2){A=r.F._hash(i,g+1);var T=g+1&32767;D[T]=C[A],C[A]=T}if(x<=g){(M>14e3||V>26697)&&b-g>100&&(x<g&&(S[M]=g-x,M+=2,x=g),m=r.F._writeBlock(g==b-1||x==b?1:0,S,M,$,i,X,g-X,a,m),M=V=$=0,X=g);var F=0;g<b-2&&(F=r.F._bestMatch(i,g,D,N,Math.min(u[2],b-g),u[3]));var O=F>>>16,P=65535&F;if(F!=0){P=65535&F;var j=h(O=F>>>16,f.of0);f.lhst[257+j]++;var Y=h(P,f.df0);f.dhst[Y]++,$+=f.exb[j]+f.dxb[Y],S[M]=O<<23|g-x,S[M+1]=P<<16|j<<8|Y,M+=2,x=g+O}else f.lhst[i[g]]++;V++}}for(X==g&&i.length!=0||(x<g&&(S[M]=g-x,M+=2,x=g),m=r.F._writeBlock(1,S,M,$,i,X,g-X,a,m),M=0,V=0,M=V=$=0,X=g);(7&m)!=0;)m++;return m>>>3},r.F._bestMatch=function(i,a,o,s,u,f){var h=32767&a,p=o[h],g=h-p+32768&32767;if(p==h||s!=r.F._hash(i,a-g))return 0;for(var m=0,x=0,b=Math.min(32767,a);g<=b&&--f!=0&&p!=h;){if(m==0||i[a+m]==i[a+m-g]){var S=r.F._howLong(i,a,g);if(S>m){if(x=g,(m=S)>=u)break;g+2<S&&(S=g+2);for(var C=0,D=0;D<S-2;D++){var M=a-g+D+32768&32767,V=M-o[M]+32768&32767;V>C&&(C=V,p=M)}}}g+=(h=p)-(p=o[h])+32768&32767}return m<<16|x},r.F._howLong=function(i,a,o){if(i[a]!=i[a-o]||i[a+1]!=i[a+1-o]||i[a+2]!=i[a+2-o])return 0;var s=a,u=Math.min(i.length,a+258);for(a+=3;a<u&&i[a]==i[a-o];)a++;return a-s},r.F._hash=function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,a,o,s,u,f,h,p,g){var m,x,b,S,C,D,M,V,X,$=r.F.U,N=r.F._putsF,A=r.F._putsE;$.lhst[256]++,x=(m=r.F.getTrees())[0],b=m[1],S=m[2],C=m[3],D=m[4],M=m[5],V=m[6],X=m[7];var T=32+((g+3&7)==0?0:8-(g+3&7))+(h<<3),F=s+r.F.contSize($.fltree,$.lhst)+r.F.contSize($.fdtree,$.dhst),O=s+r.F.contSize($.ltree,$.lhst)+r.F.contSize($.dtree,$.dhst);O+=14+3*M+r.F.contSize($.itree,$.ihst)+(2*$.ihst[16]+3*$.ihst[17]+7*$.ihst[18]);for(var P=0;P<286;P++)$.lhst[P]=0;for(P=0;P<30;P++)$.dhst[P]=0;for(P=0;P<19;P++)$.ihst[P]=0;var j=T<F&&T<O?0:F<O?1:2;if(N(p,g,i),N(p,g+1,j),g+=3,j==0){for(;(7&g)!=0;)g++;g=r.F._copyExact(u,f,h,p,g)}else{var Y,le;if(j==1&&(Y=$.fltree,le=$.fdtree),j==2){r.F.makeCodes($.ltree,x),r.F.revCodes($.ltree,x),r.F.makeCodes($.dtree,b),r.F.revCodes($.dtree,b),r.F.makeCodes($.itree,S),r.F.revCodes($.itree,S),Y=$.ltree,le=$.dtree,A(p,g,C-257),A(p,g+=5,D-1),A(p,g+=5,M-4),g+=4;for(var U=0;U<M;U++)A(p,g+3*U,$.itree[1+($.ordr[U]<<1)]);g+=3*M,g=r.F._codeTiny(V,$.itree,p,g),g=r.F._codeTiny(X,$.itree,p,g)}for(var q=f,ie=0;ie<o;ie+=2){for(var ce=a[ie],W=ce>>>23,me=q+(8388607&ce);q<me;)g=r.F._writeLit(u[q++],Y,p,g);if(W!=0){var H=a[ie+1],Q=H>>16,ee=H>>8&255,ne=255&H;A(p,g=r.F._writeLit(257+ee,Y,p,g),W-$.of0[ee]),g+=$.exb[ee],N(p,g=r.F._writeLit(ne,le,p,g),Q-$.df0[ne]),g+=$.dxb[ne],q+=W}}g=r.F._writeLit(256,Y,p,g)}return g},r.F._copyExact=function(i,a,o,s,u){var f=u>>>3;return s[f]=o,s[f+1]=o>>>8,s[f+2]=255-s[f],s[f+3]=255-s[f+1],f+=4,s.set(new Uint8Array(i.buffer,a,o),f),u+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,a=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),s=[],u=r.F._lenCodes(i.ltree,s),f=[],h=r.F._lenCodes(i.dtree,f),p=0;p<s.length;p+=2)i.ihst[s[p]]++;for(p=0;p<f.length;p+=2)i.ihst[f[p]]++;for(var g=r.F._hufTree(i.ihst,i.itree,7),m=19;m>4&&i.itree[1+(i.ordr[m-1]<<1)]==0;)m--;return[a,o,g,u,h,m,s,f]},r.F.getSecond=function(i){for(var a=[],o=0;o<i.length;o+=2)a.push(i[o+1]);return a},r.F.nonZero=function(i){for(var a="",o=0;o<i.length;o+=2)i[o+1]!=0&&(a+=(o>>1)+",");return a},r.F.contSize=function(i,a){for(var o=0,s=0;s<a.length;s++)o+=a[s]*i[1+(s<<1)];return o},r.F._codeTiny=function(i,a,o,s){for(var u=0;u<i.length;u+=2){var f=i[u],h=i[u+1];s=r.F._writeLit(f,a,o,s);var p=f==16?2:f==17?3:7;f>15&&(r.F._putsE(o,s,h,p),s+=p)}return s},r.F._lenCodes=function(i,a){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var s=0;s<o;s+=2){var u=i[s+1],f=s+3<o?i[s+3]:-1,h=s+5<o?i[s+5]:-1,p=s==0?-1:i[s-1];if(u==0&&f==u&&h==u){for(var g=s+5;g+2<o&&i[g+2]==u;)g+=2;(m=Math.min(g+1-s>>>1,138))<11?a.push(17,m-3):a.push(18,m-11),s+=2*m-2}else if(u==p&&f==u&&h==u){for(g=s+5;g+2<o&&i[g+2]==u;)g+=2;var m=Math.min(g+1-s>>>1,6);a.push(16,m-3),s+=2*m-2}else a.push(u,0)}return o>>>1},r.F._hufTree=function(i,a,o){var s=[],u=i.length,f=a.length,h=0;for(h=0;h<f;h+=2)a[h]=0,a[h+1]=0;for(h=0;h<u;h++)i[h]!=0&&s.push({lit:h,f:i[h]});var p=s.length,g=s.slice(0);if(p==0)return 0;if(p==1){var m=s[0].lit;return g=m==0?1:0,a[1+(m<<1)]=1,a[1+(g<<1)]=1,1}s.sort(function(V,X){return V.f-X.f});var x=s[0],b=s[1],S=0,C=1,D=2;for(s[0]={lit:-1,f:x.f+b.f,l:x,r:b,d:0};C!=p-1;)x=S!=C&&(D==p||s[S].f<s[D].f)?s[S++]:s[D++],b=S!=C&&(D==p||s[S].f<s[D].f)?s[S++]:s[D++],s[C++]={lit:-1,f:x.f+b.f,l:x,r:b};var M=r.F.setDepth(s[C-1],0);for(M>o&&(r.F.restrictDepth(g,o,M),M=o),h=0;h<p;h++)a[1+(g[h].lit<<1)]=g[h].d;return M},r.F.setDepth=function(i,a){return i.lit!=-1?(i.d=a,a):Math.max(r.F.setDepth(i.l,a+1),r.F.setDepth(i.r,a+1))},r.F.restrictDepth=function(i,a,o){var s=0,u=1<<o-a,f=0;for(i.sort(function(p,g){return g.d==p.d?p.f-g.f:g.d-p.d}),s=0;s<i.length&&i[s].d>a;s++){var h=i[s].d;i[s].d=a,f+=u-(1<<o-h)}for(f>>>=o-a;f>0;)(h=i[s].d)<a?(i[s].d++,f-=1<<a-h-1):s++;for(;s>=0;s--)i[s].d==a&&f<0&&(i[s].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,a){var o=0;return a[16|o]<=i&&(o|=16),a[8|o]<=i&&(o|=8),a[4|o]<=i&&(o|=4),a[2|o]<=i&&(o|=2),a[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,a,o,s){return r.F._putsF(o,s,a[i<<1]),s+a[1+(i<<1)]},r.F.inflate=function(i,a){var o=Uint8Array;if(i[0]==3&&i[1]==0)return a||new o(0);var s=r.F,u=s._bitsF,f=s._bitsE,h=s._decodeTiny,p=s.makeCodes,g=s.codes2map,m=s._get17,x=s.U,b=a==null;b&&(a=new o(i.length>>>2<<3));for(var S,C,D=0,M=0,V=0,X=0,$=0,N=0,A=0,T=0,F=0;D==0;)if(D=u(i,F,1),M=u(i,F+1,2),F+=3,M!=0){if(b&&(a=r.F._check(a,T+(1<<17))),M==1&&(S=x.flmap,C=x.fdmap,N=511,A=31),M==2){V=f(i,F,5)+257,X=f(i,F+5,5)+1,$=f(i,F+10,4)+4,F+=14;for(var O=0;O<38;O+=2)x.itree[O]=0,x.itree[O+1]=0;var P=1;for(O=0;O<$;O++){var j=f(i,F+3*O,3);x.itree[1+(x.ordr[O]<<1)]=j,j>P&&(P=j)}F+=3*$,p(x.itree,P),g(x.itree,P,x.imap),S=x.lmap,C=x.dmap,F=h(x.imap,(1<<P)-1,V+X,i,F,x.ttree);var Y=s._copyOut(x.ttree,0,V,x.ltree);N=(1<<Y)-1;var le=s._copyOut(x.ttree,V,X,x.dtree);A=(1<<le)-1,p(x.ltree,Y),g(x.ltree,Y,S),p(x.dtree,le),g(x.dtree,le,C)}for(;;){var U=S[m(i,F)&N];F+=15&U;var q=U>>>4;if(!(q>>>8))a[T++]=q;else{if(q==256)break;var ie=T+q-254;if(q>264){var ce=x.ldef[q-257];ie=T+(ce>>>3)+f(i,F,7&ce),F+=7&ce}var W=C[m(i,F)&A];F+=15&W;var me=W>>>4,H=x.ddef[me],Q=(H>>>4)+u(i,F,15&H);for(F+=15&H,b&&(a=r.F._check(a,T+(1<<17)));T<ie;)a[T]=a[T++-Q],a[T]=a[T++-Q],a[T]=a[T++-Q],a[T]=a[T++-Q];T=ie}}}else{(7&F)!=0&&(F+=8-(7&F));var ee=4+(F>>>3),ne=i[ee-4]|i[ee-3]<<8;b&&(a=r.F._check(a,T+ne)),a.set(new o(i.buffer,i.byteOffset+ee,ne),T),F=ee+ne<<3,T+=ne}return a.length==T?a:a.slice(0,T)},r.F._check=function(i,a){var o=i.length;if(a<=o)return i;var s=new Uint8Array(Math.max(o<<1,a));return s.set(i,0),s},r.F._decodeTiny=function(i,a,o,s,u,f){for(var h=r.F._bitsE,p=r.F._get17,g=0;g<o;){var m=i[p(s,u)&a];u+=15&m;var x=m>>>4;if(x<=15)f[g]=x,g++;else{var b=0,S=0;x==16?(S=3+h(s,u,2),u+=2,b=f[g-1]):x==17?(S=3+h(s,u,3),u+=3):x==18&&(S=11+h(s,u,7),u+=7);for(var C=g+S;g<C;)f[g]=b,g++}}return u},r.F._copyOut=function(i,a,o,s){for(var u=0,f=0,h=s.length>>>1;f<o;){var p=i[f+a];s[f<<1]=0,s[1+(f<<1)]=p,p>u&&(u=p),f++}for(;f<h;)s[f<<1]=0,s[1+(f<<1)]=0,f++;return u},r.F.makeCodes=function(i,a){for(var o,s,u,f,h=r.F.U,p=i.length,g=h.bl_count,m=0;m<=a;m++)g[m]=0;for(m=1;m<p;m+=2)g[i[m]]++;var x=h.next_code;for(o=0,g[0]=0,s=1;s<=a;s++)o=o+g[s-1]<<1,x[s]=o;for(u=0;u<p;u+=2)(f=i[u+1])!=0&&(i[u]=x[f],x[f]++)},r.F.codes2map=function(i,a,o){for(var s=i.length,u=r.F.U.rev15,f=0;f<s;f+=2)if(i[f+1]!=0)for(var h=f>>1,p=i[f+1],g=h<<4|p,m=a-p,x=i[f]<<m,b=x+(1<<m);x!=b;)o[u[x]>>>15-a]=g,x++},r.F.revCodes=function(i,a){for(var o=r.F.U.rev15,s=15-a,u=0;u<i.length;u+=2){var f=i[u]<<a-i[u+1];i[u]=o[f]>>>s}},r.F._putsE=function(i,a,o){o<<=7&a;var s=a>>>3;i[s]|=o,i[s+1]|=o>>>8},r.F._putsF=function(i,a,o){o<<=7&a;var s=a>>>3;i[s]|=o,i[s+1]|=o>>>8,i[s+2]|=o>>>16},r.F._bitsE=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8)>>>(7&a)&(1<<o)-1},r.F._bitsF=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)&(1<<o)-1},r.F._get17=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)},r.F._get25=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16|i[3+(a>>>3)]<<24)>>>(7&a)},r.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,a=0;a<32768;a++){var o=a;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[a]=(o>>>16|o<<16)>>>17}function s(u,f,h){for(;f--!=0;)u.push(0,h)}for(a=0;a<32;a++)i.ldef[a]=i.of0[a]<<3|i.exb[a],i.ddef[a]=i.df0[a]<<4|i.dxb[a];s(i.fltree,144,8),s(i.fltree,112,9),s(i.fltree,24,7),s(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),s(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),s(i.itree,19,0),s(i.ltree,286,0),s(i.dtree,30,0),s(i.ttree,320,0)}()})();var rU=eU({__proto__:null,default:Dg},[Dg]);const el=function(){var n={nextZero(h,p){for(;h[p]!=0;)p++;return p},readUshort:(h,p)=>h[p]<<8|h[p+1],writeUshort(h,p,g){h[p]=g>>8&255,h[p+1]=255&g},readUint:(h,p)=>16777216*h[p]+(h[p+1]<<16|h[p+2]<<8|h[p+3]),writeUint(h,p,g){h[p]=g>>24&255,h[p+1]=g>>16&255,h[p+2]=g>>8&255,h[p+3]=255&g},readASCII(h,p,g){let m="";for(let x=0;x<g;x++)m+=String.fromCharCode(h[p+x]);return m},writeASCII(h,p,g){for(let m=0;m<g.length;m++)h[p+m]=g.charCodeAt(m)},readBytes(h,p,g){const m=[];for(let x=0;x<g;x++)m.push(h[p+x]);return m},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,p,g){let m,x="";for(let b=0;b<g;b++)x+=`%${n.pad(h[p+b].toString(16))}`;try{m=decodeURIComponent(x)}catch{return n.readASCII(h,p,g)}return m}};function e(h,p,g,m){const x=p*g,b=a(m),S=Math.ceil(p*b/8),C=new Uint8Array(4*x),D=new Uint32Array(C.buffer),{ctype:M}=m,{depth:V}=m,X=n.readUshort;if(M==6){const ce=x<<2;if(V==8)for(var $=0;$<ce;$+=4)C[$]=h[$],C[$+1]=h[$+1],C[$+2]=h[$+2],C[$+3]=h[$+3];if(V==16)for($=0;$<ce;$++)C[$]=h[$<<1]}else if(M==2){const ce=m.tabs.tRNS;if(ce==null){if(V==8)for($=0;$<x;$++){var N=3*$;D[$]=255<<24|h[N+2]<<16|h[N+1]<<8|h[N]}if(V==16)for($=0;$<x;$++)N=6*$,D[$]=255<<24|h[N+4]<<16|h[N+2]<<8|h[N]}else{var A=ce[0];const W=ce[1],me=ce[2];if(V==8)for($=0;$<x;$++){var T=$<<2;N=3*$,D[$]=255<<24|h[N+2]<<16|h[N+1]<<8|h[N],h[N]==A&&h[N+1]==W&&h[N+2]==me&&(C[T+3]=0)}if(V==16)for($=0;$<x;$++)T=$<<2,N=6*$,D[$]=255<<24|h[N+4]<<16|h[N+2]<<8|h[N],X(h,N)==A&&X(h,N+2)==W&&X(h,N+4)==me&&(C[T+3]=0)}}else if(M==3){const ce=m.tabs.PLTE,W=m.tabs.tRNS,me=W?W.length:0;if(V==1)for(var F=0;F<g;F++){var O=F*S,P=F*p;for($=0;$<p;$++){T=P+$<<2;var j=3*(Y=h[O+($>>3)]>>7-((7&$)<<0)&1);C[T]=ce[j],C[T+1]=ce[j+1],C[T+2]=ce[j+2],C[T+3]=Y<me?W[Y]:255}}if(V==2)for(F=0;F<g;F++)for(O=F*S,P=F*p,$=0;$<p;$++)T=P+$<<2,j=3*(Y=h[O+($>>2)]>>6-((3&$)<<1)&3),C[T]=ce[j],C[T+1]=ce[j+1],C[T+2]=ce[j+2],C[T+3]=Y<me?W[Y]:255;if(V==4)for(F=0;F<g;F++)for(O=F*S,P=F*p,$=0;$<p;$++)T=P+$<<2,j=3*(Y=h[O+($>>1)]>>4-((1&$)<<2)&15),C[T]=ce[j],C[T+1]=ce[j+1],C[T+2]=ce[j+2],C[T+3]=Y<me?W[Y]:255;if(V==8)for($=0;$<x;$++){var Y;T=$<<2,j=3*(Y=h[$]),C[T]=ce[j],C[T+1]=ce[j+1],C[T+2]=ce[j+2],C[T+3]=Y<me?W[Y]:255}}else if(M==4){if(V==8)for($=0;$<x;$++){T=$<<2;var le=h[U=$<<1];C[T]=le,C[T+1]=le,C[T+2]=le,C[T+3]=h[U+1]}if(V==16)for($=0;$<x;$++){var U;T=$<<2,le=h[U=$<<2],C[T]=le,C[T+1]=le,C[T+2]=le,C[T+3]=h[U+2]}}else if(M==0)for(A=m.tabs.tRNS?m.tabs.tRNS:-1,F=0;F<g;F++){const ce=F*S,W=F*p;if(V==1)for(var q=0;q<p;q++){var ie=(le=255*(h[ce+(q>>>3)]>>>7-(7&q)&1))==255*A?0:255;D[W+q]=ie<<24|le<<16|le<<8|le}else if(V==2)for(q=0;q<p;q++)ie=(le=85*(h[ce+(q>>>2)]>>>6-((3&q)<<1)&3))==85*A?0:255,D[W+q]=ie<<24|le<<16|le<<8|le;else if(V==4)for(q=0;q<p;q++)ie=(le=17*(h[ce+(q>>>1)]>>>4-((1&q)<<2)&15))==17*A?0:255,D[W+q]=ie<<24|le<<16|le<<8|le;else if(V==8)for(q=0;q<p;q++)ie=(le=h[ce+q])==A?0:255,D[W+q]=ie<<24|le<<16|le<<8|le;else if(V==16)for(q=0;q<p;q++)le=h[ce+(q<<1)],ie=X(h,ce+(q<<1))==A?0:255,D[W+q]=ie<<24|le<<16|le<<8|le}return C}function t(h,p,g,m){const x=a(h),b=Math.ceil(g*x/8),S=new Uint8Array((b+1+h.interlace)*m);return p=h.tabs.CgBI?i(p,S):r(p,S),h.interlace==0?p=o(p,h,0,g,m):h.interlace==1&&(p=function(D,M){const V=M.width,X=M.height,$=a(M),N=$>>3,A=Math.ceil(V*$/8),T=new Uint8Array(X*A);let F=0;const O=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],j=[8,8,8,4,4,2,2],Y=[8,8,4,4,2,2,1];let le=0;for(;le<7;){const q=j[le],ie=Y[le];let ce=0,W=0,me=O[le];for(;me<X;)me+=q,W++;let H=P[le];for(;H<V;)H+=ie,ce++;const Q=Math.ceil(ce*$/8);o(D,M,F,ce,W);let ee=0,ne=O[le];for(;ne<X;){let de=P[le],Ee=F+ee*Q<<3;for(;de<V;){var U;if($==1&&(U=(U=D[Ee>>3])>>7-(7&Ee)&1,T[ne*A+(de>>3)]|=U<<7-((7&de)<<0)),$==2&&(U=(U=D[Ee>>3])>>6-(7&Ee)&3,T[ne*A+(de>>2)]|=U<<6-((3&de)<<1)),$==4&&(U=(U=D[Ee>>3])>>4-(7&Ee)&15,T[ne*A+(de>>1)]|=U<<4-((1&de)<<2)),$>=8){const be=ne*A+de*N;for(let Te=0;Te<N;Te++)T[be+Te]=D[(Ee>>3)+Te]}Ee+=$,de+=ie}ee++,ne+=q}ce*W!=0&&(F+=W*(1+Q)),le+=1}return T}(p,h)),p}function r(h,p){return i(new Uint8Array(h.buffer,2,h.length-6),p)}var i=function(){const h={H:{}};return h.H.N=function(p,g){const m=Uint8Array;let x,b,S=0,C=0,D=0,M=0,V=0,X=0,$=0,N=0,A=0;if(p[0]==3&&p[1]==0)return g||new m(0);const T=h.H,F=T.b,O=T.e,P=T.R,j=T.n,Y=T.A,le=T.Z,U=T.m,q=g==null;for(q&&(g=new m(p.length>>>2<<5));S==0;)if(S=F(p,A,1),C=F(p,A+1,2),A+=3,C!=0){if(q&&(g=h.H.W(g,N+(1<<17))),C==1&&(x=U.J,b=U.h,X=511,$=31),C==2){D=O(p,A,5)+257,M=O(p,A+5,5)+1,V=O(p,A+10,4)+4,A+=14;let ce=1;for(var ie=0;ie<38;ie+=2)U.Q[ie]=0,U.Q[ie+1]=0;for(ie=0;ie<V;ie++){const H=O(p,A+3*ie,3);U.Q[1+(U.X[ie]<<1)]=H,H>ce&&(ce=H)}A+=3*V,j(U.Q,ce),Y(U.Q,ce,U.u),x=U.w,b=U.d,A=P(U.u,(1<<ce)-1,D+M,p,A,U.v);const W=T.V(U.v,0,D,U.C);X=(1<<W)-1;const me=T.V(U.v,D,M,U.D);$=(1<<me)-1,j(U.C,W),Y(U.C,W,x),j(U.D,me),Y(U.D,me,b)}for(;;){const ce=x[le(p,A)&X];A+=15&ce;const W=ce>>>4;if(!(W>>>8))g[N++]=W;else{if(W==256)break;{let me=N+W-254;if(W>264){const de=U.q[W-257];me=N+(de>>>3)+O(p,A,7&de),A+=7&de}const H=b[le(p,A)&$];A+=15&H;const Q=H>>>4,ee=U.c[Q],ne=(ee>>>4)+F(p,A,15&ee);for(A+=15&ee;N<me;)g[N]=g[N++-ne],g[N]=g[N++-ne],g[N]=g[N++-ne],g[N]=g[N++-ne];N=me}}}}else{(7&A)!=0&&(A+=8-(7&A));const ce=4+(A>>>3),W=p[ce-4]|p[ce-3]<<8;q&&(g=h.H.W(g,N+W)),g.set(new m(p.buffer,p.byteOffset+ce,W),N),A=ce+W<<3,N+=W}return g.length==N?g:g.slice(0,N)},h.H.W=function(p,g){const m=p.length;if(g<=m)return p;const x=new Uint8Array(m<<1);return x.set(p,0),x},h.H.R=function(p,g,m,x,b,S){const C=h.H.e,D=h.H.Z;let M=0;for(;M<m;){const V=p[D(x,b)&g];b+=15&V;const X=V>>>4;if(X<=15)S[M]=X,M++;else{let $=0,N=0;X==16?(N=3+C(x,b,2),b+=2,$=S[M-1]):X==17?(N=3+C(x,b,3),b+=3):X==18&&(N=11+C(x,b,7),b+=7);const A=M+N;for(;M<A;)S[M]=$,M++}}return b},h.H.V=function(p,g,m,x){let b=0,S=0;const C=x.length>>>1;for(;S<m;){const D=p[S+g];x[S<<1]=0,x[1+(S<<1)]=D,D>b&&(b=D),S++}for(;S<C;)x[S<<1]=0,x[1+(S<<1)]=0,S++;return b},h.H.n=function(p,g){const m=h.H.m,x=p.length;let b,S,C,D;const M=m.j;for(var V=0;V<=g;V++)M[V]=0;for(V=1;V<x;V+=2)M[p[V]]++;const X=m.K;for(b=0,M[0]=0,S=1;S<=g;S++)b=b+M[S-1]<<1,X[S]=b;for(C=0;C<x;C+=2)D=p[C+1],D!=0&&(p[C]=X[D],X[D]++)},h.H.A=function(p,g,m){const x=p.length,b=h.H.m.r;for(let S=0;S<x;S+=2)if(p[S+1]!=0){const C=S>>1,D=p[S+1],M=C<<4|D,V=g-D;let X=p[S]<<V;const $=X+(1<<V);for(;X!=$;)m[b[X]>>>15-g]=M,X++}},h.H.l=function(p,g){const m=h.H.m.r,x=15-g;for(let b=0;b<p.length;b+=2){const S=p[b]<<g-p[b+1];p[b]=m[S]>>>x}},h.H.M=function(p,g,m){m<<=7&g;const x=g>>>3;p[x]|=m,p[x+1]|=m>>>8},h.H.I=function(p,g,m){m<<=7&g;const x=g>>>3;p[x]|=m,p[x+1]|=m>>>8,p[x+2]|=m>>>16},h.H.e=function(p,g,m){return(p[g>>>3]|p[1+(g>>>3)]<<8)>>>(7&g)&(1<<m)-1},h.H.b=function(p,g,m){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)&(1<<m)-1},h.H.Z=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)},h.H.i=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16|p[3+(g>>>3)]<<24)>>>(7&g)},h.H.m=function(){const p=Uint16Array,g=Uint32Array;return{K:new p(16),j:new p(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new p(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new g(32),J:new p(512),_:[],h:new p(32),$:[],w:new p(32768),C:[],v:[],d:new p(32768),D:[],u:new p(512),Q:[],r:new p(32768),s:new g(286),Y:new g(30),a:new g(19),t:new g(15e3),k:new p(65536),g:new p(32768)}}(),function(){const p=h.H.m;for(var g=0;g<32768;g++){let x=g;x=(2863311530&x)>>>1|(1431655765&x)<<1,x=(3435973836&x)>>>2|(858993459&x)<<2,x=(4042322160&x)>>>4|(252645135&x)<<4,x=(4278255360&x)>>>8|(16711935&x)<<8,p.r[g]=(x>>>16|x<<16)>>>17}function m(x,b,S){for(;b--!=0;)x.push(0,S)}for(g=0;g<32;g++)p.q[g]=p.S[g]<<3|p.T[g],p.c[g]=p.p[g]<<4|p.z[g];m(p._,144,8),m(p._,112,9),m(p._,24,7),m(p._,8,8),h.H.n(p._,9),h.H.A(p._,9,p.J),h.H.l(p._,9),m(p.$,32,5),h.H.n(p.$,5),h.H.A(p.$,5,p.h),h.H.l(p.$,5),m(p.Q,19,0),m(p.C,286,0),m(p.D,30,0),m(p.v,320,0)}(),h.H.N}();function a(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function o(h,p,g,m,x){let b=a(p);const S=Math.ceil(m*b/8);let C,D;b=Math.ceil(b/8);let M=h[g],V=0;if(M>1&&(h[g]=[0,0,1][M-2]),M==3)for(V=b;V<S;V++)h[V+1]=h[V+1]+(h[V+1-b]>>>1)&255;for(let X=0;X<x;X++)if(C=g+X*S,D=C+X+1,M=h[D-1],V=0,M==0)for(;V<S;V++)h[C+V]=h[D+V];else if(M==1){for(;V<b;V++)h[C+V]=h[D+V];for(;V<S;V++)h[C+V]=h[D+V]+h[C+V-b]}else if(M==2)for(;V<S;V++)h[C+V]=h[D+V]+h[C+V-S];else if(M==3){for(;V<b;V++)h[C+V]=h[D+V]+(h[C+V-S]>>>1);for(;V<S;V++)h[C+V]=h[D+V]+(h[C+V-S]+h[C+V-b]>>>1)}else{for(;V<b;V++)h[C+V]=h[D+V]+s(0,h[C+V-S],0);for(;V<S;V++)h[C+V]=h[D+V]+s(h[C+V-b],h[C+V-S],h[C+V-b-S])}return h}function s(h,p,g){const m=h+p-g,x=m-h,b=m-p,S=m-g;return x*x<=b*b&&x*x<=S*S?h:b*b<=S*S?p:g}function u(h,p,g){g.width=n.readUint(h,p),p+=4,g.height=n.readUint(h,p),p+=4,g.depth=h[p],p++,g.ctype=h[p],p++,g.compress=h[p],p++,g.filter=h[p],p++,g.interlace=h[p],p++}function f(h,p,g,m,x,b,S,C,D){const M=Math.min(p,x),V=Math.min(g,b);let X=0,$=0;for(let le=0;le<V;le++)for(let U=0;U<M;U++)if(S>=0&&C>=0?(X=le*p+U<<2,$=(C+le)*x+S+U<<2):(X=(-C+le)*p-S+U<<2,$=le*x+U<<2),D==0)m[$]=h[X],m[$+1]=h[X+1],m[$+2]=h[X+2],m[$+3]=h[X+3];else if(D==1){var N=h[X+3]*.00392156862745098,A=h[X]*N,T=h[X+1]*N,F=h[X+2]*N,O=m[$+3]*(1/255),P=m[$]*O,j=m[$+1]*O,Y=m[$+2]*O;const q=1-N,ie=N+O*q,ce=ie==0?0:1/ie;m[$+3]=255*ie,m[$+0]=(A+P*q)*ce,m[$+1]=(T+j*q)*ce,m[$+2]=(F+Y*q)*ce}else if(D==2)N=h[X+3],A=h[X],T=h[X+1],F=h[X+2],O=m[$+3],P=m[$],j=m[$+1],Y=m[$+2],N==O&&A==P&&T==j&&F==Y?(m[$]=0,m[$+1]=0,m[$+2]=0,m[$+3]=0):(m[$]=A,m[$+1]=T,m[$+2]=F,m[$+3]=N);else if(D==3){if(N=h[X+3],A=h[X],T=h[X+1],F=h[X+2],O=m[$+3],P=m[$],j=m[$+1],Y=m[$+2],N==O&&A==P&&T==j&&F==Y)continue;if(N<220&&O>20)return!1}return!0}return{decode:function(p){const g=new Uint8Array(p);let m=8;const x=n,b=x.readUshort,S=x.readUint,C={tabs:{},frames:[]},D=new Uint8Array(g.length);let M,V=0,X=0;const $=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(g[N]!=$[N])throw"The input is not a PNG file!";for(;m<g.length;){const le=x.readUint(g,m);m+=4;const U=x.readASCII(g,m,4);if(m+=4,U=="IHDR")u(g,m,C);else if(U=="iCCP"){for(var A=m;g[A]!=0;)A++;x.readASCII(g,m,A-m),g[A+1];const q=g.slice(A+2,m+le);let ie=null;try{ie=r(q)}catch{ie=i(q)}C.tabs[U]=ie}else if(U=="CgBI")C.tabs[U]=g.slice(m,m+4);else if(U=="IDAT"){for(N=0;N<le;N++)D[V+N]=g[m+N];V+=le}else if(U=="acTL")C.tabs[U]={num_frames:S(g,m),num_plays:S(g,m+4)},M=new Uint8Array(g.length);else if(U=="fcTL"){X!=0&&((Y=C.frames[C.frames.length-1]).data=t(C,M.slice(0,X),Y.rect.width,Y.rect.height),X=0);const q={x:S(g,m+12),y:S(g,m+16),width:S(g,m+4),height:S(g,m+8)};let ie=b(g,m+22);ie=b(g,m+20)/(ie==0?100:ie);const ce={rect:q,delay:Math.round(1e3*ie),dispose:g[m+24],blend:g[m+25]};C.frames.push(ce)}else if(U=="fdAT"){for(N=0;N<le-4;N++)M[X+N]=g[m+N+4];X+=le-4}else if(U=="pHYs")C.tabs[U]=[x.readUint(g,m),x.readUint(g,m+4),g[m+8]];else if(U=="cHRM")for(C.tabs[U]=[],N=0;N<8;N++)C.tabs[U].push(x.readUint(g,m+4*N));else if(U=="tEXt"||U=="zTXt"){C.tabs[U]==null&&(C.tabs[U]={});var T=x.nextZero(g,m),F=x.readASCII(g,m,T-m),O=m+le-T-1;if(U=="tEXt")j=x.readASCII(g,T+1,O);else{var P=r(g.slice(T+2,T+2+O));j=x.readUTF8(P,0,P.length)}C.tabs[U][F]=j}else if(U=="iTXt"){C.tabs[U]==null&&(C.tabs[U]={}),T=0,A=m,T=x.nextZero(g,A),F=x.readASCII(g,A,T-A);const q=g[A=T+1];var j;g[A+1],A+=2,T=x.nextZero(g,A),x.readASCII(g,A,T-A),A=T+1,T=x.nextZero(g,A),x.readUTF8(g,A,T-A),O=le-((A=T+1)-m),q==0?j=x.readUTF8(g,A,O):(P=r(g.slice(A,A+O)),j=x.readUTF8(P,0,P.length)),C.tabs[U][F]=j}else if(U=="PLTE")C.tabs[U]=x.readBytes(g,m,le);else if(U=="hIST"){const q=C.tabs.PLTE.length/3;for(C.tabs[U]=[],N=0;N<q;N++)C.tabs[U].push(b(g,m+2*N))}else if(U=="tRNS")C.ctype==3?C.tabs[U]=x.readBytes(g,m,le):C.ctype==0?C.tabs[U]=b(g,m):C.ctype==2&&(C.tabs[U]=[b(g,m),b(g,m+2),b(g,m+4)]);else if(U=="gAMA")C.tabs[U]=x.readUint(g,m)/1e5;else if(U=="sRGB")C.tabs[U]=g[m];else if(U=="bKGD")C.ctype==0||C.ctype==4?C.tabs[U]=[b(g,m)]:C.ctype==2||C.ctype==6?C.tabs[U]=[b(g,m),b(g,m+2),b(g,m+4)]:C.ctype==3&&(C.tabs[U]=g[m]);else if(U=="IEND")break;m+=le,x.readUint(g,m),m+=4}var Y;return X!=0&&((Y=C.frames[C.frames.length-1]).data=t(C,M.slice(0,X),Y.rect.width,Y.rect.height)),C.data=t(C,D,C.width,C.height),delete C.compress,delete C.interlace,delete C.filter,C},toRGBA8:function(p){const g=p.width,m=p.height;if(p.tabs.acTL==null)return[e(p.data,g,m,p).buffer];const x=[];p.frames[0].data==null&&(p.frames[0].data=p.data);const b=g*m*4,S=new Uint8Array(b),C=new Uint8Array(b),D=new Uint8Array(b);for(let V=0;V<p.frames.length;V++){const X=p.frames[V],$=X.rect.x,N=X.rect.y,A=X.rect.width,T=X.rect.height,F=e(X.data,A,T,p);if(V!=0)for(var M=0;M<b;M++)D[M]=S[M];if(X.blend==0?f(F,A,T,S,g,m,$,N,0):X.blend==1&&f(F,A,T,S,g,m,$,N,1),x.push(S.buffer.slice(0)),X.dispose!=0){if(X.dispose==1)f(C,A,T,S,g,m,$,N,0);else if(X.dispose==2)for(M=0;M<b;M++)S[M]=D[M]}}return x},_paeth:s,_copyTile:f,_bin:n}}();(function(){const{_copyTile:n}=el,{_bin:e}=el,t=el._paeth;var r={table:function(){const A=new Uint32Array(256);for(let T=0;T<256;T++){let F=T;for(let O=0;O<8;O++)1&F?F=3988292384^F>>>1:F>>>=1;A[T]=F}return A}(),update(A,T,F,O){for(let P=0;P<O;P++)A=r.table[255&(A^T[F+P])]^A>>>8;return A},crc:(A,T,F)=>4294967295^r.update(4294967295,A,T,F)};function i(A,T,F,O){T[F]+=A[0]*O>>4,T[F+1]+=A[1]*O>>4,T[F+2]+=A[2]*O>>4,T[F+3]+=A[3]*O>>4}function a(A){return Math.max(0,Math.min(255,A))}function o(A,T){const F=A[0]-T[0],O=A[1]-T[1],P=A[2]-T[2],j=A[3]-T[3];return F*F+O*O+P*P+j*j}function s(A,T,F,O,P,j,Y){Y==null&&(Y=1);const le=O.length,U=[];for(var q=0;q<le;q++){const ne=O[q];U.push([ne>>>0&255,ne>>>8&255,ne>>>16&255,ne>>>24&255])}for(q=0;q<le;q++){let ne=4294967295;for(var ie=0,ce=0;ce<le;ce++){var W=o(U[q],U[ce]);ce!=q&&W<ne&&(ne=W,ie=ce)}}const me=new Uint32Array(P.buffer),H=new Int16Array(T*F*4),Q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(q=0;q<Q.length;q++)Q[q]=255*((Q[q]+.5)/16-.5);for(let ne=0;ne<F;ne++)for(let de=0;de<T;de++){var ee;q=4*(ne*T+de),Y!=2?ee=[a(A[q]+H[q]),a(A[q+1]+H[q+1]),a(A[q+2]+H[q+2]),a(A[q+3]+H[q+3])]:(W=Q[4*(3&ne)+(3&de)],ee=[a(A[q]+W),a(A[q+1]+W),a(A[q+2]+W),a(A[q+3]+W)]),ie=0;let Ee=16777215;for(ce=0;ce<le;ce++){const Ge=o(ee,U[ce]);Ge<Ee&&(Ee=Ge,ie=ce)}const be=U[ie],Te=[ee[0]-be[0],ee[1]-be[1],ee[2]-be[2],ee[3]-be[3]];Y==1&&(de!=T-1&&i(Te,H,q+4,7),ne!=F-1&&(de!=0&&i(Te,H,q+4*T-4,3),i(Te,H,q+4*T,5),de!=T-1&&i(Te,H,q+4*T+4,1))),j[q>>2]=ie,me[q>>2]=O[ie]}}function u(A,T,F,O,P){P==null&&(P={});const{crc:j}=r,Y=e.writeUint,le=e.writeUshort,U=e.writeASCII;let q=8;const ie=A.frames.length>1;let ce,W=!1,me=33+(ie?20:0);if(P.sRGB!=null&&(me+=13),P.pHYs!=null&&(me+=21),P.iCCP!=null&&(ce=pako.deflate(P.iCCP),me+=21+ce.length+4),A.ctype==3){for(var H=A.plte.length,Q=0;Q<H;Q++)A.plte[Q]>>>24!=255&&(W=!0);me+=8+3*H+4+(W?8+1*H+4:0)}for(var ee=0;ee<A.frames.length;ee++)ie&&(me+=38),me+=(be=A.frames[ee]).cimg.length+12,ee!=0&&(me+=4);me+=12;const ne=new Uint8Array(me),de=[137,80,78,71,13,10,26,10];for(Q=0;Q<8;Q++)ne[Q]=de[Q];if(Y(ne,q,13),q+=4,U(ne,q,"IHDR"),q+=4,Y(ne,q,T),q+=4,Y(ne,q,F),q+=4,ne[q]=A.depth,q++,ne[q]=A.ctype,q++,ne[q]=0,q++,ne[q]=0,q++,ne[q]=0,q++,Y(ne,q,j(ne,q-17,17)),q+=4,P.sRGB!=null&&(Y(ne,q,1),q+=4,U(ne,q,"sRGB"),q+=4,ne[q]=P.sRGB,q++,Y(ne,q,j(ne,q-5,5)),q+=4),P.iCCP!=null){const Te=13+ce.length;Y(ne,q,Te),q+=4,U(ne,q,"iCCP"),q+=4,U(ne,q,"ICC profile"),q+=11,q+=2,ne.set(ce,q),q+=ce.length,Y(ne,q,j(ne,q-(Te+4),Te+4)),q+=4}if(P.pHYs!=null&&(Y(ne,q,9),q+=4,U(ne,q,"pHYs"),q+=4,Y(ne,q,P.pHYs[0]),q+=4,Y(ne,q,P.pHYs[1]),q+=4,ne[q]=P.pHYs[2],q++,Y(ne,q,j(ne,q-13,13)),q+=4),ie&&(Y(ne,q,8),q+=4,U(ne,q,"acTL"),q+=4,Y(ne,q,A.frames.length),q+=4,Y(ne,q,P.loop!=null?P.loop:0),q+=4,Y(ne,q,j(ne,q-12,12)),q+=4),A.ctype==3){for(Y(ne,q,3*(H=A.plte.length)),q+=4,U(ne,q,"PLTE"),q+=4,Q=0;Q<H;Q++){const Te=3*Q,Ge=A.plte[Q],He=255&Ge,rt=Ge>>>8&255,st=Ge>>>16&255;ne[q+Te+0]=He,ne[q+Te+1]=rt,ne[q+Te+2]=st}if(q+=3*H,Y(ne,q,j(ne,q-3*H-4,3*H+4)),q+=4,W){for(Y(ne,q,H),q+=4,U(ne,q,"tRNS"),q+=4,Q=0;Q<H;Q++)ne[q+Q]=A.plte[Q]>>>24&255;q+=H,Y(ne,q,j(ne,q-H-4,H+4)),q+=4}}let Ee=0;for(ee=0;ee<A.frames.length;ee++){var be=A.frames[ee];ie&&(Y(ne,q,26),q+=4,U(ne,q,"fcTL"),q+=4,Y(ne,q,Ee++),q+=4,Y(ne,q,be.rect.width),q+=4,Y(ne,q,be.rect.height),q+=4,Y(ne,q,be.rect.x),q+=4,Y(ne,q,be.rect.y),q+=4,le(ne,q,O[ee]),q+=2,le(ne,q,1e3),q+=2,ne[q]=be.dispose,q++,ne[q]=be.blend,q++,Y(ne,q,j(ne,q-30,30)),q+=4);const Te=be.cimg;Y(ne,q,(H=Te.length)+(ee==0?0:4)),q+=4;const Ge=q;U(ne,q,ee==0?"IDAT":"fdAT"),q+=4,ee!=0&&(Y(ne,q,Ee++),q+=4),ne.set(Te,q),q+=H,Y(ne,q,j(ne,Ge,q-Ge)),q+=4}return Y(ne,q,0),q+=4,U(ne,q,"IEND"),q+=4,Y(ne,q,j(ne,q-4,4)),q+=4,ne.buffer}function f(A,T,F){for(let O=0;O<A.frames.length;O++){const P=A.frames[O];P.rect.width;const j=P.rect.height,Y=new Uint8Array(j*P.bpl+j);P.cimg=m(P.img,j,P.bpp,P.bpl,Y,T,F)}}function h(A,T,F,O,P){const j=P[0],Y=P[1],le=P[2],U=P[3],q=P[4],ie=P[5];let ce=6,W=8,me=255;for(var H=0;H<A.length;H++){const ge=new Uint8Array(A[H]);for(var Q=ge.length,ee=0;ee<Q;ee+=4)me&=ge[ee+3]}const ne=me!=255,de=function(gt,lt,Xe,it,at,ot){const ct=[];for(var mt=0;mt<gt.length;mt++){const Ot=new Uint8Array(gt[mt]),ut=new Uint32Array(Ot.buffer);var Nt;let mn=0,Vt=0,Xn=lt,Yt=Xe,An=it?1:0;if(mt!=0){const di=ot||it||mt==1||ct[mt-2].dispose!=0?1:2;let an=0,ha=1e9;for(let Cn=0;Cn<di;Cn++){var xt=new Uint8Array(gt[mt-1-Cn]);const Lr=new Uint32Array(gt[mt-1-Cn]);let or=lt,vn=Xe,Tt=-1,tn=-1;for(let kn=0;kn<Xe;kn++)for(let dr=0;dr<lt;dr++)ut[Rt=kn*lt+dr]!=Lr[Rt]&&(dr<or&&(or=dr),dr>Tt&&(Tt=dr),kn<vn&&(vn=kn),kn>tn&&(tn=kn));Tt==-1&&(or=vn=Tt=tn=0),at&&((1&or)==1&&or--,(1&vn)==1&&vn--);const bi=(Tt-or+1)*(tn-vn+1);bi<ha&&(ha=bi,an=Cn,mn=or,Vt=vn,Xn=Tt-or+1,Yt=tn-vn+1)}xt=new Uint8Array(gt[mt-1-an]),an==1&&(ct[mt-1].dispose=2),Nt=new Uint8Array(Xn*Yt*4),n(xt,lt,Xe,Nt,Xn,Yt,-mn,-Vt,0),An=n(Ot,lt,Xe,Nt,Xn,Yt,-mn,-Vt,3)?1:0,An==1?g(Ot,lt,Xe,Nt,{x:mn,y:Vt,width:Xn,height:Yt}):n(Ot,lt,Xe,Nt,Xn,Yt,-mn,-Vt,0)}else Nt=Ot.slice(0);ct.push({rect:{x:mn,y:Vt,width:Xn,height:Yt},img:Nt,blend:An,dispose:0})}if(it)for(mt=0;mt<ct.length;mt++){if((_t=ct[mt]).blend==1)continue;const Ot=_t.rect,ut=ct[mt-1].rect,mn=Math.min(Ot.x,ut.x),Vt=Math.min(Ot.y,ut.y),Xn={x:mn,y:Vt,width:Math.max(Ot.x+Ot.width,ut.x+ut.width)-mn,height:Math.max(Ot.y+Ot.height,ut.y+ut.height)-Vt};ct[mt-1].dispose=1,mt-1!=0&&p(gt,lt,Xe,ct,mt-1,Xn,at),p(gt,lt,Xe,ct,mt,Xn,at)}let bt=0;if(gt.length!=1)for(var Rt=0;Rt<ct.length;Rt++){var _t;bt+=(_t=ct[Rt]).rect.width*_t.rect.height}return ct}(A,T,F,j,Y,le),Ee={},be=[],Te=[];if(O!=0){const ge=[];for(ee=0;ee<de.length;ee++)ge.push(de[ee].img.buffer);const gt=function(at){let ot=0;for(var ct=0;ct<at.length;ct++)ot+=at[ct].byteLength;const mt=new Uint8Array(ot);let Nt=0;for(ct=0;ct<at.length;ct++){const xt=new Uint8Array(at[ct]),bt=xt.length;for(let Rt=0;Rt<bt;Rt+=4){let _t=xt[Rt],Ot=xt[Rt+1],ut=xt[Rt+2];const mn=xt[Rt+3];mn==0&&(_t=Ot=ut=0),mt[Nt+Rt]=_t,mt[Nt+Rt+1]=Ot,mt[Nt+Rt+2]=ut,mt[Nt+Rt+3]=mn}Nt+=bt}return mt.buffer}(ge),lt=b(gt,O);for(ee=0;ee<lt.plte.length;ee++)be.push(lt.plte[ee].est.rgba);let Xe=0;for(ee=0;ee<de.length;ee++){const it=(He=de[ee]).img.length;var Ge=new Uint8Array(lt.inds.buffer,Xe>>2,it>>2);Te.push(Ge);const at=new Uint8Array(lt.abuf,Xe,it);ie&&s(He.img,He.rect.width,He.rect.height,be,at,Ge),He.img.set(at),Xe+=it}}else for(H=0;H<de.length;H++){var He=de[H];const ge=new Uint32Array(He.img.buffer);var rt=He.rect.width;for(Q=ge.length,Ge=new Uint8Array(Q),Te.push(Ge),ee=0;ee<Q;ee++){const gt=ge[ee];if(ee!=0&&gt==ge[ee-1])Ge[ee]=Ge[ee-1];else if(ee>rt&&gt==ge[ee-rt])Ge[ee]=Ge[ee-rt];else{let lt=Ee[gt];if(lt==null&&(Ee[gt]=lt=be.length,be.push(gt),be.length>=300))break;Ge[ee]=lt}}}const st=be.length;for(st<=256&&q==0&&(W=st<=2?1:st<=4?2:st<=16?4:8,W=Math.max(W,U)),H=0;H<de.length;H++){(He=de[H]).rect.x,He.rect.y,rt=He.rect.width;const ge=He.rect.height;let gt=He.img;new Uint32Array(gt.buffer);let lt=4*rt,Xe=4;if(st<=256&&q==0){lt=Math.ceil(W*rt/8);var wt=new Uint8Array(lt*ge);const it=Te[H];for(let at=0;at<ge;at++){ee=at*lt;const ot=at*rt;if(W==8)for(var Be=0;Be<rt;Be++)wt[ee+Be]=it[ot+Be];else if(W==4)for(Be=0;Be<rt;Be++)wt[ee+(Be>>1)]|=it[ot+Be]<<4-4*(1&Be);else if(W==2)for(Be=0;Be<rt;Be++)wt[ee+(Be>>2)]|=it[ot+Be]<<6-2*(3&Be);else if(W==1)for(Be=0;Be<rt;Be++)wt[ee+(Be>>3)]|=it[ot+Be]<<7-1*(7&Be)}gt=wt,ce=3,Xe=1}else if(ne==0&&de.length==1){wt=new Uint8Array(rt*ge*3);const it=rt*ge;for(ee=0;ee<it;ee++){const at=3*ee,ot=4*ee;wt[at]=gt[ot],wt[at+1]=gt[ot+1],wt[at+2]=gt[ot+2]}gt=wt,ce=2,Xe=3,lt=3*rt}He.img=gt,He.bpl=lt,He.bpp=Xe}return{ctype:ce,depth:W,plte:be,frames:de}}function p(A,T,F,O,P,j,Y){const le=Uint8Array,U=Uint32Array,q=new le(A[P-1]),ie=new U(A[P-1]),ce=P+1<A.length?new le(A[P+1]):null,W=new le(A[P]),me=new U(W.buffer);let H=T,Q=F,ee=-1,ne=-1;for(let Ee=0;Ee<j.height;Ee++)for(let be=0;be<j.width;be++){const Te=j.x+be,Ge=j.y+Ee,He=Ge*T+Te,rt=me[He];rt==0||O[P-1].dispose==0&&ie[He]==rt&&(ce==null||ce[4*He+3]!=0)||(Te<H&&(H=Te),Te>ee&&(ee=Te),Ge<Q&&(Q=Ge),Ge>ne&&(ne=Ge))}ee==-1&&(H=Q=ee=ne=0),Y&&((1&H)==1&&H--,(1&Q)==1&&Q--),j={x:H,y:Q,width:ee-H+1,height:ne-Q+1};const de=O[P];de.rect=j,de.blend=1,de.img=new Uint8Array(j.width*j.height*4),O[P-1].dispose==0?(n(q,T,F,de.img,j.width,j.height,-j.x,-j.y,0),g(W,T,F,de.img,j)):n(W,T,F,de.img,j.width,j.height,-j.x,-j.y,0)}function g(A,T,F,O,P){n(A,T,F,O,P.width,P.height,-P.x,-P.y,2)}function m(A,T,F,O,P,j,Y){const le=[];let U,q=[0,1,2,3,4];j!=-1?q=[j]:(T*O>5e5||F==1)&&(q=[0]),Y&&(U={level:0});const ie=rU;for(var ce=0;ce<q.length;ce++){for(let H=0;H<T;H++)x(P,A,H,O,F,q[ce]);le.push(ie.deflate(P,U))}let W,me=1e9;for(ce=0;ce<le.length;ce++)le[ce].length<me&&(W=ce,me=le[ce].length);return le[W]}function x(A,T,F,O,P,j){const Y=F*O;let le=Y+F;if(A[le]=j,le++,j==0)if(O<500)for(var U=0;U<O;U++)A[le+U]=T[Y+U];else A.set(new Uint8Array(T.buffer,Y,O),le);else if(j==1){for(U=0;U<P;U++)A[le+U]=T[Y+U];for(U=P;U<O;U++)A[le+U]=T[Y+U]-T[Y+U-P]+256&255}else if(F==0){for(U=0;U<P;U++)A[le+U]=T[Y+U];if(j==2)for(U=P;U<O;U++)A[le+U]=T[Y+U];if(j==3)for(U=P;U<O;U++)A[le+U]=T[Y+U]-(T[Y+U-P]>>1)+256&255;if(j==4)for(U=P;U<O;U++)A[le+U]=T[Y+U]-t(T[Y+U-P],0,0)+256&255}else{if(j==2)for(U=0;U<O;U++)A[le+U]=T[Y+U]+256-T[Y+U-O]&255;if(j==3){for(U=0;U<P;U++)A[le+U]=T[Y+U]+256-(T[Y+U-O]>>1)&255;for(U=P;U<O;U++)A[le+U]=T[Y+U]+256-(T[Y+U-O]+T[Y+U-P]>>1)&255}if(j==4){for(U=0;U<P;U++)A[le+U]=T[Y+U]+256-t(0,T[Y+U-O],0)&255;for(U=P;U<O;U++)A[le+U]=T[Y+U]+256-t(T[Y+U-P],T[Y+U-O],T[Y+U-P-O])&255}}}function b(A,T){const F=new Uint8Array(A),O=F.slice(0),P=new Uint32Array(O.buffer),j=S(O,T),Y=j[0],le=j[1],U=F.length,q=new Uint8Array(U>>2);let ie;if(F.length<2e7)for(var ce=0;ce<U;ce+=4)ie=C(Y,W=F[ce]*(1/255),me=F[ce+1]*(1/255),H=F[ce+2]*(1/255),Q=F[ce+3]*(1/255)),q[ce>>2]=ie.ind,P[ce>>2]=ie.est.rgba;else for(ce=0;ce<U;ce+=4){var W=F[ce]*.00392156862745098,me=F[ce+1]*(1/255),H=F[ce+2]*(1/255),Q=F[ce+3]*(1/255);for(ie=Y;ie.left;)ie=D(ie.est,W,me,H,Q)<=0?ie.left:ie.right;q[ce>>2]=ie.ind,P[ce>>2]=ie.est.rgba}return{abuf:O.buffer,inds:q,plte:le}}function S(A,T,F){F==null&&(F=1e-4);const O=new Uint32Array(A.buffer),P={i0:0,i1:A.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=X(A,P.i0,P.i1),P.est=$(P.bst);const j=[P];for(;j.length<T;){let le=0,U=0;for(var Y=0;Y<j.length;Y++)j[Y].est.L>le&&(le=j[Y].est.L,U=Y);if(le<F)break;const q=j[U],ie=M(A,O,q.i0,q.i1,q.est.e,q.est.eMq255);if(q.i0>=ie||q.i1<=ie){q.est.L=0;continue}const ce={i0:q.i0,i1:ie,bst:null,est:null,tdst:0,left:null,right:null};ce.bst=X(A,ce.i0,ce.i1),ce.est=$(ce.bst);const W={i0:ie,i1:q.i1,bst:null,est:null,tdst:0,left:null,right:null};for(W.bst={R:[],m:[],N:q.bst.N-ce.bst.N},Y=0;Y<16;Y++)W.bst.R[Y]=q.bst.R[Y]-ce.bst.R[Y];for(Y=0;Y<4;Y++)W.bst.m[Y]=q.bst.m[Y]-ce.bst.m[Y];W.est=$(W.bst),q.left=ce,q.right=W,j[U]=ce,j.push(W)}for(j.sort((le,U)=>U.bst.N-le.bst.N),Y=0;Y<j.length;Y++)j[Y].ind=Y;return[P,j]}function C(A,T,F,O,P){if(A.left==null)return A.tdst=function(ce,W,me,H,Q){const ee=W-ce[0],ne=me-ce[1],de=H-ce[2],Ee=Q-ce[3];return ee*ee+ne*ne+de*de+Ee*Ee}(A.est.q,T,F,O,P),A;const j=D(A.est,T,F,O,P);let Y=A.left,le=A.right;j>0&&(Y=A.right,le=A.left);const U=C(Y,T,F,O,P);if(U.tdst<=j*j)return U;const q=C(le,T,F,O,P);return q.tdst<U.tdst?q:U}function D(A,T,F,O,P){const{e:j}=A;return j[0]*T+j[1]*F+j[2]*O+j[3]*P-A.eMq}function M(A,T,F,O,P,j){for(O-=4;F<O;){for(;V(A,F,P)<=j;)F+=4;for(;V(A,O,P)>j;)O-=4;if(F>=O)break;const Y=T[F>>2];T[F>>2]=T[O>>2],T[O>>2]=Y,F+=4,O-=4}for(;V(A,F,P)>j;)F-=4;return F+4}function V(A,T,F){return A[T]*F[0]+A[T+1]*F[1]+A[T+2]*F[2]+A[T+3]*F[3]}function X(A,T,F){const O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],j=F-T>>2;for(let Y=T;Y<F;Y+=4){const le=A[Y]*.00392156862745098,U=A[Y+1]*(1/255),q=A[Y+2]*(1/255),ie=A[Y+3]*(1/255);P[0]+=le,P[1]+=U,P[2]+=q,P[3]+=ie,O[0]+=le*le,O[1]+=le*U,O[2]+=le*q,O[3]+=le*ie,O[5]+=U*U,O[6]+=U*q,O[7]+=U*ie,O[10]+=q*q,O[11]+=q*ie,O[15]+=ie*ie}return O[4]=O[1],O[8]=O[2],O[9]=O[6],O[12]=O[3],O[13]=O[7],O[14]=O[11],{R:O,m:P,N:j}}function $(A){const{R:T}=A,{m:F}=A,{N:O}=A,P=F[0],j=F[1],Y=F[2],le=F[3],U=O==0?0:1/O,q=[T[0]-P*P*U,T[1]-P*j*U,T[2]-P*Y*U,T[3]-P*le*U,T[4]-j*P*U,T[5]-j*j*U,T[6]-j*Y*U,T[7]-j*le*U,T[8]-Y*P*U,T[9]-Y*j*U,T[10]-Y*Y*U,T[11]-Y*le*U,T[12]-le*P*U,T[13]-le*j*U,T[14]-le*Y*U,T[15]-le*le*U],ie=q,ce=N;let W=[Math.random(),Math.random(),Math.random(),Math.random()],me=0,H=0;if(O!=0)for(let ee=0;ee<16&&(W=ce.multVec(ie,W),H=Math.sqrt(ce.dot(W,W)),W=ce.sml(1/H,W),!(ee!=0&&Math.abs(H-me)<1e-9));ee++)me=H;const Q=[P*U,j*U,Y*U,le*U];return{Cov:q,q:Q,e:W,L:me,eMq255:ce.dot(ce.sml(255,Q),W),eMq:ce.dot(W,Q),rgba:(Math.round(255*Q[3])<<24|Math.round(255*Q[2])<<16|Math.round(255*Q[1])<<8|Math.round(255*Q[0])<<0)>>>0}}var N={multVec:(A,T)=>[A[0]*T[0]+A[1]*T[1]+A[2]*T[2]+A[3]*T[3],A[4]*T[0]+A[5]*T[1]+A[6]*T[2]+A[7]*T[3],A[8]*T[0]+A[9]*T[1]+A[10]*T[2]+A[11]*T[3],A[12]*T[0]+A[13]*T[1]+A[14]*T[2]+A[15]*T[3]],dot:(A,T)=>A[0]*T[0]+A[1]*T[1]+A[2]*T[2]+A[3]*T[3],sml:(A,T)=>[A*T[0],A*T[1],A*T[2],A*T[3]]};el.encode=function(T,F,O,P,j,Y,le){P==null&&(P=0),le==null&&(le=!1);const U=h(T,F,O,P,[!1,!1,!1,0,le,!1]);return f(U,-1),u(U,F,O,j,Y)},el.encodeLL=function(T,F,O,P,j,Y,le,U){const q={ctype:0+(P==1?0:2)+(j==0?0:4),depth:Y,frames:[]},ie=(P+j)*Y,ce=ie*F;for(let W=0;W<T.length;W++)q.frames.push({rect:{x:0,y:0,width:F,height:O},img:new Uint8Array(T[W]),blend:0,dispose:1,bpp:Math.ceil(ie/8),bpl:Math.ceil(ce/8)});return f(q,0,!0),u(q,F,O,le,U)},el.encode.compress=h,el.encode.dither=s,el.quantize=b,el.quantize.getKDtree=S,el.quantize.getNearest=C})();const CS={toArrayBuffer(n,e){const t=n.width,r=n.height,i=t<<2,a=n.getContext("2d").getImageData(0,0,t,r),o=new Uint32Array(a.data.buffer),s=(32*t+31)/32<<2,u=s*r,f=122+u,h=new ArrayBuffer(f),p=new DataView(h),g=1<<20;let m,x,b,S,C=g,D=0,M=0,V=0;function X(A){p.setUint16(M,A,!0),M+=2}function $(A){p.setUint32(M,A,!0),M+=4}function N(A){M+=A}X(19778),$(f),N(4),$(122),$(108),$(t),$(-r>>>0),X(1),X(32),$(3),$(u),$(2835),$(2835),N(8),$(16711680),$(65280),$(255),$(4278190080),$(1466527264),function A(){for(;D<r&&C>0;){for(S=122+D*s,m=0;m<i;)C--,x=o[V++],b=x>>>24,p.setUint32(S+m,x<<8|b),m+=4;D++}V<o.length?(C=g,setTimeout(A,CS._dly)):e(h)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var go={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},iU={[go.CHROME]:16384,[go.FIREFOX]:11180,[go.DESKTOP_SAFARI]:16384,[go.IE]:8192,[go.IOS]:4096,[go.ETC]:8192};const o_=typeof window<"u",TS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Pg=o_&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),aU=(o_||TS)&&(Pg&&Pg.getOriginalSymbol(window,"File")||typeof File<"u"&&File),IS=(o_||TS)&&(Pg&&Pg.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function s_(n,e,t=Date.now()){return new Promise(r=>{const i=n.split(","),a=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let s=o.length;const u=new Uint8Array(s);for(;s--;)u[s]=o.charCodeAt(s);const f=new Blob([u],{type:a});f.name=e,f.lastModified=t,r(f)})}function NS(n){return new Promise((e,t)=>{const r=new IS;r.onload=()=>e(r.result),r.onerror=i=>t(i),r.readAsDataURL(n)})}function RS(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>t(i),r.src=n})}function $f(){if($f.cachedResult!==void 0)return $f.cachedResult;let n=go.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=go.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=go.IOS:/Safari/i.test(e)?n=go.DESKTOP_SAFARI:/Firefox/i.test(e)?n=go.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=go.IE),$f.cachedResult=n,$f.cachedResult}function OS(n,e){const t=$f(),r=iU[t];let i=n,a=e,o=i*a;const s=i>a?a/i:i/a;for(;o>r*r;){const u=(r+i)/2,f=(r+a)/2;u<f?(a=f,i=f*s):(a=u*s,i=u),o=i*a}return{width:i,height:a}}function I2(n,e){let t,r;try{if(t=new OffscreenCanvas(n,e),r=t.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),r=t.getContext("2d")}return t.width=n,t.height=e,[t,r]}function DS(n,e){const{width:t,height:r}=OS(n.width,n.height),[i,a]=I2(t,r);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,i.width,i.height)),a.drawImage(n,0,0,i.width,i.height),i}function Jp(){return Jp.cachedResult!==void 0||(Jp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Jp.cachedResult}function Lg(n,e={}){return new Promise(function(t,r){let i,a;var o=function(){try{return a=DS(i,e.fileType||n.type),t([i,a])}catch(u){return r(u)}},s=function(u){try{var f=function(h){try{throw h}catch(p){return r(p)}};try{let h;return NS(n).then(function(p){try{return h=p,RS(h).then(function(g){try{return i=g,function(){try{return o()}catch(m){return r(m)}}()}catch(m){return f(m)}},f)}catch(g){return f(g)}},f)}catch(h){f(h)}}catch(h){return r(h)}};try{if(Jp()||[go.DESKTOP_SAFARI,go.MOBILE_SAFARI].includes($f()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(u){try{return i=u,o()}catch{return s()}},s)}catch{s()}})}function kg(n,e,t,r,i=1){return new Promise(function(a,o){let s;if(e==="image/png"){let f,h,p;return f=n.getContext("2d"),{data:h}=f.getImageData(0,0,n.width,n.height),p=el.encode([h.buffer],n.width,n.height,4096*i),s=new Blob([p],{type:e}),s.name=t,s.lastModified=r,u.call(this)}{let f=function(){return u.call(this)};if(e==="image/bmp")return new Promise(h=>CS.toBlob(n,h)).then((function(h){try{return s=h,s.name=t,s.lastModified=r,f.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return f.call(this)};if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:i}).then((function(p){try{return s=p,s.name=t,s.lastModified=r,h.call(this)}catch(g){return o(g)}}).bind(this),o);{let p;return p=n.toDataURL(e,i),s_(p,t,r).then((function(g){try{return s=g,h.call(this)}catch(m){return o(m)}}).bind(this),o)}}}function u(){return a(s)}})}function Hl(n){n.width=0,n.height=0}function nd(){return new Promise(function(n,e){let t,r,i,a;return nd.cachedResult!==void 0?n(nd.cachedResult):s_("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return t=o,Lg(t).then(function(s){try{return r=s[1],kg(r,t.type,t.name,t.lastModified).then(function(u){try{return i=u,Hl(r),Lg(i).then(function(f){try{return a=f[0],nd.cachedResult=a.width===1&&a.height===2,n(nd.cachedResult)}catch(h){return e(h)}},e)}catch(f){return e(f)}},e)}catch(u){return e(u)}},e)}catch(s){return e(s)}},e)})}function PS(n){return new Promise((e,t)=>{const r=new IS;r.onload=i=>{const a=new DataView(i.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const o=a.byteLength;let s=2;for(;s<o;){if(a.getUint16(s+2,!1)<=8)return e(-1);const u=a.getUint16(s,!1);if(s+=2,u==65505){if(a.getUint32(s+=2,!1)!=1165519206)return e(-1);const f=a.getUint16(s+=6,!1)==18761;s+=a.getUint32(s+4,f);const h=a.getUint16(s,f);s+=2;for(let p=0;p<h;p++)if(a.getUint16(s+12*p,f)==274)return e(a.getUint16(s+12*p+8,f))}else{if((65280&u)!=65280)break;s+=a.getUint16(s,!1)}}return e(-1)},r.onerror=i=>t(i),r.readAsArrayBuffer(n)})}function LS(n,e){const{width:t}=n,{height:r}=n,{maxWidthOrHeight:i}=e;let a,o=n;return isFinite(i)&&(t>i||r>i)&&([o,a]=I2(t,r),t>r?(o.width=i,o.height=r/t*i):(o.width=t/r*i,o.height=i),a.drawImage(n,0,0,o.width,o.height),Hl(n)),o}function kS(n,e){const{width:t}=n,{height:r}=n,[i,a]=I2(t,r);switch(e>4&&e<9?(i.width=r,i.height=t):(i.width=t,i.height=r),e){case 2:a.transform(-1,0,0,1,t,0);break;case 3:a.transform(-1,0,0,-1,t,r);break;case 4:a.transform(1,0,0,-1,0,r);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,r,0);break;case 7:a.transform(0,-1,-1,0,r,t);break;case 8:a.transform(0,-1,1,0,0,t)}return a.drawImage(n,0,0,t,r),Hl(n),i}function t4(n,e,t=0){return new Promise(function(r,i){let a,o,s,u,f,h,p,g,m,x,b,S,C,D,M,V,X,$,N,A;function T(O=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=O,e.onProgress(Math.min(a,100))}function F(O){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(O,a),100),e.onProgress(a)}return a=t,o=e.maxIteration||10,s=1024*e.maxSizeMB*1024,T(),Lg(n,e).then((function(O){try{return[,u]=O,T(),f=LS(u,e),T(),new Promise(function(P,j){var Y;if(!(Y=e.exifOrientation))return PS(n).then((function(U){try{return Y=U,le.call(this)}catch(q){return j(q)}}).bind(this),j);function le(){return P(Y)}return le.call(this)}).then((function(P){try{return h=P,T(),nd().then((function(j){try{return p=j?f:kS(f,h),T(),g=e.initialQuality||1,m=e.fileType||n.type,kg(p,m,n.name,n.lastModified,g).then((function(Y){try{{let U=function(){if(o--&&(M>s||M>C)){let ie,ce;return ie=A?.95*N.width:N.width,ce=A?.95*N.height:N.height,[X,$]=I2(ie,ce),$.drawImage(N,0,0,ie,ce),g*=m==="image/png"?.85:.95,kg(X,m,n.name,n.lastModified,g).then(function(W){try{return V=W,Hl(N),N=X,M=V.size,F(Math.min(99,Math.floor((D-M)/(D-s)*100))),U}catch(me){return i(me)}},i)}return[1]},q=function(){return Hl(N),Hl(X),Hl(f),Hl(p),Hl(u),F(100),r(V)};if(x=Y,T(),b=x.size>s,S=x.size>n.size,!b&&!S)return F(100),r(x);var le;return C=n.size,D=x.size,M=D,N=p,A=!e.alwaysKeepResolution&&b,(le=(function(ie){for(;ie;){if(ie.then)return void ie.then(le,i);try{if(ie.pop){if(ie.length)return ie.pop()?q.call(this):ie;ie=U}else ie=ie.call(this)}catch(ce){return i(ce)}}}).bind(this))(U)}}catch(U){return i(U)}}).bind(this),i)}catch(Y){return i(Y)}}).bind(this),i)}catch(j){return i(j)}}).bind(this),i)}catch(P){return i(P)}}).bind(this),i)})}const oU=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let xv;function sU(n,e){return new Promise((t,r)=>{xv||(xv=function(o){const s=[];return s.push(o),URL.createObjectURL(new Blob(s))}(oU));const i=new Worker(xv);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();t(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Ra(n,e){return new Promise(function(t,r){let i,a,o,s,u,f;if(i={...e},o=0,{onProgress:s}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=m=>{o=m,typeof s=="function"&&s(o)},!(n instanceof Blob||n instanceof aU))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||f)return t4(n,i).then((function(m){try{return a=m,g.call(this)}catch(x){return r(x)}}).bind(this),r);var h=(function(){try{return g.call(this)}catch(m){return r(m)}}).bind(this),p=function(m){try{return t4(n,i).then(function(x){try{return a=x,h()}catch(b){return r(b)}},r)}catch(x){return r(x)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",sU(n,i).then(function(m){try{return a=m,h()}catch{return p()}},p)}catch{p()}function g(){try{a.name=n.name,a.lastModified=n.lastModified}catch{}try{i.preserveExif&&n.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===n.type)&&(a=SS(n,a))}catch{}return t(a)}})}Ra.getDataUrlFromFile=NS,Ra.getFilefromDataUrl=s_,Ra.loadImage=RS,Ra.drawImageInCanvas=DS,Ra.drawFileInCanvas=Lg,Ra.canvasToFile=kg,Ra.getExifOrientation=PS,Ra.handleMaxWidthOrHeight=LS,Ra.followExifOrientation=kS,Ra.cleanupCanvasMemory=Hl,Ra.isAutoOrientationInBrowser=nd,Ra.approximateBelowMaximumCanvasSizeOfBrowser=OS,Ra.copyExifWithoutOrientation=SS,Ra.getBrowserName=$f,Ra.version="2.0.2";const lU=async n=>{const e="https://api.cloudinary.com/v1_1/dpegnxew7/image/upload",t=new FormData;return t.append("file",n),t.append("upload_preset","GmachSystem"),(await(await fetch(e,{method:"POST",body:t})).json()).secure_url},uU=({editingItem:n,name:e,quantity:t,imageUrl:r,imageFile:i,onNameChange:a,onQuantityChange:o,onImageUrlChange:s,onImageFileChange:u,onCancel:f,onSubmit:h,publicComment:p,internalComment:g,onPublicCommentChange:m,onInternalCommentChange:x})=>{const b=ve.useRef(null);return ve.useEffect(()=>{const S=D=>{b.current&&!b.current.contains(D.target)&&f()},C=D=>{D.key==="Escape"&&f()};return document.addEventListener("mousedown",S),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",C)}},[f]),k.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,direction:"ltr",padding:"1rem"},children:k.jsxs("div",{ref:b,style:{position:"relative",background:"white",padding:"2rem",borderRadius:"12px",width:"95%",maxWidth:"500px",direction:"rtl",textAlign:"initial",maxHeight:"90vh",overflowY:"auto",boxSizing:"border-box"},children:[k.jsx("button",{onClick:f,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",lineHeight:1,color:"#666",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"סגור",children:"×"}),k.jsx("h3",{style:{textAlign:"center",marginBottom:"2rem",fontSize:"1.5rem",color:"#333"},children:n?"עריכת מוצר":"הוספת מוצר חדש"}),k.jsxs("form",{onSubmit:h,children:[k.jsxs("div",{style:b1,children:[k.jsx("label",{style:A1,children:"שם המוצר:"}),k.jsx("input",{dir:"rtl",type:"text",value:e,onChange:a,required:!0,style:Hh})]}),k.jsxs("div",{style:b1,children:[k.jsx("label",{style:A1,children:"כמות:"}),k.jsx("input",{dir:"rtl",type:"number",value:t,onChange:o,required:!0,style:Hh})]}),k.jsxs("div",{style:b1,children:[k.jsx("label",{style:A1,children:"הערה לפרסום (חיצונית):"}),k.jsx("input",{dir:"rtl",type:"text",value:p,onChange:m,style:Hh})]}),k.jsxs("div",{style:b1,children:[k.jsx("label",{style:A1,children:"הערה פנימית:"}),k.jsx("input",{dir:"rtl",type:"text",value:g,onChange:x,style:Hh})]}),k.jsxs("div",{style:b1,children:[k.jsx("label",{style:A1,children:"תמונה (או כתובת URL):"}),k.jsx("input",{dir:"rtl",type:"text",value:r,onChange:s,placeholder:"הדבק כתובת תמונה (או העלה קובץ)",style:Hh}),k.jsx("input",{type:"file",accept:"image/*",onChange:async S=>{const C=S.target.files[0];if(C){const D=await lU(C);s({target:{value:D}}),xn.success("התמונה הועלתה בהצלחה!")}},style:{...Hh,marginTop:"0.5rem",padding:"8px"}})]}),(r||i)&&k.jsx("div",{style:{marginBottom:"1.5rem",textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:k.jsx("img",{src:i?URL.createObjectURL(i):r,alt:"preview",style:{maxHeight:"150px",maxWidth:"100%",objectFit:"contain",borderRadius:"6px",border:"1px solid #ddd"}})}),k.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem",flexWrap:"wrap"},children:[k.jsx("button",{type:"submit",style:{...fU,minWidth:"120px"},children:n?"שמור שינויים":"הוסף מוצר"}),k.jsx("button",{type:"button",onClick:f,style:{...hU,minWidth:"120px"},children:"ביטול"})]})]})]})})},b1={marginBottom:"1.5rem",width:"100%"},A1={display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333",fontSize:"1rem"},Hh={width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid #e0e0e0",fontSize:"16px",boxSizing:"border-box",transition:"border-color 0.2s ease",backgroundColor:"#fff",fontFamily:"inherit",outline:"none"},cU=`
  input:focus {
    border-color: #1976d2 !important;
    box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1) !important;
  }
`,fU={padding:"12px 20px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s ease",flex:"1",maxWidth:"200px"},hU={padding:"12px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s ease",flex:"1",maxWidth:"200px"};if(typeof document<"u"){const n=document.createElement("style");n.textContent=`
    ${cU}
    
    @media (max-width: 768px) {
      input, textarea, select {
        font-size: 16px !important;
        transform: none !important;
      }
      
      .modal-content {
        margin: 1rem;
        max-height: calc(100vh - 2rem);
      }
    }
    
    /* מניעת זום במובייל */
    @media screen and (max-width: 768px) {
      input[type="text"],
      input[type="number"],
      input[type="email"],
      input[type="tel"],
      input[type="url"],
      textarea {
        font-size: 16px;
      }
    }
  `,document.head.appendChild(n)}var MS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n4=Ln.createContext&&Ln.createContext(MS),dU=["attr","size","title"];function pU(n,e){if(n==null)return{};var t=gU(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function gU(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Mg(){return Mg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mg.apply(this,arguments)}function r4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(t),!0).forEach(function(r){mU(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r4(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mU(n,e,t){return e=vU(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vU(n){var e=yU(n,"string");return typeof e=="symbol"?e:e+""}function yU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BS(n){return n&&n.map((e,t)=>Ln.createElement(e.tag,Bg({key:t},e.attr),BS(e.child)))}function N2(n){return e=>Ln.createElement(_U,Mg({attr:Bg({},n.attr)},e),BS(n.child))}function _U(n){var e=t=>{var{attr:r,size:i,title:a}=n,o=pU(n,dU),s=i||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),Ln.createElement("svg",Mg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:u,style:Bg(Bg({color:n.color||t.color},t.style),n.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Ln.createElement("title",null,a),n.children)};return n4!==void 0?Ln.createElement(n4.Consumer,null,t=>e(t)):e(MS)}function xU(n){return N2({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function wU(n){return N2({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function i4(n){return N2({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function bU(n){return N2({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(n)}const AU=()=>{const[n,e]=ve.useState(""),[t,r]=ve.useState(""),[i,a]=ve.useState([]),[o,s]=ve.useState([]),[u,f]=ve.useState(""),[h,p]=ve.useState(""),[g,m]=ve.useState(null),[x,b]=ve.useState(""),[S,C]=ve.useState(!1),[D,M]=ve.useState(!1),[V,X]=ve.useState(null),[$,N]=ve.useState(""),[A,T]=ve.useState(""),{user:F}=x0(),O=(F==null?void 0:F.username)||"משתמש לא ידוע",P=ve.useRef(null);ve.useEffect(()=>{const W=document.createElement("style");return W.innerHTML=`
      input[type=number]::-webkit-inner-spin-button,
      input[type=number]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      input[type=number] { -moz-appearance: textfield; }
    `,document.head.appendChild(W),()=>document.head.removeChild(W)},[]);const j=async()=>{const me=(await Pi(Dr(sn,"orders"))).docs.map(ne=>ne.data()).filter(ne=>ne.status==="open"),H=new Set;me.forEach(ne=>{var de;(de=ne.items)==null||de.forEach(Ee=>{H.add(Ee.id)})});const ee=(await Pi(Dr(sn,"items"))).docs.filter(ne=>ne.data().isDeleted!==!0).map(ne=>{const de=ne.data();return{id:ne.id,...de,inUse:H.has(ne.id)}});a(ee)},Y=async()=>{const W=await Pi(Dr(sn,"deletedItems"));s(W.docs.map(me=>({id:me.id,...me.data()})))};ve.useEffect(()=>{j(),Y()},[]),ve.useEffect(()=>{const W=H=>{D&&P.current&&!P.current.contains(H.target)&&M(!1)},me=H=>{H.key==="Escape"&&M(!1)};return document.addEventListener("mousedown",W),document.addEventListener("keydown",me),()=>{document.removeEventListener("mousedown",W),document.removeEventListener("keydown",me)}},[D]);const le=i.filter(W=>W.name.toLowerCase().includes(u.toLowerCase())),U=o.filter(W=>W.name.toLowerCase().includes(h.toLowerCase())),q=async W=>{if(window.confirm("האם את/ה בטוח/ה שברצונך למחוק את המוצר?"))try{await lj(W,O),xn.success("המוצר הוסר מהרשימה."),j(),Y()}catch{xn.error("שגיאה במחיקת המוצר")}},ie=async W=>{if(window.confirm("האם ברצונך להשיב את המוצר למלאי?"))try{await uj(W,O),xn.success("המוצר הושב למלאי בהצלחה."),j(),Y()}catch{xn.error("שגיאה בהחזרת המוצר")}},ce=async W=>{W.preventDefault();try{const me=Jc(Dr(sn,"items"),nh("name","==",n.trim())),H=await Pi(me);let Q=x;if(g){const ee=await Ra(g,{maxSizeMB:.2,maxWidthOrHeight:1024,useWebWorker:!0}),ne=pk.ref(`items/${Date.now()}-${g.name}`);await ne.put(ee),Q=await ne.getDownloadURL()}if(V)await eu(hi(sn,"items",V.id),{name:n,quantity:parseInt(t),imageUrl:Q,publicComment:$,internalComment:A,updatedBy:O,updatedAt:Xa()}),xn.success("המוצר עודכן בהצלחה");else if(H.empty)await Yb({name:n,quantity:parseInt(t),imageUrl:Q,publicComment:$,internalComment:A,createdBy:O,updatedBy:O,createdAt:Xa(),updatedAt:Xa()}),xn.success(`המוצר "${n}" נוסף בהצלחה`);else{const ee=H.docs[0].data();Jj.confirmAlert({title:"המוצר כבר קיים",message:`המוצר "${n}" כבר קיים בכמות ${ee.quantity}.
האם להוסיף ${t}?`,buttons:[{label:"כן",onClick:async()=>{await Yb({name:n,quantity:parseInt(t),imageUrl:Q,publicComment:$,internalComment:A,createdBy:O,updatedBy:O,createdAt:Xa(),updatedAt:Xa()}),xn.success("הכמות עודכנה בהצלחה"),j(),Y()}},{label:"לא",onClick:()=>xn.info("בוטל")}]});return}e(""),r(""),m(null),b(""),N(""),T(""),C(!1),X(null),j(),Y()}catch{xn.error("הוספת המוצר נכשלה")}};return k.jsxs("div",{className:"page-container",children:[k.jsxs("div",{style:{width:"100%",direction:"rtl"},children:[k.jsx("h2",{children:"ניהול מוצרים"}),k.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",gap:"1rem",marginBottom:"1rem"},children:[k.jsxs("button",{onClick:()=>{X(null),e(""),r(""),b(""),m(null),C(!0),N(""),T("")},className:"btn-primary",style:{backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[k.jsx(wU,{size:14})," הוספת מוצר"]}),k.jsxs("button",{onClick:()=>M(!0),className:"btn-secondary",style:{backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[k.jsx(i4,{size:14})," מוצרים שנמחקו"]})]}),k.jsx("input",{type:"text",dir:"rtl",placeholder:"חיפוש מוצר...",value:u,onChange:W=>f(W.target.value),className:"search-input",style:{padding:"10px",borderRadius:"6px",fontSize:"1rem",border:"1px solid #ccc",width:"100%",marginBottom:"1rem"}}),k.jsx("div",{className:"products-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"1.5rem",justifyItems:"center"},children:le.length===0?k.jsx("p",{children:"לא נמצא מוצרים במלאי."}):le.map(W=>k.jsxs("div",{className:"product-card",style:{width:"100%",maxWidth:"240px",minHeight:"420px",border:"1px solid #e0e0e0",borderRadius:"10px",backgroundColor:"#fff",padding:"1rem",boxShadow:"0 2px 6px rgba(0,0,0,0.06)",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textAlign:"center",transition:"transform 0.2s"},children:[k.jsx("img",{src:W.imageUrl||"/no-image-available.png",alt:W.name,style:{width:"100%",height:"140px",objectFit:"cover",borderRadius:"6px",marginBottom:"0.5rem"}}),k.jsx("h3",{children:W.name}),k.jsxs("p",{children:["כמות: ",W.quantity]}),W.internalComment&&k.jsxs("p",{style:{fontSize:"0.8rem",color:"#999",marginTop:"0.25rem"},children:["📌 ",W.internalComment]}),k.jsxs("p",{style:{fontSize:"0.85rem",color:"#555"},children:["מזהה מוצר: ",W.ItemId]}),W.inUse&&k.jsx("p",{style:{color:"#d97706",fontWeight:"bold",fontSize:"0.85rem",marginTop:"0.25rem"},children:"🕐 מוצר זה נמצא בהזמנה פעילה"}),k.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"auto"},children:[k.jsxs("button",{onClick:()=>{X(W),e(W.name),r(W.quantity.toString()),b(W.imageUrl||""),m(null),C(!0),N(W.publicComment||""),T(W.internalComment||"")},style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"6px 10px",borderRadius:"5px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[k.jsx(xU,{size:14})," עריכה"]}),k.jsxs("button",{onClick:()=>q(W.id),style:{backgroundColor:"#d32f2f",color:"white",border:"none",padding:"6px 10px",borderRadius:"5px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[k.jsx(i4,{size:14})," מחיקה"]})]})]},W.id))})]}),D&&k.jsx("div",{className:"modal-overlay",children:k.jsxs("div",{className:"modal-content",ref:P,style:{position:"relative",backgroundColor:"white",borderRadius:"8px",width:"80%",maxHeight:"80%",overflowY:"auto",padding:"2rem",direction:"rtl"},children:[k.jsx("h2",{children:"מוצרים שנמחקו"}),k.jsx("button",{onClick:()=>M(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:"×"}),k.jsx("input",{type:"text",dir:"rtl",placeholder:"חיפוש מוצרים שנמחקו...",value:h,onChange:W=>p(W.target.value),className:"search-input",style:{padding:"10px",borderRadius:"6px",fontSize:"1rem",border:"1px solid #ccc",width:"100%",margin:"1rem 0"}}),k.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"1.5rem",justifyItems:"center"},children:U.length===0?k.jsx("p",{children:"אין פריטים שנמחקו."}):U.map(W=>k.jsxs("div",{style:{width:"100%",maxWidth:"240px",minHeight:"300px",border:"1px solid #e0e0e0",borderRadius:"10px",backgroundColor:"#fff",padding:"1rem",boxShadow:"0 2px 6px rgba(0,0,0,0.06)",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textAlign:"center"},children:[k.jsx("img",{src:W.imageUrl||"/no-image-available.png",alt:W.name,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"6px",marginBottom:"0.5rem"}}),k.jsx("h3",{children:W.name}),k.jsxs("p",{children:["כמות: ",W.quantity]}),k.jsxs("button",{onClick:()=>ie(W.id),style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"6px 10px",borderRadius:"5px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[k.jsx(bU,{size:14})," השבה"]})]},W.id))})]})}),S&&k.jsx(uU,{editingItem:V,name:n,quantity:t,imageUrl:x,imageFile:g,publicComment:$,internalComment:A,onNameChange:W=>e(W.target.value.trimStart()),onQuantityChange:W=>r(W.target.value.trimStart()),onImageUrlChange:W=>b(W.target.value),onImageFileChange:W=>m(W.target.files[0]),onPublicCommentChange:W=>N(W.target.value),onInternalCommentChange:W=>T(W.target.value),onCancel:()=>C(!1),onSubmit:ce}),k.jsx(Xj,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},EU=()=>{const[n,e]=ve.useState([]),[t,r]=ve.useState(""),[i,a]=ve.useState(!0);if(ve.useEffect(()=>{const s=Dr(sn,"items"),u=N6(s,f=>{const h=f.docs.map(p=>p.data()).filter(p=>p.isDeleted!==!0);e(h),a(!1)});return()=>u()},[]),i)return k.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[k.jsx("h2",{children:"טוען קטלוג"}),k.jsx("div",{className:"spinner"})]});const o=n.filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));return k.jsxs("div",{style:{padding:"2rem",direction:"rtl",textAlign:"right",paddingLeft:"1rem",paddingRight:"1rem"},children:[k.jsx("h2",{children:"קטלוג"}),k.jsx("input",{type:"text",placeholder:"חיפוש פריט",value:t,onChange:s=>r(s.target.value),dir:"rtl",style:{padding:"10px",width:"100%",marginBottom:"1.5rem",borderRadius:"6px",border:"1px solid #ccc",fontSize:"1rem",boxSizing:"border-box"}}),k.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginTop:"1rem"},children:o.length===0?k.jsxs("div",{style:{textAlign:"center",gridColumn:"1 / -1",marginTop:"2rem"},children:[k.jsx("h3",{children:"לא נמצאו פריטים."}),k.jsx("p",{children:"אנה נסה לחפש שוב."})]}):o.map(s=>k.jsxs("div",{style:{border:"1px solid #ccc",padding:"0.8rem",borderRadius:"8px",boxShadow:"2px 2px 6px rgba(0,0,0,0.1)",backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",transition:"transform 0.2s ease-in-out",opacity:1,filter:"none",minHeight:"200px",maxWidth:"100%"},children:[k.jsx("img",{src:s.imageUrl||"/no-image-available.png",alt:s.name,style:{width:"100%",height:"120px",objectFit:"cover",display:"block",borderRadius:"4px",marginBottom:"0.5rem"}}),k.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[k.jsx("h3",{style:{marginBottom:"0.5rem",fontSize:"0.9rem",lineHeight:"1.2",textAlign:"center"},children:s.name}),s.publicComment&&k.jsxs("p",{style:{fontSize:"0.75rem",color:"#444",textAlign:"center",margin:"0.3rem 0 0 0"},children:["📝 ",s.publicComment]})]})]},s.ItemId))}),k.jsx("style",{jsx:!0,children:`
        @media (max-width: 768px) {
          div[style*="gridTemplateColumns"] {
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 0.8rem !important;
          }
        }
        
        @media (max-width: 480px) {
          div[style*="gridTemplateColumns"] {
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 0.6rem !important;
          }
        }
      `})]})},SU=()=>{const{id:n}=dT(),[e,t]=ve.useState(null),[r,i]=ve.useState(!0);return ve.useEffect(()=>{(async()=>{const o=Jc(Dr(sn,"items"),nh("ItemId","==",parseInt(n))),s=await Pi(o);if(s.empty)t(null);else{const u=s.docs[0];t({id:u.id,...u.data()})}i(!1)})()},[n]),r?k.jsx("div",{style:{padding:"2rem"},children:"Loading item details..."}):e?k.jsxs("div",{style:{padding:"2rem"},children:[k.jsx("h2",{children:e.name}),k.jsxs("p",{children:[k.jsx("strong",{children:"Quantity:"})," ",e.quantity]}),k.jsx("img",{src:e.imageUrl||"/no-image-available.png",alt:e.name,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"8px",marginBottom:"1rem"}}),k.jsxs("p",{children:[k.jsx("strong",{children:"Item ID:"})," ",e.ItemId]}),e.publicComment&&k.jsxs("p",{children:[k.jsx("strong",{children:"הערה:"})," ",e.publicComment]}),e.internalComment&&k.jsxs("p",{style:{color:"#777"},children:[k.jsx("strong",{children:"הערה פנימית:"})," ",e.internalComment]}),k.jsxs("p",{style:{fontSize:"0.85rem",color:"#666"},children:["נוצר על ידי: ",e.createdBy||"לא ידוע"]}),k.jsxs("p",{style:{fontSize:"0.85rem",color:"#666"},children:["עודכן לאחרונה על ידי: ",e.updatedBy||"לא ידוע"]}),e.createdAt&&k.jsxs("p",{style:{fontSize:"0.85rem",color:"#666"},children:["נוצר בתאריך: ",new Date(e.createdAt.seconds*1e3).toLocaleString("he-IL")]}),e.updatedAt&&k.jsxs("p",{style:{fontSize:"0.85rem",color:"#666"},children:["עודכן בתאריך: ",new Date(e.updatedAt.seconds*1e3).toLocaleString("he-IL")]})]}):k.jsx("div",{style:{padding:"2rem"},children:"Item not found."})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TU=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),a4=n=>{const e=TU(n);return e.charAt(0).toUpperCase()+e.slice(1)},FS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),IU=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=ve.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},u)=>ve.createElement("svg",{ref:u,...NU,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:FS("lucide",i),...!a&&!IU(s)&&{"aria-hidden":"true"},...s},[...o.map(([f,h])=>ve.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=(n,e)=>{const t=ve.forwardRef(({className:r,...i},a)=>ve.createElement(RU,{ref:a,iconNode:e,className:FS(`lucide-${CU(a4(n))}`,`lucide-${n}`,r),...i}));return t.displayName=a4(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DU=Zr("arrow-right",OU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],i0=Zr("calendar",PU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kU=Zr("chevron-left",LU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BU=Zr("chevron-right",MU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ty=Zr("circle-check-big",FU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],UU=Zr("circle-x",jU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],zU=Zr("clipboard-check",VU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],HU=Zr("clock",qU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],WU=Zr("download",GU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XU=Zr("eye",$U);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],KU=Zr("message-circle",YU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M5 12h14",key:"1ays0h"}]],ZU=Zr("minus",QU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Xf=Zr("package",JU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Fg=Zr("phone",eV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nV=Zr("plus",tV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jS=Zr("save",rV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],US=Zr("search",iV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],VS=Zr("square-pen",aV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],sV=Zr("trash-2",oV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uV=Zr("triangle-alert",lV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fV=Zr("user",cV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zS=Zr("x",hV),dV=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],pV=["א","ב","ג","ד","ה","ו","ש"],gV=n=>new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),mV=n=>{const e=new Date(n.getFullYear(),n.getMonth(),1).getDay();return e===0?6:e-1},vV=({currentDate:n,events:e=[],setCurrentDate:t,setSelectedEvents:r,setSelectedDate:i,setShowReport:a})=>{const o=g=>{if(!Array.isArray(e))return[];const m=new Date(n.getFullYear(),n.getMonth(),g);return e.filter(x=>{if(!x.date)return!1;const b=new Date(x.date);return b.getDate()===m.getDate()&&b.getMonth()===m.getMonth()&&b.getFullYear()===m.getFullYear()})},s=g=>{const m=o(g),x=new Map;return m.forEach(b=>{x.has(b.orderId)||x.set(b.orderId,{...b,allEventsForOrder:m.filter(S=>S.orderId===b.orderId)})}),Array.from(x.values())},u=g=>{const m=o(g);m.length>0&&m.every(b=>b.type==="השאלה פעילה")||m.length>0&&(r(m),i(new Date(n.getFullYear(),n.getMonth(),g)),a(!0))},f=gV(n),h=mV(n),p=[];for(let g=0;g<h;g++)p.push(k.jsx("div",{className:"day-cell empty"},`empty-${g}`));for(let g=1;g<=f;g++){const m=o(g),x=s(g),b=m.filter(V=>V.type==="השאלה"),S=m.filter(V=>V.type==="החזרה");m.filter(V=>V.type==="השאלה פעילה");const C=m.length>0,D=x.length;let M="day-cell";C&&(M+=" has-events"),b.length>0&&(M+=" pickup-day"),S.length>0&&(M+=" return-day"),p.push(k.jsxs("div",{className:M,onClick:()=>u(g),style:{cursor:m.some(V=>V.type!=="השאלה פעילה")?"pointer":"default"},children:[k.jsx("span",{className:"day-number",children:g}),k.jsxs("div",{className:"event-icons",children:[b.length>0&&k.jsxs("div",{className:"event-tag pickup-tag",title:"איסוף מוצרים",children:["📦 ",b.length>1&&b.length]}),S.length>0&&k.jsxs("div",{className:"event-tag return-tag",title:"החזרת מוצרים",children:["🔄 ",S.length>1&&S.length]})]}),D>0&&k.jsx("div",{className:"event-count",title:`${D} הזמנות`,children:D})]},g))}return k.jsxs("div",{className:"calendar-container",children:[k.jsxs("div",{className:"calendar-header",children:[k.jsx("button",{onClick:()=>t(new Date(n.getFullYear(),n.getMonth()-1,1)),children:k.jsx(BU,{size:20})}),k.jsxs("h2",{className:"calendar-title",children:[k.jsx(i0,{size:24})," ",dV[n.getMonth()]," ",n.getFullYear()]}),k.jsx("button",{onClick:()=>t(new Date(n.getFullYear(),n.getMonth()+1,1)),children:k.jsx(kU,{size:20})})]}),k.jsx("div",{className:"day-names",children:pV.map(g=>k.jsx("div",{className:"day-name",children:g},g))}),k.jsx("div",{className:"calendar-grid",children:p}),k.jsxs("div",{className:"calendar-footer",children:[k.jsxs("div",{className:"calendar-legend",children:[k.jsx("span",{className:"legend-item",children:"📦 איסוף מוצרים"}),k.jsx("span",{className:"legend-item",children:"🔄 החזרת מוצרים"})]}),k.jsxs("div",{className:"calendar-stats",children:['לחץ על יום עם אירועים כדי לראות פרטים • סה"כ אירועים: ',Array.isArray(e)?e.length:0]}),(!Array.isArray(e)||e.length===0)&&k.jsx("div",{className:"warning",children:"אין אירועים נטענים - בדוק את החיבור למסד הנתונים"})]})]})},yV=({show:n,selectedDate:e,selectedEvents:t,allItems:r,setShowReport:i,setShowItemsModal:a,setEditItemModal:o,fetchItemsAndOrders:s,onStartReturnInspection:u})=>{if(ve.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),!n)return null;const f=async x=>{try{return await W5(hi(sn,"orders",x)),!0}catch(b){throw console.error("Error deleting order:",b),b}},p=(x=>{const b=new Map;return x.forEach(S=>{b.has(S.orderId)||b.set(S.orderId,{orderId:S.orderId,clientName:S.clientName,phone:S.phone,items:S.items,pickupDate:S.pickupDate,returnDate:S.returnDate,events:[]}),b.get(S.orderId).events.push(S)}),Array.from(b.values())})(t),g=async x=>{if(x&&window.confirm("האם אתה בטוח שברצונך למחוק את ההזמנה?"))try{await f(x),await s(),i(!1),alert("ההזמנה נמחקה בהצלחה.")}catch(b){console.error(b),alert("מחיקה נכשלה. נסה שוב.")}},m=x=>{x.target===x.currentTarget&&i(!1)};return k.jsxs(k.Fragment,{children:[k.jsx("style",{jsx:!0,global:!0,children:`
        .modal-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          background-color: rgba(0, 0, 0, 0.5) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          padding: 1rem !important;
          z-index: 99999 !important;
        }
        
        .modal-content {
          background: white !important;
          border-radius: 12px !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          width: 100% !important;
          max-width: 32rem !important;
          max-height: 90vh !important;
          overflow: hidden !important;
          position: relative !important;
          z-index: 100000 !important;
        }
        
        @media (min-width: 768px) {
          .modal-content {
            max-width: 42rem !important;
          }
        }
      `}),k.jsx("div",{className:"modal-overlay",onClick:m,children:k.jsxs("div",{className:"modal-content",dir:"rtl",onClick:x=>x.stopPropagation(),children:[k.jsxs("div",{style:{background:"linear-gradient(to right, #2563eb, #1d4ed8)",color:"white",padding:"1.5rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[k.jsx(i0,{size:24}),k.jsxs("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:["אירועים ליום ",e==null?void 0:e.toLocaleDateString("he-IL")]})]}),k.jsx("button",{onClick:()=>i(!1),style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:"×"})]}),k.jsxs("div",{style:{marginTop:"0.5rem",color:"#bfdbfe"},children:[p.length," הזמנ",p.length!==1?"ות":"ה"]})]}),k.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",maxHeight:"calc(90vh - 200px)"},children:k.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:p.map((x,b)=>k.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",background:"white",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[k.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #f3f4f6"},children:[k.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.75rem"},children:k.jsxs("div",{style:{flex:1},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[k.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:"bold",color:"#1f2937",margin:0},children:x.clientName}),k.jsxs("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",background:"#3b82f6",color:"white"},children:["הזמנה #",b+1]})]}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",fontSize:"0.875rem",color:"#4b5563",marginBottom:"0.5rem"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[k.jsx(Fg,{size:16}),k.jsx("span",{children:x.phone})]}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[k.jsx(i0,{size:16}),k.jsxs("span",{children:[new Date(x.pickupDate).toLocaleDateString("he-IL")," - ",new Date(x.returnDate).toLocaleDateString("he-IL")]})]})]}),k.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"0.75rem"},children:x.events.map((S,C)=>k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500",background:S.type==="השאלה"?"#10b981":S.type==="החזרה"?"#f59e0b":"#3b82f6",color:"white"},children:[k.jsx("span",{children:S.icon}),k.jsx("span",{children:S.description}),S.isMultiDay&&k.jsxs("span",{style:{fontSize:"0.65rem",opacity:.8},children:["(יום ",S.dayNumber,"/",S.totalDays,")"]})]},C))})]})}),x.items&&x.items.length>0&&k.jsxs("div",{style:{marginBottom:"1rem"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[k.jsx(Xf,{size:16,style:{color:"#6b7280"}}),k.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:["פריטים (",x.items.reduce((S,C)=>S+(C.quantity||1),0),")"]})]}),k.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[x.items.slice(0,3).map((S,C)=>k.jsxs("div",{style:{background:"#f9fafb",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",color:"#4b5563",border:"1px solid #e5e7eb"},children:[S.name," ",S.quantity>1?`(×${S.quantity})`:""]},C)),x.items.length>3&&k.jsxs("div",{style:{background:"#eff6ff",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",color:"#2563eb",border:"1px solid #dbeafe"},children:["+",x.items.length-3," נוספים"]})]})]})]}),k.jsx("div",{style:{padding:"1rem",background:"#f9fafb"},children:k.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"0.75rem",flexWrap:"wrap"},children:[x.events.some(S=>S.icon==="📦")&&k.jsxs("button",{onClick:()=>o({open:!0,eventId:`${x.orderId}-edit`,items:x.items.map(S=>({...S}))}),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#2563eb",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[k.jsx(VS,{size:16}),"ערוך הזמנה"]}),k.jsxs("button",{onClick:()=>{const S=t.filter(C=>C.orderId===x.orderId);a(S)},style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#059669",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[k.jsx(XU,{size:16}),"הצג פרטים"]}),x.events.some(S=>S.icon==="📦")&&k.jsxs("button",{onClick:()=>g(x.orderId),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#dc2626",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[k.jsx(sV,{size:16}),"מחק"]}),u&&x.events.some(S=>S.type==="החזרה")&&k.jsxs("button",{onClick:()=>u(x.orderId),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#f59e0b",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[k.jsx(zU,{size:16}),"בדיקת החזרה"]})]})})]},x.orderId))})}),k.jsx("div",{style:{background:"#f9fafb",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb"},children:k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{style:{fontSize:"0.875rem",color:"#4b5563"},children:['סה"כ ',p.reduce((x,b)=>{var S;return x+(((S=b.items)==null?void 0:S.reduce((C,D)=>C+(D.quantity||1),0))||0)},0)," פריטים"]}),k.jsx("button",{onClick:()=>i(!1),style:{background:"#2563eb",color:"white",padding:"0.5rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"סגור"})]})})]})})]})},_V=({show:n,setShow:e,selectedEvents:t,allItems:r})=>{var o;if(ve.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),!n)return null;const i=((o=t==null?void 0:t[0])==null?void 0:o.items)||[],a=s=>{s.target===s.currentTarget&&e(!1)};return k.jsxs(k.Fragment,{children:[k.jsx("style",{jsx:!0,global:!0,children:`
        .items-modal-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          background-color: rgba(0, 0, 0, 0.5) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          padding: 1rem !important;
          z-index: 99999 !important;
        }
        
        .items-modal-content {
          background: white !important;
          border-radius: 12px !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          width: 100% !important;
          max-width: 28rem !important;
          max-height: 90vh !important;
          overflow: hidden !important;
          position: relative !important;
          z-index: 100000 !important;
        }
      `}),k.jsx("div",{className:"items-modal-overlay",onClick:a,children:k.jsxs("div",{className:"items-modal-content",dir:"rtl",onClick:s=>s.stopPropagation(),children:[k.jsxs("div",{style:{background:"linear-gradient(to right, #059669, #047857)",color:"white",padding:"1.5rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[k.jsx(Xf,{size:24}),k.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:"רשימת מוצרים"})]}),k.jsx("button",{onClick:()=>e(!1),style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:k.jsx(zS,{size:20})})]}),k.jsxs("div",{style:{marginTop:"0.5rem",color:"#a7f3d0"},children:[i.length," פריט",i.length!==1?"ים":""," בהזמנה"]})]}),k.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",maxHeight:"calc(90vh - 180px)"},children:i.length>0?k.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:i.map((s,u)=>(r.find(f=>f.name===s.name),k.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",padding:"1rem",background:"#f9fafb"},children:k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.imageUrl&&k.jsx("img",{src:s.imageUrl,alt:s.name,style:{width:"4rem",height:"4rem",objectFit:"cover",borderRadius:"8px",border:"2px solid #e5e7eb"}}),k.jsxs("div",{style:{flex:1},children:[k.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"bold",color:"#1f2937",marginBottom:"0.25rem"},children:s.name}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",fontSize:"0.875rem",color:"#6b7280"},children:[k.jsxs("span",{children:[k.jsx("strong",{children:"כמות:"})," ",s.quantity]}),k.jsxs("span",{children:[k.jsx("strong",{children:"מזהה מוצר:"}),k.jsx("code",{style:{background:"#f3f4f6",padding:"0.125rem 0.375rem",borderRadius:"4px",marginRight:"0.25rem"},children:s.itemId||"לא נמצא"})]})]})]}),k.jsxs("div",{style:{background:"#2563eb",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"bold"},children:["×",s.quantity]})]})},u)))}):k.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[k.jsx(Xf,{size:48,style:{color:"#d1d5db",marginBottom:"1rem"}}),k.jsx("p",{children:"אין פריטים בהזמנה זו"})]})}),k.jsx("div",{style:{background:"#f9fafb",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb"},children:k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{style:{fontSize:"0.875rem",color:"#4b5563"},children:['סה"כ כמות: ',i.reduce((s,u)=>s+(u.quantity||1),0)]}),k.jsx("button",{onClick:()=>e(!1),style:{background:"#059669",color:"white",padding:"0.5rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"500"},children:"סגור"})]})})]})})]})},xV=({show:n,data:e,setData:t,allItems:r,setShowReport:i,fetchItemsAndOrders:a,allEvents:o})=>{const[s,u]=ve.useState({items:[]}),[f,h]=ve.useState(!1),[p,g]=ve.useState(""),[m,x]=ve.useState({pickupDate:null,returnDate:null});if(ve.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),ve.useEffect(()=>{if(n&&e.eventId&&o.length>0){console.log("🚀 Initializing edit modal");const N=e.eventId.split("-")[0],A=o.filter(T=>T.orderId===N);if(A.length>0){const T=A[0];x({pickupDate:new Date(T.pickupDate),returnDate:new Date(T.returnDate)}),console.log("📅 Order dates:",{pickup:T.pickupDate,return:T.returnDate})}u({items:[...e.items||[]]})}},[n,e,o]),!n)return null;const b=N=>{var le,U;const A=r.find(q=>q.name===N);if(!A)return console.warn(`❌ Stock not found for ${N}`),0;const T=A.quantity||0,F=(le=e.eventId)==null?void 0:le.split("-")[0];if(!m.pickupDate||!m.returnDate)return console.warn("⚠️ Missing pickup/return dates for current order."),T;console.log(`🔎 Checking "${N}" availability from ${m.pickupDate.toDateString()} to ${m.returnDate.toDateString()}`),console.log(`📦 Total stock from database: ${T}`);let O=0;const P=new Set;o.forEach(q=>{if(q.orderId===F||P.has(`${q.orderId}-${N}`))return;const ie=new Date(q.pickupDate),ce=new Date(q.returnDate);if(ie<=m.returnDate&&ce>=m.pickupDate&&q.items){const me=q.items.find(H=>H.name===N);me&&(console.log(`➡️ Overlapping Order ID: ${q.orderId}`),console.log(`    Dates: ${ie.toDateString()} - ${ce.toDateString()}`),console.log(`    Reserved: ${me.quantity}`),O+=me.quantity||0,P.add(`${q.orderId}-${N}`))}});const j=((U=s.items.find(q=>q.name===N))==null?void 0:U.quantity)||0,Y=T-O-j;return console.log(`✅ Available: ${Y} = ${T} - ${O} - ${j} (already in order)`),Math.max(0,Y)},S=N=>{console.log("➕ Trying to add item:",N.name);const A=b(N.name);if(A<=0){alert(`❌ לא ניתן להוסיף מ-${N.name}. זמין: ${A}`);return}const T=s.items.findIndex(F=>F.name===N.name);if(T>=0){const F=[...s.items];F[T]={...F[T],quantity:F[T].quantity+1},u({...s,items:F})}else{const F={name:N.name,quantity:1,ItemId:N.ItemId||N.itemId||N.id,itemId:N.ItemId||N.itemId||N.id,id:N.id,imageUrl:N.imageUrl||""};u({...s,items:[...s.items,F]})}},C=(N,A)=>{var P;if(console.log(`🔄 Updating ${N} to quantity: ${A}`),A<=0){u({...s,items:s.items.filter(j=>j.name!==N)});return}const T=((P=s.items.find(j=>j.name===N))==null?void 0:P.quantity)||0,F=b(N)+T;if(A>F){alert(`❌ לא ניתן להזמין ${A} מ-${N}. זמין: ${F}`);return}const O=s.items.map(j=>j.name===N?{...j,quantity:A}:j);u({...s,items:O})},D=N=>{console.log("🗑️ Removing item:",N),u({...s,items:s.items.filter(A=>A.name!==N)})},M=async()=>{var N;try{h(!0);const A=(N=e.eventId)==null?void 0:N.split("-")[0];if(!A)throw new Error("שגיאה: לא נמצא מזהה הזמנה");console.log("💾 Saving items:",s.items);const T=s.items.map(F=>({...F,ItemId:F.ItemId||F.itemId||F.id,itemId:F.ItemId||F.itemId||F.id}));await eu(hi(sn,"orders",A),{items:T}),await a(),t({open:!1,eventId:null,items:[]}),i(!1),alert("🎉 השינויים נשמרו בהצלחה!")}catch(A){console.error("❌ שגיאה בשמירה:",A),alert(A.message||"שמירה נכשלה. נסה שוב.")}finally{h(!1)}},V=()=>{t({open:!1,eventId:null,items:[]})},X=r.filter(N=>N.name.toLowerCase().includes(p.toLowerCase())),$=N=>{N.target===N.currentTarget&&V()};return k.jsxs(k.Fragment,{children:[k.jsx("style",{jsx:!0,global:!0,children:`
        .edit-modal-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          background-color: rgba(0, 0, 0, 0.5) !important;
          display: flex !important;
          align-items: flex-start !important;
          justify-content: center !important;
          padding: 0.5rem !important;
          z-index: 99999 !important;
          overflow-x: hidden !important;
          padding-top: 1rem !important;
        }
        
        .edit-modal-content {
          background: white !important;
          border-radius: 12px !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          width: 100% !important;
          max-width: 56rem !important;
          max-height: 96vh !important;
          overflow: hidden !important;
          position: relative !important;
          z-index: 100000 !important;
          display: flex !important;
          flex-direction: column !important;
        }

        @media (max-width: 768px) {
          .edit-modal-overlay {
            padding: 0.25rem !important;
            padding-top: 0.5rem !important;
          }
          
          .edit-modal-content {
            max-height: 98vh !important;
            border-radius: 8px !important;
          }
          
          .modal-footer-mobile {
            flex-direction: column !important;
            gap: 0.5rem !important;
          }
          
          .modal-footer-mobile button {
            width: 100% !important;
          }
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),k.jsx("div",{className:"edit-modal-overlay",onClick:$,children:k.jsxs("div",{className:"edit-modal-content",dir:"rtl",onClick:N=>N.stopPropagation(),children:[k.jsxs("div",{style:{background:"linear-gradient(to right, #2563eb, #1d4ed8)",color:"white",padding:"1rem",flexShrink:0},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.jsx(VS,{size:24}),k.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:"עריכת הזמנה"})]}),k.jsx("button",{onClick:V,style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:"×"})]}),m.pickupDate&&m.returnDate&&k.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#bfdbfe"},children:["📅 תאריכי ההזמנה: ",m.pickupDate.toLocaleDateString("he-IL")," - ",m.returnDate.toLocaleDateString("he-IL")]})]}),k.jsxs("div",{style:{padding:"1rem",overflowY:"auto",flex:1},children:[k.jsxs("div",{style:{marginBottom:"1.5rem"},children:[k.jsxs("h4",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:["פריטים נוכחיים בהזמנה (",s.items.length,")"]}),s.items.length>0?k.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:s.items.map((N,A)=>{const T=r.find(P=>P.name===N.name),O=b(N.name)+N.quantity;return k.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#f9fafb",padding:"0.75rem",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flex:1,minWidth:0},children:[(T==null?void 0:T.imageUrl)&&k.jsx("img",{src:T.imageUrl,alt:N.name,style:{width:"2.5rem",height:"2.5rem",objectFit:"cover",borderRadius:"6px",flexShrink:0}}),k.jsxs("div",{style:{minWidth:0,flex:1},children:[k.jsx("div",{style:{fontWeight:"500",color:"#1f2937",fontSize:"0.9rem"},children:N.name}),k.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["מזהה: ",(T==null?void 0:T.ItemId)||(T==null?void 0:T.itemId)||"לא נמצא"]}),k.jsxs("div",{style:{fontSize:"0.7rem",color:"#059669",fontWeight:"500"},children:["מקסימום: ",O]})]})]}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",flexShrink:0},children:[k.jsx("button",{onClick:()=>C(N.name,N.quantity-1),style:{background:"#ef4444",color:"white",width:"1.8rem",height:"1.8rem",borderRadius:"50%",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},disabled:f,children:k.jsx(ZU,{size:12})}),k.jsx("span",{style:{width:"1.5rem",textAlign:"center",fontWeight:"500",fontSize:"0.9rem"},children:N.quantity}),k.jsx("button",{onClick:()=>C(N.name,N.quantity+1),style:{background:N.quantity>=O?"#9ca3af":"#10b981",color:"white",width:"1.8rem",height:"1.8rem",borderRadius:"50%",border:"none",cursor:N.quantity>=O?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center"},disabled:f||N.quantity>=O,children:k.jsx(nV,{size:12})}),k.jsx("button",{onClick:()=>D(N.name),style:{background:"#ef4444",color:"white",padding:"0.2rem 0.5rem",borderRadius:"6px",border:"none",cursor:"pointer",marginRight:"0.3rem",fontSize:"0.75rem"},disabled:f,children:"הסר"})]})]},A)})}):k.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"#6b7280"},children:"אין פריטים בהזמנה"})]}),k.jsxs("div",{children:[k.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:"הוסף פריטים מהמלאי"}),k.jsx("div",{style:{marginBottom:"1rem"},children:k.jsxs("div",{style:{position:"relative"},children:[k.jsx(US,{size:18,style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#6b7280"}}),k.jsx("input",{type:"text",placeholder:"חפש פריט...",value:p,onChange:N=>g(N.target.value),style:{width:"100%",padding:"0.75rem 2.8rem 0.75rem 0.75rem",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box"},disabled:f})]})}),k.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"0.75rem",maxHeight:"10rem",overflowY:"auto",overflowX:"hidden"},children:X.map((N,A)=>{var j;const T=s.items.some(Y=>Y.name===N.name),F=T?(j=s.items.find(Y=>Y.name===N.name))==null?void 0:j.quantity:0,O=b(N.name),P=F<O+F;return k.jsx("div",{onClick:()=>!f&&P&&S(N),style:{padding:"0.6rem",borderRadius:"8px",border:T?"2px solid #3b82f6":"1px solid #e5e7eb",background:T?"#eff6ff":"white",cursor:f||!P?"not-allowed":"pointer",transition:"all 0.2s",opacity:f||!P?.6:1},children:k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.imageUrl&&k.jsx("img",{src:N.imageUrl,alt:N.name,style:{width:"2rem",height:"2rem",objectFit:"cover",borderRadius:"6px",flexShrink:0}}),k.jsxs("div",{style:{flex:1,minWidth:0},children:[k.jsx("div",{style:{fontWeight:"500",fontSize:"0.8rem",color:"#1f2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:N.name}),k.jsxs("div",{style:{fontSize:"0.7rem",color:"#6b7280"},children:["מזהה: ",N.itemId||N.ItemId]}),k.jsxs("div",{style:{fontSize:"0.65rem",color:O>0?"#059669":"#dc2626",fontWeight:"500"},children:["זמין: ",O]}),T&&k.jsxs("div",{style:{fontSize:"0.65rem",color:"#2563eb",fontWeight:"500"},children:["בהזמנה: ",F]})]})]})},A)})})]})]}),k.jsx("div",{style:{background:"#f9fafb",padding:"1rem",borderTop:"1px solid #e5e7eb",flexShrink:0},children:k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"modal-footer-mobile",children:[k.jsxs("div",{style:{fontSize:"0.875rem",color:"#4b5563"},children:['סה"כ פריטים: ',s.items.reduce((N,A)=>N+A.quantity,0)]}),k.jsxs("div",{style:{display:"flex",gap:"0.75rem"},className:"modal-footer-mobile",children:[k.jsx("button",{onClick:V,disabled:f,style:{background:"#6b7280",color:"white",padding:"0.5rem 1.5rem",borderRadius:"8px",border:"none",cursor:f?"not-allowed":"pointer",fontSize:"0.875rem",opacity:f?.6:1},children:"ביטול"}),k.jsx("button",{onClick:M,disabled:f||s.items.length===0,style:{background:s.items.length===0?"#9ca3af":"#2563eb",color:"white",padding:"0.5rem 1.5rem",borderRadius:"8px",border:"none",cursor:s.items.length===0||f?"not-allowed":"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:f?k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{width:"1rem",height:"1rem",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"שומר..."]}):k.jsxs(k.Fragment,{children:[k.jsx(jS,{size:16}),"שמור שינויים"]})})]})]})})]})})]})},wV=({show:n,order:e,onClose:t,onCompleteInspection:r,allItems:i=[],updateItemQuantities:a})=>{const[o,s]=ve.useState([]),[u,f]=ve.useState(""),[h,p]=ve.useState(!1);if(ve.useEffect(()=>{if(n&&(e!=null&&e.items)){const b=e.items.map(S=>({itemId:S.id||S.itemId,name:S.name,quantityExpected:S.quantity||1,quantityReturned:S.quantity||1,isFullyReturned:!0,condition:"good",damageDescription:"",repairCost:0,notes:""}));s(b),f("")}},[n,e]),ve.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),!n||!e)return null;const g=(b,S,C)=>{s(D=>D.map((M,V)=>{if(V===b){const X={...M,[S]:C};return X.isFullyReturned=C>=M.quantityExpected,C<M.quantityExpected?X.condition="lost":X.condition==="lost"&&(X.condition="good"),X}return M}))},m=async()=>{const b=o.reduce((M,V)=>M+V.quantityExpected,0),S=o.reduce((M,V)=>M+V.quantityReturned,0);o.filter(M=>M.condition==="damaged").length,o.filter(M=>M.condition==="lost").length;const C=Math.round(S/b*100),D=`האם אתה בטוח שברצונך לסיים את בדיקת ההחזרה?

סיכום:
• פריטים שהושאלו: ${b}/${b}
• פריטים שחזרו: ${S}/${b}
• אחוז החזרה: ${C}%

ההזמנה תעבור לאיסוף ההזמנות הסגורות.`;if(window.confirm(D))try{p(!0);const M=o.reduce((A,T)=>A+T.quantityExpected,0),V=o.reduce((A,T)=>A+T.quantityReturned,0),X=o.filter(A=>A.condition==="damaged").length,$=o.reduce((A,T)=>A+(T.repairCost||0),0),N={totalItemsExpected:M,totalItemsReturned:V,totalDamages:X,totalRepairCost:$,managerNotes:u,customerNotified:!1,customerAgreedToCharges:!1};for(const A of o){const T=i.find(F=>F.id===A.itemId||F.name===A.name);if(T){let F=0;const O=A.quantityExpected-A.quantityReturned,P=A.condition==="damaged"?A.quantityReturned:0;F=O+P;const j=T.quantity-F,Y=Math.max(0,j);console.log(`עדכון מלאי - ${T.name}:`,{originalStock:T.quantity,expectedReturn:A.quantityExpected,quantityReturned:A.quantityReturned,condition:A.condition,itemsNotReturned:O,damagedItems:P,totalToRemove:F,newStock:Y}),F>0&&await eu(hi(sn,"items",T.id),{quantity:Y,lastUpdated:Xa()})}}await r(e.id,o,N),a&&await a(),t()}catch(M){console.error("Error completing return inspection:",M),alert("שגיאה בהשלמת בדיקת החזרה. נסה שוב.")}finally{p(!1)}},x=b=>{b.target===b.currentTarget&&window.confirm("האם אתה בטוח שברצונך לסגור את חלון בדיקת החזרה?")&&t()};return k.jsxs(k.Fragment,{children:[k.jsx("style",{jsx:!0,global:!0,children:`
        .return-inspection-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          background-color: rgba(0, 0, 0, 0.7) !important;
          display: flex !important;
          align-items: flex-start !important;
          justify-content: center !important;
          padding: 0.5rem !important;
          z-index: 99999 !important;
          overflow-x: hidden !important;
          padding-top: 1rem !important;
        }
        
        .return-inspection-content {
          background: white !important;
          border-radius: 12px !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          width: 100% !important;
          max-width: 56rem !important;
          max-height: 96vh !important;
          overflow: hidden !important;
          position: relative !important;
          z-index: 100000 !important;
          display: flex !important;
          flex-direction: column !important;
        }

        @media (max-width: 768px) {
          .return-inspection-overlay {
            padding: 0.25rem !important;
            padding-top: 0.5rem !important;
          }
          
          .return-inspection-content {
            max-height: 98vh !important;
            border-radius: 8px !important;
          }
          
          .footer-mobile {
            flex-direction: column !important;
            gap: 0.5rem !important;
            align-items: stretch !important;
          }
          
          .footer-mobile button {
            width: 100% !important;
          }
          
          .footer-mobile .summary-text {
            text-align: center !important;
            margin-bottom: 0.5rem !important;
          }
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),k.jsx("div",{className:"return-inspection-overlay",onClick:x,children:k.jsxs("div",{className:"return-inspection-content",dir:"rtl",onClick:b=>b.stopPropagation(),children:[k.jsx("div",{style:{background:"linear-gradient(to right, #fb923c, #f97316)",color:"white",padding:"1rem",flexShrink:0},children:k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[k.jsx(Ty,{size:24}),k.jsxs("div",{children:[k.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:"בדיקת החזרת מוצרים"}),k.jsxs("div",{style:{fontSize:"0.875rem",marginTop:"0.25rem",opacity:.9},children:["לקוח: ",e.clientName," • ",e.phone]})]})]}),k.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:"×"})]})}),k.jsx("div",{style:{padding:"1rem",overflowY:"auto",flex:1},children:k.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:o.map((b,S)=>{var C,D;return k.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"12px",padding:"1rem",background:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[k.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[k.jsx("img",{src:((C=e.items.find(M=>M.id===b.itemId))==null?void 0:C.imageUrl)||"/no-image-available.png",alt:b.name,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb",flexShrink:0}}),k.jsxs("div",{style:{minWidth:0,flex:1},children:[k.jsx("h4",{style:{fontSize:"1rem",fontWeight:"bold",margin:0,color:"#1f2937"},children:b.name}),k.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:["מזהה: ",b.ItemId||((D=e.items.find(M=>M.id===b.itemId))==null?void 0:D.ItemId)||b.itemId]}),k.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["כמות מוזמנת: ",b.quantityExpected]})]})]})}),k.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem"},children:[k.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"כמות שחזרה:"}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[k.jsx("button",{onClick:()=>{const M=Math.max(0,b.quantityReturned-1);g(S,"quantityReturned",M)},disabled:b.quantityReturned<=0,style:{background:b.quantityReturned<=0?"#d1d5db":"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",fontSize:"18px",fontWeight:"bold",cursor:b.quantityReturned<=0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:b.quantityReturned<=0?.6:1},children:"-"}),k.jsx("span",{style:{fontSize:"1.5rem",fontWeight:"bold",minWidth:"40px",textAlign:"center",color:"#1f2937"},children:b.quantityReturned}),k.jsx("button",{onClick:()=>{const M=Math.min(b.quantityExpected,b.quantityReturned+1);g(S,"quantityReturned",M)},disabled:b.quantityReturned>=b.quantityExpected,style:{background:b.quantityReturned>=b.quantityExpected?"#d1d5db":"#10b981",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",fontSize:"18px",fontWeight:"bold",cursor:b.quantityReturned>=b.quantityExpected?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:b.quantityReturned>=b.quantityExpected?.6:1},children:"+"})]})]}),b.quantityReturned<b.quantityExpected&&k.jsx("div",{style:{marginTop:"0.75rem",padding:"0.5rem",background:"#fef3c7",borderRadius:"6px",textAlign:"center"},children:k.jsxs("span",{style:{fontSize:"0.875rem",color:"#92400e",fontWeight:"500"},children:["⚠️ חסרים ",b.quantityExpected-b.quantityReturned," פריטים"]})})]},S)})})}),k.jsx("div",{style:{background:"#f9fafb",padding:"1rem",borderTop:"1px solid #e5e7eb",flexShrink:0},children:k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"footer-mobile",children:[k.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},className:"summary-text",children:"בדיקת החזרה תעביר את ההזמנה להיסטוריה"}),k.jsxs("div",{style:{display:"flex",gap:"0.75rem"},className:"footer-mobile",children:[k.jsx("button",{onClick:t,disabled:h,style:{background:"#6b7280",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:h?"not-allowed":"pointer",fontSize:"0.875rem",opacity:h?.6:1},children:"ביטול"}),k.jsx("button",{onClick:m,disabled:h,style:{background:"#f59e0b",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:h?"not-allowed":"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.5rem",opacity:h?.6:1,justifyContent:"center"},children:h?k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{width:"1rem",height:"1rem",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"מעבד..."]}):k.jsxs(k.Fragment,{children:[k.jsx(jS,{size:16}),"השלם בדיקת החזרה"]})})]})]})})]})})]})},bV=({allItems:n,itemsMap:e,events:t,setAllItems:r,setItemsMap:i,setEvents:a,fetchItemsAndOrders:o})=>{const[s,u]=ve.useState(new Date),[f,h]=ve.useState([]),[p,g]=ve.useState(!1),[m,x]=ve.useState(null),[b,S]=ve.useState(!1),[C,D]=ve.useState({open:!1,eventId:null,items:[]}),[M,V]=ve.useState({show:!1,order:null}),X=async A=>{try{const T=t.filter(F=>F.orderId===A);if(T.length>0){const F={id:A,clientName:T[0].clientName,phone:T[0].phone,items:T[0].items,pickupDate:T[0].pickupDate,returnDate:T[0].returnDate};V({show:!0,order:F}),g(!1)}}catch(T){console.error("Error initializing return inspection:",T),alert("שגיאה בהתחלת בדיקת החזרה. נסה שוב.")}},$=async A=>{try{const T={status:"closed","returnInspection.inspectionStatus":"completed","returnInspection.inspectedBy":"סגירה ידנית","returnInspection.inspectionDate":Xa(),"returnInspection.managerNotes":"הזמנה נסגרה ידנית על ידי המנהל","returnInspection.totalItemsReturned":0,"returnInspection.totalDamages":0,"returnInspection.totalRepairCost":0,closedAt:Xa(),manuallyClosedAt:Xa()};await eu(hi(sn,"orders",A),T),await o(),g(!1),alert("ההזמנה נסגרה ידנית והועברה להיסטוריה!")}catch(T){console.error("Error manually closing order:",T),alert("שגיאה בסגירת ההזמנה. נסה שוב.")}},N=async(A,T,F)=>{try{const O={status:"closed",returnInspection:{inspectionStatus:"completed",inspectedBy:"מנהל המערכת",inspectionDate:Xa(),itemInspections:T.map(P=>({itemId:P.itemId,name:P.name,quantityExpected:P.quantityExpected,quantityReturned:P.quantityReturned,condition:P.condition,damageDescription:P.damageDescription||"",repairCost:P.repairCost||0,notes:P.notes||"",inspectedAt:new Date().toISOString()})),totalItemsReturned:F.totalItemsReturned,totalItemsExpected:F.totalItemsExpected,totalDamages:F.totalDamages,totalRepairCost:F.totalRepairCost,managerNotes:F.managerNotes,customerNotified:F.customerNotified,customerAgreedToCharges:F.customerAgreedToCharges},closedAt:Xa()};await eu(hi(sn,"orders",A),O),await o(),V({show:!1,order:null}),alert("בדיקת החזרה הושלמה בהצלחה! ההזמנה הועברה להיסטוריה.")}catch(O){console.error("Error completing return inspection:",O),alert("שגיאה בהשלמת בדיקת החזרה. נסה שוב.")}};return k.jsxs("div",{className:"mt-6",children:[k.jsx(vV,{currentDate:s,events:t,setCurrentDate:u,setSelectedEvents:h,setSelectedDate:x,setShowReport:g}),k.jsx(yV,{show:p,selectedDate:m,selectedEvents:f,allItems:n,setShowReport:g,setShowItemsModal:S,setEditItemModal:D,fetchItemsAndOrders:o,onStartReturnInspection:X,onCloseOrderManually:$}),k.jsx(_V,{show:!!b,setShow:()=>S(!1),selectedEvents:b,allItems:n}),k.jsx(xV,{show:C.open,data:C,setData:D,allItems:n,setShowReport:g,fetchItemsAndOrders:o,allEvents:t}),k.jsx(wV,{show:M.show,order:M.order,onClose:()=>V({show:!1,order:null}),onCompleteInspection:N,allItems:n,updateItemQuantities:o})]})},o4=n=>{const e=new Date(n);return e.setHours(0,0,0,0),e},AV=async(n,e)=>{const t=o4(new Date);for(const r of n.docs){const i=r.data();!i.pickupDate||i.stockUpdated||o4(new Date(i.pickupDate))>t||await eu(hi(e,"orders",r.id),{stockUpdated:!0})}},EV=(n,e)=>n.docs.flatMap(t=>{const r=t.data();if(r.status==="closed")return[];const i=(o=[])=>o.map(s=>{const u=e.find(f=>f.id===s.id);return{...s,imageUrl:(u==null?void 0:u.imageUrl)||null,itemId:(u==null?void 0:u.itemId)||"לא נמצא"}}),a=[];if(r.pickupDate&&r.returnDate){const o=new Date(r.pickupDate),s=new Date(r.returnDate);o.setHours(0,0,0,0),s.setHours(0,0,0,0);const u=Math.ceil((s-o)/(1e3*60*60*24));for(let f=0;f<=u;f++){if(f!==0&&f!==u)continue;const h=new Date(o);h.setDate(o.getDate()+f);let p,g,m;f===0?(p="השאלה",g="📦",m="איסוף מוצרים"):f===u&&(p="החזרה",g="🔄",m="החזרת מוצרים"),a.push({id:`${t.id}-${h.toISOString().slice(0,10)}`,orderId:t.id,date:new Date(h),clientName:r.clientName,phone:r.phone,type:p,icon:g,description:m,items:i(r.items),pickupDate:r.pickupDate,returnDate:r.returnDate,dayNumber:f+1,totalDays:u+1,isMultiDay:u>0})}}return a}),SV=async(n,e,t,r)=>{try{const a=(await Pi(Dr(n,"items"))).docs.map(f=>{const h=f.data();return{id:f.id,itemId:h.ItemId,name:h.name,imageUrl:h.imageUrl,quantity:h.quantity||0,isDeleted:h.isDeleted||!1}}).filter(f=>!f.isDeleted);console.log("📊 Items loaded with quantities:",a.map(f=>({name:f.name,quantity:f.quantity}))),e(a);const o={};a.forEach(f=>{o[f.name]=f.imageUrl||null}),t(o);const s=await Pi(Dr(n,"orders"));await AV(s,n);const u=EV(s,a);r(u)}catch(i){console.error("שגיאה בטעינת ההזמנות והפריטים:",i)}},CV=()=>{const[n,e]=ve.useState([]),[t,r]=ve.useState({}),[i,a]=ve.useState([]),[o,s]=ve.useState(!0),[u,f]=ve.useState(null),h=async()=>{try{s(!0),f(null),await SV(sn,e,r,a)}catch(p){console.error("Error fetching calendar data:",p),f("שגיאה בטעינת נתוני היומן. אנא נסה שוב.")}finally{s(!1)}};return ve.useEffect(()=>{h()},[]),o?k.jsx("div",{className:"flex justify-center items-center min-h-screen",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full border-blue-600 border-t-transparent"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"טוען נתוני יומן..."})]})}):u?k.jsx("div",{className:"flex justify-center items-center min-h-screen",children:k.jsxs("div",{className:"text-center",children:[k.jsx("p",{className:"text-red-600 mb-4",children:u}),k.jsx("button",{onClick:h,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"נסה שוב"})]})}):k.jsx("div",{className:"container mx-auto px-4",children:k.jsx(bV,{allItems:n,itemsMap:t,events:i,setAllItems:e,setItemsMap:r,setEvents:a,fetchItemsAndOrders:h})})},TV=()=>{const[n,e]=ve.useState(!1),t="123-456-7890",r="1234567890",i=()=>{window.open(`tel:${t}`,"_self")},a=()=>{const o=encodeURIComponent("שלום, אני מעוניין לקבל מידע נוסף על השירות");window.open(`https://wa.me/${r}?text=${o}`,"_blank")};return k.jsxs(k.Fragment,{children:[k.jsx("style",{jsx:!0,children:`
        .contact-bubble {
          position: fixed;
          bottom: 20px;
          right: 20px;
          z-index: 9999;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .bubble-main {
          background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);
          color: white;
          border-radius: 50px;
          box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
          cursor: pointer;
          transition: all 0.3s ease;
          border: none;
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          font-weight: 500;
          font-size: 14px;
        }

        .bubble-main:hover {
          transform: translateY(-2px);
          box-shadow: 0 12px 35px rgba(37, 99, 235, 0.4);
          background: linear-gradient(135deg, #1d4ed8 0%, #2563eb 100%);
        }

        .bubble-main.collapsed {
          width: 56px;
          height: 56px;
          padding: 0;
          justify-content: center;
          border-radius: 50%;
        }

        .expanded-menu {
          position: absolute;
          bottom: 70px;
          right: 0;
          background: white;
          border-radius: 12px;
          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
          padding: 16px;
          min-width: 240px;
          border: 1px solid #e5e7eb;
          animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .menu-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px;
          border-radius: 8px;
          cursor: pointer;
          transition: background-color 0.2s;
          border: none;
          width: 100%;
          text-align: right;
          background: none;
          color: #374151;
          font-size: 14px;
        }

        .menu-item:hover {
          background-color: #f3f4f6;
        }

        .menu-item.phone {
          color: #2563eb;
        }

        .menu-item.whatsapp {
          color: #10b981;
        }

        .menu-header {
          text-align: center;
          margin-bottom: 12px;
          color: #1f2937;
          font-weight: 600;
          font-size: 16px;
        }

        .pulse {
          animation: pulse 2s infinite;
        }

        @keyframes pulse {
          0% {
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
          }
          50% {
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.5);
          }
          100% {
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
          }
        }

        @media (max-width: 768px) {
          .contact-bubble {
            bottom: 15px;
            right: 15px;
          }
          
          .expanded-menu {
            min-width: 200px;
            right: -50px;
          }
          
          .bubble-main {
            padding: 10px 16px;
            font-size: 13px;
          }
        }
      `}),k.jsxs("div",{className:"contact-bubble",children:[n&&k.jsxs("div",{className:"expanded-menu",dir:"rtl",children:[k.jsx("div",{className:"menu-header",children:"צור קשר"}),k.jsxs("button",{onClick:i,className:"menu-item phone",children:[k.jsx(Fg,{size:20}),k.jsxs("div",{children:[k.jsx("div",{style:{fontWeight:"500"},children:"התקשר אלינו"}),k.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:t})]})]}),k.jsxs("button",{onClick:a,className:"menu-item whatsapp",children:[k.jsx(KU,{size:20}),k.jsxs("div",{children:[k.jsx("div",{style:{fontWeight:"500"},children:"WhatsApp"}),k.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:"שלח הודעה מהירה"})]})]})]}),k.jsx("button",{onClick:()=>e(!n),className:`bubble-main ${n?"":"collapsed pulse"}`,"aria-label":"צור קשר",children:n?k.jsxs(k.Fragment,{children:[k.jsx(zS,{size:20}),k.jsx("span",{children:"סגור"})]}):k.jsx(Fg,{size:24})})]})]})},IV="modulepreload",NV=function(n){return"/"+n},s4={},Iy=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=o(t.map(f=>{if(f=NV(f),f in s4)return;s4[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":IV,h||(g.as="script"),g.crossOrigin="",g.href=f,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((m,x)=>{g.addEventListener("load",m),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function ar(n){"@babel/helpers - typeof";return ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(n)}var La=Uint8Array,Wo=Uint16Array,l_=Int32Array,R2=new La([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),O2=new La([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ny=new La([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qS=function(n,e){for(var t=new Wo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new l_(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},HS=qS(R2,2),GS=HS.b,Ry=HS.r;GS[28]=258,Ry[258]=28;var WS=qS(O2,0),RV=WS.b,l4=WS.r,Oy=new Wo(32768);for(var Cr=0;Cr<32768;++Cr){var Uc=(Cr&43690)>>1|(Cr&21845)<<1;Uc=(Uc&52428)>>2|(Uc&13107)<<2,Uc=(Uc&61680)>>4|(Uc&3855)<<4,Oy[Cr]=((Uc&65280)>>8|(Uc&255)<<8)>>1}var Ql=function(n,e,t){for(var r=n.length,i=0,a=new Wo(e);i<r;++i)n[i]&&++a[n[i]-1];var o=new Wo(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(t){s=new Wo(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],h=e-n[i],p=o[n[i]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)s[Oy[p]>>u]=f}else for(s=new Wo(r),i=0;i<r;++i)n[i]&&(s[i]=Oy[o[n[i]-1]++]>>15-n[i]);return s},cf=new La(288);for(var Cr=0;Cr<144;++Cr)cf[Cr]=8;for(var Cr=144;Cr<256;++Cr)cf[Cr]=9;for(var Cr=256;Cr<280;++Cr)cf[Cr]=7;for(var Cr=280;Cr<288;++Cr)cf[Cr]=8;var a0=new La(32);for(var Cr=0;Cr<32;++Cr)a0[Cr]=5;var OV=Ql(cf,9,0),DV=Ql(cf,9,1),PV=Ql(a0,5,0),LV=Ql(a0,5,1),wv=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ks=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},bv=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},u_=function(n){return(n+7)/8|0},$S=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new La(n.subarray(e,t))},kV=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],tl=function(n,e,t){var r=new Error(e||kV[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,tl),!t)throw r;return r},MV=function(n,e,t,r){var i=n.length,a=0;if(!i||e.f&&!e.l)return t||new La(0);var o=!t,s=o||e.i!=2,u=e.i;o&&(t=new La(i*3));var f=function(He){var rt=t.length;if(He>rt){var st=new La(Math.max(rt*2,He));st.set(t),t=st}},h=e.f||0,p=e.p||0,g=e.b||0,m=e.l,x=e.d,b=e.m,S=e.n,C=i*8;do{if(!m){h=Ks(n,p,1);var D=Ks(n,p+1,3);if(p+=3,D)if(D==1)m=DV,x=LV,b=9,S=5;else if(D==2){var $=Ks(n,p,31)+257,N=Ks(n,p+10,15)+4,A=$+Ks(n,p+5,31)+1;p+=14;for(var T=new La(A),F=new La(19),O=0;O<N;++O)F[Ny[O]]=Ks(n,p+O*3,7);p+=N*3;for(var P=wv(F),j=(1<<P)-1,Y=Ql(F,P,1),O=0;O<A;){var le=Y[Ks(n,p,j)];p+=le&15;var M=le>>4;if(M<16)T[O++]=M;else{var U=0,q=0;for(M==16?(q=3+Ks(n,p,3),p+=2,U=T[O-1]):M==17?(q=3+Ks(n,p,7),p+=3):M==18&&(q=11+Ks(n,p,127),p+=7);q--;)T[O++]=U}}var ie=T.subarray(0,$),ce=T.subarray($);b=wv(ie),S=wv(ce),m=Ql(ie,b,1),x=Ql(ce,S,1)}else tl(1);else{var M=u_(p)+4,V=n[M-4]|n[M-3]<<8,X=M+V;if(X>i){u&&tl(0);break}s&&f(g+V),t.set(n.subarray(M,X),g),e.b=g+=V,e.p=p=X*8,e.f=h;continue}if(p>C){u&&tl(0);break}}s&&f(g+131072);for(var W=(1<<b)-1,me=(1<<S)-1,H=p;;H=p){var U=m[bv(n,p)&W],Q=U>>4;if(p+=U&15,p>C){u&&tl(0);break}if(U||tl(2),Q<256)t[g++]=Q;else if(Q==256){H=p,m=null;break}else{var ee=Q-254;if(Q>264){var O=Q-257,ne=R2[O];ee=Ks(n,p,(1<<ne)-1)+GS[O],p+=ne}var de=x[bv(n,p)&me],Ee=de>>4;de||tl(3),p+=de&15;var ce=RV[Ee];if(Ee>3){var ne=O2[Ee];ce+=bv(n,p)&(1<<ne)-1,p+=ne}if(p>C){u&&tl(0);break}s&&f(g+131072);var be=g+ee;if(g<ce){var Te=a-ce,Ge=Math.min(ce,be);for(Te+g<0&&tl(3);g<Ge;++g)t[g]=r[Te+g]}for(;g<be;++g)t[g]=t[g-ce]}}e.l=m,e.p=H,e.b=g,e.f=h,m&&(h=1,e.m=b,e.d=x,e.n=S)}while(!h);return g!=t.length&&o?$S(t,0,g):t.subarray(0,g)},Fu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},E1=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Av=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return{t:YS,l:0};if(i==1){var o=new La(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(X,$){return X.f-$.f}),t.push({s:-1,f:25001});var s=t[0],u=t[1],f=0,h=1,p=2;for(t[0]={s:-1,f:s.f+u.f,l:s,r:u};h!=i-1;)s=t[t[f].f<t[p].f?f++:p++],u=t[f!=h&&t[f].f<t[p].f?f++:p++],t[h++]={s:-1,f:s.f+u.f,l:s,r:u};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var m=new Wo(g+1),x=Dy(t[h-1],m,0);if(x>e){var r=0,b=0,S=x-e,C=1<<S;for(a.sort(function($,N){return m[N.s]-m[$.s]||$.f-N.f});r<i;++r){var D=a[r].s;if(m[D]>e)b+=C-(1<<x-m[D]),m[D]=e;else break}for(b>>=S;b>0;){var M=a[r].s;m[M]<e?b-=1<<e-m[M]++-1:++r}for(;r>=0&&b;--r){var V=a[r].s;m[V]==e&&(--m[V],++b)}x=e}return{t:new La(m),l:x}},Dy=function(n,e,t){return n.s==-1?Math.max(Dy(n.l,e,t+1),Dy(n.r,e,t+1)):e[n.s]=t},u4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Wo(++e),r=0,i=n[0],a=1,o=function(u){t[r++]=u},s=1;s<=e;++s)if(n[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=n[s]}return{c:t.subarray(0,r),n:e}},S1=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},XS=function(n,e,t){var r=t.length,i=u_(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},c4=function(n,e,t,r,i,a,o,s,u,f,h){Fu(e,h++,t),++i[256];for(var p=Av(i,15),g=p.t,m=p.l,x=Av(a,15),b=x.t,S=x.l,C=u4(g),D=C.c,M=C.n,V=u4(b),X=V.c,$=V.n,N=new Wo(19),A=0;A<D.length;++A)++N[D[A]&31];for(var A=0;A<X.length;++A)++N[X[A]&31];for(var T=Av(N,7),F=T.t,O=T.l,P=19;P>4&&!F[Ny[P-1]];--P);var j=f+5<<3,Y=S1(i,cf)+S1(a,a0)+o,le=S1(i,g)+S1(a,b)+o+14+3*P+S1(N,F)+2*N[16]+3*N[17]+7*N[18];if(u>=0&&j<=Y&&j<=le)return XS(e,h,n.subarray(u,u+f));var U,q,ie,ce;if(Fu(e,h,1+(le<Y)),h+=2,le<Y){U=Ql(g,m,0),q=g,ie=Ql(b,S,0),ce=b;var W=Ql(F,O,0);Fu(e,h,M-257),Fu(e,h+5,$-1),Fu(e,h+10,P-4),h+=14;for(var A=0;A<P;++A)Fu(e,h+3*A,F[Ny[A]]);h+=3*P;for(var me=[D,X],H=0;H<2;++H)for(var Q=me[H],A=0;A<Q.length;++A){var ee=Q[A]&31;Fu(e,h,W[ee]),h+=F[ee],ee>15&&(Fu(e,h,Q[A]>>5&127),h+=Q[A]>>12)}}else U=OV,q=cf,ie=PV,ce=a0;for(var A=0;A<s;++A){var ne=r[A];if(ne>255){var ee=ne>>18&31;E1(e,h,U[ee+257]),h+=q[ee+257],ee>7&&(Fu(e,h,ne>>23&31),h+=R2[ee]);var de=ne&31;E1(e,h,ie[de]),h+=ce[de],de>3&&(E1(e,h,ne>>5&8191),h+=O2[de])}else E1(e,h,U[ne]),h+=q[ne]}return E1(e,h,U[256]),h+q[256]},BV=new l_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),YS=new La(0),FV=function(n,e,t,r,i,a){var o=a.z||n.length,s=new La(r+o+5*(1+Math.ceil(o/7e3))+i),u=s.subarray(r,s.length-i),f=a.l,h=(a.r||0)&7;if(e){h&&(u[0]=a.r>>3);for(var p=BV[e-1],g=p>>13,m=p&8191,x=(1<<t)-1,b=a.p||new Wo(32768),S=a.h||new Wo(x+1),C=Math.ceil(t/3),D=2*C,M=function(wt){return(n[wt]^n[wt+1]<<C^n[wt+2]<<D)&x},V=new l_(25e3),X=new Wo(288),$=new Wo(32),N=0,A=0,T=a.i||0,F=0,O=a.w||0,P=0;T+2<o;++T){var j=M(T),Y=T&32767,le=S[j];if(b[Y]=le,S[j]=Y,O<=T){var U=o-T;if((N>7e3||F>24576)&&(U>423||!f)){h=c4(n,u,0,V,X,$,A,F,P,T-P,h),F=N=A=0,P=T;for(var q=0;q<286;++q)X[q]=0;for(var q=0;q<30;++q)$[q]=0}var ie=2,ce=0,W=m,me=Y-le&32767;if(U>2&&j==M(T-me))for(var H=Math.min(g,U)-1,Q=Math.min(32767,T),ee=Math.min(258,U);me<=Q&&--W&&Y!=le;){if(n[T+ie]==n[T+ie-me]){for(var ne=0;ne<ee&&n[T+ne]==n[T+ne-me];++ne);if(ne>ie){if(ie=ne,ce=me,ne>H)break;for(var de=Math.min(me,ne-2),Ee=0,q=0;q<de;++q){var be=T-me+q&32767,Te=b[be],Ge=be-Te&32767;Ge>Ee&&(Ee=Ge,le=be)}}}Y=le,le=b[Y],me+=Y-le&32767}if(ce){V[F++]=268435456|Ry[ie]<<18|l4[ce];var He=Ry[ie]&31,rt=l4[ce]&31;A+=R2[He]+O2[rt],++X[257+He],++$[rt],O=T+ie,++N}else V[F++]=n[T],++X[n[T]]}}for(T=Math.max(T,O);T<o;++T)V[F++]=n[T],++X[n[T]];h=c4(n,u,f,V,X,$,A,F,P,T-P,h),f||(a.r=h&7|u[h/8|0]<<3,h-=7,a.h=S,a.p=b,a.i=T,a.w=O)}else{for(var T=a.w||0;T<o+f;T+=65535){var st=T+65535;st>=o&&(u[h/8|0]=f,st=o),h=XS(u,h+1,n.subarray(T,st))}a.i=o}return $S(s,0,r+u_(h)+i)},KS=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},jV=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new La(a.length+n.length);o.set(a),o.set(n,a.length),n=o,i.w=a.length}return FV(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},QS=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},UV=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=KS();i.p(e.dictionary),QS(n,2,i.d())}},VV=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&tl(6,"invalid zlib data"),(n[1]>>5&1)==1&&tl(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Py(n,e){e||(e={});var t=KS();t.p(n);var r=jV(n,e,e.dictionary?6:2,4);return UV(r,e),QS(r,r.length-4,t.d()),r}function zV(n,e){return MV(n.subarray(VV(n),-4),{i:2},e,e)}var qV=typeof TextDecoder<"u"&&new TextDecoder,HV=0;try{qV.decode(YS,{stream:!0}),HV=1}catch{}var Gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ev(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var mr={log:Ev,warn:function(n){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):Ev.call(null,arguments))},error:function(n){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):Ev(n))}};function Sv(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){zf(r.response,e,t)},r.onerror=function(){mr.error("could not download file")},r.send()}function f4(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var q1,Ly,zf=Gt.saveAs||((typeof window>"u"?"undefined":ar(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Gt.URL||Gt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?f4(i.href)?Sv(n,e,t):Lp(i,i.target="_blank"):Lp(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(f4(n))Sv(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Lp(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:ar(a)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Sv(n,e,t);var i=n.type==="application/octet-stream",a=/constructor/i.test(Gt.HTMLElement)||Gt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":ar(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var h=s.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},s.readAsDataURL(n)}else{var u=Gt.URL||Gt.webkitURL,f=u.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ZS(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,o=i.exec(n);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return s.length==1&&(s="0"+s),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+s+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Cv(n,e){var t=n[0],r=n[1],i=n[2],a=n[3];t=Ca(t,r,i,a,e[0],7,-680876936),a=Ca(a,t,r,i,e[1],12,-389564586),i=Ca(i,a,t,r,e[2],17,606105819),r=Ca(r,i,a,t,e[3],22,-1044525330),t=Ca(t,r,i,a,e[4],7,-176418897),a=Ca(a,t,r,i,e[5],12,1200080426),i=Ca(i,a,t,r,e[6],17,-1473231341),r=Ca(r,i,a,t,e[7],22,-45705983),t=Ca(t,r,i,a,e[8],7,1770035416),a=Ca(a,t,r,i,e[9],12,-1958414417),i=Ca(i,a,t,r,e[10],17,-42063),r=Ca(r,i,a,t,e[11],22,-1990404162),t=Ca(t,r,i,a,e[12],7,1804603682),a=Ca(a,t,r,i,e[13],12,-40341101),i=Ca(i,a,t,r,e[14],17,-1502002290),t=Ta(t,r=Ca(r,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ta(a,t,r,i,e[6],9,-1069501632),i=Ta(i,a,t,r,e[11],14,643717713),r=Ta(r,i,a,t,e[0],20,-373897302),t=Ta(t,r,i,a,e[5],5,-701558691),a=Ta(a,t,r,i,e[10],9,38016083),i=Ta(i,a,t,r,e[15],14,-660478335),r=Ta(r,i,a,t,e[4],20,-405537848),t=Ta(t,r,i,a,e[9],5,568446438),a=Ta(a,t,r,i,e[14],9,-1019803690),i=Ta(i,a,t,r,e[3],14,-187363961),r=Ta(r,i,a,t,e[8],20,1163531501),t=Ta(t,r,i,a,e[13],5,-1444681467),a=Ta(a,t,r,i,e[2],9,-51403784),i=Ta(i,a,t,r,e[7],14,1735328473),t=Ia(t,r=Ta(r,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ia(a,t,r,i,e[8],11,-2022574463),i=Ia(i,a,t,r,e[11],16,1839030562),r=Ia(r,i,a,t,e[14],23,-35309556),t=Ia(t,r,i,a,e[1],4,-1530992060),a=Ia(a,t,r,i,e[4],11,1272893353),i=Ia(i,a,t,r,e[7],16,-155497632),r=Ia(r,i,a,t,e[10],23,-1094730640),t=Ia(t,r,i,a,e[13],4,681279174),a=Ia(a,t,r,i,e[0],11,-358537222),i=Ia(i,a,t,r,e[3],16,-722521979),r=Ia(r,i,a,t,e[6],23,76029189),t=Ia(t,r,i,a,e[9],4,-640364487),a=Ia(a,t,r,i,e[12],11,-421815835),i=Ia(i,a,t,r,e[15],16,530742520),t=Na(t,r=Ia(r,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Na(a,t,r,i,e[7],10,1126891415),i=Na(i,a,t,r,e[14],15,-1416354905),r=Na(r,i,a,t,e[5],21,-57434055),t=Na(t,r,i,a,e[12],6,1700485571),a=Na(a,t,r,i,e[3],10,-1894986606),i=Na(i,a,t,r,e[10],15,-1051523),r=Na(r,i,a,t,e[1],21,-2054922799),t=Na(t,r,i,a,e[8],6,1873313359),a=Na(a,t,r,i,e[15],10,-30611744),i=Na(i,a,t,r,e[6],15,-1560198380),r=Na(r,i,a,t,e[13],21,1309151649),t=Na(t,r,i,a,e[4],6,-145523070),a=Na(a,t,r,i,e[11],10,-1120210379),i=Na(i,a,t,r,e[2],15,718787259),r=Na(r,i,a,t,e[9],21,-343485551),n[0]=Xc(t,n[0]),n[1]=Xc(r,n[1]),n[2]=Xc(i,n[2]),n[3]=Xc(a,n[3])}function D2(n,e,t,r,i,a){return e=Xc(Xc(e,n),Xc(r,a)),Xc(e<<i|e>>>32-i,t)}function Ca(n,e,t,r,i,a,o){return D2(e&t|~e&r,n,e,i,a,o)}function Ta(n,e,t,r,i,a,o){return D2(e&r|t&~r,n,e,i,a,o)}function Ia(n,e,t,r,i,a,o){return D2(e^t^r,n,e,i,a,o)}function Na(n,e,t,r,i,a,o){return D2(t^(e|~r),n,e,i,a,o)}function JS(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Cv(r,GV(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Cv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Cv(r,i),r}function GV(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}q1=Gt.atob.bind(Gt),Ly=Gt.btoa.bind(Gt);var h4="0123456789abcdef".split("");function WV(n){for(var e="",t=0;t<4;t++)e+=h4[n>>8*t+4&15]+h4[n>>8*t&15];return e}function $V(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function ky(n){return JS(n).map($V).join("")}var XV=function(n){for(var e=0;e<n.length;e++)n[e]=WV(n[e]);return n.join("")}(JS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xc(n,e){if(XV){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function My(n,e){var t,r,i,a;if(n!==t){for(var o=(i=n,a=1+(256/n.length>>0),new Array(a+1).join(i)),s=[],u=0;u<256;u++)s[u]=u;var f=0;for(u=0;u<256;u++){var h=s[u];f=(f+h+o.charCodeAt(u))%256,s[u]=s[f],s[f]=h}t=n,r=s}else s=r;var p=e.length,g=0,m=0,x="";for(u=0;u<p;u++)m=(m+(h=s[g=(g+1)%256]))%256,s[g]=s[m],s[m]=h,o=s[(s[g]+s[m])%256],x+=String.fromCharCode(e.charCodeAt(u)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var d4={print:4,modify:8,copy:16,"annot-forms":32};function Qh(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(s){if(d4.perm!==void 0)throw new Error("Invalid permission: "+s);i+=d4[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=ky(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=My(this.encryptionKey,this.padding)}function Zh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function p4(n){if(ar(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var o=e[t][a];try{o[0].apply(n,r)}catch(s){Gt.console&&mr.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function jg(n){if(!(this instanceof jg))return new jg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function e8(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function qf(n,e,t,r,i){if(!(this instanceof qf))return new qf(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,e8.call(this,r,i)}function rd(n,e,t,r,i){if(!(this instanceof rd))return new rd(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,e8.call(this,r,i)}function qt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,u=16,f="S",h=null;ar(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),s=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=p4;var x="1.3",b=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(R){x=R};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return S};var C=m.__private__.getPageFormat=function(R){return S[R]};i=i||"a4";var D={COMPAT:"compat",ADVANCED:"advanced"},M=D.COMPAT;function V(){this.saveGraphicsState(),ge(new vt(ut,0,0,-ut,0,Vi()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),f="n",M=D.ADVANCED}function X(){this.restoreGraphicsState(),f="S",M=D.COMPAT}var $=m.__private__.combineFontStyleAndFontWeight=function(R,J){if(R=="bold"&&J=="normal"||R=="bold"&&J==400||R=="normal"&&J=="italic"||R=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(R=J==400||J==="normal"?R==="italic"?"italic":"normal":J!=700&&J!=="bold"||R!=="normal"?(J==700?"bold":J)+""+R:"bold"),R};m.advancedAPI=function(R){var J=M===D.COMPAT;return J&&V.call(this),typeof R!="function"||(R(this),J&&X.call(this)),this},m.compatAPI=function(R){var J=M===D.ADVANCED;return J&&X.call(this),typeof R!="function"||(R(this),J&&V.call(this)),this},m.isAdvancedAPI=function(){return M===D.ADVANCED};var N,A=function(R){if(M!==D.ADVANCED)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=m.roundToPrecision=m.__private__.roundToPrecision=function(R,J){var pe=e||J;if(isNaN(R)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(pe).replace(/0+$/,"")};N=m.hpf=m.__private__.hpf=typeof u=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return T(R,u)}:u==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return T(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return T(R,16)};var F=m.f2=m.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return T(R,2)},O=m.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return T(R,3)},P=m.scale=m.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return M===D.COMPAT?R*ut:M===D.ADVANCED?R:void 0},j=function(R){return M===D.COMPAT?Vi()-R:M===D.ADVANCED?R:void 0},Y=function(R){return P(j(R))};m.__private__.setPrecision=m.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var le,U="00000000000000000000000000000000",q=m.__private__.getFileId=function(){return U},ie=m.__private__.setFileId=function(R){return U=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Jn=new Qh(h.userPermissions,h.userPassword,h.ownerPassword,U)),U};m.setFileId=function(R){return ie(R),this},m.getFileId=function(){return q()};var ce=m.__private__.convertDateToPDFDate=function(R){var J=R.getTimezoneOffset(),pe=J<0?"+":"-",_e=Math.floor(Math.abs(J/60)),Ie=Math.abs(J%60),Ve=[pe,ee(_e),"'",ee(Ie),"'"].join("");return["D:",R.getFullYear(),ee(R.getMonth()+1),ee(R.getDate()),ee(R.getHours()),ee(R.getMinutes()),ee(R.getSeconds()),Ve].join("")},W=m.__private__.convertPDFDateToDate=function(R){var J=parseInt(R.substr(2,4),10),pe=parseInt(R.substr(6,2),10)-1,_e=parseInt(R.substr(8,2),10),Ie=parseInt(R.substr(10,2),10),Ve=parseInt(R.substr(12,2),10),tt=parseInt(R.substr(14,2),10);return new Date(J,pe,_e,Ie,Ve,tt,0)},me=m.__private__.setCreationDate=function(R){var J;if(R===void 0&&(R=new Date),R instanceof Date)J=ce(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=R}return le=J},H=m.__private__.getCreationDate=function(R){var J=le;return R==="jsDate"&&(J=W(le)),J};m.setCreationDate=function(R){return me(R),this},m.getCreationDate=function(R){return H(R)};var Q,ee=m.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ne=m.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},de=0,Ee=[],be=[],Te=0,Ge=[],He=[],rt=!1,st=be,wt=function(){de=0,Te=0,be=[],Ee=[],Ge=[],Zi=Tr(),pi=Tr()};m.__private__.setCustomOutputDestination=function(R){rt=!0,st=R};var Be=function(R){rt||(st=R)};m.__private__.resetCustomOutputDestination=function(){rt=!1,st=be};var ge=m.__private__.out=function(R){return R=R.toString(),Te+=R.length+1,st.push(R),st},gt=m.__private__.write=function(R){return ge(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},lt=m.__private__.getArrayBuffer=function(R){for(var J=R.length,pe=new ArrayBuffer(J),_e=new Uint8Array(pe);J--;)_e[J]=R.charCodeAt(J);return pe},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Xe};var it=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(R){return it=M===D.ADVANCED?R/ut:R,this};var at,ot=m.__private__.getFontSize=m.getFontSize=function(){return M===D.COMPAT?it:it*ut},ct=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(R){return ct=R,this},m.__private__.getR2L=m.getR2L=function(){return ct};var mt,Nt=m.__private__.setZoomMode=function(R){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))at=R;else if(isNaN(R)){if(J.indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');at=R}else at=parseInt(R,10)};m.__private__.getZoomMode=function(){return at};var xt,bt=m.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');mt=R};m.__private__.getPageMode=function(){return mt};var Rt=m.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');xt=R};m.__private__.getLayoutMode=function(){return xt},m.__private__.setDisplayMode=m.setDisplayMode=function(R,J,pe){return Nt(R),Rt(J),bt(pe),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(R){if(Object.keys(_t).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[R]},m.__private__.getDocumentProperties=function(){return _t},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(R){for(var J in _t)_t.hasOwnProperty(J)&&R[J]&&(_t[J]=R[J]);return this},m.__private__.setDocumentProperty=function(R,J){if(Object.keys(_t).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[R]=J};var Ot,ut,mn,Vt,Xn,Yt={},An={},di=[],an={},ha={},Cn={},Lr={},or=null,vn=0,Tt=[],tn=new p4(m),bi=n.hotfixes||[],kn={},dr={},Fa=[],vt=function R(J,pe,_e,Ie,Ve,tt){if(!(this instanceof R))return new R(J,pe,_e,Ie,Ve,tt);isNaN(J)&&(J=1),isNaN(pe)&&(pe=0),isNaN(_e)&&(_e=0),isNaN(Ie)&&(Ie=1),isNaN(Ve)&&(Ve=0),isNaN(tt)&&(tt=0),this._matrix=[J,pe,_e,Ie,Ve,tt]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(R)},vt.prototype.multiply=function(R){var J=R.sx*this.sx+R.shy*this.shx,pe=R.sx*this.shy+R.shy*this.sy,_e=R.shx*this.sx+R.sy*this.shx,Ie=R.shx*this.shy+R.sy*this.sy,Ve=R.tx*this.sx+R.ty*this.shx+this.tx,tt=R.tx*this.shy+R.ty*this.sy+this.ty;return new vt(J,pe,_e,Ie,Ve,tt)},vt.prototype.decompose=function(){var R=this.sx,J=this.shy,pe=this.shx,_e=this.sy,Ie=this.tx,Ve=this.ty,tt=Math.sqrt(R*R+J*J),ht=(R/=tt)*pe+(J/=tt)*_e;pe-=R*ht,_e-=J*ht;var _=Math.sqrt(pe*pe+_e*_e);return ht/=_,R*(_e/=_)<J*(pe/=_)&&(R=-R,J=-J,ht=-ht,tt=-tt),{scale:new vt(tt,0,0,_,0,0),translate:new vt(1,0,0,1,Ie,Ve),rotate:new vt(R,J,-J,R,0,0),skew:new vt(1,0,ht,1,0,0)}},vt.prototype.toString=function(R){return this.join(" ")},vt.prototype.inversed=function(){var R=this.sx,J=this.shy,pe=this.shx,_e=this.sy,Ie=this.tx,Ve=this.ty,tt=1/(R*_e-J*pe),ht=_e*tt,_=-J*tt,B=-pe*tt,G=R*tt;return new vt(ht,_,B,G,-ht*Ie-B*Ve,-_*Ie-G*Ve)},vt.prototype.applyToPoint=function(R){var J=R.x*this.sx+R.y*this.shx+this.tx,pe=R.x*this.shy+R.y*this.sy+this.ty;return new Rs(J,pe)},vt.prototype.applyToRectangle=function(R){var J=this.applyToPoint(R),pe=this.applyToPoint(new Rs(R.x+R.w,R.y+R.h));return new vl(J.x,J.y,pe.x-J.x,pe.y-J.y)},vt.prototype.clone=function(){var R=this.sx,J=this.shy,pe=this.shx,_e=this.sy,Ie=this.tx,Ve=this.ty;return new vt(R,J,pe,_e,Ie,Ve)},m.Matrix=vt;var Hn=m.matrixMult=function(R,J){return J.multiply(R)},Gn=new vt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Gn;var pr=function(R,J){if(!ha[R]){var pe=(J instanceof qf?"Sh":"P")+(Object.keys(an).length+1).toString(10);J.id=pe,ha[R]=pe,an[pe]=J,tn.publish("addPattern",J)}};m.ShadingPattern=qf,m.TilingPattern=rd,m.addShadingPattern=function(R,J){return A("addShadingPattern()"),pr(R,J),this},m.beginTilingPattern=function(R){A("beginTilingPattern()"),rs(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},m.endTilingPattern=function(R,J){A("endTilingPattern()"),J.stream=He[Q].join(`
`),pr(R,J),tn.publish("endTilingPattern",J),Fa.pop().restore()};var wr=m.__private__.newObject=function(){var R=Tr();return qr(R,!0),R},Tr=m.__private__.newObjectDeferred=function(){return de++,Ee[de]=function(){return Te},de},qr=function(R,J){return J=typeof J=="boolean"&&J,Ee[R]=Te,J&&ge(R+" 0 obj"),R},As=m.__private__.newAdditionalObject=function(){var R={objId:Tr(),content:""};return Ge.push(R),R},Zi=Tr(),pi=Tr(),Jr=m.__private__.decodeColorString=function(R){var J=R.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var pe=parseFloat(J[0]);J=[pe,pe,pe,"r"]}for(var _e="#",Ie=0;Ie<3;Ie++)_e+=("0"+Math.floor(255*parseFloat(J[Ie])).toString(16)).slice(-2);return _e},Hr=m.__private__.encodeColorString=function(R){var J;typeof R=="string"&&(R={ch1:R});var pe=R.ch1,_e=R.ch2,Ie=R.ch3,Ve=R.ch4,tt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var ht=new ZS(pe);if(ht.ok)pe=ht.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var _=parseInt(pe.substr(1),16);pe=_>>16&255,_e=_>>8&255,Ie=255&_}if(_e===void 0||Ve===void 0&&pe===_e&&_e===Ie)if(typeof pe=="string")J=pe+" "+tt[0];else switch(R.precision){case 2:J=F(pe/255)+" "+tt[0];break;case 3:default:J=O(pe/255)+" "+tt[0]}else if(Ve===void 0||ar(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return J=["1.","1.","1.",tt[1]].join(" ");if(typeof pe=="string")J=[pe,_e,Ie,tt[1]].join(" ");else switch(R.precision){case 2:J=[F(pe/255),F(_e/255),F(Ie/255),tt[1]].join(" ");break;default:case 3:J=[O(pe/255),O(_e/255),O(Ie/255),tt[1]].join(" ")}}else if(typeof pe=="string")J=[pe,_e,Ie,Ve,tt[2]].join(" ");else switch(R.precision){case 2:J=[F(pe),F(_e),F(Ie),F(Ve),tt[2]].join(" ");break;case 3:default:J=[O(pe),O(_e),O(Ie),O(Ve),tt[2]].join(" ")}return J},ei=m.__private__.getFilters=function(){return o},sr=m.__private__.putStream=function(R){var J=(R=R||{}).data||"",pe=R.filters||ei(),_e=R.alreadyAppliedFilters||[],Ie=R.addLength1||!1,Ve=J.length,tt=R.objectId,ht=function(jt){return jt};if(h!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(ht=Jn.encryptor(tt,0));var _={};pe===!0&&(pe=["FlateEncode"]);var B=R.additionalKeyValues||[],G=(_=qt.API.processDataByFilters!==void 0?qt.API.processDataByFilters(J,pe):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(_.data.length!==0&&(B.push({key:"Length",value:_.data.length}),Ie===!0&&B.push({key:"Length1",value:Ve})),G.length!=0)if(G.split("/").length-1==1)B.push({key:"Filter",value:G});else{B.push({key:"Filter",value:"["+G+"]"});for(var oe=0;oe<B.length;oe+=1)if(B[oe].key==="DecodeParms"){for(var Ce=[],Le=0;Le<_.reverseChain.split("/").length-1;Le+=1)Ce.push("null");Ce.push(B[oe].value),B[oe].value="["+Ce.join(" ")+"]"}}ge("<<");for(var nt=0;nt<B.length;nt++)ge("/"+B[nt].key+" "+B[nt].value);ge(">>"),_.data.length!==0&&(ge("stream"),ge(ht(_.data)),ge("endstream"))},Mn=m.__private__.putPage=function(R){var J=R.number,pe=R.data,_e=R.objId,Ie=R.contentsObjId;qr(_e,!0),ge("<</Type /Page"),ge("/Parent "+R.rootDictionaryObjId+" 0 R"),ge("/Resources "+R.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(N(R.mediaBox.bottomLeftX))+" "+parseFloat(N(R.mediaBox.bottomLeftY))+" "+N(R.mediaBox.topRightX)+" "+N(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&ge("/CropBox ["+N(R.cropBox.bottomLeftX)+" "+N(R.cropBox.bottomLeftY)+" "+N(R.cropBox.topRightX)+" "+N(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&ge("/BleedBox ["+N(R.bleedBox.bottomLeftX)+" "+N(R.bleedBox.bottomLeftY)+" "+N(R.bleedBox.topRightX)+" "+N(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&ge("/TrimBox ["+N(R.trimBox.bottomLeftX)+" "+N(R.trimBox.bottomLeftY)+" "+N(R.trimBox.topRightX)+" "+N(R.trimBox.topRightY)+"]"),R.artBox!==null&&ge("/ArtBox ["+N(R.artBox.bottomLeftX)+" "+N(R.artBox.bottomLeftY)+" "+N(R.artBox.topRightX)+" "+N(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&ge("/UserUnit "+R.userUnit),tn.publish("putPage",{objId:_e,pageContext:Tt[J],pageNumber:J,page:pe}),ge("/Contents "+Ie+" 0 R"),ge(">>"),ge("endobj");var Ve=pe.join(`
`);return M===D.ADVANCED&&(Ve+=`
Q`),qr(Ie,!0),sr({data:Ve,filters:ei(),objectId:Ie}),ge("endobj"),_e},Ao=m.__private__.putPages=function(){var R,J,pe=[];for(R=1;R<=vn;R++)Tt[R].objId=Tr(),Tt[R].contentsObjId=Tr();for(R=1;R<=vn;R++)pe.push(Mn({number:R,data:He[R],objId:Tt[R].objId,contentsObjId:Tt[R].contentsObjId,mediaBox:Tt[R].mediaBox,cropBox:Tt[R].cropBox,bleedBox:Tt[R].bleedBox,trimBox:Tt[R].trimBox,artBox:Tt[R].artBox,userUnit:Tt[R].userUnit,rootDictionaryObjId:Zi,resourceDictionaryObjId:pi}));qr(Zi,!0),ge("<</Type /Pages");var _e="/Kids [";for(J=0;J<vn;J++)_e+=pe[J]+" 0 R ";ge(_e+"]"),ge("/Count "+vn),ge(">>"),ge("endobj"),tn.publish("postPutPages")},Eo=function(R){tn.publish("putFont",{font:R,out:ge,newObject:wr,putStream:sr}),R.isAlreadyPutted!==!0&&(R.objectNumber=wr(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+Zh(R.postScriptName)),ge("/Subtype /Type1"),typeof R.encoding=="string"&&ge("/Encoding /"+R.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},Bi=function(){for(var R in Yt)Yt.hasOwnProperty(R)&&(p===!1||p===!0&&g.hasOwnProperty(R))&&Eo(Yt[R])},da=function(R){R.objectNumber=wr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[N(R.x),N(R.y),N(R.x+R.width),N(R.y+R.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var pe=R.pages[1].join(`
`);sr({data:pe,additionalKeyValues:J,objectId:R.objectNumber}),ge("endobj")},Es=function(){for(var R in kn)kn.hasOwnProperty(R)&&da(kn[R])},su=function(R,J){var pe,_e=[],Ie=1/(J-1);for(pe=0;pe<1;pe+=Ie)_e.push(pe);if(_e.push(1),R[0].offset!=0){var Ve={offset:0,color:R[0].color};R.unshift(Ve)}if(R[R.length-1].offset!=1){var tt={offset:1,color:R[R.length-1].color};R.push(tt)}for(var ht="",_=0,B=0;B<_e.length;B++){for(pe=_e[B];pe>R[_+1].offset;)_++;var G=R[_].offset,oe=(pe-G)/(R[_+1].offset-G),Ce=R[_].color,Le=R[_+1].color;ht+=ne(Math.round((1-oe)*Ce[0]+oe*Le[0]).toString(16))+ne(Math.round((1-oe)*Ce[1]+oe*Le[1]).toString(16))+ne(Math.round((1-oe)*Ce[2]+oe*Le[2]).toString(16))}return ht.trim()},Ss=function(R,J){J||(J=21);var pe=wr(),_e=su(R.colors,J),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+J+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),sr({data:_e,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),ge("endobj"),R.objectNumber=wr(),ge("<< /ShadingType "+R.type),ge("/ColorSpace /DeviceRGB");var Ve="/Coords ["+N(parseFloat(R.coords[0]))+" "+N(parseFloat(R.coords[1]))+" ";R.type===2?Ve+=N(parseFloat(R.coords[2]))+" "+N(parseFloat(R.coords[3])):Ve+=N(parseFloat(R.coords[2]))+" "+N(parseFloat(R.coords[3]))+" "+N(parseFloat(R.coords[4]))+" "+N(parseFloat(R.coords[5])),ge(Ve+="]"),R.matrix&&ge("/Matrix ["+R.matrix.toString()+"]"),ge("/Function "+pe+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},tc=function(R,J){var pe=Tr(),_e=wr();J.push({resourcesOid:pe,objectOid:_e}),R.objectNumber=_e;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+R.boundingBox.map(N).join(" ")+"]"}),Ie.push({key:"XStep",value:N(R.xStep)}),Ie.push({key:"YStep",value:N(R.yStep)}),Ie.push({key:"Resources",value:pe+" 0 R"}),R.matrix&&Ie.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),sr({data:R.stream,additionalKeyValues:Ie,objectId:R.objectNumber}),ge("endobj")},ja=function(R){var J;for(J in an)an.hasOwnProperty(J)&&(an[J]instanceof qf?Ss(an[J]):an[J]instanceof rd&&tc(an[J],R))},Ua=function(R){for(var J in R.objectNumber=wr(),ge("<<"),R)switch(J){case"opacity":ge("/ca "+F(R[J]));break;case"stroke-opacity":ge("/CA "+F(R[J]))}ge(">>"),ge("endobj")},ti=function(){var R;for(R in Cn)Cn.hasOwnProperty(R)&&Ua(Cn[R])},So=function(){for(var R in ge("/XObject <<"),kn)kn.hasOwnProperty(R)&&kn[R].objectNumber>=0&&ge("/"+R+" "+kn[R].objectNumber+" 0 R");tn.publish("putXobjectDict"),ge(">>")},nc=function(){Jn.oid=wr(),ge("<<"),ge("/Filter /Standard"),ge("/V "+Jn.v),ge("/R "+Jn.r),ge("/U <"+Jn.toHexString(Jn.U)+">"),ge("/O <"+Jn.toHexString(Jn.O)+">"),ge("/P "+Jn.P),ge(">>"),ge("endobj")},Ka=function(){for(var R in ge("/Font <<"),Yt)Yt.hasOwnProperty(R)&&(p===!1||p===!0&&g.hasOwnProperty(R))&&ge("/"+R+" "+Yt[R].objectNumber+" 0 R");ge(">>")},fl=function(){if(Object.keys(an).length>0){for(var R in ge("/Shading <<"),an)an.hasOwnProperty(R)&&an[R]instanceof qf&&an[R].objectNumber>=0&&ge("/"+R+" "+an[R].objectNumber+" 0 R");tn.publish("putShadingPatternDict"),ge(">>")}},Co=function(R){if(Object.keys(an).length>0){for(var J in ge("/Pattern <<"),an)an.hasOwnProperty(J)&&an[J]instanceof m.TilingPattern&&an[J].objectNumber>=0&&an[J].objectNumber<R&&ge("/"+J+" "+an[J].objectNumber+" 0 R");tn.publish("putTilingPatternDict"),ge(">>")}},lu=function(){if(Object.keys(Cn).length>0){var R;for(R in ge("/ExtGState <<"),Cn)Cn.hasOwnProperty(R)&&Cn[R].objectNumber>=0&&ge("/"+R+" "+Cn[R].objectNumber+" 0 R");tn.publish("putGStateDict"),ge(">>")}},lr=function(R){qr(R.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ka(),fl(),Co(R.objectOid),lu(),So(),ge(">>"),ge("endobj")},gi=function(){var R=[];Bi(),ti(),Es(),ja(R),tn.publish("putResources"),R.forEach(lr),lr({resourcesOid:pi,objectOid:Number.MAX_SAFE_INTEGER}),tn.publish("postPutResources")},hl=function(){tn.publish("putAdditionalObjects");for(var R=0;R<Ge.length;R++){var J=Ge[R];qr(J.objId,!0),ge(J.content),ge("endobj")}tn.publish("postPutAdditionalObjects")},rc=function(R){An[R.fontName]=An[R.fontName]||{},An[R.fontName][R.fontStyle]=R.id},Xo=function(R,J,pe,_e,Ie){var Ve={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:R,fontName:J,fontStyle:pe,encoding:_e,isStandardFont:Ie||!1,metadata:{}};return tn.publish("addFont",{font:Ve,instance:this}),Yt[Ve.id]=Ve,rc(Ve),Ve.id},uu=function(R){for(var J=0,pe=Xe.length;J<pe;J++){var _e=Xo.call(this,R[J][0],R[J][1],R[J][2],Xe[J][3],!0);p===!1&&(g[_e]=!0);var Ie=R[J][0].split("-");rc({id:_e,fontName:Ie[0],fontStyle:Ie[1]||""})}tn.publish("addFonts",{fonts:Yt,dictionary:An})},Ai=function(R){return R.foo=function(){try{return R.apply(this,arguments)}catch(_e){var J=_e.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var pe="Error in function "+J.split(`
`)[0].split("<")[0]+": "+_e.message;if(!Gt.console)throw new Error(pe);Gt.console.error(pe,_e),Gt.alert&&alert(pe)}},R.foo.bar=R,R.foo},dl=function(R,J){var pe,_e,Ie,Ve,tt,ht,_,B,G;if(Ie=(J=J||{}).sourceEncoding||"Unicode",tt=J.outputEncoding,(J.autoencode||tt)&&Yt[Ot].metadata&&Yt[Ot].metadata[Ie]&&Yt[Ot].metadata[Ie].encoding&&(Ve=Yt[Ot].metadata[Ie].encoding,!tt&&Yt[Ot].encoding&&(tt=Yt[Ot].encoding),!tt&&Ve.codePages&&(tt=Ve.codePages[0]),typeof tt=="string"&&(tt=Ve[tt]),tt)){for(_=!1,ht=[],pe=0,_e=R.length;pe<_e;pe++)(B=tt[R.charCodeAt(pe)])?ht.push(String.fromCharCode(B)):ht.push(R[pe]),ht[pe].charCodeAt(0)>>8&&(_=!0);R=ht.join("")}for(pe=R.length;_===void 0&&pe!==0;)R.charCodeAt(pe-1)>>8&&(_=!0),pe--;if(!_)return R;for(ht=J.noBOM?[]:[254,255],pe=0,_e=R.length;pe<_e;pe++){if((G=(B=R.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+R+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(G),ht.push(B-(G<<8))}return String.fromCharCode.apply(void 0,ht)},En=m.__private__.pdfEscape=m.pdfEscape=function(R,J){return dl(R,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ei=m.__private__.beginPage=function(R){He[++vn]=[],Tt[vn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Qa(vn),Be(He[Q])},Yo=function(R,J){var pe,_e,Ie;switch(t=J||t,typeof R=="string"&&(pe=C(R.toLowerCase()),Array.isArray(pe)&&(_e=pe[0],Ie=pe[1])),Array.isArray(R)&&(_e=R[0]*ut,Ie=R[1]*ut),isNaN(_e)&&(_e=i[0],Ie=i[1]),(_e>14400||Ie>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Ie=Math.min(14400,Ie)),i=[_e,Ie],t.substr(0,1)){case"l":Ie>_e&&(i=[Ie,_e]);break;case"p":_e>Ie&&(i=[Ie,_e])}Ei(i),du(Jo),ge(Si),pu!==0&&ge(pu+" J"),Ns!==0&&ge(Ns+" j"),tn.publish("addPage",{pageNumber:vn})},Ko=function(R){R>0&&R<=vn&&(He.splice(R,1),Tt.splice(R,1),vn--,Q>vn&&(Q=vn),this.setPage(Q))},Qa=function(R){R>0&&R<=vn&&(Q=R)},Bn=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return He.length-1},Qo=function(R,J,pe){var _e,Ie=void 0;return pe=pe||{},R=R!==void 0?R:Yt[Ot].fontName,J=J!==void 0?J:Yt[Ot].fontStyle,_e=R.toLowerCase(),An[_e]!==void 0&&An[_e][J]!==void 0?Ie=An[_e][J]:An[R]!==void 0&&An[R][J]!==void 0?Ie=An[R][J]:pe.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+R+"', '"+J+"'. Refer to getFontList() for available fonts."),Ie||pe.noFallback||(Ie=An.times[J])==null&&(Ie=An.times.normal),Ie},pa=m.__private__.putInfo=function(){var R=wr(),J=function(_e){return _e};for(var pe in h!==null&&(J=Jn.encryptor(R,0)),ge("<<"),ge("/Producer ("+En(J("jsPDF "+qt.version))+")"),_t)_t.hasOwnProperty(pe)&&_t[pe]&&ge("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+En(J(_t[pe]))+")");ge("/CreationDate ("+En(J(le))+")"),ge(">>"),ge("endobj")},To=m.__private__.putCatalog=function(R){var J=(R=R||{}).rootDictionaryObjId||Zi;switch(wr(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+J+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+at;pe.substr(pe.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+F(at)+"]")}switch(xt||(xt="continuous"),xt){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}mt&&ge("/PageMode /"+mt),tn.publish("putCatalog"),ge(">>"),ge("endobj")},ic=m.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(de+1)),ge("/Root "+de+" 0 R"),ge("/Info "+(de-1)+" 0 R"),h!==null&&ge("/Encrypt "+Jn.oid+" 0 R"),ge("/ID [ <"+U+"> <"+U+"> ]"),ge(">>")},cu=m.__private__.putHeader=function(){ge("%PDF-"+x),ge("%ºß¬à")},fu=m.__private__.putXRef=function(){var R="0000000000";ge("xref"),ge("0 "+(de+1)),ge("0000000000 65535 f ");for(var J=1;J<=de;J++)typeof Ee[J]=="function"?ge((R+Ee[J]()).slice(-10)+" 00000 n "):Ee[J]!==void 0?ge((R+Ee[J]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},Io=m.__private__.buildDocument=function(){wt(),Be(be),tn.publish("buildDocument"),cu(),Ao(),hl(),gi(),h!==null&&nc(),pa(),To();var R=Te;return fu(),ic(),ge("startxref"),ge(""+R),ge("%%EOF"),Be(He[Q]),be.join(`
`)},pl=m.__private__.getBlob=function(R){return new Blob([lt(R)],{type:"application/pdf"})},No=m.output=m.__private__.output=Ai(function(R,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",R){case void 0:return Io();case"save":m.save(J.filename);break;case"arraybuffer":return lt(Io());case"blob":return pl(Io());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(pl(Io()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",_e=Io();try{pe=Ly(_e)}catch{pe=Ly(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+J.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ie=J.pdfObjectUrl,Ve="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",ht=Gt.open();return ht!==null&&ht.document.write(tt),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',B=Gt.open();if(B!==null){B.document.write(_);var G=this;B.document.documentElement.querySelector("#pdfViewer").onload=function(){B.document.title=J.filename,B.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(G.output("bloburl"))}}return B}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Ce=Gt.open();if(Ce!==null&&(Ce.document.write(oe),Ce.document.title=J.filename),Ce||typeof safari>"u")return Ce;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",J);default:return null}}),Za=function(R){return Array.isArray(bi)===!0&&bi.indexOf(R)>-1};switch(r){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Za("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ut=r}var Jn=null;me(),ie();var Ro=function(R){return h!==null?Jn.encryptor(R,0):function(J){return J}},Ja=m.__private__.getPageInfo=m.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Tt[R].objId,pageNumber:R,pageContext:Tt[R]}},Ft=m.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Tt)if(Tt[J].objId===R)break;return Ja(J)},eo=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Tt[Q].objId,pageNumber:Q,pageContext:Tt[Q]}};m.addPage=function(){return Yo.apply(this,arguments),this},m.setPage=function(){return Qa.apply(this,arguments),Be.call(this,He[Q]),this},m.insertPage=function(R){return this.addPage(),this.movePage(Q,R),this},m.movePage=function(R,J){var pe,_e;if(R>J){pe=He[R],_e=Tt[R];for(var Ie=R;Ie>J;Ie--)He[Ie]=He[Ie-1],Tt[Ie]=Tt[Ie-1];He[J]=pe,Tt[J]=_e,this.setPage(J)}else if(R<J){pe=He[R],_e=Tt[R];for(var Ve=R;Ve<J;Ve++)He[Ve]=He[Ve+1],Tt[Ve]=Tt[Ve+1];He[J]=pe,Tt[J]=_e,this.setPage(J)}return this},m.deletePage=function(){return Ko.apply(this,arguments),this},m.__private__.text=m.text=function(R,J,pe,_e,Ie){var Ve,tt,ht,_,B,G,oe,Ce,Le,nt=(_e=_e||{}).scope||this;if(typeof R=="number"&&typeof J=="number"&&(typeof pe=="string"||Array.isArray(pe))){var jt=pe;pe=J,J=R,R=jt}if(arguments[3]instanceof vt?(A("The transform parameter of text() with a Matrix value"),Le=Ie):(ht=arguments[4],_=arguments[5],ar(oe=arguments[3])==="object"&&oe!==null||(typeof ht=="string"&&(_=ht,ht=null),typeof oe=="string"&&(_=oe,oe=null),typeof oe=="number"&&(ht=oe,oe=null),_e={flags:oe,angle:ht,align:_})),isNaN(J)||isNaN(pe)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return nt;var dn="",Kt=!1,Fn=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:hn,Yn=nt.internal.scaleFactor;function io(ln){return ln=ln.split("	").join(Array(_e.TabLen||9).join(" ")),En(ln,oe)}function kr(ln){for(var un,ur=ln.concat(),Mr=[],oo=ur.length;oo--;)typeof(un=ur.shift())=="string"?Mr.push(un):Array.isArray(ln)&&(un.length===1||un[1]===void 0&&un[2]===void 0)?Mr.push(un[0]):Mr.push([un[0],un[1],un[2]]);return Mr}function ya(ln,un){var ur;if(typeof ln=="string")ur=un(ln)[0];else if(Array.isArray(ln)){for(var Mr,oo,Il=ln.concat(),Nl=[],ks=Il.length;ks--;)typeof(Mr=Il.shift())=="string"?Nl.push(un(Mr)[0]):Array.isArray(Mr)&&typeof Mr[0]=="string"&&(oo=un(Mr[0],Mr[1],Mr[2]),Nl.push([oo[0],oo[1],oo[2]]));ur=Nl}return ur}var as=!1,_l=!0;if(typeof R=="string")as=!0;else if(Array.isArray(R)){var lc=R.concat();tt=[];for(var gu,ni=lc.length;ni--;)(typeof(gu=lc.shift())!="string"||Array.isArray(gu)&&typeof gu[0]!="string")&&(_l=!1);as=_l}if(as===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var xl=it/nt.internal.scaleFactor,mu=xl*(Fn-1);switch(_e.baseline){case"bottom":pe-=mu;break;case"top":pe+=xl-mu;break;case"hanging":pe+=xl-2*mu;break;case"middle":pe+=xl/2-mu}if((G=_e.maxWidth||0)>0&&(typeof R=="string"?R=nt.splitTextToSize(R,G):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(ln,un){return ln.concat(nt.splitTextToSize(un,G))},[]))),Ve={text:R,x:J,y:pe,options:_e,mutex:{pdfEscape:En,activeFontKey:Ot,fonts:Yt,activeFontSize:it}},tn.publish("preProcessText",Ve),R=Ve.text,ht=(_e=Ve.options).angle,!(Le instanceof vt)&&ht&&typeof ht=="number"){ht*=Math.PI/180,_e.rotationDirection===0&&(ht=-ht),M===D.ADVANCED&&(ht=-ht);var vu=Math.cos(ht),uc=Math.sin(ht);Le=new vt(vu,uc,-uc,vu,0,0)}else ht&&ht instanceof vt&&(Le=ht);M!==D.ADVANCED||Le||(Le=Gn),(B=_e.charSpace||Is)!==void 0&&(dn+=N(P(B))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ce=_e.horizontalScale)!==void 0&&(dn+=N(100*Ce)+` Tz
`),_e.lang;var _a=-1,Od=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,mf=nt.internal.getCurrentPageInfo().pageContext;switch(Od){case 0:case!1:case"fill":_a=0;break;case 1:case!0:case"stroke":_a=1;break;case 2:case"fillThenStroke":_a=2;break;case 3:case"invisible":_a=3;break;case 4:case"fillAndAddForClipping":_a=4;break;case 5:case"strokeAndAddPathForClipping":_a=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_a=6;break;case 7:case"addToPathForClipping":_a=7}var dh=mf.usedRenderingMode!==void 0?mf.usedRenderingMode:-1;_a!==-1?dn+=_a+` Tr
`:dh!==-1&&(dn+=`0 Tr
`),_a!==-1&&(mf.usedRenderingMode=_a),_=_e.align||"left";var ao,mi=it*Fn,wl=nt.internal.pageSize.getWidth(),vf=Yt[Ot];B=_e.charSpace||Is,G=_e.maxWidth||0,oe=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var Ps=[],bl=function(ln){return nt.getStringUnitWidth(ln,{font:vf,charSpace:B,fontSize:it,doKerning:!1})*it/Yn};if(Object.prototype.toString.call(R)==="[object Array]"){var ea;tt=kr(R),_!=="left"&&(ao=tt.map(bl));var Ci,Al=0;if(_==="right"){J-=ao[0],R=[],ni=tt.length;for(var xa=0;xa<ni;xa++)xa===0?(Ci=Ui(J),ea=Wr(pe)):(Ci=P(Al-ao[xa]),ea=-mi),R.push([tt[xa],Ci,ea]),Al=ao[xa]}else if(_==="center"){J-=ao[0]/2,R=[],ni=tt.length;for(var Lo=0;Lo<ni;Lo++)Lo===0?(Ci=Ui(J),ea=Wr(pe)):(Ci=P((Al-ao[Lo])/2),ea=-mi),R.push([tt[Lo],Ci,ea]),Al=ao[Lo]}else if(_==="left"){R=[],ni=tt.length;for(var os=0;os<ni;os++)R.push(tt[os])}else if(_==="justify"&&vf.encoding==="Identity-H"){R=[],ni=tt.length,G=G!==0?G:wl;for(var ko=0,Ir=0;Ir<ni;Ir++)if(ea=Ir===0?Wr(pe):-mi,Ci=Ir===0?Ui(J):ko,Ir<ni-1){var Mo=P((G-ao[Ir])/(tt[Ir].split(" ").length-1)),$r=tt[Ir].split(" ");R.push([$r[0]+" ",Ci,ea]),ko=0;for(var wa=1;wa<$r.length;wa++){var yu=(bl($r[wa-1]+" "+$r[wa])-bl($r[wa]))*Yn+Mo;wa==$r.length-1?R.push([$r[wa],yu,0]):R.push([$r[wa]+" ",yu,0]),ko-=yu}}else R.push([tt[Ir],Ci,ea]);R.push(["",ko,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],ni=tt.length,G=G!==0?G:wl,Ir=0;Ir<ni;Ir++)ea=Ir===0?Wr(pe):-mi,Ci=Ir===0?Ui(J):0,Ir<ni-1?Ps.push(N(P((G-ao[Ir])/(tt[Ir].split(" ").length-1)))):Ps.push(0),R.push([tt[Ir],Ci,ea])}}var ss=typeof _e.R2L=="boolean"?_e.R2L:ct;ss===!0&&(R=ya(R,function(ln,un,ur){return[ln.split("").reverse().join(""),un,ur]})),Ve={text:R,x:J,y:pe,options:_e,mutex:{pdfEscape:En,activeFontKey:Ot,fonts:Yt,activeFontSize:it}},tn.publish("postProcessText",Ve),R=Ve.text,Kt=Ve.mutex.isHex||!1;var cc=Yt[Ot].encoding;cc!=="WinAnsiEncoding"&&cc!=="StandardEncoding"||(R=ya(R,function(ln,un,ur){return[io(ln),un,ur]})),tt=kr(R),R=[];for(var El,Sl,Cl,_u=0,fc=1,Tl=Array.isArray(tt[0])?fc:_u,Ls="",xu=function(ln,un,ur){var Mr="";return ur instanceof vt?(ur=typeof _e.angle=="number"?Hn(ur,new vt(1,0,0,1,ln,un)):Hn(new vt(1,0,0,1,ln,un),ur),M===D.ADVANCED&&(ur=Hn(new vt(1,0,0,-1,0,0),ur)),Mr=ur.join(" ")+` Tm
`):Mr=N(ln)+" "+N(un)+` Td
`,Mr},Nr=0;Nr<tt.length;Nr++){switch(Ls="",Tl){case fc:Cl=(Kt?"<":"(")+tt[Nr][0]+(Kt?">":")"),El=parseFloat(tt[Nr][1]),Sl=parseFloat(tt[Nr][2]);break;case _u:Cl=(Kt?"<":"(")+tt[Nr]+(Kt?">":")"),El=Ui(J),Sl=Wr(pe)}Ps!==void 0&&Ps[Nr]!==void 0&&(Ls=Ps[Nr]+` Tw
`),Nr===0?R.push(Ls+xu(El,Sl,Le)+Cl):Tl===_u?R.push(Ls+Cl):Tl===fc&&R.push(Ls+xu(El,Sl,Le)+Cl)}R=Tl===_u?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var za=`BT
/`;return za+=Ot+" "+it+` Tf
`,za+=N(it*Fn)+` TL
`,za+=Do+`
`,za+=dn,za+=R,ge(za+="ET"),g[Ot]=!0,nt};var ac=m.__private__.clip=m.clip=function(R){return ge(R==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ac("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ge("n"),this};var Fi=m.__private__.isValidStyle=function(R){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(J=!0),J};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(R){return Fi(R)&&(f=R),this};var ga=m.__private__.getStyle=m.getStyle=function(R){var J=f;switch(R){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=R}return J},Ji=m.close=function(){return ge("h"),this};m.stroke=function(){return ge("S"),this},m.fill=function(R){return to("f",R),this},m.fillEvenOdd=function(R){return to("f*",R),this},m.fillStroke=function(R){return to("B",R),this},m.fillStrokeEvenOdd=function(R){return to("B*",R),this};var to=function(R,J){ar(J)==="object"?Oo(J,R):ge(R)},ma=function(R){R===null||M===D.ADVANCED&&R===void 0||(R=ga(R),ge(R))};function Zo(R,J,pe,_e,Ie){var Ve=new rd(J||this.boundingBox,pe||this.xStep,_e||this.yStep,this.gState,Ie||this.matrix);Ve.stream=this.stream;var tt=R+"$$"+this.cloneIndex+++"$$";return pr(tt,Ve),Ve}var Oo=function(R,J){var pe=ha[R.key],_e=an[pe];if(_e instanceof qf)ge("q"),ge(hu(J)),_e.gState&&m.setGState(_e.gState),ge(R.matrix.toString()+" cm"),ge("/"+pe+" sh"),ge("Q");else if(_e instanceof rd){var Ie=new vt(1,0,0,-1,0,Vi());R.matrix&&(Ie=Ie.multiply(R.matrix||Gn),pe=Zo.call(_e,R.key,R.boundingBox,R.xStep,R.yStep,Ie).id),ge("q"),ge("/Pattern cs"),ge("/"+pe+" scn"),_e.gState&&m.setGState(_e.gState),ge(J),ge("Q")}},hu=function(R){switch(R){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},va=m.moveTo=function(R,J){return ge(N(P(R))+" "+N(Y(J))+" m"),this},ji=m.lineTo=function(R,J){return ge(N(P(R))+" "+N(Y(J))+" l"),this},no=m.curveTo=function(R,J,pe,_e,Ie,Ve){return ge([N(P(R)),N(Y(J)),N(P(pe)),N(Y(_e)),N(P(Ie)),N(Y(Ve)),"c"].join(" ")),this};m.__private__.line=m.line=function(R,J,pe,_e,Ie){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(_e)||!Fi(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return M===D.COMPAT?this.lines([[pe-R,_e-J]],R,J,[1,1],Ie||"S"):this.lines([[pe-R,_e-J]],R,J,[1,1]).stroke()},m.__private__.lines=m.lines=function(R,J,pe,_e,Ie,Ve){var tt,ht,_,B,G,oe,Ce,Le,nt,jt,dn,Kt;if(typeof R=="number"&&(Kt=pe,pe=J,J=R,R=Kt),_e=_e||[1,1],Ve=Ve||!1,isNaN(J)||isNaN(pe)||!Array.isArray(R)||!Array.isArray(_e)||!Fi(Ie)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(va(J,pe),tt=_e[0],ht=_e[1],B=R.length,jt=J,dn=pe,_=0;_<B;_++)(G=R[_]).length===2?(jt=G[0]*tt+jt,dn=G[1]*ht+dn,ji(jt,dn)):(oe=G[0]*tt+jt,Ce=G[1]*ht+dn,Le=G[2]*tt+jt,nt=G[3]*ht+dn,jt=G[4]*tt+jt,dn=G[5]*ht+dn,no(oe,Ce,Le,nt,jt,dn));return Ve&&Ji(),ma(Ie),this},m.path=function(R){for(var J=0;J<R.length;J++){var pe=R[J],_e=pe.c;switch(pe.op){case"m":va(_e[0],_e[1]);break;case"l":ji(_e[0],_e[1]);break;case"c":no.apply(this,_e);break;case"h":Ji()}}return this},m.__private__.rect=m.rect=function(R,J,pe,_e,Ie){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(_e)||!Fi(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return M===D.COMPAT&&(_e=-_e),ge([N(P(R)),N(Y(J)),N(P(pe)),N(P(_e)),"re"].join(" ")),ma(Ie),this},m.__private__.triangle=m.triangle=function(R,J,pe,_e,Ie,Ve,tt){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(_e)||isNaN(Ie)||isNaN(Ve)||!Fi(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-R,_e-J],[Ie-pe,Ve-_e],[R-Ie,J-Ve]],R,J,[1,1],tt,!0),this},m.__private__.roundedRect=m.roundedRect=function(R,J,pe,_e,Ie,Ve,tt){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(_e)||isNaN(Ie)||isNaN(Ve)||!Fi(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*pe),Ve=Math.min(Ve,.5*_e),this.lines([[pe-2*Ie,0],[Ie*ht,0,Ie,Ve-Ve*ht,Ie,Ve],[0,_e-2*Ve],[0,Ve*ht,-Ie*ht,Ve,-Ie,Ve],[2*Ie-pe,0],[-Ie*ht,0,-Ie,-Ve*ht,-Ie,-Ve],[0,2*Ve-_e],[0,-Ve*ht,Ie*ht,-Ve,Ie,-Ve]],R+Ie,J,[1,1],tt,!0),this},m.__private__.ellipse=m.ellipse=function(R,J,pe,_e,Ie){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(_e)||!Fi(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*pe,tt=4/3*(Math.SQRT2-1)*_e;return va(R+pe,J),no(R+pe,J-tt,R+Ve,J-_e,R,J-_e),no(R-Ve,J-_e,R-pe,J-tt,R-pe,J),no(R-pe,J+tt,R-Ve,J+_e,R,J+_e),no(R+Ve,J+_e,R+pe,J+tt,R+pe,J),ma(Ie),this},m.__private__.circle=m.circle=function(R,J,pe,_e){if(isNaN(R)||isNaN(J)||isNaN(pe)||!Fi(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,J,pe,pe,_e)},m.setFont=function(R,J,pe){return pe&&(J=$(J,pe)),Ot=Qo(R,J,{disableWarning:!1}),this};var Gr=m.__private__.getFont=m.getFont=function(){return Yt[Qo.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var R,J,pe={};for(R in An)if(An.hasOwnProperty(R))for(J in pe[R]=[],An[R])An[R].hasOwnProperty(J)&&pe[R].push(J);return pe},m.addFont=function(R,J,pe,_e,Ie){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(pe=$(pe,_e)),Ie=Ie||"Identity-H",Xo.call(this,R,J,pe,Ie)};var hn,Jo=n.lineWidth||.200025,ro=m.__private__.getLineWidth=m.getLineWidth=function(){return Jo},du=m.__private__.setLineWidth=m.setLineWidth=function(R){return Jo=R,ge(N(P(R))+" w"),this};m.__private__.setLineDash=qt.API.setLineDash=qt.API.setLineDashPattern=function(R,J){if(R=R||[],J=J||0,isNaN(J)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(pe){return N(P(pe))}).join(" "),J=N(P(J)),ge("["+R+"] "+J+" d"),this};var Cs=m.__private__.getLineHeight=m.getLineHeight=function(){return it*hn};m.__private__.getLineHeight=m.getLineHeight=function(){return it*hn};var Ts=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(hn=R),this},Va=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return hn};Ts(n.lineHeight);var Ui=m.__private__.getHorizontalCoordinate=function(R){return P(R)},Wr=m.__private__.getVerticalCoordinate=function(R){return M===D.ADVANCED?R:Tt[Q].mediaBox.topRightY-Tt[Q].mediaBox.bottomLeftY-P(R)},oc=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(R){return N(Ui(R))},es=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(R){return N(Wr(R))},Si=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Jr(Si)},m.__private__.setStrokeColor=m.setDrawColor=function(R,J,pe,_e){return Si=Hr({ch1:R,ch2:J,ch3:pe,ch4:_e,pdfColorType:"draw",precision:2}),ge(Si),this};var ts=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Jr(ts)},m.__private__.setFillColor=m.setFillColor=function(R,J,pe,_e){return ts=Hr({ch1:R,ch2:J,ch3:pe,ch4:_e,pdfColorType:"fill",precision:2}),ge(ts),this};var Do=n.textColor||"0 g",gl=m.__private__.getTextColor=m.getTextColor=function(){return Jr(Do)};m.__private__.setTextColor=m.setTextColor=function(R,J,pe,_e){return Do=Hr({ch1:R,ch2:J,ch3:pe,ch4:_e,pdfColorType:"text",precision:3}),this};var Is=n.charSpace,ml=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Is||0)};m.__private__.setCharSpace=m.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Is=R,this};var pu=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(R){var J=m.CapJoinStyles[R];if(J===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pu=J,ge(J+" J"),this};var Ns=0;m.__private__.setLineJoin=m.setLineJoin=function(R){var J=m.CapJoinStyles[R];if(J===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ns=J,ge(J+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(N(P(R))+" M"),this},m.GState=jg,m.setGState=function(R){(R=typeof R=="string"?Cn[Lr[R]]:ns(null,R)).equals(or)||(ge("/"+R.id+" gs"),or=R)};var ns=function(R,J){if(!R||!Lr[R]){var pe=!1;for(var _e in Cn)if(Cn.hasOwnProperty(_e)&&Cn[_e].equals(J)){pe=!0;break}if(pe)J=Cn[_e];else{var Ie="GS"+(Object.keys(Cn).length+1).toString(10);Cn[Ie]=J,J.id=Ie}return R&&(Lr[R]=J.id),tn.publish("addGState",J),J}};m.addGState=function(R,J){return ns(R,J),this},m.saveGraphicsState=function(){return ge("q"),di.push({key:Ot,size:it,color:Do}),this},m.restoreGraphicsState=function(){ge("Q");var R=di.pop();return Ot=R.key,it=R.size,Do=R.color,or=null,this},m.setCurrentTransformationMatrix=function(R){return ge(R.toString()+" cm"),this},m.comment=function(R){return ge("#"+R),this};var Rs=function(R,J){var pe=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Ve){isNaN(Ve)||(pe=parseFloat(Ve))}});var _e=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(Ve){isNaN(Ve)||(_e=parseFloat(Ve))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Ve){Ie=Ve.toString()}}),this},vl=function(R,J,pe,_e){Rs.call(this,R,J),this.type="rect";var Ie=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(tt){isNaN(tt)||(Ie=parseFloat(tt))}});var Ve=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(tt){isNaN(tt)||(Ve=parseFloat(tt))}}),this},Os=function(){this.page=vn,this.currentPage=Q,this.pages=He.slice(0),this.pagesContext=Tt.slice(0),this.x=mn,this.y=Vt,this.matrix=Xn,this.width=is(Q),this.height=Vi(Q),this.outputDestination=st,this.id="",this.objectNumber=-1};Os.prototype.restore=function(){vn=this.page,Q=this.currentPage,Tt=this.pagesContext,He=this.pages,mn=this.x,Vt=this.y,Xn=this.matrix,Ds(Q,this.width),yl(Q,this.height),st=this.outputDestination};var rs=function(R,J,pe,_e,Ie){Fa.push(new Os),vn=Q=0,He=[],mn=R,Vt=J,Xn=Ie,Ei([pe,_e])},sc=function(R){if(dr[R])Fa.pop().restore();else{var J=new Os,pe="Xo"+(Object.keys(kn).length+1).toString(10);J.id=pe,dr[R]=pe,kn[pe]=J,tn.publish("addFormObject",J),Fa.pop().restore()}};for(var Po in m.beginFormObject=function(R,J,pe,_e,Ie){return rs(R,J,pe,_e,Ie),this},m.endFormObject=function(R){return sc(R),this},m.doFormObject=function(R,J){var pe=kn[dr[R]];return ge("q"),ge(J.toString()+" cm"),ge("/"+pe.id+" Do"),ge("Q"),this},m.getFormObject=function(R){var J=kn[dr[R]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},m.save=function(R,J){return R=R||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(zf(pl(Io()),R),typeof zf.unload=="function"&&Gt.setTimeout&&setTimeout(zf.unload,911),this):new Promise(function(pe,_e){try{var Ie=zf(pl(Io()),R);typeof zf.unload=="function"&&Gt.setTimeout&&setTimeout(zf.unload,911),pe(Ie)}catch(Ve){_e(Ve.message)}})},qt.API)qt.API.hasOwnProperty(Po)&&(Po==="events"&&qt.API.events.length?function(R,J){var pe,_e,Ie;for(Ie=J.length-1;Ie!==-1;Ie--)pe=J[Ie][0],_e=J[Ie][1],R.subscribe.apply(R,[pe].concat(typeof _e=="function"?[_e]:_e))}(tn,qt.API.events):m[Po]=qt.API[Po]);var is=m.getPageWidth=function(R){return(Tt[R=R||Q].mediaBox.topRightX-Tt[R].mediaBox.bottomLeftX)/ut},Ds=m.setPageWidth=function(R,J){Tt[R].mediaBox.topRightX=J*ut+Tt[R].mediaBox.bottomLeftX},Vi=m.getPageHeight=function(R){return(Tt[R=R||Q].mediaBox.topRightY-Tt[R].mediaBox.bottomLeftY)/ut},yl=m.setPageHeight=function(R,J){Tt[R].mediaBox.topRightY=J*ut+Tt[R].mediaBox.bottomLeftY};return m.internal={pdfEscape:En,getStyle:ga,getFont:Gr,getFontSize:ot,getCharSpace:ml,getTextColor:gl,getLineHeight:Cs,getLineHeightFactor:Va,getLineWidth:ro,write:gt,getHorizontalCoordinate:Ui,getVerticalCoordinate:Wr,getCoordinateString:oc,getVerticalCoordinateString:es,collections:{},newObject:wr,newAdditionalObject:As,newObjectDeferred:Tr,newObjectDeferredBegin:qr,getFilters:ei,putStream:sr,events:tn,scaleFactor:ut,pageSize:{getWidth:function(){return is(Q)},setWidth:function(R){Ds(Q,R)},getHeight:function(){return Vi(Q)},setHeight:function(R){yl(Q,R)}},encryptionOptions:h,encryption:Jn,getEncryptor:Ro,output:No,getNumberOfPages:Bn,pages:He,out:ge,f2:F,f3:O,getPageInfo:Ja,getPageInfoByObjId:Ft,getCurrentPageInfo:eo,getPDFVersion:b,Point:Rs,Rectangle:vl,Matrix:vt,hasHotfix:Za},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return is(Q)},set:function(R){Ds(Q,R)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Vi(Q)},set:function(R){yl(Q,R)},enumerable:!0,configurable:!0}),uu.call(m,Xe),Ot="F1",Yo(i,t),tn.publish("initialized"),m}Qh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Qh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Qh.prototype.processOwnerPassword=function(n,e){return My(ky(e).substr(0,5),n)},Qh.prototype.encryptor=function(n,e){var t=ky(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return My(t,r)}},jg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ar(n)!==ar(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},qt.API={events:[]},qt.version="3.0.1";var Qr=qt.API,c_=1,hh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(n){return n.toFixed(2)},Vc=function(n){return n.toFixed(5)};Qr.__acroform__={};var bo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},g4=function(n){return n*c_},zl=function(n){var e=new n8,t=Ct.internal.getHeight(n)||0,r=Ct.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Jt(r)),Number(Jt(t))],e},YV=Qr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},KV=Qr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},QV=Qr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},ui=Qr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return QV(n,e-1)},ci=Qr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return YV(n,e-1)},fi=Qr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return KV(n,e-1)},ZV=Qr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],a=n[1],o=n[2],s=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(a+s)||0,u.upperRight_X=t(i+o)||0,u.upperRight_Y=r(a)||0,[Number(Jt(u.lowerLeft_X)),Number(Jt(u.lowerLeft_Y)),Number(Jt(u.upperRight_X)),Number(Jt(u.upperRight_Y))]},JV=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=By(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Jt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=zl(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},By=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=t,o=Ct.internal.getHeight(n)||0;o=o<0?-o:o;var s=Ct.internal.getWidth(n)||0;s=s<0?-s:s;var u=function(O,P,j){if(O+1<i.length){var Y=P+" "+i[O+1][0];return kp(Y,n,j).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var f,h,p=kp("3",n,a).height,g=n.multiline?o-a:(o-p)/2,m=g+=2,x=0,b=0,S=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+kp(e,n,a=12).width+", FieldWidth:"+s+`
`;break}for(var C="",D=0,M=0;M<i.length;M++)if(i.hasOwnProperty(M)){var V=!1;if(i[M].length!==1&&S!==i[M].length-1){if((p+2)*(D+2)+2>o)continue e;C+=i[M][S],V=!0,b=M,M--}else{C=(C+=i[M][S]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var X=parseInt(M),$=u(X,C,a),N=M>=i.length-1;if($&&!N){C+=" ",S=0;continue}if($||N){if(N)b=X;else if(n.multiline&&(p+2)*(D+2)+2>o)continue e}else{if(!n.multiline||(p+2)*(D+2)+2>o)continue e;b=X}}for(var A="",T=x;T<=b;T++){var F=i[T];if(n.multiline){if(T===b){A+=F[S]+" ",S=(S+1)%F.length;continue}if(T===x){A+=F[F.length-1]+" ";continue}}A+=F[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,h=kp(A,n,a).width,n.textAlign){case"right":f=s-h-2;break;case"center":f=(s-h)/2;break;case"left":default:f=2}e+=Jt(f)+" "+Jt(m)+` Td
`,e+="("+hh(A)+`) Tj
`,e+=-Jt(f)+` 0 Td
`,m=-(a+2),h=0,x=V?b:b+1,D++,C=""}break}return r.text=e,r.fontSize=a,r},kp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},ez={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tz=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},nz=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),ar(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},rz=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ul.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(ez)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c_=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new r8,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&tz(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],u=[],f=s.Rect;if(s.Rect&&(s.Rect=ZV(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ct.createDefaultAppearanceStream(s),ar(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(u=s.getKeyValueListForStream()),s.Rect=f,s.hasAppearanceStream&&!s.appearanceStreamContent){var h=JV(s);u.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(s.appearanceStreamContent){var p="";for(var g in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(g)){var m=s.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(i,s)),p+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,s)),p+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:s.objId}),i.internal.out("endobj")}a&&nz(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},t8=Qr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),ar(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+hh(r(n[a].toString()))+")"):i+=n[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tv=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+hh(r(n))+")"},Wl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wl.prototype.toString=function(){return this.objId+" 0 R"},Wl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Wl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:t8(i,this.objId,this.scope)}):i instanceof Wl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var n8=function(){Wl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};bo(n8,Wl);var r8=function(){Wl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+hh(t(n))+")"}},set:function(t){n=t}})};bo(r8,Wl);var ul=function n(){Wl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ui(e,3)},set:function(C){C?this.F=ci(e,3):this.F=fi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Ug)return;a="FieldObject"+n.FieldNum++}var C=function(D){return D};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+hh(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(C){s=C}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/c_:f},set:function(C){f=C}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Ug||this instanceof Qf))return Tv(p,this.objId,this.scope)},set:function(C){C=C.toString(),p=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Yi?g:Tv(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=this instanceof Yi?C:C.substr(0,1)==="("?Gh(C.substr(1,C.length-2)):Gh(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yi?Gh(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof Yi?"/"+C:C}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Yi?m:Tv(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=this instanceof Yi?C:C.substr(0,1)==="("?Gh(C.substr(1,C.length-2)):Gh(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yi?Gh(m.substr(1,m.length-1)):m},set:function(C){C=C.toString(),m=this instanceof Yi?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(C){C=!!C,b=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(C){x=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,1)},set:function(C){C?this.Ff=ci(this.Ff,1):this.Ff=fi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,2)},set:function(C){C?this.Ff=ci(this.Ff,2):this.Ff=fi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,3)},set:function(C){C?this.Ff=ci(this.Ff,3):this.Ff=fi(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');S=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(S){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};bo(ul,Wl);var ld=function(){ul.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return t8(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,o,s){s||(s=1);for(var u,f=[];u=o.exec(a);)f.push(u[s]);return f}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,18)},set:function(t){t?this.Ff=ci(this.Ff,18):this.Ff=fi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ci(this.Ff,19):this.Ff=fi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,20)},set:function(t){t?(this.Ff=ci(this.Ff,20),e.sort()):this.Ff=fi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,22)},set:function(t){t?this.Ff=ci(this.Ff,22):this.Ff=fi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,23)},set:function(t){t?this.Ff=ci(this.Ff,23):this.Ff=fi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,27)},set:function(t){t?this.Ff=ci(this.Ff,27):this.Ff=fi(this.Ff,27)}}),this.hasAppearanceStream=!1};bo(ld,ul);var ud=function(){ld.call(this),this.fontName="helvetica",this.combo=!1};bo(ud,ld);var cd=function(){ud.call(this),this.combo=!0};bo(cd,ud);var eg=function(){cd.call(this),this.edit=!0};bo(eg,cd);var Yi=function(){ul.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,15)},set:function(t){t?this.Ff=ci(this.Ff,15):this.Ff=fi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,16)},set:function(t){t?this.Ff=ci(this.Ff,16):this.Ff=fi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,17)},set:function(t){t?this.Ff=ci(this.Ff,17):this.Ff=fi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,26)},set:function(t){t?this.Ff=ci(this.Ff,26):this.Ff=fi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+hh(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){ar(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};bo(Yi,ul);var tg=function(){Yi.call(this),this.pushButton=!0};bo(tg,Yi);var fd=function(){Yi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};bo(fd,Yi);var Ug=function(){var n,e;ul.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+hh(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ar(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bo(Ug,ul),fd.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},fd.prototype.createOption=function(n){var e=new Ug;return e.Parent=this,e.optionName=n,this.Kids.push(e),iz.call(this.scope,e),e};var ng=function(){Yi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};bo(ng,Yi);var Qf=function(){ul.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,13)},set:function(e){e?this.Ff=ci(this.Ff,13):this.Ff=fi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,21)},set:function(e){e?this.Ff=ci(this.Ff,21):this.Ff=fi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,23)},set:function(e){e?this.Ff=ci(this.Ff,23):this.Ff=fi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,24)},set:function(e){e?this.Ff=ci(this.Ff,24):this.Ff=fi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,25)},set:function(e){e?this.Ff=ci(this.Ff,25):this.Ff=fi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,26)},set:function(e){e?this.Ff=ci(this.Ff,26):this.Ff=fi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bo(Qf,ul);var rg=function(){Qf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,14)},set:function(n){n?this.Ff=ci(this.Ff,14):this.Ff=fi(this.Ff,14)}}),this.password=!0};bo(rg,Qf);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=By(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Jt(Ct.internal.getWidth(n))+" "+Jt(Ct.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Jt(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=zl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=Ct.internal.getHeight(n),o=Ct.internal.getWidth(n),s=By(n,n.caption);return i.push("1 g"),i.push("0 0 "+Jt(o)+" "+Jt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Jt(o-1)+" "+Jt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Jt(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(Ct.internal.getWidth(n))+" "+Jt(Ct.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ct.RadioButton.Circle.YesNormal,e.D[n]=Ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Ct.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Vc(Ct.internal.getWidth(n)/2)+" "+Vc(Ct.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ct.internal.Bezier_C).toFixed(5)),o=Number((r*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vc(Ct.internal.getWidth(n)/2)+" "+Vc(Ct.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Vc(Ct.internal.getWidth(n)/2)+" "+Vc(Ct.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vc(Ct.internal.getWidth(n)/2)+" "+Vc(Ct.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ct.RadioButton.Cross.YesNormal,e.D[n]=Ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=zl(n);e.scope=n.scope;var t=[],r=Ct.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Jt(Ct.internal.getWidth(n)-2)+" "+Jt(Ct.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),t.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),t.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),t.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=Ct.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(Ct.internal.getWidth(n))+" "+Jt(Ct.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Jt(Ct.internal.getWidth(n)-2)+" "+Jt(Ct.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(t.x1.x)+" "+Jt(t.x1.y)+" m"),r.push(Jt(t.x2.x)+" "+Jt(t.x2.y)+" l"),r.push(Jt(t.x4.x)+" "+Jt(t.x4.y)+" m"),r.push(Jt(t.x3.x)+" "+Jt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=zl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(Ct.internal.getWidth(n))+" "+Jt(Ct.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ct.internal.getWidth(n),t=Ct.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ct.internal.getWidth=function(n){var e=0;return ar(n)==="object"&&(e=g4(n.Rect[2])),e},Ct.internal.getHeight=function(n){var e=0;return ar(n)==="object"&&(e=g4(n.Rect[3])),e};var iz=Qr.addField=function(n){if(rz(this,n),!(n instanceof ul))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Qr.AcroFormChoiceField=ld,Qr.AcroFormListBox=ud,Qr.AcroFormComboBox=cd,Qr.AcroFormEditBox=eg,Qr.AcroFormButton=Yi,Qr.AcroFormPushButton=tg,Qr.AcroFormRadioButton=fd,Qr.AcroFormCheckBox=ng,Qr.AcroFormTextField=Qf,Qr.AcroFormPasswordField=rg,Qr.AcroFormAppearance=Ct,Qr.AcroForm={ChoiceField:ld,ListBox:ud,ComboBox:cd,EditBox:eg,Button:Yi,PushButton:tg,RadioButton:fd,CheckBox:ng,TextField:Qf,PasswordField:rg,Appearance:Ct},qt.AcroForm={ChoiceField:ld,ListBox:ud,ComboBox:cd,EditBox:eg,Button:Yi,PushButton:tg,RadioButton:fd,CheckBox:ng,TextField:Qf,PasswordField:rg,Appearance:Ct};qt.AcroForm;function i8(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(O,P){var j,Y,le,U,q,ie=e;if((P=P||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if($(O))for(q in t)for(le=t[q],j=0;j<le.length;j+=1){for(U=!0,Y=0;Y<le[j].length;Y+=1)if(le[j][Y]!==void 0&&le[j][Y]!==O[Y]){U=!1;break}if(U===!0){ie=q;break}}else for(q in t)for(le=t[q],j=0;j<le.length;j+=1){for(U=!0,Y=0;Y<le[j].length;Y+=1)if(le[j][Y]!==void 0&&le[j][Y]!==O.charCodeAt(Y)){U=!1;break}if(U===!0){ie=q;break}}return ie===e&&P!==e&&(ie=P),ie},i=function O(P){for(var j=this.internal.write,Y=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:P.width}),U.push({key:"Height",value:P.height}),P.colorSpace===S.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===S.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var q="",ie=0,ce=P.transparency.length;ie<ce;ie++)q+=P.transparency[ie]+" "+P.transparency[ie]+" ";U.push({key:"Mask",value:"["+q+"]"})}P.sMask!==void 0&&U.push({key:"SMask",value:P.objectId+1+" 0 R"});var W=P.filter!==void 0?["/"+P.filter]:void 0;if(Y({data:P.data,additionalKeyValues:U,alreadyAppliedFilters:W,objectId:P.objectId}),j("endobj"),"sMask"in P&&P.sMask!==void 0){var me="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,H={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:me,data:P.sMask};"filter"in P&&(H.filter=P.filter),O.call(this,H)}if(P.colorSpace===S.INDEXED){var Q=this.internal.newObject();Y({data:A(new Uint8Array(P.palette)),objectId:Q}),j("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var P in O)i.call(this,O[P])},o=function(){var O,P=this.internal.collections.addImage_images,j=this.internal.write;for(var Y in P)j("/I"+(O=P[Y]).index,O.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var O=this.internal.collections.addImage_images;return s.call(this),O},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(O){return typeof n["process"+O.toUpperCase()]=="function"},p=function(O){return ar(O)==="object"&&O.nodeType===1},g=function(O,P){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var j=""+O.getAttribute("src");if(j.indexOf("data:image/")===0)return q1(unescape(j).split("base64,").pop());var Y=n.loadFile(j,!0);if(Y!==void 0)return Y}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var le;switch(P){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return q1(O.toDataURL(le,1).split("base64,").pop())}},m=function(O){var P=this.internal.collections.addImage_images;if(P){for(var j in P)if(O===P[j].alias)return P[j]}},x=function(O,P,j){return O||P||(O=-96,P=-96),O<0&&(O=-1*j.width*72/O/this.internal.scaleFactor),P<0&&(P=-1*j.height*72/P/this.internal.scaleFactor),O===0&&(O=P*j.width/j.height),P===0&&(P=O*j.height/j.width),[O,P]},b=function(O,P,j,Y,le,U){var q=x.call(this,j,Y,le),ie=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,W=u.call(this);if(j=q[0],Y=q[1],W[le.index]=le,U){U*=Math.PI/180;var me=Math.cos(U),H=Math.sin(U),Q=function(ne){return ne.toFixed(4)},ee=[Q(me),Q(H),Q(-1*H),Q(me),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,ie(O),ce(P+Y),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([ie(j),"0","0",ie(Y),"0","0","cm"].join(" "))):this.internal.write([ie(j),"0","0",ie(Y),ie(O),ce(P+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},S=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=n.__addimage__.sHashCode=function(O){var P,j,Y=0;if(typeof O=="string")for(j=O.length,P=0;P<j;P++)Y=(Y<<5)-Y+O.charCodeAt(P),Y|=0;else if($(O))for(j=O.byteLength/2,P=0;P<j;P++)Y=(Y<<5)-Y+O[P],Y|=0;return Y},M=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var P=!0;return O.length===0&&(P=!1),O.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(P=!1),P},V=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var P=O.indexOf(",");return P<0?null:O.substring(0,P).trim().endsWith("base64")?O.substring(P+1):null},X=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(O){return X()&&O instanceof ArrayBuffer};var $=n.__addimage__.isArrayBufferView=function(O){return X()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},N=n.__addimage__.binaryStringToUint8Array=function(O){for(var P=O.length,j=new Uint8Array(P),Y=0;Y<P;Y++)j[Y]=O.charCodeAt(Y);return j},A=n.__addimage__.arrayBufferToBinaryString=function(O){for(var P="",j=$(O)?O:new Uint8Array(O),Y=0;Y<j.length;Y+=8192)P+=String.fromCharCode.apply(null,j.subarray(Y,Y+8192));return P};n.addImage=function(){var O,P,j,Y,le,U,q,ie,ce;if(typeof arguments[1]=="number"?(P=e,j=arguments[1],Y=arguments[2],le=arguments[3],U=arguments[4],q=arguments[5],ie=arguments[6],ce=arguments[7]):(P=arguments[1],j=arguments[2],Y=arguments[3],le=arguments[4],U=arguments[5],q=arguments[6],ie=arguments[7],ce=arguments[8]),ar(O=arguments[0])==="object"&&!p(O)&&"imageData"in O){var W=O;O=W.imageData,P=W.format||P||e,j=W.x||j||0,Y=W.y||Y||0,le=W.w||W.width||le,U=W.h||W.height||U,q=W.alias||q,ie=W.compression||ie,ce=W.rotation||W.angle||ce}var me=this.internal.getFilters();if(ie===void 0&&me.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(j)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var H=T.call(this,O,P,q,ie);return b.call(this,j,Y,le,U,H,ce),this};var T=function(O,P,j,Y){var le,U,q;if(typeof O=="string"&&r(O)===e){O=unescape(O);var ie=F(O,!1);(ie!==""||(ie=n.loadFile(O,!0))!==void 0)&&(O=ie)}if(p(O)&&(O=g(O,P)),P=r(O,P),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((q=j)==null||q.length===0)&&(j=function(ce){return typeof ce=="string"||$(ce)?D(ce):$(ce.data)?D(ce.data):null}(O)),(le=m.call(this,j))||(X()&&(O instanceof Uint8Array||P==="RGBA"||(U=O,O=N(O))),le=this["process"+P.toUpperCase()](O,f.call(this),j,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in n.image_compression?ce:C.NONE}(Y),U)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},F=n.__addimage__.convertBase64ToBinaryString=function(O,P){P=typeof P!="boolean"||P;var j,Y="";if(typeof O=="string"){var le;j=(le=V(O))!==null&&le!==void 0?le:O;try{Y=q1(j)}catch(U){if(P)throw M(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};n.getImageProperties=function(O){var P,j,Y="";if(p(O)&&(O=g(O)),typeof O=="string"&&r(O)===e&&((Y=F(O,!1))===""&&(Y=n.loadFile(O)||""),O=Y),j=r(O),!h(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!X()||O instanceof Uint8Array||(O=N(O)),!(P=this["process"+j.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=j,P}})(qt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};qt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,h=!1,p=0;p<f.length&&!h;p++)switch((r=f[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){r=f[g];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(b.objId),D=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+m(C(r.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+m(C(D))+") >>",b.content=a;var M=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+M,r.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(b.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var V=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var $=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+$+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,a,o){var s=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:u(t),y:f(r),w:u(t+i),h:f(r+a)},options:o,type:"link"})},n.textWithLink=function(t,r,i,a){var o,s,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var h=this.splitTextToSize(t,s).length;o=Math.ceil(f*h)}else s=u,o=f;return this.text(t,r,i,a),i+=.2*f,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-f,s,o,a),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(qt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=n.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(b){var S=0,C=t,D="",M=0;for(S=0;S<b.length;S+=1)C[b.charCodeAt(S)]!==void 0?(M++,typeof(C=C[b.charCodeAt(S)])=="number"&&(D+=String.fromCharCode(C),C=t,M=0),S===b.length-1&&(C=t,D+=b.charAt(S-(M-1)),S-=M-1,M=0)):(C=t,D+=b.charAt(S-M),S-=M,M=0);return D};n.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(b,S,C){return o(b)?a(b)===!1?-1:!f(b)||!o(S)&&!o(C)||!o(C)&&s(S)||s(b)&&!o(S)||s(b)&&u(S)||s(b)&&s(S)?0:h(b)&&o(S)&&!s(S)&&o(C)&&f(C)?3:s(b)||!o(C)?1:2:-1},m=function(b){var S=0,C=0,D=0,M="",V="",X="",$=(b=b||"").split("\\s+"),N=[];for(S=0;S<$.length;S+=1){for(N.push(""),C=0;C<$[S].length;C+=1)M=$[S][C],V=$[S][C-1],X=$[S][C+1],o(M)?(D=g(M,V,X),N[S]+=D!==-1?String.fromCharCode(e[M.charCodeAt(0)][D]):M):N[S]+=M;N[S]=p(N[S])}return N.join(" ")},x=n.__arabicParser__.processArabic=n.processArabic=function(){var b,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(S)){var D=0;for(C=[],D=0;D<S.length;D+=1)Array.isArray(S[D])?C.push([m(S[D][0]),S[D][1],S[D][2]]):C.push([m(S[D])]);b=C}else b=m(S);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};n.events.push(["preProcessText",x])}(qt.API),qt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(s){t=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(qt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(b){x=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){r.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,m=0,x=0,b=0,S=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var C=f.maxWidth;C>0?typeof u=="string"?u=this.splitTextToSize(u,C):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(M,V){return M.concat(S.splitTextToSize(V,C))},[])):u=Array.isArray(u)?u:[u];for(var D=0;D<u.length;D++)m<(b=this.getStringUnitWidth(u[D],{font:p})*h)&&(m=b);return m!==0&&(x=u.length),{w:m/=g,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,m&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,h,p,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,x,b,S,C=[],D=[],M=[],V={},X={},$=[],N=[],A=(g=g||{}).autoSize||!1,T=g.printHeaders!==!1,F=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,O=g.margins||Object.assign({width:this.getPageWidth()},e),P=typeof g.padding=="number"?g.padding:3,j=g.headerBackgroundColor||"#c8c8c8",Y=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=Y,this.setFontSize(F),p==null)D=C=Object.keys(h[0]),M=C.map(function(){return"left"});else if(Array.isArray(p)&&ar(p[0])==="object")for(C=p.map(function(W){return W.name}),D=p.map(function(W){return W.prompt||W.name||""}),M=p.map(function(W){return W.align||"left"}),m=0;m<p.length;m+=1)X[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(D=C=p,M=C.map(function(){return"left"}));if(A||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<C.length;m+=1){for(V[S=C[m]]=h.map(function(W){return W[S]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(D[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=V[S],this.setFont(void 0,"normal"),b=0;b<x.length;b+=1)$.push(this.getTextDimensions(x[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[S]=Math.max.apply(null,$)+P+P,$=[]}if(T){var le={};for(m=0;m<C.length;m+=1)le[C[m]]={},le[C[m]].text=D[m],le[C[m]].align=M[m];var U=s.call(this,le,X);N=C.map(function(W){return new a(u,f,X[W],U,le[W].text,void 0,le[W].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var q=p.reduce(function(W,me){return W[me.name]=me.align,W},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var ie=s.call(this,h[m],X);for(b=0;b<C.length;b+=1){var ce=h[m][C[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:b,data:ce},this),o.call(this,new a(u,f,X[C[b]],ie,ce,m+2,q[C[b]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var s=function(u,f){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(m){var x=u[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,f[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+h+h},this).reduce(function(m,x){return Math.max(m,x)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(x)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}}(qt.API);var a8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},o8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fy=i8(o8),s8=[100,200,300,400,500,600,700,800,900],az=i8(s8);function jy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return a8[a=a||"normal"]?a:"normal"}(n.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(a){return typeof Fy[a=a||"normal"]=="number"?a:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function m4(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var oz={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},v4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function y4(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function sz(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},oz,t.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=jy(e[s])).family]&&(a.family=i[a.family]),n.hasOwnProperty(a.family)){o=n[a.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+y4(a)+"' and default family '"+r+"'.");if(o=function(u,f){if(f[u])return f[u];var h=Fy[u],p=h<=Fy.normal?-1:1,g=m4(f,o8,h,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+u);return g}(a.stretch,o),o=function(u,f){if(f[u])return f[u];for(var h=a8[u],p=0;p<h.length;++p)if(f[h[p]])return f[h[p]];throw new Error("Could not find a matching font-style for "+u)}(a.style,o),!(o=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var h=az[u],p=m4(f,s8,h,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+y4(a)+"'.");return o}function _4(n){return n.trimLeft()}function lz(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function uz(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Mp,x4,w4,Iv=["times"];(function(n){var e,t,r,i,a,o,s,u,f,h=function(H){return H=H||{},this.isStrokeTransparent=H.isStrokeTransparent||!1,this.strokeOpacity=H.strokeOpacity||1,this.strokeStyle=H.strokeStyle||"#000000",this.fillStyle=H.fillStyle||"#000000",this.isFillTransparent=H.isFillTransparent||!1,this.fillOpacity=H.fillOpacity||1,this.font=H.font||"10px sans-serif",this.textBaseline=H.textBaseline||"alphabetic",this.textAlign=H.textAlign||"left",this.lineWidth=H.lineWidth||1,this.lineJoin=H.lineJoin||"miter",this.lineCap=H.lineCap||"butt",this.path=H.path||[],this.transform=H.transform!==void 0?H.transform.clone():new u,this.globalCompositeOperation=H.globalCompositeOperation||"normal",this.globalAlpha=H.globalAlpha||1,this.clip_path=H.clip_path||[],this.currentPoint=H.currentPoint||new o,this.miterLimit=H.miterLimit||10,this.lastPoint=H.lastPoint||new o,this.lineDashOffset=H.lineDashOffset||0,this.lineDash=H.lineDash||[],this.margin=H.margin||[0,0,0,0],this.prevPageLastElemOffset=H.prevPageLastElemOffset||0,this.ignoreClearRect=typeof H.ignoreClearRect!="boolean"||H.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var p=function(H){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=H;Object.defineProperty(this,"pdf",{get:function(){return Q}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Be){ee=!!Be}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Be){ne=!!Be}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Be){isNaN(Be)||(de=Be)}});var Ee=0;Object.defineProperty(this,"posY",{get:function(){return Ee},set:function(Be){isNaN(Be)||(Ee=Be)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Be){var ge;typeof Be=="number"?ge=[Be,Be,Be,Be]:((ge=new Array(4))[0]=Be[0],ge[1]=Be.length>=2?Be[1]:ge[0],ge[2]=Be.length>=3?Be[2]:ge[0],ge[3]=Be.length>=4?Be[3]:ge[1]),f.margin=ge}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Be){be=Be}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(Be){Te=Be}});var Ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ge},set:function(Be){Ge=Be}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Be){Be instanceof h&&(f=Be)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Be){f.path=Be}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(Be){He=Be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Be){var ge;ge=g(Be),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Be){var ge=g(Be);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Be){["butt","round","square"].indexOf(Be)!==-1&&(this.ctx.lineCap=Be,this.pdf.setLineCap(Be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Be){isNaN(Be)||(this.ctx.lineWidth=Be,this.pdf.setLineWidth(Be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Be){["bevel","round","miter"].indexOf(Be)!==-1&&(this.ctx.lineJoin=Be,this.pdf.setLineJoin(Be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Be){isNaN(Be)||(this.ctx.miterLimit=Be,this.pdf.setMiterLimit(Be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Be){this.ctx.textBaseline=Be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Be){["right","end","center","left","start"].indexOf(Be)!==-1&&(this.ctx.textAlign=Be)}});var rt=null;function st(Be,ge){if(rt===null){var gt=function(lt){var Xe=[];return Object.keys(lt).forEach(function(it){lt[it].forEach(function(at){var ot=null;switch(at){case"bold":ot={family:it,weight:"bold"};break;case"italic":ot={family:it,style:"italic"};break;case"bolditalic":ot={family:it,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:it}}ot!==null&&(ot.ref={name:it,style:at},Xe.push(ot))})}),Xe}(Be.getFontList());rt=function(lt){for(var Xe={},it=0;it<lt.length;++it){var at=jy(lt[it]),ot=at.family,ct=at.stretch,mt=at.style,Nt=at.weight;Xe[ot]=Xe[ot]||{},Xe[ot][ct]=Xe[ot][ct]||{},Xe[ot][ct][mt]=Xe[ot][ct][mt]||{},Xe[ot][ct][mt][Nt]=at}return Xe}(gt.concat(ge))}return rt}var wt=null;Object.defineProperty(this,"fontFaces",{get:function(){return wt},set:function(Be){rt=null,wt=Be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Be){var ge;if(this.ctx.font=Be,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Be))!==null){var gt=ge[1];ge[2];var lt=ge[3],Xe=ge[4];ge[5];var it=ge[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(at==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var ot=function(_t){var Ot,ut,mn=[],Vt=_t.trim();if(Vt==="")return Iv;if(Vt in v4)return[v4[Vt]];for(;Vt!=="";){switch(ut=null,Ot=(Vt=_4(Vt)).charAt(0)){case'"':case"'":ut=lz(Vt.substring(1),Ot);break;default:ut=uz(Vt)}if(ut===null||(mn.push(ut[0]),(Vt=_4(ut[1]))!==""&&Vt.charAt(0)!==","))return Iv;Vt=Vt.replace(/^,/,"")}return mn}(it);if(this.fontFaces){var ct=sz(st(this.pdf,this.fontFaces),ot.map(function(_t){return{family:_t,stretch:"normal",weight:lt,style:gt}}));this.pdf.setFont(ct.ref.name,ct.ref.style)}else{var mt="";(lt==="bold"||parseInt(lt,10)>=700||gt==="bold")&&(mt="bold"),gt==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var Nt="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<ot.length;bt++){if(this.pdf.internal.getFont(ot[bt],mt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=ot[bt];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(ot[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=ot[bt],mt="bold";else if(this.pdf.internal.getFont(ot[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=ot[bt],mt="normal";break}}if(Nt===""){for(var Rt=0;Rt<ot.length;Rt++)if(xt[ot[Rt]]){Nt=xt[ot[Rt]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Be){this.ctx.globalCompositeOperation=Be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Be){this.ctx.globalAlpha=Be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Be){this.ctx.lineDashOffset=Be,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Be){this.ctx.lineDash=Be,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Be){this.ctx.ignoreClearRect=!!Be}})};p.prototype.setLineDash=function(H){this.lineDash=H},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){V.call(this,"fill",!1)},p.prototype.stroke=function(){V.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(H,Q){if(isNaN(H)||isNaN(Q))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(H,Q));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(H,Q)},p.prototype.closePath=function(){var H=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&ar(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){H=new o(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(H.x,H.y)},p.prototype.lineTo=function(H,Q){if(isNaN(H)||isNaN(Q))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(H,Q));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},p.prototype.quadraticCurveTo=function(H,Q,ee,ne){if(isNaN(ee)||isNaN(ne)||isNaN(H)||isNaN(Q))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(ee,ne)),Ee=this.ctx.transform.applyToPoint(new o(H,Q));this.path.push({type:"qct",x1:Ee.x,y1:Ee.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},p.prototype.bezierCurveTo=function(H,Q,ee,ne,de,Ee){if(isNaN(de)||isNaN(Ee)||isNaN(H)||isNaN(Q)||isNaN(ee)||isNaN(ne))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(de,Ee)),Te=this.ctx.transform.applyToPoint(new o(H,Q)),Ge=this.ctx.transform.applyToPoint(new o(ee,ne));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Ge.x,y2:Ge.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},p.prototype.arc=function(H,Q,ee,ne,de,Ee){if(isNaN(H)||isNaN(Q)||isNaN(ee)||isNaN(ne)||isNaN(de))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ee=!!Ee,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(H,Q));H=be.x,Q=be.y;var Te=this.ctx.transform.applyToPoint(new o(0,ee)),Ge=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(Te.x-Ge.x,2)+Math.pow(Te.y-Ge.y,2))}Math.abs(de-ne)>=2*Math.PI&&(ne=0,de=2*Math.PI),this.path.push({type:"arc",x:H,y:Q,radius:ee,startAngle:ne,endAngle:de,counterclockwise:Ee})},p.prototype.arcTo=function(H,Q,ee,ne,de){throw new Error("arcTo not implemented.")},p.prototype.rect=function(H,Q,ee,ne){if(isNaN(H)||isNaN(Q)||isNaN(ee)||isNaN(ne))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(H,Q),this.lineTo(H+ee,Q),this.lineTo(H+ee,Q+ne),this.lineTo(H,Q+ne),this.lineTo(H,Q),this.lineTo(H+ee,Q),this.lineTo(H,Q)},p.prototype.fillRect=function(H,Q,ee,ne){if(isNaN(H)||isNaN(Q)||isNaN(ee)||isNaN(ne))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(H,Q,ee,ne),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},p.prototype.strokeRect=function(H,Q,ee,ne){if(isNaN(H)||isNaN(Q)||isNaN(ee)||isNaN(ne))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(H,Q,ee,ne),this.stroke())},p.prototype.clearRect=function(H,Q,ee,ne){if(isNaN(H)||isNaN(Q)||isNaN(ee)||isNaN(ne))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(H,Q,ee,ne))},p.prototype.save=function(H){H=typeof H!="boolean"||H;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),H){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},p.prototype.restore=function(H){H=typeof H!="boolean"||H;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),H&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(H){var Q,ee,ne,de;if(H.isCanvasGradient===!0&&(H=H.getColor()),!H)return{r:0,g:0,b:0,a:0,style:H};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(H))Q=0,ee=0,ne=0,de=0;else{var Ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(H);if(Ee!==null)Q=parseInt(Ee[1]),ee=parseInt(Ee[2]),ne=parseInt(Ee[3]),de=1;else if((Ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(H))!==null)Q=parseInt(Ee[1]),ee=parseInt(Ee[2]),ne=parseInt(Ee[3]),de=parseFloat(Ee[4]);else{if(de=1,typeof H=="string"&&H.charAt(0)!=="#"){var be=new ZS(H);H=be.ok?be.toHex():"#000000"}H.length===4?(Q=H.substring(1,2),Q+=Q,ee=H.substring(2,3),ee+=ee,ne=H.substring(3,4),ne+=ne):(Q=H.substring(1,3),ee=H.substring(3,5),ne=H.substring(5,7)),Q=parseInt(Q,16),ee=parseInt(ee,16),ne=parseInt(ne,16)}}return{r:Q,g:ee,b:ne,a:de,style:H}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(H,Q,ee,ne){if(isNaN(Q)||isNaN(ee)||typeof H!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!m.call(this)){var de=ie(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;P.call(this,{text:H,x:Q,y:ee,scale:Ee,angle:de,align:this.textAlign,maxWidth:ne})}},p.prototype.strokeText=function(H,Q,ee,ne){if(isNaN(Q)||isNaN(ee)||typeof H!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ne=isNaN(ne)?void 0:ne;var de=ie(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;P.call(this,{text:H,x:Q,y:ee,scale:Ee,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ne})}},p.prototype.measureText=function(H){if(typeof H!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,ee=this.pdf.internal.scaleFactor,ne=Q.internal.getFontSize(),de=Q.getStringUnitWidth(H)*ne/Q.internal.scaleFactor,Ee=function(be){var Te=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this};return new Ee({width:de*=Math.round(96*ee/72*1e4)/1e4})},p.prototype.scale=function(H,Q){if(isNaN(H)||isNaN(Q))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new u(H,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},p.prototype.rotate=function(H){if(isNaN(H))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new u(Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},p.prototype.translate=function(H,Q){if(isNaN(H)||isNaN(Q))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new u(1,0,0,1,H,Q);this.ctx.transform=this.ctx.transform.multiply(ee)},p.prototype.transform=function(H,Q,ee,ne,de,Ee){if(isNaN(H)||isNaN(Q)||isNaN(ee)||isNaN(ne)||isNaN(de)||isNaN(Ee))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new u(H,Q,ee,ne,de,Ee);this.ctx.transform=this.ctx.transform.multiply(be)},p.prototype.setTransform=function(H,Q,ee,ne,de,Ee){H=isNaN(H)?1:H,Q=isNaN(Q)?0:Q,ee=isNaN(ee)?0:ee,ne=isNaN(ne)?1:ne,de=isNaN(de)?0:de,Ee=isNaN(Ee)?0:Ee,this.ctx.transform=new u(H,Q,ee,ne,de,Ee)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(H,Q,ee,ne,de,Ee,be,Te,Ge){var He=this.pdf.getImageProperties(H),rt=1,st=1,wt=1,Be=1;ne!==void 0&&Te!==void 0&&(wt=Te/ne,Be=Ge/de,rt=He.width/ne*Te/ne,st=He.height/de*Ge/de),Ee===void 0&&(Ee=Q,be=ee,Q=0,ee=0),ne!==void 0&&Te===void 0&&(Te=ne,Ge=de),ne===void 0&&Te===void 0&&(Te=He.width,Ge=He.height);for(var ge,gt=this.ctx.transform.decompose(),lt=ie(gt.rotate.shx),Xe=new u,it=(Xe=(Xe=(Xe=Xe.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new s(Ee-Q*wt,be-ee*Be,ne*rt,de*st)),at=S.call(this,it),ot=[],ct=0;ct<at.length;ct+=1)ot.indexOf(at[ct])===-1&&ot.push(at[ct]);if(M(ot),this.autoPaging)for(var mt=ot[0],Nt=ot[ot.length-1],xt=mt;xt<Nt+1;xt++){this.pdf.setPage(xt);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=xt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=xt===1?0:_t+(xt-2)*Ot;if(this.ctx.clip_path.length!==0){var mn=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ge,this.posX+this.margin[3],-ut+Rt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=mn}var Vt=JSON.parse(JSON.stringify(it));Vt=D([Vt],this.posX+this.margin[3],-ut+Rt+this.ctx.prevPageLastElemOffset)[0];var Xn=(xt>mt||xt<Nt)&&b.call(this);Xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ot,null).clip().discardPath()),this.pdf.addImage(H,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,lt),Xn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(H,"JPEG",it.x,it.y,it.w,it.h,null,null,lt)};var S=function(H,Q,ee){var ne=[];Q=Q||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(H.type){default:case"mt":case"lt":ne.push(Math.floor((H.y+de)/ee)+1);break;case"arc":ne.push(Math.floor((H.y+de-H.radius)/ee)+1),ne.push(Math.floor((H.y+de+H.radius)/ee)+1);break;case"qct":var Ee=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x,H.y);ne.push(Math.floor((Ee.y+de)/ee)+1),ne.push(Math.floor((Ee.y+Ee.h+de)/ee)+1);break;case"bct":var be=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x2,H.y2,H.x,H.y);ne.push(Math.floor((be.y+de)/ee)+1),ne.push(Math.floor((be.y+be.h+de)/ee)+1);break;case"rect":ne.push(Math.floor((H.y+de)/ee)+1),ne.push(Math.floor((H.y+H.h+de)/ee)+1)}for(var Te=0;Te<ne.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Te];)C.call(this);return ne},C=function(){var H=this.fillStyle,Q=this.strokeStyle,ee=this.font,ne=this.lineCap,de=this.lineWidth,Ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=H,this.strokeStyle=Q,this.font=ee,this.lineCap=ne,this.lineWidth=de,this.lineJoin=Ee},D=function(H,Q,ee){for(var ne=0;ne<H.length;ne++)switch(H[ne].type){case"bct":H[ne].x2+=Q,H[ne].y2+=ee;case"qct":H[ne].x1+=Q,H[ne].y1+=ee;case"mt":case"lt":case"arc":default:H[ne].x+=Q,H[ne].y+=ee}return H},M=function(H){return H.sort(function(Q,ee){return Q-ee})},V=function(H,Q){for(var ee,ne,de=this.fillStyle,Ee=this.strokeStyle,be=this.lineCap,Te=this.lineWidth,Ge=Math.abs(Te*this.ctx.transform.scaleX),He=this.lineJoin,rt=JSON.parse(JSON.stringify(this.path)),st=JSON.parse(JSON.stringify(this.path)),wt=[],Be=0;Be<st.length;Be++)if(st[Be].x!==void 0)for(var ge=S.call(this,st[Be]),gt=0;gt<ge.length;gt+=1)wt.indexOf(ge[gt])===-1&&wt.push(ge[gt]);for(var lt=0;lt<wt.length;lt++)for(;this.pdf.internal.getNumberOfPages()<wt[lt];)C.call(this);if(M(wt),this.autoPaging)for(var Xe=wt[0],it=wt[wt.length-1],at=Xe;at<it+1;at++){this.pdf.setPage(at),this.fillStyle=de,this.strokeStyle=Ee,this.lineCap=be,this.lineWidth=Ge,this.lineJoin=He;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=at===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=at===1?0:mt+(at-2)*Nt;if(this.ctx.clip_path.length!==0){var bt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ee,this.posX+this.margin[3],-xt+ct+this.ctx.prevPageLastElemOffset),X.call(this,H,!0),this.path=bt}if(ne=JSON.parse(JSON.stringify(rt)),this.path=D(ne,this.posX+this.margin[3],-xt+ct+this.ctx.prevPageLastElemOffset),Q===!1||at===0){var Rt=(at>Xe||at<it)&&b.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Nt,null).clip().discardPath()),X.call(this,H,Q),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=Ge,X.call(this,H,Q),this.lineWidth=Te;this.path=rt},X=function(H,Q){if((H!=="stroke"||Q||!x.call(this))&&(H==="stroke"||Q||!m.call(this))){for(var ee,ne,de=[],Ee=this.path,be=0;be<Ee.length;be++){var Te=Ee[be];switch(Te.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Te,deltas:[],abs:[]});break;case"lt":var Ge=de.length;if(Ee[be-1]&&!isNaN(Ee[be-1].x)&&(ee=[Te.x-Ee[be-1].x,Te.y-Ee[be-1].y],Ge>0)){for(;Ge>=0;Ge--)if(de[Ge-1].close!==!0&&de[Ge-1].begin!==!0){de[Ge-1].deltas.push(ee),de[Ge-1].abs.push(Te);break}}break;case"bct":ee=[Te.x1-Ee[be-1].x,Te.y1-Ee[be-1].y,Te.x2-Ee[be-1].x,Te.y2-Ee[be-1].y,Te.x-Ee[be-1].x,Te.y-Ee[be-1].y],de[de.length-1].deltas.push(ee);break;case"qct":var He=Ee[be-1].x+2/3*(Te.x1-Ee[be-1].x),rt=Ee[be-1].y+2/3*(Te.y1-Ee[be-1].y),st=Te.x+2/3*(Te.x1-Te.x),wt=Te.y+2/3*(Te.y1-Te.y),Be=Te.x,ge=Te.y;ee=[He-Ee[be-1].x,rt-Ee[be-1].y,st-Ee[be-1].x,wt-Ee[be-1].y,Be-Ee[be-1].x,ge-Ee[be-1].y],de[de.length-1].deltas.push(ee);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Te)}}ne=Q?null:H==="stroke"?"stroke":"fill";for(var gt=!1,lt=0;lt<de.length;lt++)if(de[lt].arc)for(var Xe=de[lt].abs,it=0;it<Xe.length;it++){var at=Xe[it];at.type==="arc"?A.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,Q,!gt):j.call(this,at.x,at.y),gt=!0}else if(de[lt].close===!0)this.pdf.internal.out("h"),gt=!1;else if(de[lt].begin!==!0){var ot=de[lt].start.x,ct=de[lt].start.y;Y.call(this,de[lt].deltas,ot,ct),gt=!0}ne&&T.call(this,ne),Q&&F.call(this)}},$=function(H){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return H-ee;case"top":return H+Q-ee;case"hanging":return H+Q-2*ee;case"middle":return H+Q/2-ee;case"ideographic":return H;case"alphabetic":default:return H}},N=function(H){return H+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var H=function(){};return H.colorStops=[],H.addColorStop=function(Q,ee){this.colorStops.push([Q,ee])},H.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},H.isCanvasGradient=!0,H},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(H,Q,ee,ne,de,Ee,be,Te,Ge){for(var He=U.call(this,ee,ne,de,Ee),rt=0;rt<He.length;rt++){var st=He[rt];rt===0&&(Ge?O.call(this,st.x1+H,st.y1+Q):j.call(this,st.x1+H,st.y1+Q)),le.call(this,H,Q,st.x2,st.y2,st.x3,st.y3,st.x4,st.y4)}Te?F.call(this):T.call(this,be)},T=function(H){switch(H){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(H,Q){this.pdf.internal.out(t(H)+" "+r(Q)+" m")},P=function(H){var Q;switch(H.align){case"right":case"end":Q="right";break;case"center":Q="center";break;case"left":case"start":default:Q="left"}var ee=this.pdf.getTextDimensions(H.text),ne=$.call(this,H.y),de=N.call(this,ne)-ee.h,Ee=this.ctx.transform.applyToPoint(new o(H.x,ne)),be=this.ctx.transform.decompose(),Te=new u;Te=(Te=(Te=Te.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Ge,He,rt,st=this.ctx.transform.applyToRectangle(new s(H.x,ne,ee.w,ee.h)),wt=Te.applyToRectangle(new s(H.x,de,ee.w,ee.h)),Be=S.call(this,wt),ge=[],gt=0;gt<Be.length;gt+=1)ge.indexOf(Be[gt])===-1&&ge.push(Be[gt]);if(M(ge),this.autoPaging)for(var lt=ge[0],Xe=ge[ge.length-1],it=lt;it<Xe+1;it++){this.pdf.setPage(it);var at=it===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[2],mt=ct-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],xt=Nt-this.margin[3],bt=it===1?0:ot+(it-2)*mt;if(this.ctx.clip_path.length!==0){var Rt=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ge,this.posX+this.margin[3],-1*bt+at),X.call(this,"fill",!0),this.path=Rt}var _t=D([JSON.parse(JSON.stringify(wt))],this.posX+this.margin[3],-bt+at+this.ctx.prevPageLastElemOffset)[0];H.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*H.scale),rt=this.lineWidth,this.lineWidth=rt*H.scale);var Ot=this.autoPaging!=="text";if(Ot||_t.y+_t.h<=ct){if(Ot||_t.y>=at&&_t.x<=Nt){var ut=Ot?H.text:this.pdf.splitTextToSize(H.text,H.maxWidth||Nt-_t.x)[0],mn=D([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-bt+at+this.ctx.prevPageLastElemOffset)[0],Vt=Ot&&(it>lt||it<Xe)&&b.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,mt,null).clip().discardPath()),this.pdf.text(ut,mn.x,mn.y,{angle:H.angle,align:Q,renderingMode:H.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else _t.y<ct&&(this.ctx.prevPageLastElemOffset+=ct-_t.y);H.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=rt)}else H.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*H.scale),rt=this.lineWidth,this.lineWidth=rt*H.scale),this.pdf.text(H.text,Ee.x+this.posX,Ee.y+this.posY,{angle:H.angle,align:Q,renderingMode:H.renderingMode,maxWidth:H.maxWidth}),H.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=rt)},j=function(H,Q,ee,ne){ee=ee||0,ne=ne||0,this.pdf.internal.out(t(H+ee)+" "+r(Q+ne)+" l")},Y=function(H,Q,ee){return this.pdf.lines(H,Q,ee,null,null)},le=function(H,Q,ee,ne,de,Ee,be,Te){this.pdf.internal.out([e(i(ee+H)),e(a(ne+Q)),e(i(de+H)),e(a(Ee+Q)),e(i(be+H)),e(a(Te+Q)),"c"].join(" "))},U=function(H,Q,ee,ne){for(var de=2*Math.PI,Ee=Math.PI/2;Q>ee;)Q-=de;var be=Math.abs(ee-Q);be<de&&ne&&(be=de-be);for(var Te=[],Ge=ne?-1:1,He=Q;be>1e-5;){var rt=He+Ge*Math.min(be,Ee);Te.push(q.call(this,H,He,rt)),be-=Math.abs(rt-He),He=rt}return Te},q=function(H,Q,ee){var ne=(ee-Q)/2,de=H*Math.cos(ne),Ee=H*Math.sin(ne),be=de,Te=-Ee,Ge=be*be+Te*Te,He=Ge+be*de+Te*Ee,rt=4/3*(Math.sqrt(2*Ge*He)-He)/(be*Ee-Te*de),st=be-rt*Te,wt=Te+rt*be,Be=st,ge=-wt,gt=ne+Q,lt=Math.cos(gt),Xe=Math.sin(gt);return{x1:H*Math.cos(Q),y1:H*Math.sin(Q),x2:st*lt-wt*Xe,y2:st*Xe+wt*lt,x3:Be*lt-ge*Xe,y3:Be*Xe+ge*lt,x4:H*Math.cos(ee),y4:H*Math.sin(ee)}},ie=function(H){return 180*H/Math.PI},ce=function(H,Q,ee,ne,de,Ee){var be=H+.5*(ee-H),Te=Q+.5*(ne-Q),Ge=de+.5*(ee-de),He=Ee+.5*(ne-Ee),rt=Math.min(H,de,be,Ge),st=Math.max(H,de,be,Ge),wt=Math.min(Q,Ee,Te,He),Be=Math.max(Q,Ee,Te,He);return new s(rt,wt,st-rt,Be-wt)},W=function(H,Q,ee,ne,de,Ee,be,Te){var Ge,He,rt,st,wt,Be,ge,gt,lt,Xe,it,at,ot,ct,mt=ee-H,Nt=ne-Q,xt=de-ee,bt=Ee-ne,Rt=be-de,_t=Te-Ee;for(He=0;He<41;He++)lt=(ge=(rt=H+(Ge=He/40)*mt)+Ge*((wt=ee+Ge*xt)-rt))+Ge*(wt+Ge*(de+Ge*Rt-wt)-ge),Xe=(gt=(st=Q+Ge*Nt)+Ge*((Be=ne+Ge*bt)-st))+Ge*(Be+Ge*(Ee+Ge*_t-Be)-gt),He==0?(it=lt,at=Xe,ot=lt,ct=Xe):(it=Math.min(it,lt),at=Math.min(at,Xe),ot=Math.max(ot,lt),ct=Math.max(ct,Xe));return new s(Math.round(it),Math.round(at),Math.round(ot-it),Math.round(ct-at))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H,Q,ee=(H=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:H,lineDashOffset:Q}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(qt.API),function(n){var e=function(a){var o,s,u,f,h,p,g,m,x,b;for(s=[],u=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(b=h%85))/85)-(x=h%85))/85)-(m=h%85))/85)-(g=h%85))/85)%85,s.push(p+33,g+33,m+33,x+33,b+33)):s.push(122);return function(S,C){for(var D=C;D>0;D--)S.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},t=function(a){var o,s,u,f,h,p=String,g="length",m=255,x="charCodeAt",b="slice",S="replace";for(a[b](-2),a=a[b](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),u=[],f=0,h=(a+=o="uuuuu"[b](a[g]%5||5))[g];h>f;f+=5)s=52200625*(a[x](f)-33)+614125*(a[x](f+1)-33)+7225*(a[x](f+2)-33)+85*(a[x](f+3)-33)+(a[x](f+4)-33),u.push(m&s>>24,m&s>>16,m&s>>8,m&s);return function(C,D){for(var M=D;M>0;M--)C.pop()}(u,o[g]),p.fromCharCode.apply(p,u)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",u=0;u<a.length;u+=2)s+=String.fromCharCode("0x"+(a[u]+a[u+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=Py(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};n.processDataByFilters=function(a,o){var s=0,u=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(qt.API),function(n){n.loadFile=function(e,t,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(u,f,h){var p=new XMLHttpRequest,g=0,m=function(x){var b=x.length,S=[],C=String.fromCharCode;for(g=0;g<b;g+=1)S.push(C(255&x.charCodeAt(g)));return S.join("")};if(p.open("GET",u,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?h(m(this.responseText)):h(void 0)}),p.send(null),f&&p.status===200)return m(p.responseText)}(i,a,o)}catch{}return s}(e,t,r)},n.loadImageFile=n.loadFile}(qt.API),function(n){function e(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):Iy(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):Iy(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=ar(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var u=document.createElement(o);for(var f in s.className&&(u.className=s.className),s.innerHTML&&s.dompurify&&(u.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)u.style[f]=s.style[f];return u},a=function o(s){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function u(f,h){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),g=f.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(u(g,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,s(this.prop.container,u)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var m=f[g],x=m.src.find(function(b){return b.format==="truetype"});x&&u.addFont(x.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),s(this.prop.container,p)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,u,f){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,u,f){return this.setProgress(o?this.progress.val+o:null,s||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,s){var u=this;return this.thenCore(o,s,function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,f),p}).then(f,h).then(function(p){return u.updateProgress(1),p})})},a.prototype.thenCore=function(o,s,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=u.call(f,o,s);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(u){s=s.thenCore(u)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,qt.getPageSize=function(o,s,u){if(ar(o)==="object"){var f=o;o=f.orientation,s=f.unit||s,u=f.format||u}s=s||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+s}var m,x=0,b=0;if(g.hasOwnProperty(p))x=g[p][1]/h,b=g[p][0]/h;else try{x=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",b>x&&(m=b,b=x,x=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>b&&(m=b,b=x,x=m)}return{width:b,height:x,unit:s,k:h,orientation:o}},n.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(jy):null;var u=new a(s);return s.worker?u:u.from(o).doCallback()}}(qt.API),qt.API.addJS=function(n){return w4=n,this.internal.events.subscribe("postPutResources",function(){Mp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Mp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Mp!==void 0&&x4!==void 0&&this.internal.out("/Names <</JavaScript "+Mp+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var u=s[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(a=0;a<f;a++){var p=t.internal.newObject();h.push(p);var g=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<h.length;a++)t.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(qt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,a,o,s){var u,f=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,b={width:0,height:0,numcomponents:1},S=4;S<x;S+=2){if(S+=m,e.indexOf(p.charCodeAt(S+1))!==-1){g=256*p.charCodeAt(S+5)+p.charCodeAt(S+6),b={width:256*p.charCodeAt(S+7)+p.charCodeAt(S+8),height:g,numcomponents:p.charCodeAt(S+9)};break}m=256*p.charCodeAt(S+2)+p.charCodeAt(S+3)}return b}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}h={data:t,width:u.width,height:u.height,colorSpace:s,bitsPerComponent:8,filter:f,index:r,alias:i}}return h}}(qt.API);var Wh,Bp,b4,A4,E4,cz=function(){var n,e,t;function r(a){var o,s,u,f,h,p,g,m,x,b,S,C,D,M;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),x=(function(){var V,X;for(X=[],V=0;V<4;++V)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,p.delay=1e3*h/f,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),a=(p!=null?p.data:void 0)||this.imgData,C=0;0<=o?C<o:C>o;0<=o?++C:--C)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((b=u-this.transparency.indexed.length)>0)for(D=0;0<=b?D<b:D>b;0<=b?++D:--D)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(S=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,S.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,S.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(M=this.colorType)===4||M===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),u=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(p,g,m,x){var b,S,C,D,M,V,X,$,N,A,T,F,O,P,j,Y,le,U,q,ie,ce,W=Math.ceil((f.width-p)/m),me=Math.ceil((f.height-g)/x),H=f.width==W&&f.height==me;for(P=o*W,F=H?s:new Uint8Array(P*me),V=a.length,O=0,S=0;O<me&&u<V;){switch(a[u++]){case 0:for(D=le=0;le<P;D=le+=1)F[S++]=a[u++];break;case 1:for(D=U=0;U<P;D=U+=1)b=a[u++],M=D<o?0:F[S-o],F[S++]=(b+M)%256;break;case 2:for(D=q=0;q<P;D=q+=1)b=a[u++],C=(D-D%o)/o,j=O&&F[(O-1)*P+C*o+D%o],F[S++]=(j+b)%256;break;case 3:for(D=ie=0;ie<P;D=ie+=1)b=a[u++],C=(D-D%o)/o,M=D<o?0:F[S-o],j=O&&F[(O-1)*P+C*o+D%o],F[S++]=(b+Math.floor((M+j)/2))%256;break;case 4:for(D=ce=0;ce<P;D=ce+=1)b=a[u++],C=(D-D%o)/o,M=D<o?0:F[S-o],O===0?j=Y=0:(j=F[(O-1)*P+C*o+D%o],Y=C&&F[(O-1)*P+(C-1)*o+D%o]),X=M+j-Y,$=Math.abs(X-M),A=Math.abs(X-j),T=Math.abs(X-Y),N=$<=A&&$<=T?M:A<=T?j:Y,F[S++]=(b+N)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!H){var Q=((g+O*x)*f.width+p)*o,ee=O*P;for(D=0;D<W;D+=1){for(var ne=0;ne<o;ne+=1)s[Q++]=F[ee++];Q+=(m-1)*o}}O++}}return a=zV(a),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,u,f,h,p,g,m;for(s=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+s.length),u=0,a=0,o=p=0,g=s.length;p<g;o=p+=3)f[u++]=s[o],f[u++]=s[o+1],f[u++]=s[o+2],f[u++]=(m=h[a++])!=null?m:255;return f},r.prototype.copyToImageData=function(a,o){var s,u,f,h,p,g,m,x,b,S,C;if(u=this.colors,b=null,s=this.hasAlphaChannel,this.palette.length&&(b=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),u=4,s=!0),x=(f=a.data||a).length,p=b||o,h=g=0,u===1)for(;h<x;)m=b?4*o[h/4]:g,S=p[m++],f[h++]=S,f[h++]=S,f[h++]=S,f[h++]=s?p[m++]:255,g=m;else for(;h<x;)m=b?4*o[h/4]:g,f[h++]=p[m++],f[h++]=p[m++],f[h++]=p[m++],f[h++]=s?p[m++]:255,g=m},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Gt)==="[object Window]"){try{e=Gt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(a){var o;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,u,f,h,p,g,m;if(this.animation){for(m=[],s=h=0,p=(g=this.animation.frames).length;h<p;s=++h)o=g[s],u=a.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,m.push(o.image=n(u));return m}},r.prototype.renderFrame=function(a,o){var s,u,f;return s=(u=this.animation.frames)[o],f=u[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,u,f,h,p,g=this;return s=0,p=this.animation,f=p.numFrames,u=p.frames,h=p.numPlays,(o=function(){var m,x;if(m=s++%f,x=u[m],g.renderFrame(a,m),f>1&&s/f<h)return g.animation._timeout=setTimeout(o,x.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function fz(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],a=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var s=null,u=null;a&&(s=e,u=o,e+=3*o);var f=!0,h=[],p=0,g=null,m=0,x=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,x=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=n[e++];p=n[e++]|n[e++]<<8,g=n[e++],(1&b)==0&&(g=null),m=b>>2&7,e++;break;case 254:for(;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var S=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,D=n[e++]|n[e++]<<8,M=n[e++]|n[e++]<<8,V=n[e++],X=V>>6&1,$=1<<(7&V)+1,N=s,A=u,T=!1;V>>7&&(T=!0,N=e,A=$,e+=3*$);var F=e;for(e++;;){var O;if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}h.push({x:S,y:C,width:D,height:M,has_local_palette:T,palette_offset:N,palette_size:A,data_offset:F,data_length:e-F,transparent_index:g,interlaced:!!X,delay:p,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(P){if(P<0||P>=h.length)throw new Error("Frame index out of range.");return h[P]},this.decodeAndBlitFrameBGRA=function(P,j){var Y=this.frameInfo(P),le=Y.width*Y.height,U=new Uint8Array(le);S4(n,Y.data_offset,U,le);var q=Y.palette_offset,ie=Y.transparent_index;ie===null&&(ie=256);var ce=Y.width,W=t-ce,me=ce,H=4*(Y.y*t+Y.x),Q=4*((Y.y+Y.height)*t+Y.x),ee=H,ne=4*W;Y.interlaced===!0&&(ne+=4*t*7);for(var de=8,Ee=0,be=U.length;Ee<be;++Ee){var Te=U[Ee];if(me===0&&(me=ce,(ee+=ne)>=Q&&(ne=4*W+4*t*(de-1),ee=H+(ce+W)*(de<<1),de>>=1)),Te===ie)ee+=4;else{var Ge=n[q+3*Te],He=n[q+3*Te+1],rt=n[q+3*Te+2];j[ee++]=rt,j[ee++]=He,j[ee++]=Ge,j[ee++]=255}--me}},this.decodeAndBlitFrameRGBA=function(P,j){var Y=this.frameInfo(P),le=Y.width*Y.height,U=new Uint8Array(le);S4(n,Y.data_offset,U,le);var q=Y.palette_offset,ie=Y.transparent_index;ie===null&&(ie=256);var ce=Y.width,W=t-ce,me=ce,H=4*(Y.y*t+Y.x),Q=4*((Y.y+Y.height)*t+Y.x),ee=H,ne=4*W;Y.interlaced===!0&&(ne+=4*t*7);for(var de=8,Ee=0,be=U.length;Ee<be;++Ee){var Te=U[Ee];if(me===0&&(me=ce,(ee+=ne)>=Q&&(ne=4*W+4*t*(de-1),ee=H+(ce+W)*(de<<1),de>>=1)),Te===ie)ee+=4;else{var Ge=n[q+3*Te],He=n[q+3*Te+1],rt=n[q+3*Te+2];j[ee++]=Ge,j[ee++]=He,j[ee++]=rt,j[ee++]=255}--me}}}function S4(n,e,t,r){for(var i=n[e++],a=1<<i,o=a+1,s=o+1,u=i+1,f=(1<<u)-1,h=0,p=0,g=0,m=n[e++],x=new Int32Array(4096),b=null;;){for(;h<16&&m!==0;)p|=n[e++]<<h,h+=8,m===1?m=n[e++]:--m;if(h<u)break;var S=p&f;if(p>>=u,h-=u,S!==a){if(S===o)break;for(var C=S<s?S:b,D=0,M=C;M>a;)M=x[M]>>8,++D;var V=M;if(g+D+(C!==S?1:0)>r)return void mr.log("Warning, gif stream longer than expected.");t[g++]=V;var X=g+=D;for(C!==S&&(t[g++]=V),M=C;D--;)M=x[M],t[--X]=255&M,M>>=8;b!==null&&s<4096&&(x[s++]=b<<8|V,s>=f+1&&u<12&&(++u,f=f<<1|1)),b=S}else s=o+1,f=(1<<(u=i+1))-1,b=null}return g!==r&&mr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Nv(n){var e,t,r,i,a,o=Math.floor,s=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),x=new Array(64),b=[],S=0,C=7,D=new Array(64),M=new Array(64),V=new Array(64),X=new Array(256),$=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(H,Q){for(var ee=0,ne=0,de=new Array,Ee=1;Ee<=16;Ee++){for(var be=1;be<=H[Ee];be++)de[Q[ne]]=[],de[Q[ne]][0]=ee,de[Q[ne]][1]=Ee,ne++,ee++;ee*=2}return de}function q(H){for(var Q=H[0],ee=H[1]-1;ee>=0;)Q&1<<ee&&(S|=1<<C),ee--,--C<0&&(S==255?(ie(255),ie(0)):ie(S),C=7,S=0)}function ie(H){b.push(H)}function ce(H){ie(H>>8&255),ie(255&H)}function W(H,Q,ee,ne,de){for(var Ee,be=de[0],Te=de[240],Ge=function(Xe,it){var at,ot,ct,mt,Nt,xt,bt,Rt,_t,Ot,ut=0;for(_t=0;_t<8;++_t){at=Xe[ut],ot=Xe[ut+1],ct=Xe[ut+2],mt=Xe[ut+3],Nt=Xe[ut+4],xt=Xe[ut+5],bt=Xe[ut+6];var mn=at+(Rt=Xe[ut+7]),Vt=at-Rt,Xn=ot+bt,Yt=ot-bt,An=ct+xt,di=ct-xt,an=mt+Nt,ha=mt-Nt,Cn=mn+an,Lr=mn-an,or=Xn+An,vn=Xn-An;Xe[ut]=Cn+or,Xe[ut+4]=Cn-or;var Tt=.707106781*(vn+Lr);Xe[ut+2]=Lr+Tt,Xe[ut+6]=Lr-Tt;var tn=.382683433*((Cn=ha+di)-(vn=Yt+Vt)),bi=.5411961*Cn+tn,kn=1.306562965*vn+tn,dr=.707106781*(or=di+Yt),Fa=Vt+dr,vt=Vt-dr;Xe[ut+5]=vt+bi,Xe[ut+3]=vt-bi,Xe[ut+1]=Fa+kn,Xe[ut+7]=Fa-kn,ut+=8}for(ut=0,_t=0;_t<8;++_t){at=Xe[ut],ot=Xe[ut+8],ct=Xe[ut+16],mt=Xe[ut+24],Nt=Xe[ut+32],xt=Xe[ut+40],bt=Xe[ut+48];var Hn=at+(Rt=Xe[ut+56]),Gn=at-Rt,pr=ot+bt,wr=ot-bt,Tr=ct+xt,qr=ct-xt,As=mt+Nt,Zi=mt-Nt,pi=Hn+As,Jr=Hn-As,Hr=pr+Tr,ei=pr-Tr;Xe[ut]=pi+Hr,Xe[ut+32]=pi-Hr;var sr=.707106781*(ei+Jr);Xe[ut+16]=Jr+sr,Xe[ut+48]=Jr-sr;var Mn=.382683433*((pi=Zi+qr)-(ei=wr+Gn)),Ao=.5411961*pi+Mn,Eo=1.306562965*ei+Mn,Bi=.707106781*(Hr=qr+wr),da=Gn+Bi,Es=Gn-Bi;Xe[ut+40]=Es+Ao,Xe[ut+24]=Es-Ao,Xe[ut+8]=da+Eo,Xe[ut+56]=da-Eo,ut++}for(_t=0;_t<64;++_t)Ot=Xe[_t]*it[_t],m[_t]=Ot>0?Ot+.5|0:Ot-.5|0;return m}(H,Q),He=0;He<64;++He)x[N[He]]=Ge[He];var rt=x[0]-ee;ee=x[0],rt==0?q(ne[0]):(q(ne[g[Ee=32767+rt]]),q(p[Ee]));for(var st=63;st>0&&x[st]==0;)st--;if(st==0)return q(be),ee;for(var wt,Be=1;Be<=st;){for(var ge=Be;x[Be]==0&&Be<=st;)++Be;var gt=Be-ge;if(gt>=16){wt=gt>>4;for(var lt=1;lt<=wt;++lt)q(Te);gt&=15}Ee=32767+x[Be],q(de[(gt<<4)+g[Ee]]),q(p[Ee]),Be++}return st!=63&&q(be),ee}function me(H){H=Math.min(Math.max(H,1),100),a!=H&&(function(Q){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var de=o((ee[ne]*Q+50)/100);de=Math.min(Math.max(de,1),255),s[N[ne]]=de}for(var Ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var Te=o((Ee[be]*Q+50)/100);Te=Math.min(Math.max(Te,1),255),u[N[be]]=Te}for(var Ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,rt=0;rt<8;rt++)for(var st=0;st<8;st++)f[He]=1/(s[N[He]]*Ge[rt]*Ge[st]*8),h[He]=1/(u[N[He]]*Ge[rt]*Ge[st]*8),He++}(H<50?Math.floor(5e3/H):Math.floor(200-2*H)),a=H)}this.encode=function(H,Q){Q&&me(Q),b=new Array,S=0,C=7,ce(65496),ce(65504),ce(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ce(1),ce(1),ie(0),ie(0),function(){ce(65499),ce(132),ie(0);for(var ot=0;ot<64;ot++)ie(s[ot]);ie(1);for(var ct=0;ct<64;ct++)ie(u[ct])}(),function(ot,ct){ce(65472),ce(17),ie(8),ce(ct),ce(ot),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(H.width,H.height),function(){ce(65476),ce(418),ie(0);for(var ot=0;ot<16;ot++)ie(A[ot+1]);for(var ct=0;ct<=11;ct++)ie(T[ct]);ie(16);for(var mt=0;mt<16;mt++)ie(F[mt+1]);for(var Nt=0;Nt<=161;Nt++)ie(O[Nt]);ie(1);for(var xt=0;xt<16;xt++)ie(P[xt+1]);for(var bt=0;bt<=11;bt++)ie(j[bt]);ie(17);for(var Rt=0;Rt<16;Rt++)ie(Y[Rt+1]);for(var _t=0;_t<=161;_t++)ie(le[_t])}(),ce(65498),ce(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var ee=0,ne=0,de=0;S=0,C=7,this.encode.displayName="_encode_";for(var Ee,be,Te,Ge,He,rt,st,wt,Be,ge=H.data,gt=H.width,lt=H.height,Xe=4*gt,it=0;it<lt;){for(Ee=0;Ee<Xe;){for(He=Xe*it+Ee,st=-1,wt=0,Be=0;Be<64;Be++)rt=He+(wt=Be>>3)*Xe+(st=4*(7&Be)),it+wt>=lt&&(rt-=Xe*(it+1+wt-lt)),Ee+st>=Xe&&(rt-=Ee+st-Xe+4),be=ge[rt++],Te=ge[rt++],Ge=ge[rt++],D[Be]=($[be]+$[Te+256>>0]+$[Ge+512>>0]>>16)-128,M[Be]=($[be+768>>0]+$[Te+1024>>0]+$[Ge+1280>>0]>>16)-128,V[Be]=($[be+1280>>0]+$[Te+1536>>0]+$[Ge+1792>>0]>>16)-128;ee=W(D,f,ee,e,r),ne=W(M,h,ne,t,i),de=W(V,h,de,t,i),Ee+=32}it+=8}if(C>=0){var at=[];at[1]=C+1,at[0]=(1<<C+1)-1,q(at)}return ce(65497),new Uint8Array(b)},n=n||50,function(){for(var H=String.fromCharCode,Q=0;Q<256;Q++)X[Q]=H(Q)}(),e=U(A,T),t=U(P,j),r=U(F,O),i=U(Y,le),function(){for(var H=1,Q=2,ee=1;ee<=15;ee++){for(var ne=H;ne<Q;ne++)g[32767+ne]=ee,p[32767+ne]=[],p[32767+ne][1]=ee,p[32767+ne][0]=ne;for(var de=-(Q-1);de<=-H;de++)g[32767+de]=ee,p[32767+de]=[],p[32767+de][1]=ee,p[32767+de][0]=Q-1+de;H<<=1,Q<<=1}}(),function(){for(var H=0;H<256;H++)$[H]=19595*H,$[H+256>>0]=38470*H,$[H+512>>0]=7471*H+32768,$[H+768>>0]=-11059*H,$[H+1024>>0]=-21709*H,$[H+1280>>0]=32768*H+8421375,$[H+1536>>0]=-27439*H,$[H+1792>>0]=-5329*H}(),me(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qs(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function C4(n){function e(A){if(!A)throw Error("assert :P")}function t(A,T,F){for(var O=0;4>O;O++)if(A[T+O]!=F.charCodeAt(O))return!0;return!1}function r(A,T,F,O,P){for(var j=0;j<P;j++)A[T+j]=F[O+j]}function i(A,T,F,O){for(var P=0;P<O;P++)A[T+P]=F}function a(A){return new Int32Array(A)}function o(A,T){for(var F=[],O=0;O<A;O++)F.push(new T);return F}function s(A,T){var F=[];return function O(P,j,Y){for(var le=Y[j],U=0;U<le&&(P.push(Y.length>j+1?[]:new T),!(Y.length<j+1));U++)O(P[U],j+1,Y)}(F,0,A),F}var u=function(){var A=this;function T(y,E){for(var L=1<<E-1>>>0;y&L;)L>>>=1;return L?(y&L-1)+L:y}function F(y,E,L,z,Z){e(!(z%L));do y[E+(z-=L)]=Z;while(0<z)}function O(y,E,L,z,Z){if(e(2328>=Z),512>=Z)var te=a(512);else if((te=a(Z))==null)return 0;return function(re,ae,ue,he,xe,Pe){var Oe,Ne,Ke=ae,Ue=1<<ue,we=a(16),Se=a(16);for(e(xe!=0),e(he!=null),e(re!=null),e(0<ue),Ne=0;Ne<xe;++Ne){if(15<he[Ne])return 0;++we[he[Ne]]}if(we[0]==xe)return 0;for(Se[1]=0,Oe=1;15>Oe;++Oe){if(we[Oe]>1<<Oe)return 0;Se[Oe+1]=Se[Oe]+we[Oe]}for(Ne=0;Ne<xe;++Ne)Oe=he[Ne],0<he[Ne]&&(Pe[Se[Oe]++]=Ne);if(Se[15]==1)return(he=new P).g=0,he.value=Pe[0],F(re,Ke,1,Ue,he),Ue;var qe,Qe=-1,$e=Ue-1,yt=0,ft=1,Dt=1,dt=1<<ue;for(Ne=0,Oe=1,xe=2;Oe<=ue;++Oe,xe<<=1){if(ft+=Dt<<=1,0>(Dt-=we[Oe]))return 0;for(;0<we[Oe];--we[Oe])(he=new P).g=Oe,he.value=Pe[Ne++],F(re,Ke+yt,xe,dt,he),yt=T(yt,Oe)}for(Oe=ue+1,xe=2;15>=Oe;++Oe,xe<<=1){if(ft+=Dt<<=1,0>(Dt-=we[Oe]))return 0;for(;0<we[Oe];--we[Oe]){if(he=new P,(yt&$e)!=Qe){for(Ke+=dt,qe=1<<(Qe=Oe)-ue;15>Qe&&!(0>=(qe-=we[Qe]));)++Qe,qe<<=1;Ue+=dt=1<<(qe=Qe-ue),re[ae+(Qe=yt&$e)].g=qe+ue,re[ae+Qe].value=Ke-ae-Qe}he.g=Oe-ue,he.value=Pe[Ne++],F(re,Ke+(yt>>ue),xe,dt,he),yt=T(yt,Oe)}}return ft!=2*Se[15]-1?0:Ue}(y,E,L,z,Z,te)}function P(){this.value=this.g=0}function j(){this.value=this.g=0}function Y(){this.G=o(5,P),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ni,j)}function le(y,E,L,z){e(y!=null),e(E!=null),e(2147483648>z),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=E,y.pa=L,y.Jd=E,y.Yc=L+z,y.Zc=4<=z?L+z-4+1:L,Ee(y)}function U(y,E){for(var L=0;0<E--;)L|=Te(y,128)<<E;return L}function q(y,E){var L=U(y,E);return be(y)?-L:L}function ie(y,E,L,z){var Z,te=0;for(e(y!=null),e(E!=null),e(4294967288>z),y.Sb=z,y.Ra=0,y.u=0,y.h=0,4<z&&(z=4),Z=0;Z<z;++Z)te+=E[L+Z]<<8*Z;y.Ra=te,y.bb=z,y.oa=E,y.pa=L}function ce(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<vu-8>>>0,++y.bb,y.u-=8;ee(y)&&(y.h=1,y.u=0)}function W(y,E){if(e(0<=E),!y.h&&E<=mu){var L=Q(y)&xl[E];return y.u+=E,ce(y),L}return y.h=1,y.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(y){return y.Ra>>>(y.u&vu-1)>>>0}function ee(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>vu}function ne(y,E){y.u=E,y.h=ee(y)}function de(y){y.u>=uc&&(e(y.u>=uc),ce(y))}function Ee(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function be(y){return U(y,1)}function Te(y,E){var L=y.Ca;0>y.b&&Ee(y);var z=y.b,Z=L*E>>>8,te=(y.I>>>z>Z)+0;for(te?(L-=Z,y.I-=Z+1<<z>>>0):L=Z+1,z=L,Z=0;256<=z;)Z+=8,z>>=8;return z=7^Z+_a[z],y.b-=z,y.Ca=(L<<z)-1,te}function Ge(y,E,L){y[E+0]=L>>24&255,y[E+1]=L>>16&255,y[E+2]=L>>8&255,y[E+3]=L>>0&255}function He(y,E){return y[E+0]<<0|y[E+1]<<8}function rt(y,E){return He(y,E)|y[E+2]<<16}function st(y,E){return He(y,E)|He(y,E+2)<<16}function wt(y,E){var L=1<<E;return e(y!=null),e(0<E),y.X=a(L),y.X==null?0:(y.Mb=32-E,y.Xa=E,1)}function Be(y,E){e(y!=null),e(E!=null),e(y.Xa==E.Xa),r(E.X,0,y.X,0,1<<E.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function gt(y,E,L,z){e(L!=null),e(z!=null);var Z=L[0],te=z[0];return Z==0&&(Z=(y*te+E/2)/E),te==0&&(te=(E*Z+y/2)/y),0>=Z||0>=te?0:(L[0]=Z,z[0]=te,1)}function lt(y,E){return y+(1<<E)-1>>>E}function Xe(y,E){return((4278255360&y)+(4278255360&E)>>>0&4278255360)+((16711935&y)+(16711935&E)>>>0&16711935)>>>0}function it(y,E){A[E]=function(L,z,Z,te,re,ae,ue){var he;for(he=0;he<re;++he){var xe=A[y](ae[ue+he-1],Z,te+he);ae[ue+he]=Xe(L[z+he],xe)}}}function at(){this.ud=this.hd=this.jd=0}function ot(y,E){return((4278124286&(y^E))>>>1)+(y&E)>>>0}function ct(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function mt(y,E){return ct(y+(y-E+.5>>1))}function Nt(y,E,L){return Math.abs(E-L)-Math.abs(y-L)}function xt(y,E,L,z,Z,te,re){for(z=te[re-1],L=0;L<Z;++L)te[re+L]=z=Xe(y[E+L],z)}function bt(y,E,L,z,Z){var te;for(te=0;te<L;++te){var re=y[E+te],ae=re>>8&255,ue=16711935&(ue=(ue=16711935&re)+((ae<<16)+ae));z[Z+te]=(4278255360&re)+ue>>>0}}function Rt(y,E){E.jd=y>>0&255,E.hd=y>>8&255,E.ud=y>>16&255}function _t(y,E,L,z,Z,te){var re;for(re=0;re<z;++re){var ae=E[L+re],ue=ae>>>8,he=ae,xe=255&(xe=(xe=ae>>>16)+((y.jd<<24>>24)*(ue<<24>>24)>>>5));he=255&(he=(he=he+((y.hd<<24>>24)*(ue<<24>>24)>>>5))+((y.ud<<24>>24)*(xe<<24>>24)>>>5)),Z[te+re]=(4278255360&ae)+(xe<<16)+he}}function Ot(y,E,L,z,Z){A[E]=function(te,re,ae,ue,he,xe,Pe,Oe,Ne){for(ue=Pe;ue<Oe;++ue)for(Pe=0;Pe<Ne;++Pe)he[xe++]=Z(ae[z(te[re++])])},A[y]=function(te,re,ae,ue,he,xe,Pe){var Oe=8>>te.b,Ne=te.Ea,Ke=te.K[0],Ue=te.w;if(8>Oe)for(te=(1<<te.b)-1,Ue=(1<<Oe)-1;re<ae;++re){var we,Se=0;for(we=0;we<Ne;++we)we&te||(Se=z(ue[he++])),xe[Pe++]=Z(Ke[Se&Ue]),Se>>=Oe}else A["VP8LMapColor"+L](ue,he,Ke,Ue,xe,Pe,re,ae,Ne)}}function ut(y,E,L,z,Z){for(L=E+L;E<L;){var te=y[E++];z[Z++]=te>>16&255,z[Z++]=te>>8&255,z[Z++]=te>>0&255}}function mn(y,E,L,z,Z){for(L=E+L;E<L;){var te=y[E++];z[Z++]=te>>16&255,z[Z++]=te>>8&255,z[Z++]=te>>0&255,z[Z++]=te>>24&255}}function Vt(y,E,L,z,Z){for(L=E+L;E<L;){var te=(re=y[E++])>>16&240|re>>12&15,re=re>>0&240|re>>28&15;z[Z++]=te,z[Z++]=re}}function Xn(y,E,L,z,Z){for(L=E+L;E<L;){var te=(re=y[E++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;z[Z++]=te,z[Z++]=re}}function Yt(y,E,L,z,Z){for(L=E+L;E<L;){var te=y[E++];z[Z++]=te>>0&255,z[Z++]=te>>8&255,z[Z++]=te>>16&255}}function An(y,E,L,z,Z,te){if(te==0)for(L=E+L;E<L;)Ge(z,((te=y[E++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),Z+=32;else r(z,Z,y,E,L)}function di(y,E){A[E][0]=A[y+"0"],A[E][1]=A[y+"1"],A[E][2]=A[y+"2"],A[E][3]=A[y+"3"],A[E][4]=A[y+"4"],A[E][5]=A[y+"5"],A[E][6]=A[y+"6"],A[E][7]=A[y+"7"],A[E][8]=A[y+"8"],A[E][9]=A[y+"9"],A[E][10]=A[y+"10"],A[E][11]=A[y+"11"],A[E][12]=A[y+"12"],A[E][13]=A[y+"13"],A[E][14]=A[y+"0"],A[E][15]=A[y+"0"]}function an(y){return y==_f||y==Rl||y==Bs||y==dc}function ha(){this.eb=[],this.size=this.A=this.fb=0}function Cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ha,this.f.kb=new Cn,this.sd=null}function or(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Tt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function tn(y,E){var L=y.T,z=E.ba.f.RGBA,Z=z.eb,te=z.fb+y.ka*z.A,re=yi[E.ba.S],ae=y.y,ue=y.O,he=y.f,xe=y.N,Pe=y.ea,Oe=y.W,Ne=E.cc,Ke=E.dc,Ue=E.Mc,we=E.Nc,Se=y.ka,qe=y.ka+y.T,Qe=y.U,$e=Qe+1>>1;for(Se==0?re(ae,ue,null,null,he,xe,Pe,Oe,he,xe,Pe,Oe,Z,te,null,null,Qe):(re(E.ec,E.fc,ae,ue,Ne,Ke,Ue,we,he,xe,Pe,Oe,Z,te-z.A,Z,te,Qe),++L);Se+2<qe;Se+=2)Ne=he,Ke=xe,Ue=Pe,we=Oe,xe+=y.Rc,Oe+=y.Rc,te+=2*z.A,re(ae,(ue+=2*y.fa)-y.fa,ae,ue,Ne,Ke,Ue,we,he,xe,Pe,Oe,Z,te-z.A,Z,te,Qe);return ue+=y.fa,y.j+qe<y.o?(r(E.ec,E.fc,ae,ue,Qe),r(E.cc,E.dc,he,xe,$e),r(E.Mc,E.Nc,Pe,Oe,$e),L--):1&qe||re(ae,ue,null,null,he,xe,Pe,Oe,he,xe,Pe,Oe,Z,te+z.A,null,null,Qe),L}function bi(y,E,L){var z=y.F,Z=[y.J];if(z!=null){var te=y.U,re=E.ba.S,ae=re==bu||re==Bs;E=E.ba.f.RGBA;var ue=[0],he=y.ka;ue[0]=y.T,y.Kb&&(he==0?--ue[0]:(--he,Z[0]-=y.width),y.j+y.ka+y.T==y.o&&(ue[0]=y.o-y.j-he));var xe=E.eb;he=E.fb+he*E.A,y=un(z,Z[0],y.width,te,ue,xe,he+(ae?0:3),E.A),e(L==ue),y&&an(re)&&za(xe,he,ae,te,ue,E.A)}return 0}function kn(y){var E=y.ma,L=E.ba.S,z=11>L,Z=L==hc||L==yf||L==bu||L==Ms||L==12||an(L);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!_l(E.Oa,y,Z?11:12))return 0;if(Z&&an(L)&&tt(),y.da)alert("todo:use_scaling");else{if(z){if(E.Ib=Tt,y.Kb){if(L=y.U+1>>1,E.memory=a(y.U+2*L),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+y.U,E.Mc=E.cc,E.Nc=E.dc+L,E.Ib=tn,tt()}}else alert("todo:EmitYUV");Z&&(E.Jb=bi,z&&Ie())}if(z&&!T0){for(y=0;256>y;++y)k2[y]=89858*(y-128)+ii>>hs,bf[y]=-22014*(y-128)+ii,Pd[y]=-45773*(y-128),ai[y]=113618*(y-128)+ii>>hs;for(y=Pl;y<xh;++y)E=76283*(y-16)+ii>>hs,Af[y-Pl]=Fn(E,255),Ld[y-Pl]=Fn(E+8>>4,15);T0=1}return 1}function dr(y){var E=y.ma,L=y.U,z=y.T;return e(!(1&y.ka)),0>=L||0>=z?0:(L=E.Ib(y,E),E.Jb!=null&&E.Jb(y,E,L),E.Dc+=L,1)}function Fa(y){y.ma.memory=null}function vt(y,E,L,z){return W(y,8)!=47?0:(E[0]=W(y,14)+1,L[0]=W(y,14)+1,z[0]=W(y,1),W(y,3)!=0?0:!y.h)}function Hn(y,E){if(4>y)return y+1;var L=y-2>>1;return(2+(1&y)<<L)+W(E,L)+1}function Gn(y,E){return 120<E?E-120:1<=(L=((L=js[E-1])>>4)*y+(8-(15&L)))?L:1;var L}function pr(y,E,L){var z=Q(L),Z=y[E+=255&z].g-8;return 0<Z&&(ne(L,L.u+8),z=Q(L),E+=y[E].value,E+=z&(1<<Z)-1),ne(L,L.u+y[E].g),y[E].value}function wr(y,E,L){return L.g+=y.g,L.value+=y.value<<E>>>0,e(8>=L.g),y.g}function Tr(y,E,L){var z=y.xc;return e((E=z==0?0:y.vc[y.md*(L>>z)+(E>>z)])<y.Wb),y.Ya[E]}function qr(y,E,L,z){var Z=y.ab,te=y.c*E,re=y.C;E=re+E;var ae=L,ue=z;for(z=y.Ta,L=y.Ua;0<Z--;){var he=y.gc[Z],xe=re,Pe=E,Oe=ae,Ne=ue,Ke=(ue=z,ae=L,he.Ea);switch(e(xe<Pe),e(Pe<=he.nc),he.hc){case 2:dh(Oe,Ne,(Pe-xe)*Ke,ue,ae);break;case 0:var Ue=xe,we=Pe,Se=ue,qe=ae,Qe=(dt=he).Ea;Ue==0&&(Od(Oe,Ne,null,null,1,Se,qe),xt(Oe,Ne+1,0,0,Qe-1,Se,qe+1),Ne+=Qe,qe+=Qe,++Ue);for(var $e=1<<dt.b,yt=$e-1,ft=lt(Qe,dt.b),Dt=dt.K,dt=dt.w+(Ue>>dt.b)*ft;Ue<we;){var Tn=Dt,jn=dt,on=1;for(mf(Oe,Ne,Se,qe-Qe,1,Se,qe);on<Qe;){var nn=(on&~yt)+$e;nn>Qe&&(nn=Qe),(0,Ps[Tn[jn++]>>8&15])(Oe,Ne+ +on,Se,qe+on-Qe,nn-on,Se,qe+on),on=nn}Ne+=Qe,qe+=Qe,++Ue&yt||(dt+=ft)}Pe!=he.nc&&r(ue,ae-Ke,ue,ae+(Pe-xe-1)*Ke,Ke);break;case 1:for(Ke=Oe,we=Ne,Qe=(Oe=he.Ea)-(qe=Oe&~(Se=(Ne=1<<he.b)-1)),Ue=lt(Oe,he.b),$e=he.K,he=he.w+(xe>>he.b)*Ue;xe<Pe;){for(yt=$e,ft=he,Dt=new at,dt=we+qe,Tn=we+Oe;we<dt;)Rt(yt[ft++],Dt),bl(Dt,Ke,we,Ne,ue,ae),we+=Ne,ae+=Ne;we<Tn&&(Rt(yt[ft++],Dt),bl(Dt,Ke,we,Qe,ue,ae),we+=Qe,ae+=Qe),++xe&Se||(he+=Ue)}break;case 3:if(Oe==ue&&Ne==ae&&0<he.b){for(we=ue,Oe=Ke=ae+(Pe-xe)*Ke-(qe=(Pe-xe)*lt(he.Ea,he.b)),Ne=ue,Se=ae,Ue=[],qe=(Qe=qe)-1;0<=qe;--qe)Ue[qe]=Ne[Se+qe];for(qe=Qe-1;0<=qe;--qe)we[Oe+qe]=Ue[qe];ao(he,xe,Pe,ue,Ke,ue,ae)}else ao(he,xe,Pe,Oe,Ne,ue,ae)}ae=z,ue=L}ue!=L&&r(z,L,ae,ue,te)}function As(y,E){var L=y.V,z=y.Ba+y.c*y.C,Z=E-y.C;if(e(E<=y.l.o),e(16>=Z),0<Z){var te=y.l,re=y.Ta,ae=y.Ua,ue=te.width;if(qr(y,Z,L,z),Z=ae=[ae],e((L=y.C)<(z=E)),e(te.v<te.va),z>te.o&&(z=te.o),L<te.j){var he=te.j-L;L=te.j,Z[0]+=he*ue}if(L>=z?L=0:(Z[0]+=4*te.v,te.ka=L-te.j,te.U=te.va-te.v,te.T=z-L,L=1),L){if(ae=ae[0],11>(L=y.ca).S){var xe=L.f.RGBA,Pe=(z=L.S,Z=te.U,te=te.T,he=xe.eb,xe.A),Oe=te;for(xe=xe.fb+y.Ma*xe.A;0<Oe--;){var Ne=re,Ke=ae,Ue=Z,we=he,Se=xe;switch(z){case zi:ea(Ne,Ke,Ue,we,Se);break;case hc:Ci(Ne,Ke,Ue,we,Se);break;case _f:Ci(Ne,Ke,Ue,we,Se),za(we,Se,0,Ue,1,0);break;case ls:Lo(Ne,Ke,Ue,we,Se);break;case yf:An(Ne,Ke,Ue,we,Se,1);break;case Rl:An(Ne,Ke,Ue,we,Se,1),za(we,Se,0,Ue,1,0);break;case bu:An(Ne,Ke,Ue,we,Se,0);break;case Bs:An(Ne,Ke,Ue,we,Se,0),za(we,Se,1,Ue,1,0);break;case Ms:Al(Ne,Ke,Ue,we,Se);break;case dc:Al(Ne,Ke,Ue,we,Se),ln(we,Se,Ue,1,0);break;case gh:xa(Ne,Ke,Ue,we,Se);break;default:e(0)}ae+=ue,xe+=Pe}y.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=L.height)}}y.C=E,e(y.C<=y.i)}function Zi(y){var E;if(0<y.ua)return 0;for(E=0;E<y.Wb;++E){var L=y.Ya[E].G,z=y.Ya[E].H;if(0<L[1][z[1]+0].g||0<L[2][z[2]+0].g||0<L[3][z[3]+0].g)return 0}return 1}function pi(y,E,L,z,Z,te){if(y.Z!=0){var re=y.qd,ae=y.rd;for(e(cs[y.Z]!=null);E<L;++E)cs[y.Z](re,ae,z,Z,z,Z,te),re=z,ae=Z,Z+=te;y.qd=re,y.rd=ae}}function Jr(y,E){var L=y.l.ma,z=L.Z==0||L.Z==1?y.l.j:y.C;if(z=y.C<z?z:y.C,e(E<=y.l.o),E>z){var Z=y.l.width,te=L.ca,re=L.tb+Z*z,ae=y.V,ue=y.Ba+y.c*z,he=y.gc;e(y.ab==1),e(he[0].hc==3),wl(he[0],z,E,ae,ue,te,re),pi(L,z,E,te,re,Z)}y.C=y.Ma=E}function Hr(y,E,L,z,Z,te,re){var ae=y.$/z,ue=y.$%z,he=y.m,xe=y.s,Pe=L+y.$,Oe=Pe;Z=L+z*Z;var Ne=L+z*te,Ke=280+xe.ua,Ue=y.Pb?ae:16777216,we=0<xe.ua?xe.Wa:null,Se=xe.wc,qe=Pe<Ne?Tr(xe,ue,ae):null;e(y.C<te),e(Ne<=Z);var Qe=!1;e:for(;;){for(;Qe||Pe<Ne;){var $e=0;if(ae>=Ue){var yt=Pe-L;e((Ue=y).Pb),Ue.wd=Ue.m,Ue.xd=yt,0<Ue.s.ua&&Be(Ue.s.Wa,Ue.s.vb),Ue=ae+E0}if(ue&Se||(qe=Tr(xe,ue,ae)),e(qe!=null),qe.Qb&&(E[Pe]=qe.qb,Qe=!0),!Qe)if(de(he),qe.jc){$e=he,yt=E;var ft=Pe,Dt=qe.pd[Q($e)&ni-1];e(qe.jc),256>Dt.g?(ne($e,$e.u+Dt.g),yt[ft]=Dt.value,$e=0):(ne($e,$e.u+Dt.g-256),e(256<=Dt.value),$e=Dt.value),$e==0&&(Qe=!0)}else $e=pr(qe.G[0],qe.H[0],he);if(he.h)break;if(Qe||256>$e){if(!Qe)if(qe.nd)E[Pe]=(qe.qb|$e<<8)>>>0;else{if(de(he),Qe=pr(qe.G[1],qe.H[1],he),de(he),yt=pr(qe.G[2],qe.H[2],he),ft=pr(qe.G[3],qe.H[3],he),he.h)break;E[Pe]=(ft<<24|Qe<<16|$e<<8|yt)>>>0}if(Qe=!1,++Pe,++ue>=z&&(ue=0,++ae,re!=null&&ae<=te&&!(ae%16)&&re(y,ae),we!=null))for(;Oe<Pe;)$e=E[Oe++],we.X[(506832829*$e&4294967295)>>>we.Mb]=$e}else if(280>$e){if($e=Hn($e-256,he),yt=pr(qe.G[4],qe.H[4],he),de(he),yt=Gn(z,yt=Hn(yt,he)),he.h)break;if(Pe-L<yt||Z-Pe<$e)break e;for(ft=0;ft<$e;++ft)E[Pe+ft]=E[Pe+ft-yt];for(Pe+=$e,ue+=$e;ue>=z;)ue-=z,++ae,re!=null&&ae<=te&&!(ae%16)&&re(y,ae);if(e(Pe<=Z),ue&Se&&(qe=Tr(xe,ue,ae)),we!=null)for(;Oe<Pe;)$e=E[Oe++],we.X[(506832829*$e&4294967295)>>>we.Mb]=$e}else{if(!($e<Ke))break e;for(Qe=$e-280,e(we!=null);Oe<Pe;)$e=E[Oe++],we.X[(506832829*$e&4294967295)>>>we.Mb]=$e;$e=Pe,e(!(Qe>>>(yt=we).Xa)),E[$e]=yt.X[Qe],Qe=!0}Qe||e(he.h==ee(he))}if(y.Pb&&he.h&&Pe<Z)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Be(y.s.vb,y.s.Wa);else{if(he.h)break e;re!=null&&re(y,ae>te?te:ae),y.a=0,y.$=Pe-L}return 1}return y.a=3,0}function ei(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var E=y.Wa;E!=null&&(E.X=null),y.vb=null,e(y!=null)}function sr(){var y=new sc;return y==null?null:(y.a=0,y.xb=pc,di("Predictor","VP8LPredictors"),di("Predictor","VP8LPredictors_C"),di("PredictorAdd","VP8LPredictorsAdd"),di("PredictorAdd","VP8LPredictorsAdd_C"),dh=bt,bl=_t,ea=ut,Ci=mn,Al=Vt,xa=Xn,Lo=Yt,A.VP8LMapColor32b=mi,A.VP8LMapColor8b=vf,y)}function Mn(y,E,L,z,Z){var te=1,re=[y],ae=[E],ue=z.m,he=z.s,xe=null,Pe=0;e:for(;;){if(L)for(;te&&W(ue,1);){var Oe=re,Ne=ae,Ke=z,Ue=1,we=Ke.m,Se=Ke.gc[Ke.ab],qe=W(we,2);if(Ke.Oc&1<<qe)te=0;else{switch(Ke.Oc|=1<<qe,Se.hc=qe,Se.Ea=Oe[0],Se.nc=Ne[0],Se.K=[null],++Ke.ab,e(4>=Ke.ab),qe){case 0:case 1:Se.b=W(we,3)+2,Ue=Mn(lt(Se.Ea,Se.b),lt(Se.nc,Se.b),0,Ke,Se.K),Se.K=Se.K[0];break;case 3:var Qe,$e=W(we,8)+1,yt=16<$e?0:4<$e?1:2<$e?2:3;if(Oe[0]=lt(Se.Ea,yt),Se.b=yt,Qe=Ue=Mn($e,1,0,Ke,Se.K)){var ft,Dt=$e,dt=Se,Tn=1<<(8>>dt.b),jn=a(Tn);if(jn==null)Qe=0;else{var on=dt.K[0],nn=dt.w;for(jn[0]=dt.K[0][0],ft=1;ft<1*Dt;++ft)jn[ft]=Xe(on[nn+ft],jn[ft-1]);for(;ft<4*Tn;++ft)jn[ft]=0;dt.K[0]=null,dt.K[0]=jn,Qe=1}}Ue=Qe;break;case 2:break;default:e(0)}te=Ue}}if(re=re[0],ae=ae[0],te&&W(ue,1)&&!(te=1<=(Pe=W(ue,4))&&11>=Pe)){z.a=3;break e}var Kn;if(Kn=te)t:{var Un,Qt,er,Lt=z,Ht=re,Sn=ae,In=Pe,_i=L,oi=Lt.m,Br=Lt.s,Fr=[null],Xr=1,uo=0,Vn=Eu[In];n:for(;;){if(_i&&W(oi,1)){var Yr=W(oi,3)+2,Bo=lt(Ht,Yr),Ll=lt(Sn,Yr),Tu=Bo*Ll;if(!Mn(Bo,Ll,0,Lt,Fr))break n;for(Fr=Fr[0],Br.xc=Yr,Un=0;Un<Tu;++Un){var kl=Fr[Un]>>8&65535;Fr[Un]=kl,kl>=Xr&&(Xr=kl+1)}}if(oi.h)break n;for(Qt=0;5>Qt;++Qt){var vr=qa[Qt];!Qt&&0<In&&(vr+=1<<In),uo<vr&&(uo=vr)}var Ef=o(Xr*Vn,P),wh=Xr,na=o(wh,Y);if(na==null)var br=null;else e(65536>=wh),br=na;var Iu=a(uo);if(br==null||Iu==null||Ef==null){Lt.a=1;break n}var Ml=Ef;for(Un=er=0;Un<Xr;++Un){var ba=br[Un],Bl=ba.G,Aa=ba.H,Sf=0,mc=1,bh=0;for(Qt=0;5>Qt;++Qt){vr=qa[Qt],Bl[Qt]=Ml,Aa[Qt]=er,!Qt&&0<In&&(vr+=1<<In);i:{var Cf,Ah=vr,Tf=Lt,vc=Iu,R0=Ml,O0=er,If=0,qs=Tf.m,B2=W(qs,1);if(i(vc,0,0,Ah),B2){var D0=W(qs,1)+1,P0=W(qs,1),kd=W(qs,P0==0?1:8);vc[kd]=1,D0==2&&(vc[kd=W(qs,8)]=1);var yc=1}else{var Md=a(19),Bd=W(qs,4)+4;if(19<Bd){Tf.a=3;var Nf=0;break i}for(Cf=0;Cf<Bd;++Cf)Md[Fs[Cf]]=W(qs,3);var Eh=void 0,_c=void 0,L0=Tf,k0=Md,Hs=Ah,Rf=vc,Sh=0,Fo=L0.m,xc=8,Fd=o(128,P);r:for(;O(Fd,0,7,k0,19);){if(W(Fo,1)){var M0=2+2*W(Fo,3);if((Eh=2+W(Fo,M0))>Hs)break r}else Eh=Hs;for(_c=0;_c<Hs&&Eh--;){de(Fo);var jd=Fd[0+(127&Q(Fo))];ne(Fo,Fo.u+jd.g);var Nu=jd.value;if(16>Nu)Rf[_c++]=Nu,Nu!=0&&(xc=Nu);else{var B0=Nu==16,Ud=Nu-16,Vd=lo[Ud],zd=W(Fo,mh[Ud])+Vd;if(_c+zd>Hs)break r;for(var F0=B0?xc:0;0<zd--;)Rf[_c++]=F0}}Sh=1;break r}Sh||(L0.a=3),yc=Sh}(yc=yc&&!qs.h)&&(If=O(R0,O0,8,vc,Ah)),yc&&If!=0?Nf=If:(Tf.a=3,Nf=0)}if(Nf==0)break n;if(mc&&Au[Qt]==1&&(mc=Ml[er].g==0),Sf+=Ml[er].g,er+=Nf,3>=Qt){var Ru,Ch=Iu[0];for(Ru=1;Ru<vr;++Ru)Iu[Ru]>Ch&&(Ch=Iu[Ru]);bh+=Ch}}if(ba.nd=mc,ba.Qb=0,mc&&(ba.qb=(Bl[3][Aa[3]+0].value<<24|Bl[1][Aa[1]+0].value<<16|Bl[2][Aa[2]+0].value)>>>0,Sf==0&&256>Bl[0][Aa[0]+0].value&&(ba.Qb=1,ba.qb+=Bl[0][Aa[0]+0].value<<8)),ba.jc=!ba.Qb&&6>bh,ba.jc){var Of,Gs=ba;for(Of=0;Of<ni;++Of){var ds=Of,Ws=Gs.pd[ds],Df=Gs.G[0][Gs.H[0]+ds];256<=Df.value?(Ws.g=Df.g+256,Ws.value=Df.value):(Ws.g=0,Ws.value=0,ds>>=wr(Df,8,Ws),ds>>=wr(Gs.G[1][Gs.H[1]+ds],16,Ws),ds>>=wr(Gs.G[2][Gs.H[2]+ds],0,Ws),wr(Gs.G[3][Gs.H[3]+ds],24,Ws))}}}Br.vc=Fr,Br.Wb=Xr,Br.Ya=br,Br.yc=Ef,Kn=1;break t}Kn=0}if(!(te=Kn)){z.a=3;break e}if(0<Pe){if(he.ua=1<<Pe,!wt(he.Wa,Pe)){z.a=1,te=0;break e}}else he.ua=0;var Pf=z,qd=re,j0=ae,Hd=Pf.s,Gd=Hd.xc;if(Pf.c=qd,Pf.i=j0,Hd.md=lt(qd,Gd),Hd.wc=Gd==0?-1:(1<<Gd)-1,L){z.xb=C0;break e}if((xe=a(re*ae))==null){z.a=1,te=0;break e}te=(te=Hr(z,xe,0,re,ae,ae,null))&&!ue.h;break e}return te?(Z!=null?Z[0]=xe:(e(xe==null),e(L)),z.$=0,L||ei(he)):ei(he),te}function Ao(y,E){var L=y.c*y.i,z=L+E+16*E;return e(y.c<=E),y.V=a(z),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+L+E,1)}function Eo(y,E){var L=y.C,z=E-L,Z=y.V,te=y.Ba+y.c*L;for(e(E<=y.l.o);0<z;){var re=16<z?16:z,ae=y.l.ma,ue=y.l.width,he=ue*re,xe=ae.ca,Pe=ae.tb+ue*L,Oe=y.Ta,Ne=y.Ua;qr(y,re,Z,te),ur(Oe,Ne,xe,Pe,he),pi(ae,L,L+re,xe,Pe,ue),z-=re,Z+=re*y.c,L+=re}e(L==E),y.C=y.Ma=E}function Bi(){this.ub=this.yd=this.td=this.Rb=0}function da(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Es(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function su(){this.Yb=function(){var y=[];return function E(L,z,Z){for(var te=Z[z],re=0;re<te&&(L.push(Z.length>z+1?[]:0),!(Z.length<z+1));re++)E(L[re],z+1,Z)}(y,0,[3,11]),y}()}function Ss(){this.jb=a(3),this.Wc=s([4,8],su),this.Xc=s([4,17],su)}function tc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ja(){this.ld=this.La=this.dd=this.tc=0}function Ua(){this.Na=this.la=0}function ti(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function So(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ja),this.Y=0,this.ya=Array(new So),this.aa=0,this.l=new Co}function Ka(){this.y=a(16),this.f=a(8),this.ea=a(8)}function fl(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Bi,this.Kc=new da,this.ed=new tc,this.Qa=new Es,this.Ic=this.$c=this.Aa=0,this.D=new nc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,ti),this.Pa=new Ss,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ka),this.Hd=0,this.rb=Array(new Ua),this.sb=0,this.wa=Array(new ja),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new So),this.L=this.aa=0,this.gd=s([4,2],ja),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Co(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function lu(){var y=new fl;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,ri||(ri=rc)),y}function lr(y,E,L){return y.a==0&&(y.a=E,y.sc=L,y.cb=0),0}function gi(y,E,L){return 3<=L&&y[E+0]==157&&y[E+1]==1&&y[E+2]==42}function hl(y,E){if(y==null)return 0;if(y.a=0,y.sc="OK",E==null)return lr(y,2,"null VP8Io passed to VP8GetHeaders()");var L=E.data,z=E.w,Z=E.ha;if(4>Z)return lr(y,7,"Truncated header.");var te=L[z+0]|L[z+1]<<8|L[z+2]<<16,re=y.Od;if(re.Rb=!(1&te),re.td=te>>1&7,re.yd=te>>4&1,re.ub=te>>5,3<re.td)return lr(y,3,"Incorrect keyframe parameters.");if(!re.yd)return lr(y,4,"Frame not displayable.");z+=3,Z-=3;var ae=y.Kc;if(re.Rb){if(7>Z)return lr(y,7,"cannot parse picture header");if(!gi(L,z,Z))return lr(y,3,"Bad code word");ae.c=16383&(L[z+4]<<8|L[z+3]),ae.Td=L[z+4]>>6,ae.i=16383&(L[z+6]<<8|L[z+5]),ae.Ud=L[z+6]>>6,z+=7,Z-=7,y.za=ae.c+15>>4,y.Ub=ae.i+15>>4,E.width=ae.c,E.height=ae.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((te=y.Pa).jb,0,255,te.jb.length),e((te=y.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,i(te.Zb,0,0,te.Zb.length),i(te.Lb,0,0,te.Lb)}if(re.ub>Z)return lr(y,7,"bad partition length");le(te=y.m,L,z,re.ub),z+=re.ub,Z-=re.ub,re.Rb&&(ae.Ld=be(te),ae.Kd=be(te)),ae=y.Qa;var ue,he=y.Pa;if(e(te!=null),e(ae!=null),ae.Cb=be(te),ae.Cb){if(ae.Bb=be(te),be(te)){for(ae.Fb=be(te),ue=0;4>ue;++ue)ae.Zb[ue]=be(te)?q(te,7):0;for(ue=0;4>ue;++ue)ae.Lb[ue]=be(te)?q(te,6):0}if(ae.Bb)for(ue=0;3>ue;++ue)he.jb[ue]=be(te)?U(te,8):255}else ae.Bb=0;if(te.Ka)return lr(y,3,"cannot parse segment header");if((ae=y.ed).zd=be(te),ae.Tb=U(te,6),ae.wb=U(te,3),ae.Pc=be(te),ae.Pc&&be(te)){for(he=0;4>he;++he)be(te)&&(ae.vd[he]=q(te,6));for(he=0;4>he;++he)be(te)&&(ae.od[he]=q(te,6))}if(y.L=ae.Tb==0?0:ae.zd?1:2,te.Ka)return lr(y,3,"cannot parse filter header");var xe=Z;if(Z=ue=z,z=ue+xe,ae=xe,y.Xb=(1<<U(y.m,2))-1,xe<3*(he=y.Xb))L=7;else{for(ue+=3*he,ae-=3*he,xe=0;xe<he;++xe){var Pe=L[Z+0]|L[Z+1]<<8|L[Z+2]<<16;Pe>ae&&(Pe=ae),le(y.Jc[+xe],L,ue,Pe),ue+=Pe,ae-=Pe,Z+=3}le(y.Jc[+he],L,ue,ae),L=ue<z?0:5}if(L!=0)return lr(y,L,"cannot parse partitions");for(L=U(ue=y.m,7),Z=be(ue)?q(ue,4):0,z=be(ue)?q(ue,4):0,ae=be(ue)?q(ue,4):0,he=be(ue)?q(ue,4):0,ue=be(ue)?q(ue,4):0,xe=y.Qa,Pe=0;4>Pe;++Pe){if(xe.Cb){var Oe=xe.Zb[Pe];xe.Fb||(Oe+=L)}else{if(0<Pe){y.pb[Pe]=y.pb[0];continue}Oe=L}var Ne=y.pb[Pe];Ne.Sc[0]=xf[Fn(Oe+Z,127)],Ne.Sc[1]=wf[Fn(Oe+0,127)],Ne.Eb[0]=2*xf[Fn(Oe+z,127)],Ne.Eb[1]=101581*wf[Fn(Oe+ae,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=xf[Fn(Oe+he,117)],Ne.Qc[1]=wf[Fn(Oe+ue,127)],Ne.lc=Oe+ue}if(!re.Rb)return lr(y,4,"Not a key frame.");for(be(te),re=y.Pa,L=0;4>L;++L){for(Z=0;8>Z;++Z)for(z=0;3>z;++z)for(ae=0;11>ae;++ae)he=Te(te,Su[L][Z][z][ae])?U(te,8):us[L][Z][z][ae],re.Wc[L][Z].Yb[z][ae]=he;for(Z=0;17>Z;++Z)re.Xc[L][Z]=re.Wc[L][S0[Z]]}return y.kc=be(te),y.kc&&(y.Bd=U(te,8)),y.cb=1}function rc(y,E,L,z,Z,te,re){var ae=E[Z].Yb[L];for(L=0;16>Z;++Z){if(!Te(y,ae[L+0]))return Z;for(;!Te(y,ae[L+1]);)if(ae=E[++Z].Yb[0],L=0,Z==16)return 16;var ue=E[Z+1].Yb;if(Te(y,ae[L+2])){var he=y,xe=0;if(Te(he,(Oe=ae)[(Pe=L)+3]))if(Te(he,Oe[Pe+6])){for(ae=0,Pe=2*(xe=Te(he,Oe[Pe+8]))+(Oe=Te(he,Oe[Pe+9+xe])),xe=0,Oe=Rr[Pe];Oe[ae];++ae)xe+=xe+Te(he,Oe[ae]);xe+=3+(8<<Pe)}else Te(he,Oe[Pe+7])?(xe=7+2*Te(he,165),xe+=Te(he,145)):xe=5+Te(he,159);else xe=Te(he,Oe[Pe+4])?3+Te(he,Oe[Pe+5]):2;ae=ue[2]}else xe=1,ae=ue[1];ue=re+Dn[Z],0>(he=y).b&&Ee(he);var Pe,Oe=he.b,Ne=(Pe=he.Ca>>1)-(he.I>>Oe)>>31;--he.b,he.Ca+=Ne,he.Ca|=1,he.I-=(Pe+1&Ne)<<Oe,te[ue]=((xe^Ne)-Ne)*z[(0<Z)+0]}return 16}function Xo(y){var E=y.rb[y.sb-1];E.la=0,E.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function uu(y,E){if(y==null)return 0;if(E==null)return lr(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!hl(y,E))return 0;if(e(y.cb),E.ac==null||E.ac(E)){E.ob&&(y.L=0);var L=zs[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=E.v-L>>4,y.zb=E.j-L>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=E.o+15+L>>4,y.Hb=E.va+15+L>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var z=y.ed;for(L=0;4>L;++L){var Z;if(y.Qa.Cb){var te=y.Qa.Lb[L];y.Qa.Fb||(te+=z.Tb)}else te=z.Tb;for(Z=0;1>=Z;++Z){var re=y.gd[L][Z],ae=te;if(z.Pc&&(ae+=z.vd[0],Z&&(ae+=z.od[0])),0<(ae=0>ae?0:63<ae?63:ae)){var ue=ae;0<z.wb&&(ue=4<z.wb?ue>>2:ue>>1)>9-z.wb&&(ue=9-z.wb),1>ue&&(ue=1),re.dd=ue,re.tc=2*ae+ue,re.ld=40<=ae?2:15<=ae?1:0}else re.tc=0;re.La=Z}}}L=0}else lr(y,6,"Frame setup failed"),L=y.a;if(L=L==0){if(L){y.$c=0,0<y.Aa||(y.Ic=I0);e:{L=y.Ic,z=4*(ue=y.za);var he=32*ue,xe=ue+1,Pe=0<y.L?ue*(0<y.Aa?2:1):0,Oe=(y.Aa==2?2:1)*ue;if((re=z+832+(Z=3*(16*L+zs[y.L])/2*he)+(te=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=re)L=0;else{if(re>y.Vb){if(y.Vb=0,y.Ec=a(re),y.Fc=0,y.Ec==null){L=lr(y,1,"no memory during frame initialization.");break e}y.Vb=re}re=y.Ec,ae=y.Fc,y.Ac=re,y.Bc=ae,ae+=z,y.Gd=o(he,Ka),y.Hd=0,y.rb=o(xe+1,Ua),y.sb=1,y.wa=Pe?o(Pe,ja):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=ue),e(!0),y.oc=re,y.pc=ae,ae+=832,y.ya=o(Oe,So),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=ue),y.R=16*ue,y.B=8*ue,ue=(he=zs[y.L])*y.R,he=he/2*y.B,y.sa=re,y.ta=ae+ue,y.qa=y.sa,y.ra=y.ta+16*L*y.R+he,y.Ha=y.qa,y.Ia=y.ra+8*L*y.B+he,y.$c=0,ae+=Z,y.mb=te?re:null,y.nb=te?ae:null,e(ae+te<=y.Fc+y.Vb),Xo(y),i(y.Ac,y.Bc,0,z),L=1}}if(L){if(E.ka=0,E.y=y.sa,E.O=y.ta,E.f=y.qa,E.N=y.ra,E.ea=y.Ha,E.Vd=y.Ia,E.fa=y.R,E.Rc=y.B,E.F=null,E.J=0,!ks){for(L=-255;255>=L;++L)Mr[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)oo[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)Il[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)Nl[255+L]=0>L?0:255<L?255:L;ks=1}os=pa,ko=Ko,Mo=Qa,$r=Bn,wa=Qo,Ir=Yo,yu=ts,ss=Do,cc=ml,El=pu,Sl=gl,Cl=Is,_u=Ns,fc=ns,Tl=Va,Ls=Ui,xu=Wr,Nr=oc,ta[0]=Fi,ta[1]=ic,ta[2]=eo,ta[3]=ac,ta[4]=ga,ta[5]=to,ta[6]=Ji,ta[7]=ma,ta[8]=Oo,ta[9]=Zo,Us[0]=Za,Us[1]=fu,Us[2]=Io,Us[3]=pl,Us[4]=Jn,Us[5]=Ro,Us[6]=Ja,Ha[0]=no,Ha[1]=cu,Ha[2]=hu,Ha[3]=va,Ha[4]=hn,Ha[5]=Gr,Ha[6]=Jo,L=1}else L=0}L&&(L=function(Ne,Ke){for(Ne.M=0;Ne.M<Ne.Va;++Ne.M){var Ue,we=Ne.Jc[Ne.M&Ne.Xb],Se=Ne.m,qe=Ne;for(Ue=0;Ue<qe.za;++Ue){var Qe=Se,$e=qe,yt=$e.Ac,ft=$e.Bc+4*Ue,Dt=$e.zc,dt=$e.ya[$e.aa+Ue];if($e.Qa.Bb?dt.$b=Te(Qe,$e.Pa.jb[0])?2+Te(Qe,$e.Pa.jb[2]):Te(Qe,$e.Pa.jb[1]):dt.$b=0,$e.kc&&(dt.Ad=Te(Qe,$e.Bd)),dt.Za=!Te(Qe,145)+0,dt.Za){var Tn=dt.Ob,jn=0;for($e=0;4>$e;++$e){var on,nn=Dt[0+$e];for(on=0;4>on;++on){nn=Dd[yt[ft+on]][nn];for(var Kn=Ol[Te(Qe,nn[0])];0<Kn;)Kn=Ol[2*Kn+Te(Qe,nn[Kn])];nn=-Kn,yt[ft+on]=nn}r(Tn,jn,yt,ft,4),jn+=4,Dt[0+$e]=nn}}else nn=Te(Qe,156)?Te(Qe,128)?1:3:Te(Qe,163)?2:0,dt.Ob[0]=nn,i(yt,ft,nn,4),i(Dt,0,nn,4);dt.Dd=Te(Qe,142)?Te(Qe,114)?Te(Qe,183)?1:3:2:0}if(qe.m.Ka)return lr(Ne,7,"Premature end-of-partition0 encountered.");for(;Ne.ja<Ne.za;++Ne.ja){if(qe=we,Qe=(Se=Ne).rb[Se.sb-1],yt=Se.rb[Se.sb+Se.ja],Ue=Se.ya[Se.aa+Se.ja],ft=Se.kc?Ue.Ad:0)Qe.la=yt.la=0,Ue.Za||(Qe.Na=yt.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var Un,Qt;if(Qe=yt,yt=qe,ft=Se.Pa.Xc,Dt=Se.ya[Se.aa+Se.ja],dt=Se.pb[Dt.$b],$e=Dt.ad,Tn=0,jn=Se.rb[Se.sb-1],nn=on=0,i($e,Tn,0,384),Dt.Za)var er=0,Lt=ft[3];else{Kn=a(16);var Ht=Qe.Na+jn.Na;if(Ht=ri(yt,ft[1],Ht,dt.Eb,0,Kn,0),Qe.Na=jn.Na=(0<Ht)+0,1<Ht)os(Kn,0,$e,Tn);else{var Sn=Kn[0]+3>>3;for(Kn=0;256>Kn;Kn+=16)$e[Tn+Kn]=Sn}er=1,Lt=ft[0]}var In=15&Qe.la,_i=15&jn.la;for(Kn=0;4>Kn;++Kn){var oi=1&_i;for(Sn=Qt=0;4>Sn;++Sn)In=In>>1|(oi=(Ht=ri(yt,Lt,Ht=oi+(1&In),dt.Sc,er,$e,Tn))>er)<<7,Qt=Qt<<2|(3<Ht?3:1<Ht?2:$e[Tn+0]!=0),Tn+=16;In>>=4,_i=_i>>1|oi<<7,on=(on<<8|Qt)>>>0}for(Lt=In,er=_i>>4,Un=0;4>Un;Un+=2){for(Qt=0,In=Qe.la>>4+Un,_i=jn.la>>4+Un,Kn=0;2>Kn;++Kn){for(oi=1&_i,Sn=0;2>Sn;++Sn)Ht=oi+(1&In),In=In>>1|(oi=0<(Ht=ri(yt,ft[2],Ht,dt.Qc,0,$e,Tn)))<<3,Qt=Qt<<2|(3<Ht?3:1<Ht?2:$e[Tn+0]!=0),Tn+=16;In>>=2,_i=_i>>1|oi<<5}nn|=Qt<<4*Un,Lt|=In<<4<<Un,er|=(240&_i)<<Un}Qe.la=Lt,jn.la=er,Dt.Hc=on,Dt.Gc=nn,Dt.ia=43690&nn?0:dt.ia,ft=!(on|nn)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[Ue.$b][Ue.Za],Se.wa[Se.Y+Se.ja].La|=!ft),qe.Ka)return lr(Ne,7,"Premature end-of-file encountered.")}if(Xo(Ne),Se=Ke,qe=1,Ue=(we=Ne).D,Qe=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Ue.M=we.M,Ue.uc=Qe,ya(we,Ue),qe=1,Ue=(Qt=we.D).Nb,Qe=(nn=zs[we.L])*we.R,yt=nn/2*we.B,Kn=16*Ue*we.R,Sn=8*Ue*we.B,ft=we.sa,Dt=we.ta-Qe+Kn,dt=we.qa,$e=we.ra-yt+Sn,Tn=we.Ha,jn=we.Ia-yt+Sn,_i=(In=Qt.M)==0,on=In>=we.Va-1,we.Aa==2&&ya(we,Qt),Qt.uc)for(oi=(Ht=we).D.M,e(Ht.D.uc),Qt=Ht.yb;Qt<Ht.Hb;++Qt){er=Qt,Lt=oi;var Br=(Fr=(vr=Ht).D).Nb;Un=vr.R;var Fr=Fr.wa[Fr.Y+er],Xr=vr.sa,uo=vr.ta+16*Br*Un+16*er,Vn=Fr.dd,Yr=Fr.tc;if(Yr!=0)if(e(3<=Yr),vr.L==1)0<er&&Ls(Xr,uo,Un,Yr+4),Fr.La&&Nr(Xr,uo,Un,Yr),0<Lt&&Tl(Xr,uo,Un,Yr+4),Fr.La&&xu(Xr,uo,Un,Yr);else{var Bo=vr.B,Ll=vr.qa,Tu=vr.ra+8*Br*Bo+8*er,kl=vr.Ha,vr=vr.Ia+8*Br*Bo+8*er;Br=Fr.ld,0<er&&(ss(Xr,uo,Un,Yr+4,Vn,Br),El(Ll,Tu,kl,vr,Bo,Yr+4,Vn,Br)),Fr.La&&(Cl(Xr,uo,Un,Yr,Vn,Br),fc(Ll,Tu,kl,vr,Bo,Yr,Vn,Br)),0<Lt&&(yu(Xr,uo,Un,Yr+4,Vn,Br),cc(Ll,Tu,kl,vr,Bo,Yr+4,Vn,Br)),Fr.La&&(Sl(Xr,uo,Un,Yr,Vn,Br),_u(Ll,Tu,kl,vr,Bo,Yr,Vn,Br))}}if(we.ia&&alert("todo:DitherRow"),Se.put!=null){if(Qt=16*In,In=16*(In+1),_i?(Se.y=we.sa,Se.O=we.ta+Kn,Se.f=we.qa,Se.N=we.ra+Sn,Se.ea=we.Ha,Se.W=we.Ia+Sn):(Qt-=nn,Se.y=ft,Se.O=Dt,Se.f=dt,Se.N=$e,Se.ea=Tn,Se.W=jn),on||(In-=nn),In>Se.o&&(In=Se.o),Se.F=null,Se.J=null,we.Fa!=null&&0<we.Fa.length&&Qt<In&&(Se.J=yl(we,Se,Qt,In-Qt),Se.F=we.mb,Se.F==null&&Se.F.length==0)){qe=lr(we,3,"Could not decode alpha data.");break e}Qt<Se.j&&(nn=Se.j-Qt,Qt=Se.j,e(!(1&nn)),Se.O+=we.R*nn,Se.N+=we.B*(nn>>1),Se.W+=we.B*(nn>>1),Se.F!=null&&(Se.J+=Se.width*nn)),Qt<In&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=Qt-Se.j,Se.U=Se.va-Se.v,Se.T=In-Qt,qe=Se.put(Se))}Ue+1!=we.Ic||on||(r(we.sa,we.ta-Qe,ft,Dt+16*we.R,Qe),r(we.qa,we.ra-yt,dt,$e+8*we.B,yt),r(we.Ha,we.Ia-yt,Tn,jn+8*we.B,yt))}if(!qe)return lr(Ne,6,"Output aborted.")}return 1}(y,E)),E.bc!=null&&E.bc(E),L&=1}return L?(y.cb=0,L):0}function Ai(y,E,L,z,Z){Z=y[E+L+32*z]+(Z>>3),y[E+L+32*z]=-256&Z?0>Z?0:255:Z}function dl(y,E,L,z,Z,te){Ai(y,E,0,L,z+Z),Ai(y,E,1,L,z+te),Ai(y,E,2,L,z-te),Ai(y,E,3,L,z-Z)}function En(y){return(20091*y>>16)+y}function Ei(y,E,L,z){var Z,te=0,re=a(16);for(Z=0;4>Z;++Z){var ae=y[E+0]+y[E+8],ue=y[E+0]-y[E+8],he=(35468*y[E+4]>>16)-En(y[E+12]),xe=En(y[E+4])+(35468*y[E+12]>>16);re[te+0]=ae+xe,re[te+1]=ue+he,re[te+2]=ue-he,re[te+3]=ae-xe,te+=4,E++}for(Z=te=0;4>Z;++Z)ae=(y=re[te+0]+4)+re[te+8],ue=y-re[te+8],he=(35468*re[te+4]>>16)-En(re[te+12]),Ai(L,z,0,0,ae+(xe=En(re[te+4])+(35468*re[te+12]>>16))),Ai(L,z,1,0,ue+he),Ai(L,z,2,0,ue-he),Ai(L,z,3,0,ae-xe),te++,z+=32}function Yo(y,E,L,z){var Z=y[E+0]+4,te=35468*y[E+4]>>16,re=En(y[E+4]),ae=35468*y[E+1]>>16;dl(L,z,0,Z+re,y=En(y[E+1]),ae),dl(L,z,1,Z+te,y,ae),dl(L,z,2,Z-te,y,ae),dl(L,z,3,Z-re,y,ae)}function Ko(y,E,L,z,Z){Ei(y,E,L,z),Z&&Ei(y,E+16,L,z+4)}function Qa(y,E,L,z){ko(y,E+0,L,z,1),ko(y,E+32,L,z+128,1)}function Bn(y,E,L,z){var Z;for(y=y[E+0]+4,Z=0;4>Z;++Z)for(E=0;4>E;++E)Ai(L,z,E,Z,y)}function Qo(y,E,L,z){y[E+0]&&$r(y,E+0,L,z),y[E+16]&&$r(y,E+16,L,z+4),y[E+32]&&$r(y,E+32,L,z+128),y[E+48]&&$r(y,E+48,L,z+128+4)}function pa(y,E,L,z){var Z,te=a(16);for(Z=0;4>Z;++Z){var re=y[E+0+Z]+y[E+12+Z],ae=y[E+4+Z]+y[E+8+Z],ue=y[E+4+Z]-y[E+8+Z],he=y[E+0+Z]-y[E+12+Z];te[0+Z]=re+ae,te[8+Z]=re-ae,te[4+Z]=he+ue,te[12+Z]=he-ue}for(Z=0;4>Z;++Z)re=(y=te[0+4*Z]+3)+te[3+4*Z],ae=te[1+4*Z]+te[2+4*Z],ue=te[1+4*Z]-te[2+4*Z],he=y-te[3+4*Z],L[z+0]=re+ae>>3,L[z+16]=he+ue>>3,L[z+32]=re-ae>>3,L[z+48]=he-ue>>3,z+=64}function To(y,E,L){var z,Z=E-32,te=vi,re=255-y[Z-1];for(z=0;z<L;++z){var ae,ue=te,he=re+y[E-1];for(ae=0;ae<L;++ae)y[E+ae]=ue[he+y[Z+ae]];E+=32}}function ic(y,E){To(y,E,4)}function cu(y,E){To(y,E,8)}function fu(y,E){To(y,E,16)}function Io(y,E){var L;for(L=0;16>L;++L)r(y,E+32*L,y,E-32,16)}function pl(y,E){var L;for(L=16;0<L;--L)i(y,E,y[E-1],16),E+=32}function No(y,E,L){var z;for(z=0;16>z;++z)i(E,L+32*z,y,16)}function Za(y,E){var L,z=16;for(L=0;16>L;++L)z+=y[E-1+32*L]+y[E+L-32];No(z>>5,y,E)}function Jn(y,E){var L,z=8;for(L=0;16>L;++L)z+=y[E-1+32*L];No(z>>4,y,E)}function Ro(y,E){var L,z=8;for(L=0;16>L;++L)z+=y[E+L-32];No(z>>4,y,E)}function Ja(y,E){No(128,y,E)}function Ft(y,E,L){return y+2*E+L+2>>2}function eo(y,E){var L,z=E-32;for(z=new Uint8Array([Ft(y[z-1],y[z+0],y[z+1]),Ft(y[z+0],y[z+1],y[z+2]),Ft(y[z+1],y[z+2],y[z+3]),Ft(y[z+2],y[z+3],y[z+4])]),L=0;4>L;++L)r(y,E+32*L,z,0,z.length)}function ac(y,E){var L=y[E-1],z=y[E-1+32],Z=y[E-1+64],te=y[E-1+96];Ge(y,E+0,16843009*Ft(y[E-1-32],L,z)),Ge(y,E+32,16843009*Ft(L,z,Z)),Ge(y,E+64,16843009*Ft(z,Z,te)),Ge(y,E+96,16843009*Ft(Z,te,te))}function Fi(y,E){var L,z=4;for(L=0;4>L;++L)z+=y[E+L-32]+y[E-1+32*L];for(z>>=3,L=0;4>L;++L)i(y,E+32*L,z,4)}function ga(y,E){var L=y[E-1+0],z=y[E-1+32],Z=y[E-1+64],te=y[E-1-32],re=y[E+0-32],ae=y[E+1-32],ue=y[E+2-32],he=y[E+3-32];y[E+0+96]=Ft(z,Z,y[E-1+96]),y[E+1+96]=y[E+0+64]=Ft(L,z,Z),y[E+2+96]=y[E+1+64]=y[E+0+32]=Ft(te,L,z),y[E+3+96]=y[E+2+64]=y[E+1+32]=y[E+0+0]=Ft(re,te,L),y[E+3+64]=y[E+2+32]=y[E+1+0]=Ft(ae,re,te),y[E+3+32]=y[E+2+0]=Ft(ue,ae,re),y[E+3+0]=Ft(he,ue,ae)}function Ji(y,E){var L=y[E+1-32],z=y[E+2-32],Z=y[E+3-32],te=y[E+4-32],re=y[E+5-32],ae=y[E+6-32],ue=y[E+7-32];y[E+0+0]=Ft(y[E+0-32],L,z),y[E+1+0]=y[E+0+32]=Ft(L,z,Z),y[E+2+0]=y[E+1+32]=y[E+0+64]=Ft(z,Z,te),y[E+3+0]=y[E+2+32]=y[E+1+64]=y[E+0+96]=Ft(Z,te,re),y[E+3+32]=y[E+2+64]=y[E+1+96]=Ft(te,re,ae),y[E+3+64]=y[E+2+96]=Ft(re,ae,ue),y[E+3+96]=Ft(ae,ue,ue)}function to(y,E){var L=y[E-1+0],z=y[E-1+32],Z=y[E-1+64],te=y[E-1-32],re=y[E+0-32],ae=y[E+1-32],ue=y[E+2-32],he=y[E+3-32];y[E+0+0]=y[E+1+64]=te+re+1>>1,y[E+1+0]=y[E+2+64]=re+ae+1>>1,y[E+2+0]=y[E+3+64]=ae+ue+1>>1,y[E+3+0]=ue+he+1>>1,y[E+0+96]=Ft(Z,z,L),y[E+0+64]=Ft(z,L,te),y[E+0+32]=y[E+1+96]=Ft(L,te,re),y[E+1+32]=y[E+2+96]=Ft(te,re,ae),y[E+2+32]=y[E+3+96]=Ft(re,ae,ue),y[E+3+32]=Ft(ae,ue,he)}function ma(y,E){var L=y[E+0-32],z=y[E+1-32],Z=y[E+2-32],te=y[E+3-32],re=y[E+4-32],ae=y[E+5-32],ue=y[E+6-32],he=y[E+7-32];y[E+0+0]=L+z+1>>1,y[E+1+0]=y[E+0+64]=z+Z+1>>1,y[E+2+0]=y[E+1+64]=Z+te+1>>1,y[E+3+0]=y[E+2+64]=te+re+1>>1,y[E+0+32]=Ft(L,z,Z),y[E+1+32]=y[E+0+96]=Ft(z,Z,te),y[E+2+32]=y[E+1+96]=Ft(Z,te,re),y[E+3+32]=y[E+2+96]=Ft(te,re,ae),y[E+3+64]=Ft(re,ae,ue),y[E+3+96]=Ft(ae,ue,he)}function Zo(y,E){var L=y[E-1+0],z=y[E-1+32],Z=y[E-1+64],te=y[E-1+96];y[E+0+0]=L+z+1>>1,y[E+2+0]=y[E+0+32]=z+Z+1>>1,y[E+2+32]=y[E+0+64]=Z+te+1>>1,y[E+1+0]=Ft(L,z,Z),y[E+3+0]=y[E+1+32]=Ft(z,Z,te),y[E+3+32]=y[E+1+64]=Ft(Z,te,te),y[E+3+64]=y[E+2+64]=y[E+0+96]=y[E+1+96]=y[E+2+96]=y[E+3+96]=te}function Oo(y,E){var L=y[E-1+0],z=y[E-1+32],Z=y[E-1+64],te=y[E-1+96],re=y[E-1-32],ae=y[E+0-32],ue=y[E+1-32],he=y[E+2-32];y[E+0+0]=y[E+2+32]=L+re+1>>1,y[E+0+32]=y[E+2+64]=z+L+1>>1,y[E+0+64]=y[E+2+96]=Z+z+1>>1,y[E+0+96]=te+Z+1>>1,y[E+3+0]=Ft(ae,ue,he),y[E+2+0]=Ft(re,ae,ue),y[E+1+0]=y[E+3+32]=Ft(L,re,ae),y[E+1+32]=y[E+3+64]=Ft(z,L,re),y[E+1+64]=y[E+3+96]=Ft(Z,z,L),y[E+1+96]=Ft(te,Z,z)}function hu(y,E){var L;for(L=0;8>L;++L)r(y,E+32*L,y,E-32,8)}function va(y,E){var L;for(L=0;8>L;++L)i(y,E,y[E-1],8),E+=32}function ji(y,E,L){var z;for(z=0;8>z;++z)i(E,L+32*z,y,8)}function no(y,E){var L,z=8;for(L=0;8>L;++L)z+=y[E+L-32]+y[E-1+32*L];ji(z>>4,y,E)}function Gr(y,E){var L,z=4;for(L=0;8>L;++L)z+=y[E+L-32];ji(z>>3,y,E)}function hn(y,E){var L,z=4;for(L=0;8>L;++L)z+=y[E-1+32*L];ji(z>>3,y,E)}function Jo(y,E){ji(128,y,E)}function ro(y,E,L){var z=y[E-L],Z=y[E+0],te=3*(Z-z)+ph[1020+y[E-2*L]-y[E+L]],re=wu[112+(te+4>>3)];y[E-L]=vi[255+z+wu[112+(te+3>>3)]],y[E+0]=vi[255+Z-re]}function du(y,E,L,z){var Z=y[E+0],te=y[E+L];return so[255+y[E-2*L]-y[E-L]]>z||so[255+te-Z]>z}function Cs(y,E,L,z){return 4*so[255+y[E-L]-y[E+0]]+so[255+y[E-2*L]-y[E+L]]<=z}function Ts(y,E,L,z,Z){var te=y[E-3*L],re=y[E-2*L],ae=y[E-L],ue=y[E+0],he=y[E+L],xe=y[E+2*L],Pe=y[E+3*L];return 4*so[255+ae-ue]+so[255+re-he]>z?0:so[255+y[E-4*L]-te]<=Z&&so[255+te-re]<=Z&&so[255+re-ae]<=Z&&so[255+Pe-xe]<=Z&&so[255+xe-he]<=Z&&so[255+he-ue]<=Z}function Va(y,E,L,z){var Z=2*z+1;for(z=0;16>z;++z)Cs(y,E+z,L,Z)&&ro(y,E+z,L)}function Ui(y,E,L,z){var Z=2*z+1;for(z=0;16>z;++z)Cs(y,E+z*L,1,Z)&&ro(y,E+z*L,1)}function Wr(y,E,L,z){var Z;for(Z=3;0<Z;--Z)Va(y,E+=4*L,L,z)}function oc(y,E,L,z){var Z;for(Z=3;0<Z;--Z)Ui(y,E+=4,L,z)}function es(y,E,L,z,Z,te,re,ae){for(te=2*te+1;0<Z--;){if(Ts(y,E,L,te,re))if(du(y,E,L,ae))ro(y,E,L);else{var ue=y,he=E,xe=L,Pe=ue[he-2*xe],Oe=ue[he-xe],Ne=ue[he+0],Ke=ue[he+xe],Ue=ue[he+2*xe],we=27*(qe=ph[1020+3*(Ne-Oe)+ph[1020+Pe-Ke]])+63>>7,Se=18*qe+63>>7,qe=9*qe+63>>7;ue[he-3*xe]=vi[255+ue[he-3*xe]+qe],ue[he-2*xe]=vi[255+Pe+Se],ue[he-xe]=vi[255+Oe+we],ue[he+0]=vi[255+Ne-we],ue[he+xe]=vi[255+Ke-Se],ue[he+2*xe]=vi[255+Ue-qe]}E+=z}}function Si(y,E,L,z,Z,te,re,ae){for(te=2*te+1;0<Z--;){if(Ts(y,E,L,te,re))if(du(y,E,L,ae))ro(y,E,L);else{var ue=y,he=E,xe=L,Pe=ue[he-xe],Oe=ue[he+0],Ne=ue[he+xe],Ke=wu[112+((Ue=3*(Oe-Pe))+4>>3)],Ue=wu[112+(Ue+3>>3)],we=Ke+1>>1;ue[he-2*xe]=vi[255+ue[he-2*xe]+we],ue[he-xe]=vi[255+Pe+Ue],ue[he+0]=vi[255+Oe-Ke],ue[he+xe]=vi[255+Ne-we]}E+=z}}function ts(y,E,L,z,Z,te){es(y,E,L,1,16,z,Z,te)}function Do(y,E,L,z,Z,te){es(y,E,1,L,16,z,Z,te)}function gl(y,E,L,z,Z,te){var re;for(re=3;0<re;--re)Si(y,E+=4*L,L,1,16,z,Z,te)}function Is(y,E,L,z,Z,te){var re;for(re=3;0<re;--re)Si(y,E+=4,1,L,16,z,Z,te)}function ml(y,E,L,z,Z,te,re,ae){es(y,E,Z,1,8,te,re,ae),es(L,z,Z,1,8,te,re,ae)}function pu(y,E,L,z,Z,te,re,ae){es(y,E,1,Z,8,te,re,ae),es(L,z,1,Z,8,te,re,ae)}function Ns(y,E,L,z,Z,te,re,ae){Si(y,E+4*Z,Z,1,8,te,re,ae),Si(L,z+4*Z,Z,1,8,te,re,ae)}function ns(y,E,L,z,Z,te,re,ae){Si(y,E+4,1,Z,8,te,re,ae),Si(L,z+4,1,Z,8,te,re,ae)}function Rs(){this.ba=new Lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Os(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rs(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new P}function sc(){this.xb=this.a=0,this.l=new Co,this.ca=new Lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rs,this.ab=0,this.gc=o(4,Os),this.Oc=0}function Po(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Co,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function is(y,E,L,z,Z,te,re){for(y=y==null?0:y[E+0],E=0;E<re;++E)Z[te+E]=y+L[z+E]&255,y=Z[te+E]}function Ds(y,E,L,z,Z,te,re){var ae;if(y==null)is(null,null,L,z,Z,te,re);else for(ae=0;ae<re;++ae)Z[te+ae]=y[E+ae]+L[z+ae]&255}function Vi(y,E,L,z,Z,te,re){if(y==null)is(null,null,L,z,Z,te,re);else{var ae,ue=y[E+0],he=ue,xe=ue;for(ae=0;ae<re;++ae)he=xe+(ue=y[E+ae])-he,xe=L[z+ae]+(-256&he?0>he?0:255:he)&255,he=ue,Z[te+ae]=xe}}function yl(y,E,L,z){var Z=E.width,te=E.o;if(e(y!=null&&E!=null),0>L||0>=z||L+z>te)return null;if(!y.Cc){if(y.ga==null){var re;if(y.ga=new Po,(re=y.ga==null)||(re=E.width*E.o,e(y.Gb.length==0),y.Gb=a(re),y.Uc=0,y.Gb==null?re=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,re=1),re=!re),!re){re=y.ga;var ae=y.Fa,ue=y.P,he=y.qc,xe=y.mb,Pe=y.nb,Oe=ue+1,Ne=he-1,Ke=re.l;if(e(ae!=null&&xe!=null&&E!=null),cs[0]=null,cs[1]=is,cs[2]=Ds,cs[3]=Vi,re.ca=xe,re.tb=Pe,re.c=E.width,re.i=E.height,e(0<re.c&&0<re.i),1>=he)E=0;else if(re.$a=ae[ue+0]>>0&3,re.Z=ae[ue+0]>>2&3,re.Lc=ae[ue+0]>>4&3,ue=ae[ue+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ue)E=0;else if(Ke.put=dr,Ke.ac=kn,Ke.bc=Fa,Ke.ma=re,Ke.width=E.width,Ke.height=E.height,Ke.Da=E.Da,Ke.v=E.v,Ke.va=E.va,Ke.j=E.j,Ke.o=E.o,re.$a)e:{e(re.$a==1),E=sr();t:for(;;){if(E==null){E=0;break e}if(e(re!=null),re.mc=E,E.c=re.c,E.i=re.i,E.l=re.l,E.l.ma=re,E.l.width=re.c,E.l.height=re.i,E.a=0,ie(E.m,ae,Oe,Ne),!Mn(re.c,re.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&Zi(E.s)?(re.ic=1,ae=E.c*E.i,E.Ta=null,E.Ua=0,E.V=a(ae),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(re.ic=0,E=Ao(E,re.c)),!E))break t;E=1;break e}re.mc=null,E=0}else E=Ne>=re.c*re.i;re=!E}if(re)return null;y.ga.Lc!=1?y.Ga=0:z=te-L}e(y.ga!=null),e(L+z<=te);e:{if(E=(ae=y.ga).c,te=ae.l.o,ae.$a==0){if(Oe=y.rc,Ne=y.Vc,Ke=y.Fa,ue=y.P+1+L*E,he=y.mb,xe=y.nb+L*E,e(ue<=y.P+y.qc),ae.Z!=0)for(e(cs[ae.Z]!=null),re=0;re<z;++re)cs[ae.Z](Oe,Ne,Ke,ue,he,xe,E),Oe=he,Ne=xe,xe+=E,ue+=E;else for(re=0;re<z;++re)r(he,xe,Ke,ue,E),Oe=he,Ne=xe,xe+=E,ue+=E;y.rc=Oe,y.Vc=Ne}else{if(e(ae.mc!=null),E=L+z,e((re=ae.mc)!=null),e(E<=re.i),re.C>=E)E=1;else if(ae.ic||Ie(),ae.ic){ae=re.V,Oe=re.Ba,Ne=re.c;var Ue=re.i,we=(Ke=1,ue=re.$/Ne,he=re.$%Ne,xe=re.m,Pe=re.s,re.$),Se=Ne*Ue,qe=Ne*E,Qe=Pe.wc,$e=we<qe?Tr(Pe,he,ue):null;e(we<=Se),e(E<=Ue),e(Zi(Pe));t:for(;;){for(;!xe.h&&we<qe;){if(he&Qe||($e=Tr(Pe,he,ue)),e($e!=null),de(xe),256>(Ue=pr($e.G[0],$e.H[0],xe)))ae[Oe+we]=Ue,++we,++he>=Ne&&(he=0,++ue<=E&&!(ue%16)&&Jr(re,ue));else{if(!(280>Ue)){Ke=0;break t}Ue=Hn(Ue-256,xe);var yt,ft=pr($e.G[4],$e.H[4],xe);if(de(xe),!(we>=(ft=Gn(Ne,ft=Hn(ft,xe)))&&Se-we>=Ue)){Ke=0;break t}for(yt=0;yt<Ue;++yt)ae[Oe+we+yt]=ae[Oe+we+yt-ft];for(we+=Ue,he+=Ue;he>=Ne;)he-=Ne,++ue<=E&&!(ue%16)&&Jr(re,ue);we<qe&&he&Qe&&($e=Tr(Pe,he,ue))}e(xe.h==ee(xe))}Jr(re,ue>E?E:ue);break t}!Ke||xe.h&&we<Se?(Ke=0,re.a=xe.h?5:3):re.$=we,E=Ke}else E=Hr(re,re.V,re.Ba,re.c,re.i,E,Eo);if(!E){z=0;break e}}L+z>=te&&(y.Cc=1),z=1}if(!z)return null;if(y.Cc&&((z=y.ga)!=null&&(z.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+L*Z}function R(y,E,L,z,Z,te){for(;0<Z--;){var re,ae=y,ue=E+(L?1:0),he=y,xe=E+(L?0:3);for(re=0;re<z;++re){var Pe=he[xe+4*re];Pe!=255&&(Pe*=32897,ae[ue+4*re+0]=ae[ue+4*re+0]*Pe>>23,ae[ue+4*re+1]=ae[ue+4*re+1]*Pe>>23,ae[ue+4*re+2]=ae[ue+4*re+2]*Pe>>23)}E+=te}}function J(y,E,L,z,Z){for(;0<z--;){var te;for(te=0;te<L;++te){var re=y[E+2*te+0],ae=15&(he=y[E+2*te+1]),ue=4369*ae,he=(240&he|he>>4)*ue>>16;y[E+2*te+0]=(240&re|re>>4)*ue>>16&240|(15&re|re<<4)*ue>>16>>4&15,y[E+2*te+1]=240&he|ae}E+=Z}}function pe(y,E,L,z,Z,te,re,ae){var ue,he,xe=255;for(he=0;he<Z;++he){for(ue=0;ue<z;++ue){var Pe=y[E+ue];te[re+4*ue]=Pe,xe&=Pe}E+=L,re+=ae}return xe!=255}function _e(y,E,L,z,Z){var te;for(te=0;te<Z;++te)L[z+te]=y[E+te]>>8}function Ie(){za=R,ln=J,un=pe,ur=_e}function Ve(y,E,L){A[y]=function(z,Z,te,re,ae,ue,he,xe,Pe,Oe,Ne,Ke,Ue,we,Se,qe,Qe){var $e,yt=Qe-1>>1,ft=ae[ue+0]|he[xe+0]<<16,Dt=Pe[Oe+0]|Ne[Ke+0]<<16;e(z!=null);var dt=3*ft+Dt+131074>>2;for(E(z[Z+0],255&dt,dt>>16,Ue,we),te!=null&&(dt=3*Dt+ft+131074>>2,E(te[re+0],255&dt,dt>>16,Se,qe)),$e=1;$e<=yt;++$e){var Tn=ae[ue+$e]|he[xe+$e]<<16,jn=Pe[Oe+$e]|Ne[Ke+$e]<<16,on=ft+Tn+Dt+jn+524296,nn=on+2*(Tn+Dt)>>3;dt=nn+ft>>1,ft=(on=on+2*(ft+jn)>>3)+Tn>>1,E(z[Z+2*$e-1],255&dt,dt>>16,Ue,we+(2*$e-1)*L),E(z[Z+2*$e-0],255&ft,ft>>16,Ue,we+(2*$e-0)*L),te!=null&&(dt=on+Dt>>1,ft=nn+jn>>1,E(te[re+2*$e-1],255&dt,dt>>16,Se,qe+(2*$e-1)*L),E(te[re+2*$e+0],255&ft,ft>>16,Se,qe+(2*$e+0)*L)),ft=Tn,Dt=jn}1&Qe||(dt=3*ft+Dt+131074>>2,E(z[Z+Qe-1],255&dt,dt>>16,Ue,we+(Qe-1)*L),te!=null&&(dt=3*Dt+ft+131074>>2,E(te[re+Qe-1],255&dt,dt>>16,Se,qe+(Qe-1)*L)))}}function tt(){yi[zi]=Vs,yi[hc]=fs,yi[ls]=Dl,yi[yf]=vh,yi[bu]=yh,yi[Ms]=gc,yi[gh]=_h,yi[_f]=fs,yi[Rl]=vh,yi[Bs]=yh,yi[dc]=gc}function ht(y){return y&-16384?0>y?0:255:y>>L2}function _(y,E){return ht((19077*y>>8)+(26149*E>>8)-14234)}function B(y,E,L){return ht((19077*y>>8)-(6419*E>>8)-(13320*L>>8)+8708)}function G(y,E){return ht((19077*y>>8)+(33050*E>>8)-17685)}function oe(y,E,L,z,Z){z[Z+0]=_(y,L),z[Z+1]=B(y,E,L),z[Z+2]=G(y,E)}function Ce(y,E,L,z,Z){z[Z+0]=G(y,E),z[Z+1]=B(y,E,L),z[Z+2]=_(y,L)}function Le(y,E,L,z,Z){var te=B(y,E,L);E=te<<3&224|G(y,E)>>3,z[Z+0]=248&_(y,L)|te>>5,z[Z+1]=E}function nt(y,E,L,z,Z){var te=240&G(y,E)|15;z[Z+0]=240&_(y,L)|B(y,E,L)>>4,z[Z+1]=te}function jt(y,E,L,z,Z){z[Z+0]=255,oe(y,E,L,z,Z+1)}function dn(y,E,L,z,Z){Ce(y,E,L,z,Z),z[Z+3]=255}function Kt(y,E,L,z,Z){oe(y,E,L,z,Z),z[Z+3]=255}function Fn(y,E){return 0>y?0:y>E?E:y}function Yn(y,E,L){A[y]=function(z,Z,te,re,ae,ue,he,xe,Pe){for(var Oe=xe+(-2&Pe)*L;xe!=Oe;)E(z[Z+0],te[re+0],ae[ue+0],he,xe),E(z[Z+1],te[re+0],ae[ue+0],he,xe+L),Z+=2,++re,++ue,xe+=2*L;1&Pe&&E(z[Z+0],te[re+0],ae[ue+0],he,xe)}}function io(y,E,L){return L==0?y==0?E==0?6:5:E==0?4:0:L}function kr(y,E,L,z,Z){switch(y>>>30){case 3:ko(E,L,z,Z,0);break;case 2:Ir(E,L,z,Z);break;case 1:$r(E,L,z,Z)}}function ya(y,E){var L,z,Z=E.M,te=E.Nb,re=y.oc,ae=y.pc+40,ue=y.oc,he=y.pc+584,xe=y.oc,Pe=y.pc+600;for(L=0;16>L;++L)re[ae+32*L-1]=129;for(L=0;8>L;++L)ue[he+32*L-1]=129,xe[Pe+32*L-1]=129;for(0<Z?re[ae-1-32]=ue[he-1-32]=xe[Pe-1-32]=129:(i(re,ae-32-1,127,21),i(ue,he-32-1,127,9),i(xe,Pe-32-1,127,9)),z=0;z<y.za;++z){var Oe=E.ya[E.aa+z];if(0<z){for(L=-1;16>L;++L)r(re,ae+32*L-4,re,ae+32*L+12,4);for(L=-1;8>L;++L)r(ue,he+32*L-4,ue,he+32*L+4,4),r(xe,Pe+32*L-4,xe,Pe+32*L+4,4)}var Ne=y.Gd,Ke=y.Hd+z,Ue=Oe.ad,we=Oe.Hc;if(0<Z&&(r(re,ae-32,Ne[Ke].y,0,16),r(ue,he-32,Ne[Ke].f,0,8),r(xe,Pe-32,Ne[Ke].ea,0,8)),Oe.Za){var Se=re,qe=ae-32+16;for(0<Z&&(z>=y.za-1?i(Se,qe,Ne[Ke].y[15],4):r(Se,qe,Ne[Ke+1].y,0,4)),L=0;4>L;L++)Se[qe+128+L]=Se[qe+256+L]=Se[qe+384+L]=Se[qe+0+L];for(L=0;16>L;++L,we<<=2)Se=re,qe=ae+Cu[L],ta[Oe.Ob[L]](Se,qe),kr(we,Ue,16*+L,Se,qe)}else if(Se=io(z,Z,Oe.Ob[0]),Us[Se](re,ae),we!=0)for(L=0;16>L;++L,we<<=2)kr(we,Ue,16*+L,re,ae+Cu[L]);for(L=Oe.Gc,Se=io(z,Z,Oe.Dd),Ha[Se](ue,he),Ha[Se](xe,Pe),we=Ue,Se=ue,qe=he,255&(Oe=L>>0)&&(170&Oe?Mo(we,256,Se,qe):wa(we,256,Se,qe)),Oe=xe,we=Pe,255&(L>>=8)&&(170&L?Mo(Ue,320,Oe,we):wa(Ue,320,Oe,we)),Z<y.Ub-1&&(r(Ne[Ke].y,0,re,ae+480,16),r(Ne[Ke].f,0,ue,he+224,8),r(Ne[Ke].ea,0,xe,Pe+224,8)),L=8*te*y.B,Ne=y.sa,Ke=y.ta+16*z+16*te*y.R,Ue=y.qa,Oe=y.ra+8*z+L,we=y.Ha,Se=y.Ia+8*z+L,L=0;16>L;++L)r(Ne,Ke+L*y.R,re,ae+32*L,16);for(L=0;8>L;++L)r(Ue,Oe+L*y.B,ue,he+32*L,8),r(we,Se+L*y.B,xe,Pe+32*L,8)}}function as(y,E,L,z,Z,te,re,ae,ue){var he=[0],xe=[0],Pe=0,Oe=ue!=null?ue.kd:0,Ne=ue??new vl;if(y==null||12>L)return 7;Ne.data=y,Ne.w=E,Ne.ha=L,E=[E],L=[L],Ne.gb=[Ne.gb];e:{var Ke=E,Ue=L,we=Ne.gb;if(e(y!=null),e(Ue!=null),e(we!=null),we[0]=0,12<=Ue[0]&&!t(y,Ke[0],"RIFF")){if(t(y,Ke[0]+8,"WEBP")){we=3;break e}var Se=st(y,Ke[0]+4);if(12>Se||4294967286<Se){we=3;break e}if(Oe&&Se>Ue[0]-8){we=7;break e}we[0]=Se,Ke[0]+=12,Ue[0]-=12}we=0}if(we!=0)return we;for(Se=0<Ne.gb[0],L=L[0];;){e:{var qe=y;Ue=E,we=L;var Qe=he,$e=xe,yt=Ke=[0];if((dt=Pe=[Pe])[0]=0,8>we[0])we=7;else{if(!t(qe,Ue[0],"VP8X")){if(st(qe,Ue[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var ft=st(qe,Ue[0]+8),Dt=1+rt(qe,Ue[0]+12);if(2147483648<=Dt*(qe=1+rt(qe,Ue[0]+15))){we=3;break e}yt!=null&&(yt[0]=ft),Qe!=null&&(Qe[0]=Dt),$e!=null&&($e[0]=qe),Ue[0]+=18,we[0]-=18,dt[0]=1}we=0}}if(Pe=Pe[0],Ke=Ke[0],we!=0)return we;if(Ue=!!(2&Ke),!Se&&Pe)return 3;if(te!=null&&(te[0]=!!(16&Ke)),re!=null&&(re[0]=Ue),ae!=null&&(ae[0]=0),re=he[0],Ke=xe[0],Pe&&Ue&&ue==null){we=0;break}if(4>L){we=7;break}if(Se&&Pe||!Se&&!Pe&&!t(y,E[0],"ALPH")){L=[L],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{ft=y,we=E,Se=L;var dt=Ne.gb;Qe=Ne.na,$e=Ne.P,yt=Ne.Sa,Dt=22,e(ft!=null),e(Se!=null),qe=we[0];var Tn=Se[0];for(e(Qe!=null),e(yt!=null),Qe[0]=null,$e[0]=null,yt[0]=0;;){if(we[0]=qe,Se[0]=Tn,8>Tn){we=7;break e}var jn=st(ft,qe+4);if(4294967286<jn){we=3;break e}var on=8+jn+1&-2;if(Dt+=on,0<dt&&Dt>dt){we=3;break e}if(!t(ft,qe,"VP8 ")||!t(ft,qe,"VP8L")){we=0;break e}if(Tn[0]<on){we=7;break e}t(ft,qe,"ALPH")||(Qe[0]=ft,$e[0]=qe+8,yt[0]=jn),qe+=on,Tn-=on}}if(L=L[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],we!=0)break}L=[L],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(dt=y,we=E,Se=L,Qe=Ne.gb[0],$e=Ne.Ja,yt=Ne.xa,ft=we[0],qe=!t(dt,ft,"VP8 "),Dt=!t(dt,ft,"VP8L"),e(dt!=null),e(Se!=null),e($e!=null),e(yt!=null),8>Se[0])we=7;else{if(qe||Dt){if(dt=st(dt,ft+4),12<=Qe&&dt>Qe-12){we=3;break e}if(Oe&&dt>Se[0]-8){we=7;break e}$e[0]=dt,we[0]+=8,Se[0]-=8,yt[0]=Dt}else yt[0]=5<=Se[0]&&dt[ft+0]==47&&!(dt[ft+4]>>5),$e[0]=Se[0];we=0}if(L=L[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],E=E[0],we!=0)break;if(4294967286<Ne.Ja)return 3;if(ae==null||Ue||(ae[0]=Ne.xa?2:1),re=[re],Ke=[Ke],Ne.xa){if(5>L){we=7;break}ae=re,Oe=Ke,Ue=te,y==null||5>L?y=0:5<=L&&y[E+0]==47&&!(y[E+4]>>5)?(Se=[0],dt=[0],Qe=[0],ie($e=new H,y,E,L),vt($e,Se,dt,Qe)?(ae!=null&&(ae[0]=Se[0]),Oe!=null&&(Oe[0]=dt[0]),Ue!=null&&(Ue[0]=Qe[0]),y=1):y=0):y=0}else{if(10>L){we=7;break}ae=Ke,y==null||10>L||!gi(y,E+3,L-3)?y=0:(Oe=y[E+0]|y[E+1]<<8|y[E+2]<<16,Ue=16383&(y[E+7]<<8|y[E+6]),y=16383&(y[E+9]<<8|y[E+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Ne.Ja||!Ue||!y?y=0:(re&&(re[0]=Ue),ae&&(ae[0]=y),y=1))}if(!y||(re=re[0],Ke=Ke[0],Pe&&(he[0]!=re||xe[0]!=Ke)))return 3;ue!=null&&(ue[0]=Ne,ue.offset=E-ue.w,e(4294967286>E-ue.w),e(ue.offset==ue.ha-L));break}return we==0||we==7&&Pe&&ue==null?(te!=null&&(te[0]|=Ne.na!=null&&0<Ne.na.length),z!=null&&(z[0]=re),Z!=null&&(Z[0]=Ke),0):we}function _l(y,E,L){var z=E.width,Z=E.height,te=0,re=0,ae=z,ue=Z;if(E.Da=y!=null&&0<y.Da,E.Da&&(ae=y.cd,ue=y.bd,te=y.v,re=y.j,11>L||(te&=-2,re&=-2),0>te||0>re||0>=ae||0>=ue||te+ae>z||re+ue>Z))return 0;if(E.v=te,E.j=re,E.va=te+ae,E.o=re+ue,E.U=ae,E.T=ue,E.da=y!=null&&0<y.da,E.da){if(!gt(ae,ue,L=[y.ib],te=[y.hb]))return 0;E.ib=L[0],E.hb=te[0]}return E.ob=y!=null&&y.ob,E.Kb=y==null||!y.Sd,E.da&&(E.ob=E.ib<3*z/4&&E.hb<3*Z/4,E.Kb=0),1}function lc(y){if(y==null)return 2;if(11>y.S){var E=y.f.RGBA;E.fb+=(y.height-1)*E.A,E.A=-E.A}else E=y.f.kb,y=y.height,E.O+=(y-1)*E.fa,E.fa=-E.fa,E.N+=(y-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(y-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(y-1)*E.lb,E.lb=-E.lb);return 0}function gu(y,E,L,z){if(z==null||0>=y||0>=E)return 2;if(L!=null){if(L.Da){var Z=L.cd,te=L.bd,re=-2&L.v,ae=-2&L.j;if(0>re||0>ae||0>=Z||0>=te||re+Z>y||ae+te>E)return 2;y=Z,E=te}if(L.da){if(!gt(y,E,Z=[L.ib],te=[L.hb]))return 2;y=Z[0],E=te[0]}}z.width=y,z.height=E;e:{var ue=z.width,he=z.height;if(y=z.S,0>=ue||0>=he||!(y>=zi&&13>y))y=2;else{if(0>=z.Rd&&z.sd==null){re=te=Z=E=0;var xe=(ae=ue*N0[y])*he;if(11>y||(te=(he+1)/2*(E=(ue+1)/2),y==12&&(re=(Z=ue)*he)),(he=a(xe+2*te+re))==null){y=1;break e}z.sd=he,11>y?((ue=z.f.RGBA).eb=he,ue.fb=0,ue.A=ae,ue.size=xe):((ue=z.f.kb).y=he,ue.O=0,ue.fa=ae,ue.Fd=xe,ue.f=he,ue.N=0+xe,ue.Ab=E,ue.Cd=te,ue.ea=he,ue.W=0+xe+te,ue.Db=E,ue.Ed=te,y==12&&(ue.F=he,ue.J=0+xe+2*te),ue.Tc=re,ue.lb=Z)}if(E=1,Z=z.S,te=z.width,re=z.height,Z>=zi&&13>Z)if(11>Z)y=z.f.RGBA,E&=(ae=Math.abs(y.A))*(re-1)+te<=y.size,E&=ae>=te*N0[Z],E&=y.eb!=null;else{y=z.f.kb,ae=(te+1)/2,xe=(re+1)/2,ue=Math.abs(y.fa),he=Math.abs(y.Ab);var Pe=Math.abs(y.Db),Oe=Math.abs(y.lb),Ne=Oe*(re-1)+te;E&=ue*(re-1)+te<=y.Fd,E&=he*(xe-1)+ae<=y.Cd,E=(E&=Pe*(xe-1)+ae<=y.Ed)&ue>=te&he>=ae&Pe>=ae,E&=y.y!=null,E&=y.f!=null,E&=y.ea!=null,Z==12&&(E&=Oe>=te,E&=Ne<=y.Tc,E&=y.F!=null)}else E=0;y=E?0:2}}return y!=0||L!=null&&L.fd&&(y=lc(z)),y}var ni=64,xl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],mu=24,vu=32,uc=8,_a=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(y){return y},A.Predictor2=function(y,E,L){return E[L+0]},A.Predictor3=function(y,E,L){return E[L+1]},A.Predictor4=function(y,E,L){return E[L-1]},A.Predictor5=function(y,E,L){return ot(ot(y,E[L+1]),E[L+0])},A.Predictor6=function(y,E,L){return ot(y,E[L-1])},A.Predictor7=function(y,E,L){return ot(y,E[L+0])},A.Predictor8=function(y,E,L){return ot(E[L-1],E[L+0])},A.Predictor9=function(y,E,L){return ot(E[L+0],E[L+1])},A.Predictor10=function(y,E,L){return ot(ot(y,E[L-1]),ot(E[L+0],E[L+1]))},A.Predictor11=function(y,E,L){var z=E[L+0];return 0>=Nt(z>>24&255,y>>24&255,(E=E[L-1])>>24&255)+Nt(z>>16&255,y>>16&255,E>>16&255)+Nt(z>>8&255,y>>8&255,E>>8&255)+Nt(255&z,255&y,255&E)?z:y},A.Predictor12=function(y,E,L){var z=E[L+0];return(ct((y>>24&255)+(z>>24&255)-((E=E[L-1])>>24&255))<<24|ct((y>>16&255)+(z>>16&255)-(E>>16&255))<<16|ct((y>>8&255)+(z>>8&255)-(E>>8&255))<<8|ct((255&y)+(255&z)-(255&E)))>>>0},A.Predictor13=function(y,E,L){var z=E[L-1];return(mt((y=ot(y,E[L+0]))>>24&255,z>>24&255)<<24|mt(y>>16&255,z>>16&255)<<16|mt(y>>8&255,z>>8&255)<<8|mt(y>>0&255,z>>0&255))>>>0};var Od=A.PredictorAdd0;A.PredictorAdd1=xt,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var mf=A.PredictorAdd2;Ot("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var dh,ao=A.ColorIndexInverseTransform,mi=A.MapARGB,wl=A.VP8LColorIndexInverseTransformAlpha,vf=A.MapAlpha,Ps=A.VP8LPredictorsAdd=[];Ps.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var bl,ea,Ci,Al,xa,Lo,os,ko,Ir,Mo,$r,wa,yu,ss,cc,El,Sl,Cl,_u,fc,Tl,Ls,xu,Nr,za,ln,un,ur,Mr=a(511),oo=a(2041),Il=a(225),Nl=a(767),ks=0,ph=oo,wu=Il,vi=Nl,so=Mr,zi=0,hc=1,ls=2,yf=3,bu=4,Ms=5,gh=6,_f=7,Rl=8,Bs=9,dc=10,mh=[2,3,7],lo=[3,3,11],qa=[280,256,256,256,40],Au=[0,1,1,1,0],Fs=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],js=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Eu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],E0=8,xf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],wf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,Rr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ol=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],us=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Dd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Su=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],S0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Us=[],ta=[],Ha=[],C0=1,pc=2,cs=[],yi=[];Ve("UpsampleRgbLinePair",oe,3),Ve("UpsampleBgrLinePair",Ce,3),Ve("UpsampleRgbaLinePair",Kt,4),Ve("UpsampleBgraLinePair",dn,4),Ve("UpsampleArgbLinePair",jt,4),Ve("UpsampleRgba4444LinePair",nt,2),Ve("UpsampleRgb565LinePair",Le,2);var Vs=A.UpsampleRgbLinePair,Dl=A.UpsampleBgrLinePair,fs=A.UpsampleRgbaLinePair,vh=A.UpsampleBgraLinePair,yh=A.UpsampleArgbLinePair,gc=A.UpsampleRgba4444LinePair,_h=A.UpsampleRgb565LinePair,hs=16,ii=1<<hs-1,Pl=-227,xh=482,L2=6,T0=0,k2=a(256),ai=a(256),Pd=a(256),bf=a(256),Af=a(xh-Pl),Ld=a(xh-Pl);Yn("YuvToRgbRow",oe,3),Yn("YuvToBgrRow",Ce,3),Yn("YuvToRgbaRow",Kt,4),Yn("YuvToBgraRow",dn,4),Yn("YuvToArgbRow",jt,4),Yn("YuvToRgba4444Row",nt,2),Yn("YuvToRgb565Row",Le,2);var Cu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zs=[0,2,8],M2=[8,7,6,4,4,2,2,2,1,1,1,1],I0=1;this.WebPDecodeRGBA=function(y,E,L,z,Z){var te=hc,re=new Rs,ae=new Lr;re.ba=ae,ae.S=te,ae.width=[ae.width],ae.height=[ae.height];var ue=ae.width,he=ae.height,xe=new or;if(xe==null||y==null)var Pe=2;else e(xe!=null),Pe=as(y,E,L,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Pe!=0?ue=0:(ue!=null&&(ue[0]=xe.width[0]),he!=null&&(he[0]=xe.height[0]),ue=1),ue){ae.width=ae.width[0],ae.height=ae.height[0],z!=null&&(z[0]=ae.width),Z!=null&&(Z[0]=ae.height);e:{if(z=new Co,(Z=new vl).data=y,Z.w=E,Z.ha=L,Z.kd=1,E=[0],e(Z!=null),((y=as(Z.data,Z.w,Z.ha,null,null,null,E,null,Z))==0||y==7)&&E[0]&&(y=4),(E=y)==0){if(e(re!=null),z.data=Z.data,z.w=Z.w+Z.offset,z.ha=Z.ha-Z.offset,z.put=dr,z.ac=kn,z.bc=Fa,z.ma=re,Z.xa){if((y=sr())==null){re=1;break e}if(function(Oe,Ne){var Ke=[0],Ue=[0],we=[0];t:for(;;){if(Oe==null)return 0;if(Ne==null)return Oe.a=2,0;if(Oe.l=Ne,Oe.a=0,ie(Oe.m,Ne.data,Ne.w,Ne.ha),!vt(Oe.m,Ke,Ue,we)){Oe.a=3;break t}if(Oe.xb=pc,Ne.width=Ke[0],Ne.height=Ue[0],!Mn(Ke[0],Ue[0],1,Oe,null))break t;return 1}return e(Oe.a!=0),0}(y,z)){if(z=(E=gu(z.width,z.height,re.Oa,re.ba))==0){t:{z=y;n:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((L=z.l)!=null),e((Z=L.ma)!=null),z.xb!=0){if(z.ca=Z.ba,z.tb=Z.tb,e(z.ca!=null),!_l(Z.Oa,L,yf)){z.a=2;break n}if(!Ao(z,L.width)||L.da)break n;if((L.da||an(z.ca.S))&&Ie(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Ie()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!wt(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!Hr(z,z.V,z.Ba,z.c,z.i,L.o,As))break n;Z.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(E=y.a)}else E=y.a}else{if((y=new lu)==null){re=1;break e}if(y.Fa=Z.na,y.P=Z.P,y.qc=Z.Sa,hl(y,z)){if((E=gu(z.width,z.height,re.Oa,re.ba))==0){if(y.Aa=0,L=re.Oa,e((Z=y)!=null),L!=null){if(0<(ue=0>(ue=L.Md)?0:100<ue?255:255*ue/100)){for(he=xe=0;4>he;++he)12>(Pe=Z.pb[he]).lc&&(Pe.ia=ue*M2[0>Pe.lc?0:Pe.lc]>>3),xe|=Pe.ia;xe&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=L.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}uu(y,z)||(E=y.a)}}else E=y.a}E==0&&re.Oa!=null&&re.Oa.fd&&(E=lc(re.ba))}re=E}te=re!=0?null:11>te?ae.f.RGBA.eb:ae.f.kb.y}else te=null;return te};var N0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(A,T){for(var F="",O=0;O<4;O++)F+=String.fromCharCode(A[T++]);return F}function h(A,T){return(A[T+0]<<0|A[T+1]<<8|A[T+2]<<16)>>>0}function p(A,T){return(A[T+0]<<0|A[T+1]<<8|A[T+2]<<16|A[T+3]<<24)>>>0}new u;var g=[0],m=[0],x=[],b=new u,S=n,C=function(A,T){var F={},O=0,P=!1,j=0,Y=0;if(F.frames=[],!function(Q,ee,ne,de){for(var Ee=0;Ee<de;Ee++)if(Q[ee+Ee]!=ne.charCodeAt(Ee))return!0;return!1}(A,T,"RIFF",4)){for(p(A,T+=4),T+=8;T<A.length;){var le=f(A,T),U=p(A,T+=4);T+=4;var q=U+(1&U);switch(le){case"VP8 ":case"VP8L":F.frames[O]===void 0&&(F.frames[O]={}),(W=F.frames[O]).src_off=P?Y:T-8,W.src_size=j+U+8,O++,P&&(P=!1,j=0,Y=0);break;case"VP8X":(W=F.header={}).feature_flags=A[T];var ie=T+4;W.canvas_width=1+h(A,ie),ie+=3,W.canvas_height=1+h(A,ie),ie+=3;break;case"ALPH":P=!0,j=q+8,Y=T-8;break;case"ANIM":(W=F.header).bgcolor=p(A,T),ie=T+4,W.loop_count=(me=A)[(H=ie)+0]<<0|me[H+1]<<8,ie+=2;break;case"ANMF":var ce,W;(W=F.frames[O]={}).offset_x=2*h(A,T),T+=3,W.offset_y=2*h(A,T),T+=3,W.width=1+h(A,T),T+=3,W.height=1+h(A,T),T+=3,W.duration=h(A,T),T+=3,ce=A[T++],W.dispose=1&ce,W.blend=ce>>1&1}le!="ANMF"&&(T+=q)}var me,H;return F}}(S,0);C.response=S,C.rgbaoutput=!0,C.dataurl=!1;var D=C.header?C.header:null,M=C.frames?C.frames:null;if(D){D.loop_counter=D.loop_count,g=[D.canvas_height],m=[D.canvas_width];for(var V=0;V<M.length&&M[V].blend!=0;V++);}var X=M[0],$=b.WebPDecodeRGBA(S,X.src_off,X.src_size,m,g);X.rgba=$,X.imgwidth=m[0],X.imgheight=g[0];for(var N=0;N<m[0]*g[0]*4;N++)x[N]=$[N];return this.width=m,this.height=g,this.data=x,this}(function(n){var e=function(){return typeof Py=="function"},t=function(g,m,x,b){var S=4,C=o;switch(b){case n.image_compression.FAST:S=1,C=a;break;case n.image_compression.MEDIUM:S=6,C=s;break;case n.image_compression.SLOW:S=9,C=u}g=r(g,m,x,C);var D=Py(g,{level:S});return n.__addimage__.arrayBufferToBinaryString(D)},r=function(g,m,x,b){for(var S,C,D,M=g.length/m,V=new Uint8Array(g.length+M),X=h(),$=0;$<M;$+=1){if(D=$*m,S=g.subarray(D,D+m),b)V.set(b(S,x,C),D+$);else{for(var N,A=X.length,T=[];N<A;N+=1)T[N]=X[N](S,x,C);var F=p(T.concat());V.set(T[F],D+$)}C=S}return V},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},a=function(g,m){var x,b=[],S=g.length;b[0]=1;for(var C=0;C<S;C+=1)x=g[C-m]||0,b[C+1]=g[C]-x+256&255;return b},o=function(g,m,x){var b,S=[],C=g.length;S[0]=2;for(var D=0;D<C;D+=1)b=x&&x[D]||0,S[D+1]=g[D]-b+256&255;return S},s=function(g,m,x){var b,S,C=[],D=g.length;C[0]=3;for(var M=0;M<D;M+=1)b=g[M-m]||0,S=x&&x[M]||0,C[M+1]=g[M]+256-(b+S>>>1)&255;return C},u=function(g,m,x){var b,S,C,D,M=[],V=g.length;M[0]=4;for(var X=0;X<V;X+=1)b=g[X-m]||0,S=x&&x[X]||0,C=x&&x[X-m]||0,D=f(b,S,C),M[X+1]=g[X]-D+256&255;return M},f=function(g,m,x){if(g===m&&m===x)return g;var b=Math.abs(m-x),S=Math.abs(g-x),C=Math.abs(g+m-x-x);return b<=S&&b<=C?g:S<=C?m:x},h=function(){return[i,a,o,s,u]},p=function(g){var m=g.map(function(x){return x.reduce(function(b,S){return b+Math.abs(S)},0)});return m.indexOf(Math.min.apply(null,m))};n.processPNG=function(g,m,x,b){var S,C,D,M,V,X,$,N,A,T,F,O,P,j,Y,le=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(D=new cz(g)).imgData,C=D.bits,S=D.colorSpace,V=D.colors,[4,6].indexOf(D.colorType)!==-1){if(D.bits===8){A=(N=D.pixelBitlength==32?new Uint32Array(D.decodePixels().buffer):D.pixelBitlength==16?new Uint16Array(D.decodePixels().buffer):new Uint8Array(D.decodePixels().buffer)).length,F=new Uint8Array(A*D.colors),T=new Uint8Array(A);var q,ie=D.pixelBitlength-D.bits;for(j=0,Y=0;j<A;j++){for(P=N[j],q=0;q<ie;)F[Y++]=P>>>q&255,q+=D.bits;T[j]=P>>>q&255}}if(D.bits===16){A=(N=new Uint32Array(D.decodePixels().buffer)).length,F=new Uint8Array(A*(32/D.pixelBitlength)*D.colors),T=new Uint8Array(A*(32/D.pixelBitlength)),O=D.colors>1,j=0,Y=0;for(var ce=0;j<A;)P=N[j++],F[Y++]=P>>>0&255,O&&(F[Y++]=P>>>16&255,P=N[j++],F[Y++]=P>>>0&255),T[ce++]=P>>>16&255;C=8}b!==n.image_compression.NONE&&e()?(g=t(F,D.width*D.colors,D.colors,b),$=t(T,D.width,1,b)):(g=F,$=T,le=void 0)}if(D.colorType===3&&(S=this.color_spaces.INDEXED,X=D.palette,D.transparency.indexed)){var W=D.transparency.indexed,me=0;for(j=0,A=W.length;j<A;++j)me+=W[j];if((me/=255)===A-1&&W.indexOf(0)!==-1)M=[W.indexOf(0)];else if(me!==A){for(N=D.decodePixels(),T=new Uint8Array(N.length),j=0,A=N.length;j<A;j++)T[j]=W[N[j]];$=t(T,D.width,1)}}var H=function(Q){var ee;switch(Q){case n.image_compression.FAST:ee=11;break;case n.image_compression.MEDIUM:ee=13;break;case n.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(b);return le===this.decode.FLATE_DECODE&&(U="/Predictor "+H+" "),U+="/Colors "+V+" /BitsPerComponent "+C+" /Columns "+D.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:x,data:g,index:m,filter:le,decodeParameters:U,transparency:M,palette:X,sMask:$,predictor:H,width:D.width,height:D.height,bitsPerComponent:C,colorSpace:S}}}})(qt.API),function(n){n.processGIF89A=function(e,t,r,i){var a=new fz(e),o=a.width,s=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:s},h=new Nv(100).encode(f,100);return n.processJPEG.call(this,h,t,r,i)},n.processGIF87A=n.processGIF89A}(qt.API),Qs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qs.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){mr.log("bit decode error:"+t)}},Qs.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var u=this.palette[a>>7-s&1];this.data[o+4*s]=u.blue,this.data[o+4*s+1]=u.green,this.data[o+4*s+2]=u.red,this.data[o+4*s+3]=255}t!==0&&(this.pos+=4-t)}},Qs.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,u=15&a,f=this.palette[s];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Qs.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Qs.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,u=(a>>10&e)/e*255|0,f=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=u,this.data[h+1]=s,this.data[h+2]=o,this.data[h+3]=f}this.pos+=n}},Qs.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,f=(o>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=s,this.data[h+3]=255}this.pos+=n}},Qs.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Qs.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Qs.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var a=new Qs(e,!1),o=a.width,s=a.height,u={data:a.getData(),width:o,height:s},f=new Nv(100).encode(u,100);return n.processJPEG.call(this,f,t,r,i)}}(qt.API),C4.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var a=new C4(e),o=a.width,s=a.height,u={data:a.getData(),width:o,height:s},f=new Nv(100).encode(u,100);return n.processJPEG.call(this,f,t,r,i)}}(qt.API),qt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,u=0,f=0;f<i;f+=4){var h=r[f],p=r[f+1],g=r[f+2],m=r[f+3];a[s++]=h,a[s++]=p,a[s++]=g,o[u++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},qt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wh=qt.API,Bp=Wh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,u=s.fof?s.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,p=e.doKerning!==!1,g=0,m=n.length,x=0,b=s[0]||u,S=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(g=p&&ar(f[r])==="object"&&!isNaN(parseInt(f[r][x],10))?f[r][x]/h:0,S.push((s[r]||b)/u+g)),x=r;return S},b4=Wh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Wh.processArabic&&(n=Wh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Bp.apply(this,arguments).reduce(function(a,o){return a+o},0)},A4=function(n,e,t,r){for(var i=[],a=0,o=n.length,s=0;a!==o&&s+e[a]<t;)s+=e[a],a++;i.push(n.slice(0,a));var u=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(n.slice(u,a)),s=0,u=a),s+=e[a],a++;return u!==a&&i.push(n.slice(u,a)),i},E4=function(n,e,t){t||(t={});var r,i,a,o,s,u,f,h=[],p=[h],g=t.textIndent||0,m=0,x=0,b=n.split(" "),S=Bp.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?b[0].length+2:t.lineIndent||0){var C=Array(u).join(" "),D=[];b.map(function(V){(V=V.split(/\s*\n/)).length>1?D=D.concat(V.map(function(X,$){return($&&X.length?`
`:"")+X})):D.push(V[0])}),b=D,u=b4.apply(this,[C,t])}for(a=0,o=b.length;a<o;a++){var M=0;if(r=b[a],u&&r[0]==`
`&&(r=r.substr(1),M=1),g+m+(x=(i=Bp.apply(this,[r,t])).reduce(function(V,X){return V+X},0))>e||M){if(x>e){for(s=A4.apply(this,[r,i,e-(g+m),e]),h.push(s.shift()),h=[s.pop()];s.length;)p.push([s.shift()]);x=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(V,X){return V+X},0)}else h=[r];p.push(h),g=x+u,m=S}else h.push(r),g+=m+x,m=S}return f=u?function(V,X){return(X?C:"")+V.join(" ")}:function(V){return V.join(" ")},p.map(f)},Wh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var s,u,f=[];for(s=0,u=r.length;s<u;s++)f=f.concat(E4.apply(this,[r[s],o,a]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=n.__fontmetrics__.compress=function(p){var g,m,x,b,S=["{"];for(var C in p){if(g=p[C],isNaN(parseInt(C,10))?m="'"+C+"'":(C=parseInt(C,10),m=(m=a(C).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(x=a(g).slice(3),b="-"):(x=a(g).slice(2),b=""),x=b+x.slice(0,-1)+r[x.slice(-1)];else{if(ar(g)!=="object")throw new Error("Don't know what to do with value type "+ar(g)+".");x=o(g)}S.push(m+x)}return S.push("}"),S.join("")},s=n.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,x,b,S={},C=1,D=S,M=[],V="",X="",$=p.length-1,N=1;N<$;N+=1)(b=p[N])=="'"?g?(x=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(M.push([D,x]),D={},x=void 0):b=="}"?((m=M.pop())[0][m[1]]=D,x=void 0,D=m[0]):b=="-"?C=-1:x===void 0?t.hasOwnProperty(b)?(V+=t[b],x=parseInt(V,16)*C,C=1,V=""):V+=b:t.hasOwnProperty(b)?(X+=t[b],D[x]=parseInt(X,16)*C,C=1,x=void 0,X=""):X+=b;return S},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(p){var g=p.font,m=h.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var x=f.Unicode[g.postScriptName];x&&(g.metadata.Unicode.encoding=x,g.encoding=x.codePages[0])}])}(qt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(q1(s)),o.metadata=n.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(qt),function(n){function e(){return(Gt.canvg?Promise.resolve(Gt.canvg):Iy(()=>import("./index.es-SOag8KUl.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}qt.API.addSvgAsImage=function(t,r,i,a,o,s,u,f){if(isNaN(r)||isNaN(i))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=o;var p=h.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(x){return x.fromString(p,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(g)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),r,i,a,o,u,f)})}}(),qt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},qt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),u=[],f=0,h=0,p=0;function g(x,b){var S,C=!1;for(S=0;S<x.length;S+=1)x[S]===b&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=s.length;for(p=0;p<m;p+=1)t[s[p]].value=t[s[p]].defaultValue,t[s[p]].explicitSet=!1}if(ar(n)==="object"){for(i in n)if(a=n[i],g(s,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&g(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(h=0;h<a[f].length;h+=1)typeof a[f][h]!="number"&&(r=!1);r===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,b=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?b.push("/"+x+" /"+t[x].value):b.push("/"+x+" "+t[x].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+o.length+s.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(qt.API),function(n){var e=n.API,t=e.pdfEscape16=function(a,o){for(var s,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],p=0,g=a.length;p<g;++p){if(s=o.metadata.characterToGlyph(a.charCodeAt(p)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(p),u.indexOf(s)==-1&&(u.push(s),u.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return h.join("");s=s.toString(16),h.push(f[4-s.length],s)}return h.join("")},r=function(a){var o,s,u,f,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,g=(s=Object.keys(a).sort(function(m,x){return m-x})).length;p<g;p++)o=s[p],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(f=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,u=o.out,f=o.newObject,h=o.putStream;if(s.metadata instanceof n.API.TTFFont&&s.encoding==="Identity-H"){for(var p=s.metadata.Unicode.widths,g=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),m="",x=0;x<g.length;x++)m+=String.fromCharCode(g[x]);var b=f();h({data:m,addLength1:!0,objectId:b}),u("endobj");var S=f();h({data:r(s.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var C=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Zh(s.fontName)),u("/FontFile2 "+b+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(s.metadata.bbox)),u("/Flags "+s.metadata.flags),u("/StemV "+s.metadata.stemV),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u(">>"),u("endobj");var D=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Zh(s.fontName)),u("/FontDescriptor "+C+" 0 R"),u("/W "+n.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+s.encoding+")"),u(">>"),u(">>"),u("endobj"),s.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+S+" 0 R"),u("/BaseFont /"+Zh(s.fontName)),u("/Encoding /"+s.encoding),u("/DescendantFonts ["+D+" 0 R]"),u(">>"),u("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,u=o.out,f=o.newObject,h=o.putStream;if(s.metadata instanceof n.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var p=s.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var x=f();h({data:g,addLength1:!0,objectId:x}),u("endobj");var b=f();h({data:r(s.metadata.toUnicode),addLength1:!0,objectId:b}),u("endobj");var S=f();u("<<"),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u("/StemV "+s.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(s.metadata.bbox)),u("/FontName /"+Zh(s.fontName)),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u(">>"),u("endobj"),s.objectNumber=f();for(var C=0;C<s.metadata.hmtx.widths.length;C++)s.metadata.hmtx.widths[C]=parseInt(s.metadata.hmtx.widths[C]*(1e3/s.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Zh(s.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),u("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",u=a.x,f=a.y,h=a.options||{},p=a.mutex||{},g=p.pdfEscape,m=p.activeFontKey,x=p.fonts,b=m,S="",C=0,D="",M=x[b].encoding;if(x[b].encoding!=="Identity-H")return{text:s,x:u,y:f,options:h,mutex:p};for(D=s,b=m,Array.isArray(s)&&(D=s[0]),C=0;C<D.length;C+=1)x[b].metadata.hasOwnProperty("cmap")&&(o=x[b].metadata.cmap.unicode.codeMap[D[C].charCodeAt(0)]),o||D[C].charCodeAt(0)<256&&x[b].metadata.hasOwnProperty("Unicode")?S+=D[C]:S+="";var V="";return parseInt(b.slice(1))<14||M==="WinAnsiEncoding"?V=g(S,b).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(V=t(S,x[b])),p.isHex=!0,{text:V,x:u,y:f,options:h,mutex:p}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],u={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?s.push([i(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):s.push(i(Object.assign({},u,{text:o[f]})).text);a.text=s}else a.text=i(Object.assign({},u,{text:o})).text}])}(qt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(qt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,o,s,u,f,h,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,M=0;this.__bidiEngine__={};var V=function(O){var P=O.charCodeAt(),j=P>>8,Y=b[j];return Y!==void 0?p[256*Y+(255&P)]:j===252||j===253?"AL":C.test(j)?"L":j===8?"R":"N"},X=function(O){for(var P,j=0;j<O.length;j++){if((P=V(O.charAt(j)))==="L")return!1;if(P==="R")return!0}return!1},$=function(O,P,j,Y){var le,U,q,ie,ce=P[Y];switch(ce){case"L":case"R":D=!1;break;case"N":case"AN":break;case"EN":D&&(ce="AN");break;case"AL":D=!0,ce="R";break;case"WS":ce="N";break;case"CS":Y<1||Y+1>=P.length||(le=j[Y-1])!=="EN"&&le!=="AN"||(U=P[Y+1])!=="EN"&&U!=="AN"?ce="N":D&&(U="AN"),ce=U===le?U:"N";break;case"ES":ce=(le=Y>0?j[Y-1]:"B")==="EN"&&Y+1<P.length&&P[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&j[Y-1]==="EN"){ce="EN";break}if(D){ce="N";break}for(q=Y+1,ie=P.length;q<ie&&P[q]==="ET";)q++;ce=q<ie&&P[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(ie=P.length,q=Y+1;q<ie&&P[q]==="NSM";)q++;if(q<ie){var W=O[Y],me=W>=1425&&W<=2303||W===64286;if(le=P[q],me&&(le==="R"||le==="AL")){ce="R";break}}}ce=Y<1||(le=P[Y-1])==="B"?"N":j[Y-1];break;case"B":D=!1,i=!0,ce=M;break;case"S":a=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"BN":ce="N"}return ce},N=function(O,P,j){var Y=O.split("");return j&&A(Y,j,{hiLevel:M}),Y.reverse(),P&&P.reverse(),Y.join("")},A=function(O,P,j){var Y,le,U,q,ie,ce=-1,W=O.length,me=0,H=[],Q=M?m:g,ee=[];for(D=!1,i=!1,a=!1,le=0;le<W;le++)ee[le]=V(O[le]);for(U=0;U<W;U++){if(ie=me,H[U]=$(O,ee,H,U),Y=240&(me=Q[ie][x[H[U]]]),me&=15,P[U]=q=Q[me][5],Y>0)if(Y===16){for(le=ce;le<U;le++)P[le]=1;ce=-1}else ce=-1;if(Q[me][6])ce===-1&&(ce=U);else if(ce>-1){for(le=ce;le<U;le++)P[le]=q;ce=-1}ee[U]==="B"&&(P[U]=0),j.hiLevel|=q}a&&function(ne,de,Ee){for(var be=0;be<Ee;be++)if(ne[be]==="S"){de[be]=M;for(var Te=be-1;Te>=0&&ne[Te]==="WS";Te--)de[Te]=M}}(ee,P,W)},T=function(O,P,j,Y,le){if(!(le.hiLevel<O)){if(O===1&&M===1&&!i)return P.reverse(),void(j&&j.reverse());for(var U,q,ie,ce,W=P.length,me=0;me<W;){if(Y[me]>=O){for(ie=me+1;ie<W&&Y[ie]>=O;)ie++;for(ce=me,q=ie-1;ce<q;ce++,q--)U=P[ce],P[ce]=P[q],P[q]=U,j&&(U=j[ce],j[ce]=j[q],j[q]=U);me=ie}me++}}},F=function(O,P,j){var Y=O.split(""),le={hiLevel:M};return j||(j=[]),A(Y,j,le),function(U,q,ie){if(ie.hiLevel!==0&&h)for(var ce,W=0;W<U.length;W++)q[W]===1&&(ce=S.indexOf(U[W]))>=0&&(U[W]=S[ce+1])}(Y,j,le),T(2,Y,P,j,le),T(1,Y,P,j,le),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(O,P,j){if(function(le,U){if(U)for(var q=0;q<le.length;q++)U[q]=q;s===void 0&&(s=X(le)),f===void 0&&(f=X(le))}(O,P),o||!u||f)if(o&&u&&s^f)M=s?1:0,O=N(O,P,j);else if(!o&&u&&f)M=s?1:0,O=F(O,P,j),O=N(O,P);else if(!o||s||u||f){if(o&&!u&&s^f)O=N(O,P),s?(M=0,O=F(O,P,j)):(M=1,O=F(O,P,j),O=N(O,P));else if(o&&s&&!u&&f)M=1,O=F(O,P,j),O=N(O,P);else if(!o&&!u&&s^f){var Y=h;s?(M=1,O=F(O,P,j),M=0,h=!1,O=F(O,P,j),h=Y):(M=0,O=F(O,P,j),O=N(O,P),M=1,h=!1,O=F(O,P,j),h=Y,O=N(O,P))}}else M=0,O=F(O,P,j);else M=s?1:0,O=F(O,P,j);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,u=O.isOutputVisual,s=O.isInputRtl,f=O.isOutputRtl,h=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([t.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([t.doBidiReorder(i[s])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(qt),qt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new ff(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Cz(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new hz(this.contents),this.head=new pz(this),this.name=new _z(this),this.cmap=new l8(this),this.toUnicode={},this.hhea=new gz(this),this.maxp=new xz(this),this.hmtx=new wz(this),this.post=new vz(this),this.os2=new mz(this),this.loca=new Sz(this),this.glyf=new bz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,u,f;for(f=[],o=0,s=(u=this.bbox).length;o<s;o++)e=u[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var cl,ff=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,a,o,s,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)t=e[r],a.push(this.writeByte(t));return a},n}(),hz=function(){var n;function e(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,a,o,s,u,f,h,p,g,m,x,b;for(b in m=Object.keys(t).length,u=Math.log(2),p=16*Math.floor(Math.log(m)/u),o=Math.floor(p/u),h=16*m-p,(i=new ff).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(o),i.writeShort(h),a=16*m,f=i.pos+a,s=null,x=[],t)for(g=t[b],i.writeString(b),i.writeInt(n(g)),i.writeInt(f),i.writeInt(g.length),x=x.concat(g),b==="head"&&(s=f),f+=g.length;f%4;)x.push(0),f++;return i.write(x),r=2981146554-n(i.data),i.pos=s+8,i.writeUInt32(r),i.data},n=function(t){var r,i,a,o;for(t=u8.call(t);t.length%4;)t.push(0);for(a=new ff(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),dz={}.hasOwnProperty,ou=function(n,e){for(var t in e)dz.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};cl=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var pz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new ff).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),T4=function(){function n(e,t){var r,i,a,o,s,u,f,h,p,g,m,x,b,S,C,D,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,a=function(){var V,X;for(X=[],u=V=0;0<=g?V<g:V>g;u=0<=g?++V:--V)X.push(e.readUInt16());return X}(),e.pos+=2,b=function(){var V,X;for(X=[],u=V=0;0<=g?V<g:V>g;u=0<=g?++V:--V)X.push(e.readUInt16());return X}(),f=function(){var V,X;for(X=[],u=V=0;0<=g?V<g:V>g;u=0<=g?++V:--V)X.push(e.readUInt16());return X}(),h=function(){var V,X;for(X=[],u=V=0;0<=g?V<g:V>g;u=0<=g?++V:--V)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,s=function(){var V,X;for(X=[],u=V=0;0<=i?V<i:V>i;u=0<=i?++V:--V)X.push(e.readUInt16());return X}(),u=C=0,M=a.length;C<M;u=++C)for(S=a[u],r=D=x=b[u];x<=S?D<=S:D>=S;r=x<=S?++D:--D)h[u]===0?o=r+f[u]:(o=s[h[u]/2+(r-x)-(g-u)]||0)!==0&&(o+=f[u]),this.codeMap[r]=65535&o}e.pos=p}return n.encode=function(e,t){var r,i,a,o,s,u,f,h,p,g,m,x,b,S,C,D,M,V,X,$,N,A,T,F,O,P,j,Y,le,U,q,ie,ce,W,me,H,Q,ee,ne,de,Ee,be,Te,Ge,He,rt;switch(Y=new ff,o=Object.keys(e).sort(function(st,wt){return st-wt}),t){case"macroman":for(b=0,S=function(){var st=[];for(x=0;x<256;++x)st.push(0);return st}(),D={0:0},a={},le=0,ce=o.length;le<ce;le++)D[Te=e[i=o[le]]]==null&&(D[Te]=++b),a[i]={old:e[i],new:D[e[i]]},S[i]=D[e[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(S),{charMap:a,subtable:Y.data,maxGlyphID:b+1};case"unicode":for(P=[],p=[],M=0,D={},r={},C=f=null,U=0,W=o.length;U<W;U++)D[X=e[i=o[U]]]==null&&(D[X]=++M),r[i]={old:X,new:D[X]},s=D[X]-i,C!=null&&s===f||(C&&p.push(C),P.push(i),f=s),C=i;for(C&&p.push(C),p.push(65535),P.push(65535),F=2*(T=P.length),A=2*Math.pow(Math.log(T)/Math.LN2,2),g=Math.log(A/2)/Math.LN2,N=2*T-A,u=[],$=[],m=[],x=q=0,me=P.length;q<me;x=++q){if(O=P[x],h=p[x],O===65535){u.push(0),$.push(0);break}if(O-(j=r[O].new)>=32768)for(u.push(0),$.push(2*(m.length+T-x)),i=ie=O;O<=h?ie<=h:ie>=h;i=O<=h?++ie:--ie)m.push(r[i].new);else u.push(j-O),$.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*T+2*m.length),Y.writeUInt16(0),Y.writeUInt16(F),Y.writeUInt16(A),Y.writeUInt16(g),Y.writeUInt16(N),Ee=0,H=p.length;Ee<H;Ee++)i=p[Ee],Y.writeUInt16(i);for(Y.writeUInt16(0),be=0,Q=P.length;be<Q;be++)i=P[be],Y.writeUInt16(i);for(Ge=0,ee=u.length;Ge<ee;Ge++)s=u[Ge],Y.writeUInt16(s);for(He=0,ne=$.length;He<ne;He++)V=$[He],Y.writeUInt16(V);for(rt=0,de=m.length;rt<de;rt++)b=m[rt],Y.writeUInt16(b);return{charMap:r,subtable:Y.data,maxGlyphID:M+1}}},n}(),l8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new T4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=T4.encode(t,r),(a=new ff).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),gz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),mz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),vz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var s,u,f;for(f=[],o=s=0,u=this.file.maxp.numGlyphs;0<=u?s<u:s>u;o=0<=u?++s:--s)f.push(t.readUInt32());return f}).call(this)}},e}(),yz=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_z=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,a,o,s,u,f,h,p,g,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(f={},o=p=0,g=i.length;p<g;o=++p)a=i[o],t.pos=a.offset,h=t.readString(a.length),s=new yz(h,a),f[m=a.nameID]==null&&(f[m]=[]),f[a.nameID].push(s);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),xz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),wz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,a,o,s,u,f;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,p;for(p=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)p.push(t.readInt16());return p}(),this.widths=(function(){var h,p,g,m;for(m=[],h=0,p=(g=this.metrics).length;h<p;h++)o=g[h],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],f=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),u8=[].slice,bz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,a,o,s,u,f,h,p,g;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,s=(u=new ff(r.read(a))).readShort(),h=u.readShort(),g=u.readShort(),f=u.readShort(),p=u.readShort(),this.cache[t]=s===-1?new Ez(u,h,g,f,p):new Az(u,s,h,g,f,p),this.cache[t]))},e.prototype.encode=function(t,r,i){var a,o,s,u,f;for(s=[],o=[],u=0,f=r.length;u<f;u++)a=t[r[u]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),Az=function(){function n(e,t,r,i,a,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Ez=function(){function n(e,t,r,i,a){var o,s;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new ff(u8.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Sz=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,cl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var u=this.offsets[s],f=this.offsets[s+1]-u;f>0&&(a+=f)}for(var h=new Array(4*i.length),p=0;p<i.length;++p)h[4*p+3]=255&i[p],h[4*p+2]=(65280&i[p])>>8,h[4*p+1]=(16711680&i[p])>>16,h[4*p]=(4278190080&i[p])>>24;return h},e}(),Cz=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,a,o,s,u;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in u=this.glyphsFor(t))r=u[a],i[a]=r;return i},n.prototype.encode=function(e,t){var r,i,a,o,s,u,f,h,p,g,m,x,b,S,C;for(i in r=l8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},C=r.charMap)m[(u=C[i]).old]=u.new;for(x in g=r.maxGlyphID,o)x in m||(m[x]=g++);return h=function(D){var M,V;for(M in V={},D)V[D[M]]=M;return V}(m),p=Object.keys(h).sort(function(D,M){return D-M}),b=function(){var D,M,V;for(V=[],D=0,M=p.length;D<M;D++)s=p[D],V.push(h[s]);return V}(),a=this.font.glyf.encode(o,b,m),f=this.font.loca.encode(a.offsets,b),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},n}();qt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,a,o;if(Array.isArray(t))return"["+function(){var s,u,f;for(f=[],s=0,u=t.length;s<u;s++)r=t[s],f.push(e.convert(r));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)o=t[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+t},e}();function c8(n,e,t,r,i){r=r||{};var a=1.15,o=i.internal.scaleFactor,s=i.internal.getFontSize()/o,u=i.getLineHeightFactor?i.getLineHeightFactor():a,f=s*u,h=/\r\n|\r|\n/g,p="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof n=="string"?n.split(h):n,g=p.length||1),t+=s*(2-a),r.valign==="middle"?t-=g/2*f:r.valign==="bottom"&&(t-=g*f),r.halign==="center"||r.halign==="right"){var m=s;if(r.halign==="center"&&(m*=.5),p&&g>=1){for(var x=0;x<p.length;x++)i.text(p[x],e-i.getStringUnitWidth(p[x])*m,t),t+=f;return i}e-=i.getStringUnitWidth(n)*m}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var I4={},hd=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:I4=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,u=o.fontName;if(e.font&&(u=e.font),e.fontStyle){s=e.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),s=f[0])}if(this.jsPDFDocument.setFont(u,s),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var h=n.unifyColor(e.fillColor);h&&(r=this.jsPDFDocument).setFillColor.apply(r,h),h=n.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=n.unifyColor(e.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,a){return this.jsPDFDocument.rect(e,t,r,i,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return I4||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),Uy=function(n,e){return Uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Uy(n,e)};function f8(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Uy(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var h8=function(n){f8(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e}(Array);function Tz(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Iz(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Vg(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(a){return t.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function d8(n,e,t,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:a});var o=p8(i,!1);o&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,o)}function p8(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function P2(n,e){var t,r,i,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function g8(n,e){var t=P2(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function Nz(n,e,t,r,i){var a={},o=1.3333333333333333,s=Rv(e,function(M){return i.getComputedStyle(M).backgroundColor});s!=null&&(a.fillColor=s);var u=Rv(e,function(M){return i.getComputedStyle(M).color});u!=null&&(a.textColor=u);var f=Oz(r,t);f&&(a.cellPadding=f);var h="borderTopColor",p=o*t,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(a.lineWidth=m)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var x=Rv(e,function(M){return i.getComputedStyle(M)[h]});x!=null&&(a.lineColor=x);var b=["left","right","center","justify"];b.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),b=["middle","bottom","top"],b.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var S=parseInt(r.fontSize||"");isNaN(S)||(a.fontSize=S/o);var C=Rz(r);C&&(a.fontStyle=C);var D=(r.fontFamily||"").toLowerCase();return n.indexOf(D)!==-1&&(a.font=D),a}function Rz(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function Rv(n,e){var t=m8(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function m8(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:m8(n.parentElement,e):t}function Oz(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=t.map(function(s){return parseInt(s||"0")/r}),o=P2(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function v8(n,e,t,r,i){var a,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var s;typeof e=="string"?s=t.document.querySelector(e):s=e;var u=Object.keys(n.getFontList()),f=n.scaleFactor(),h=[],p=[],g=[];if(!s)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:g};for(var m=0;m<s.rows.length;m++){var x=s.rows[m],b=(o=(a=x==null?void 0:x.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),S=Dz(u,f,t,x,r,i);S&&(b==="thead"?h.push(S):b==="tfoot"?g.push(S):p.push(S))}return{head:h,body:p,foot:g}}function Dz(n,e,t,r,i,a){for(var o=new h8(r),s=0;s<r.cells.length;s++){var u=r.cells[s],f=t.getComputedStyle(u);if(i||f.display!=="none"){var h=void 0;a&&(h=Nz(n,u,e,f,t)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:Pz(u)})}}var p=t.getComputedStyle(r);if(o.length>0&&(i||p.display!=="none"))return o}function Pz(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Lz(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Vu(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])}return a}function y8(n,e){var t=new hd(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();Lz(i,r,e);var a=Vu({},i,r,e),o;typeof window<"u"&&(o=window);var s=kz(i,r,e),u=Mz(i,r,e),f=Bz(t,a),h=jz(t,a,o);return{id:e.tableId,content:h,hooks:u,styles:s,settings:f}}function kz(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var f=n[u],h=e[u],p=t[u];r.columnStyles=Vu({},f,h,p)}else{var g=[n,e,t],m=g.map(function(x){return x[u]||{}});r[u]=Vu({},m[0],m[1],m[2])}},a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];i(s)}return r}function Mz(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var s=o[a];s.didParseCell&&i.didParseCell.push(s.didParseCell),s.willDrawCell&&i.willDrawCell.push(s.willDrawCell),s.didDrawCell&&i.didDrawCell.push(s.didDrawCell),s.willDrawPage&&i.willDrawPage.push(s.willDrawPage),s.didDrawPage&&i.didDrawPage.push(s.didDrawPage)}return i}function Bz(n,e){var t,r,i,a,o,s,u,f,h,p,g,m,x=P2(e.margin,40/n.scaleFactor()),b=(t=Fz(n,e.startY))!==null&&t!==void 0?t:x.top,S;e.showFoot===!0?S="everyPage":e.showFoot===!1?S="never":S=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var C;e.showHead===!0?C="everyPage":e.showHead===!1?C="never":C=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var D=(a=e.useCss)!==null&&a!==void 0?a:!1,M=e.theme||(D?"plain":"striped"),V=!!e.horizontalPageBreak,X=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=e.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:D,theme:M,startY:b,margin:x,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:C,showFoot:S,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:V,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function Fz(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),a=!1;if(t&&t.startPageNumber){var o=t.startPageNumber+t.pageNumber-1;a=o===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function jz(n,e,t){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(t){var s=v8(n,e.html,t,o,e.useCss)||{};r=s.head||r,i=s.body||r,a=s.foot||r}else console.error("Cannot parse html in non browser environment")}var u=e.columns||Uz(r,i,a);return{columns:u,head:r,body:i,foot:a}}function Uz(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,s;Array.isArray(r)?s=r[parseInt(a)]:s=r[a],typeof s=="object"&&!Array.isArray(s)&&(o=(s==null?void 0:s.colSpan)||1);for(var u=0;u<o;u++){var f=void 0;Array.isArray(r)?f=i.length:f=a+(u>0?"_".concat(u):"");var h={dataKey:f};i.push(h)}}),i}var Vy=function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n}(),Vz=function(n){f8(e,n);function e(t,r,i,a,o,s){var u=n.call(this,t,r,s)||this;return u.cell=i,u.row=a,u.column=o,u.section=a.section,u}return e}(Vy),zz=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,a,o){for(var s=0,u=t;s<u.length;s++){var f=u[s],h=new Vz(e,this,r,i,a,o),p=f(h)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Vy(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Vy(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n}(),_8=function(){function n(e,t,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof h8&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=t.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,a){var o=r.cells[a.index];if(!o)return 0;var s=t.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),f=u+s;return f>i?f:i},0)},n}(),x8=function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=P2(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),qz=function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(t=Math.max(t,o.styles.cellWidth))}return t},n}();function Hz(n,e){Gz(n,e);var t=[],r=0;e.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(e);o?a.width=o:(a.width=a.wrappedWidth,t.push(a)),r+=a.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=zy(t,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=zy(t,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),$z(e),Xz(e,n),Wz(e)}function Gz(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=g8(n,e);e.allRows().forEach(function(a){for(var o=0,s=e.columns;o<s.length;o++){var u=s[o],f=a.cells[u.index];if(f){var h=e.hooks.didParseCell;e.callCellHooks(n,h,f,a,u,null);var p=f.padding("horizontal");f.contentWidth=Vg(f.text,f.styles,n)+p;var g=Vg(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=g+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var m=10/t;f.minWidth=f.styles.minCellWidth||m,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(a){for(var o=0,s=e.columns;o<s.length;o++){var u=s[o],f=a.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(u.minWidth=p,u.wrappedWidth=p)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function zy(n,e,t){for(var r=e,i=n.reduce(function(m,x){return m+x.wrappedWidth},0),a=0;a<n.length;a++){var o=n[a],s=o.wrappedWidth/i,u=r*s,f=o.width+u,h=t(o),p=f<h?h:f;e-=p-o.width,o.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=n.filter(function(m){return e<0?m.width>t(m):!0});g.length&&(e=zy(g,e,t))}return e}function Wz(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var a=r[i],o=0,s=n.columns;o<s.length;o++){var u=s[o],f=e[u.index];if(t>1)t--,delete a.cells[u.index];else if(f)f.cell.height+=a.height,t=f.cell.colSpan,delete a.cells[u.index],f.left--,f.left<=1&&delete e[u.index];else{var h=a.cells[u.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var p=r.length-i,g=h.rowSpan>p?p:h.rowSpan;e[u.index]={cell:h,left:g,row:a}}}}}function $z(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,a=0,o=0,s=0;s<n.columns.length;s++){var u=n.columns[s];if(o-=1,o>1&&n.columns[s+1])a+=u.width,delete r.cells[u.index];else if(i){var f=i;delete r.cells[u.index],i=null,f.width=u.width+a}else{var f=r.cells[u.index];if(!f)continue;if(o=f.colSpan,a=0,f.colSpan>1){i=f,a+=u.width;continue}f.width=u.width+a}}}function Xz(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var a=i[r],o=0,s=n.columns;o<s.length;o++){var u=s[o],f=a.cells[u.index];if(f){e.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,h+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=N4(f.text,h,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=N4(f.text,h,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var p=f.styles.overflow(f.text,h);typeof p=="string"?f.text=[p]:f.text=p}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<g*f.rowSpan?t={height:g,count:f.rowSpan}:t&&t.count>0&&t.height>g&&(g=t.height),g>a.height&&(a.height=g)}}t.count--}}function N4(n,e,t,r,i){return n.map(function(a){return Yz(a,e,t,r,i)})}function Yz(n,e,t,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Vg(n,t,r))return n;for(;e<Vg(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function w8(n,e){var t=new hd(n),r=Kz(e,t.scaleFactor()),i=new zz(e,r);return Hz(t,i),t.applyStyles(t.userStyles),i}function Kz(n,e){var t=n.content,r=Zz(t.columns);if(t.head.length===0){var i=R4(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=R4(r,"foot");i&&t.foot.push(i)}var a=n.settings.theme,o=n.styles;return{columns:r,head:Ov("head",t.head,r,o,a,e),body:Ov("body",t.body,r,o,a,e),foot:Ov("foot",t.foot,r,o,a,e)}}function Ov(n,e,t,r,i,a){var o={},s=e.map(function(u,f){for(var h=0,p={},g=0,m=0,x=0,b=t;x<b.length;x++){var S=b[x];if(o[S.index]==null||o[S.index].left===0)if(m===0){var C=void 0;Array.isArray(u)?C=u[S.index-g-h]:C=u[S.dataKey];var D={};typeof C=="object"&&!Array.isArray(C)&&(D=(C==null?void 0:C.styles)||{});var M=Jz(n,S,f,i,r,a,D),V=new x8(C,M,n);p[S.dataKey]=V,p[S.index]=V,m=V.colSpan-1,o[S.index]={left:V.rowSpan-1,times:m}}else m--,g++;else o[S.index].left--,m=o[S.index].times,h++}return new _8(u,f,n,p)});return s}function R4(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=Qz(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function Qz(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function Zz(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new qz(i,e,t)})}function Jz(n,e,t,r,i,a,o){var s=Iz(r),u;n==="head"?u=i.headStyles:n==="body"?u=i.bodyStyles:n==="foot"&&(u=i.footStyles);var f=Vu({},s.table,s[n],i.styles,u),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=n==="body"?h:{},g=n==="body"&&t%2===0?Vu({},s.alternateRow,i.alternateRowStyles):{},m=Tz(a),x=Vu({},m,f,g,p);return Vu(x,o)}function eq(n,e,t){var r;t===void 0&&(t={});var i=g8(n,e),a=new Map,o=[],s=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var m=e.columns.find(function(x){return x.dataKey===g||x.index===g});m&&!a.has(m.index)&&(a.set(m.index,!0),o.push(m.index),s.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var f=!0,h=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;h<e.columns.length;){if(a.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(f||i>=p)f=!1,o.push(h),s.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:o,columns:s,lastIndex:h-1}}function tq(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=eq(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function b8(n,e){var t=e.settings,r=t.startY,i=t.margin,a={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),s=r+i.bottom+o;if(t.pageBreak==="avoid"){var u=e.body,f=u.reduce(function(g,m){return g+m.height},0);s+=f}var h=new hd(n);(t.pageBreak==="always"||t.startY!=null&&s>h.pageSize().height)&&(E8(h),a.y=i.top),e.callWillDrawPageHooks(h,a);var p=Vu({},a);e.startPageNumber=h.pageNumber(),t.horizontalPageBreak?nq(h,e,p,a):(h.applyStyles(h.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(g){return Zu(h,e,g,a,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(g,m){var x=m===e.body.length-1;zg(h,e,g,x,p,a,e.columns)}),h.applyStyles(h.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(g){return Zu(h,e,g,a,e.columns)})),d8(h,e,p,a),e.callEndPageHooks(h,a),e.finalY=a.y,n.lastAutoTable=e,h.applyStyles(h.userStyles)}function nq(n,e,t,r){var i=tq(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,h){n.applyStyles(n.userStyles),h>0?H1(n,e,t,r,f.columns,!0):O4(n,e,r,f.columns),rq(n,e,t,r,f.columns),Dv(n,e,r,f.columns)});else for(var o=-1,s=i[0],u=function(){var f=o;if(s){n.applyStyles(n.userStyles);var h=s.columns;o>=0?H1(n,e,t,r,h,!0):O4(n,e,r,h),f=D4(n,e,o+1,r,h),Dv(n,e,r,h)}var p=f-o;i.slice(1).forEach(function(g){n.applyStyles(n.userStyles),H1(n,e,t,r,g.columns,!0),D4(n,e,o+1,r,g.columns,p),Dv(n,e,r,g.columns)}),o=f};o<e.body.length-1;)u()}function O4(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Zu(n,e,a,t,r)})}function rq(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(a,o){var s=o===e.body.length-1;zg(n,e,a,s,t,r,i)})}function D4(n,e,t,r,i,a){n.applyStyles(n.userStyles),a=a??e.body.length;var o=Math.min(t+a,e.body.length),s=-1;return e.body.slice(t,o).forEach(function(u,f){var h=t+f===e.body.length-1,p=A8(n,e,h,r);u.canEntireRowFit(p,i)&&(Zu(n,e,u,r,i),s=t+f)}),s}function Dv(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Zu(n,e,a,t,r)})}function iq(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function aq(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var a=0,o=0,s=t.columns;o<s.length;o++){var u=s[o],f=n.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new x8(f.raw,f.styles,f.section);h=Vu(h,f),h.text=[];var p=iq(f,e,r);f.text.length>p&&(h.text=f.text.splice(p,f.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(g,m),f.contentHeight>=e&&(f.contentHeight=e,h.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),h.contentHeight=h.getContentHeight(g,m),h.contentHeight>a&&(a=h.contentHeight),i[u.index]=h}}var x=new _8(n.raw,-1,n.section,i,!0);x.height=a;for(var b=0,S=t.columns;b<S.length;b++){var u=S[b],h=x.cells[u.index];h&&(h.height=x.height);var f=n.cells[u.index];f&&(f.height=n.height)}return x}function oq(n,e,t,r){var i=n.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,s=i-o;e.section==="body"&&(s-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=e.getMinimumRowHeight(r.columns,n),f=u<t;if(u>s)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=e.hasRowSpan(r.columns),p=e.getMaxCellHeight(r.columns)>s;return p?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||r.settings.rowPageBreak==="avoid")}function zg(n,e,t,r,i,a,o){var s=A8(n,e,r,a);if(t.canEntireRowFit(s,o))Zu(n,e,t,a,o);else if(oq(n,t,s,e)){var u=aq(t,s,e,n);Zu(n,e,t,a,o),H1(n,e,i,a,o),zg(n,e,u,r,i,a,o)}else H1(n,e,i,a,o),zg(n,e,t,r,i,a,o)}function Zu(n,e,t,r,i){r.x=e.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var s=o[a],u=t.cells[s.index];if(!u){r.x+=s.width;continue}n.applyStyles(u.styles),u.x=r.x,u.y=r.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,u,t,s,r);if(f===!1){r.x+=s.width;continue}sq(n,u,r);var h=u.getTextPos();c8(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,u,t,s,r),r.x+=s.width}r.y+=t.height}function sq(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=p8(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),lq(n,e,t,r.lineWidth))}function lq(n,e,t,r){var i,a,o,s;r.top&&(i=t.x,a=t.y,o=t.x+e.width,s=t.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),u(r.top,i,a,o,s)),r.bottom&&(i=t.x,a=t.y+e.height,o=t.x+e.width,s=t.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),u(r.bottom,i,a,o,s)),r.left&&(i=t.x,a=t.y,o=t.x,s=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),u(r.left,i,a,o,s)),r.right&&(i=t.x+e.width,a=t.y,o=t.x+e.width,s=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),u(r.right,i,a,o,s));function u(f,h,p,g,m){n.getDocument().setLineWidth(f),n.getDocument().line(h,p,g,m,"S")}}function A8(n,e,t,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function H1(n,e,t,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(s){return Zu(n,e,s,r,i)}),e.callEndPageHooks(n,r);var o=e.settings.margin;d8(n,e,t,r),E8(n),e.pageNumber++,r.x=o.left,r.y=o.top,t.y=o.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(s){return Zu(n,e,s,r,i)}),n.applyStyles(n.userStyles))}function E8(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function uq(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=y8(this,r),a=w8(this,i);return b8(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){c8(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return hd.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){hd.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new hd(this),a=v8(i,e,window,t,!1),o=a.head,s=a.body,u=((r=o[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:u,rows:s,data:s}}}var Pv;function cq(n,e){var t=y8(n,e),r=w8(n,t);b8(n,r)}try{if(typeof window<"u"&&window){var P4=window,L4=P4.jsPDF||((Pv=P4.jspdf)===null||Pv===void 0?void 0:Pv.jsPDF);L4&&uq(L4)}}catch(n){console.error("Could not apply autoTable plugin",n)}const fq=()=>{var X,$;const[n,e]=ve.useState([]),[t,r]=ve.useState([]),[i,a]=ve.useState(null),[o,s]=ve.useState(""),[u,f]=ve.useState(""),[h,p]=ve.useState(""),[g,m]=ve.useState(!0);ve.useEffect(()=>{(async()=>{try{m(!0),console.log("🔍 מחפש את כל ההזמנות...");const A=Jc(Dr(sn,"orders")),F=(await Pi(A)).docs.map(q=>({id:q.id,...q.data()}));console.log("📋 כל ההזמנות:",F),console.log("📊 סטטוסים:",F.map(q=>({id:q.id,client:q.clientName,status:q.status}))),console.log("🔍 מחפש הזמנות סגורות...");const O=Jc(Dr(sn,"orders"),nh("status","==","closed")),j=(await Pi(O)).docs.map(q=>({id:q.id,...q.data()}));console.log("✅ הזמנות סגורות:",j),e(j),console.log("🔍 מחפש הזמנות שהוחזרו...");const Y=Jc(Dr(sn,"orders"),nh("status","==","returned")),U=(await Pi(Y)).docs.map(q=>({id:q.id,...q.data()}));console.log("🔄 הזמנות שהוחזרו:",U)}catch(A){console.error("❌ שגיאה בטעינת ההזמנות:",A)}finally{m(!1)}})()},[]);const x=N=>N?(N.seconds?new Date(N.seconds*1e3):new Date(N)).toLocaleDateString("he-IL",{year:"numeric",month:"2-digit",day:"2-digit"}):"",b=N=>N?(N.seconds?new Date(N.seconds*1e3):new Date(N)).toLocaleString("he-IL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",S=N=>{var Y;if(!((Y=N.returnInspection)!=null&&Y.itemInspections))return{totalItemsExpected:0,totalItemsReturned:0,totalItemsNotReturned:0,totalDamagedItems:0,totalLostItems:0};const A=N.returnInspection.itemInspections,T=A.reduce((le,U)=>le+(U.quantityExpected||0),0),F=A.reduce((le,U)=>le+(U.quantityReturned||0),0),O=A.reduce((le,U)=>le+Math.max(0,(U.quantityExpected||0)-(U.quantityReturned||0)),0),P=A.filter(le=>le.condition==="damaged").reduce((le,U)=>le+(U.quantityReturned||0),0),j=A.filter(le=>le.condition==="lost").reduce((le,U)=>le+Math.max(0,(U.quantityExpected||0)-(U.quantityReturned||0)),0);return{totalItemsExpected:T,totalItemsReturned:F,totalItemsNotReturned:O,totalDamagedItems:P,totalLostItems:j}};ve.useEffect(()=>{const N=u?new Date(u):null,A=h?new Date(h):null,T=n.filter(F=>{var U,q,ie;const O=((U=F.clientName)==null?void 0:U.toLowerCase().includes(o.toLowerCase()))||"",P=((q=F.phone)==null?void 0:q.includes(o))||"",j=O||P,Y=(ie=F.pickupDate)!=null&&ie.seconds?new Date(F.pickupDate.seconds*1e3):new Date(F.pickupDate),le=(!N||Y>=N)&&(!A||Y<=A);return j&&le});r(T)},[o,u,h,n]);const C=N=>{switch(N){case"good":return k.jsx(Ty,{size:16,style:{color:"#10b981"}});case"damaged":return k.jsx(uV,{size:16,style:{color:"#f59e0b"}});case"lost":return k.jsx(UU,{size:16,style:{color:"#ef4444"}});default:return k.jsx(Xf,{size:16,style:{color:"#6b7280"}})}},D=N=>{switch(N){case"good":return"תקין";case"damaged":return"פגום";case"lost":return"אבד/לא הוחזר";default:return"לא נבדק"}},M=N=>{switch(N){case"good":return"#10b981";case"damaged":return"#f59e0b";case"lost":return"#ef4444";default:return"#6b7280"}},V=N=>{var O,P,j;const A=new qt,T=S(N);A.setFont("helvetica"),A.setFontSize(16),A.text(`דוח השאלה - ${N.clientName}`,20,20),A.setFontSize(12),A.text(`מתנדבת: ${N.volunteerName}`,20,35),A.text(`טלפון: ${N.phone}`,20,45),A.text(`כתובת: ${N.address}`,20,55),A.text(`תאריך איסוף: ${x(N.pickupDate)}`,20,65),A.text(`תאריך החזרה: ${x(N.returnDate)}`,20,75),A.text(`סוג אירוע: ${N.eventType}`,20,85);const F=((O=N.items)==null?void 0:O.map((Y,le)=>{var U,q,ie,ce,W,me;return[le+1,Y.name,Y.quantity,((ie=(q=(U=N.returnInspection)==null?void 0:U.itemInspections)==null?void 0:q.find(H=>H.itemId===Y.id))==null?void 0:ie.quantityReturned)||"לא נבדק",((me=(W=(ce=N.returnInspection)==null?void 0:ce.itemInspections)==null?void 0:W.find(H=>H.itemId===Y.id))==null?void 0:me.condition)||"לא נבדק"]}))||[];if(cq(A,{head:[["#","פריט","הושאל","הוחזר","מצב"]],body:F,startY:95,styles:{fontSize:10}}),N.returnInspection){const Y=A.lastAutoTable.finalY+15;A.setFontSize(14),A.text("סיכום בדיקת החזרה:",20,Y),A.setFontSize(11),A.text(`סה"כ פריטים שהושאלו: ${T.totalItemsExpected}`,20,Y+15),A.text(`סה"כ פריטים שהוחזרו: ${T.totalItemsReturned}`,20,Y+25),A.text(`פריטים שלא הוחזרו: ${T.totalItemsNotReturned}`,20,Y+35),A.text(`פריטים פגומים: ${T.totalDamagedItems}`,20,Y+45),A.text(`פריטים אבודים: ${T.totalLostItems}`,20,Y+55),A.text(`עלות נזקים: ₪${((P=N.returnInspection.summary)==null?void 0:P.totalRepairCost)||0}`,20,Y+65),(j=N.returnInspection.summary)!=null&&j.managerNotes&&A.text(`הערות: ${N.returnInspection.summary.managerNotes}`,20,Y+75),A.text(`תאריך בדיקה: ${b(N.returnInspection.completedAt)}`,20,Y+85)}A.save(`השאלה_${N.clientName}_${x(N.pickupDate)}.pdf`)};return g?k.jsx("div",{className:"flex items-center justify-center min-h-screen",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),k.jsx("p",{className:"text-gray-600",children:"טוען היסטוריית השאלות..."})]})}):k.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto",fontFamily:"Arial, sans-serif"},dir:"rtl",children:[k.jsxs("div",{style:{background:"linear-gradient(to right, #3b82f6, #1e40af)",color:"white",padding:"2rem",borderRadius:"12px",marginBottom:"2rem",textAlign:"center"},children:[k.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",margin:0,marginBottom:"0.5rem"},children:"📚 היסטוריית השאלות"}),k.jsx("p",{style:{fontSize:"1rem",opacity:.9,margin:0},children:"כל ההזמנות שהושלמו עם פרטי בדיקת החזרה"})]}),!i&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[k.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",alignItems:"end"},children:[k.jsxs("div",{children:[k.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[k.jsx(US,{size:16,style:{display:"inline",marginLeft:"0.25rem"}}),"חיפוש לפי שם לקוח או טלפון"]}),k.jsx("input",{type:"text",value:o,onChange:N=>s(N.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"1rem"},placeholder:"הקלד שם או טלפון..."})]}),k.jsxs("div",{children:[k.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[k.jsx(i0,{size:16,style:{display:"inline",marginLeft:"0.25rem"}}),"מתאריך"]}),k.jsx("input",{type:"date",value:u,onChange:N=>f(N.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"1rem"}})]}),k.jsxs("div",{children:[k.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[k.jsx(i0,{size:16,style:{display:"inline",marginLeft:"0.25rem"}}),"עד תאריך"]}),k.jsx("input",{type:"date",value:h,onChange:N=>p(N.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"1rem"}})]})]}),k.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#f3f4f6",borderRadius:"8px",fontSize:"0.875rem",color:"#374151"},children:["נמצאו ",t.length," השאלות מתוך ",n.length,' סה"כ']})]}),k.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:t.length===0?k.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",background:"white",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[k.jsx(Xf,{size:48,style:{color:"#9ca3af",marginBottom:"1rem"}}),k.jsx("h3",{style:{fontSize:"1.25rem",color:"#6b7280",margin:0},children:"לא נמצאו השאלות"}),k.jsx("p",{style:{color:"#9ca3af",margin:"0.5rem 0 0 0"},children:"נסה לשנות את פרמטרי החיפוש"})]}):t.map(N=>{var A;return k.jsxs("div",{onClick:()=>a(N),style:{background:"white",padding:"1.5rem",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",":hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-2px)"}},onMouseEnter:T=>{T.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)",T.target.style.transform="translateY(-2px)"},onMouseLeave:T=>{T.target.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)",T.target.style.transform="translateY(0)"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[k.jsxs("div",{children:[k.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0,color:"#1f2937"},children:N.clientName}),k.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0.25rem 0 0 0"},children:[k.jsx(fV,{size:14,style:{display:"inline",marginLeft:"0.25rem"}}),N.volunteerName]})]}),k.jsx("div",{style:{background:"#10b981",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"bold"},children:"הושלם"})]}),k.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0.5rem",marginBottom:"1rem",fontSize:"0.875rem",color:"#6b7280"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx(Fg,{size:14,style:{marginLeft:"0.5rem"}}),N.phone]}),k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx(HU,{size:14,style:{marginLeft:"0.5rem"}}),x(N.pickupDate)," → ",x(N.returnDate)]}),k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx(Xf,{size:14,style:{marginLeft:"0.5rem"}}),(A=N.items)==null?void 0:A.reduce((T,F)=>T+F.quantity,0)," פריטים"]})]})]},N.id)})})]}),i&&k.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"2px solid #e5e7eb"},children:[k.jsxs("div",{children:[k.jsxs("h2",{style:{fontSize:"2rem",fontWeight:"bold",margin:0,color:"#1f2937"},children:["השאלה - ",i.clientName]}),k.jsxs("p",{style:{fontSize:"1rem",color:"#6b7280",margin:"0.5rem 0 0 0"},children:["הושלמה ב-",b((X=i.returnInspection)==null?void 0:X.completedAt)]})]}),k.jsxs("button",{onClick:()=>a(null),style:{background:"#6b7280",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.jsx(DU,{size:16}),"חזרה לרשימה"]})]}),k.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem",padding:"1.5rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[k.jsxs("div",{children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"לקוח"}),k.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.clientName})]}),k.jsxs("div",{children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"מתנדבת"}),k.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.volunteerName})]}),k.jsxs("div",{children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"טלפון"}),k.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.phone})]}),k.jsxs("div",{children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"כתובת"}),k.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.address})]}),k.jsxs("div",{children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"תאריכים"}),k.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:[x(i.pickupDate)," → ",x(i.returnDate)]})]}),k.jsxs("div",{children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block"},children:"סוג אירוע"}),k.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:i.eventType})]})]}),k.jsxs("div",{style:{marginBottom:"2rem"},children:[k.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:"0 0 1rem 0",color:"#1f2937"},children:"📦 פריטים וסטטוס החזרה"}),k.jsx("div",{style:{display:"grid",gap:"1rem"},children:($=i.items)==null?void 0:$.map((N,A)=>{var F,O;const T=(O=(F=i.returnInspection)==null?void 0:F.itemInspections)==null?void 0:O.find(P=>P.itemId===N.id||P.name===N.name);return k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[k.jsx(Xf,{size:20,style:{color:"#6b7280"}}),k.jsxs("div",{children:[k.jsx("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",margin:0,color:"#1f2937"},children:N.name}),k.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0.25rem 0 0 0"},children:["הושאל: ",N.quantity," | הוחזר: ",(T==null?void 0:T.quantityReturned)||0]})]})]}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[C(T==null?void 0:T.condition),k.jsx("span",{style:{color:M(T==null?void 0:T.condition),fontWeight:"bold",fontSize:"0.875rem"},children:D(T==null?void 0:T.condition)})]})]},A)})})]}),i.returnInspection&&(()=>{var A;const N=S(i);return k.jsxs("div",{style:{background:"#f0fdf4",border:"1px solid #10b981",borderRadius:"8px",padding:"1.5rem",marginBottom:"2rem"},children:[k.jsxs("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:"0 0 1rem 0",color:"#059669",display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.jsx(Ty,{size:24}),"סיכום בדיקת החזרה"]}),k.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginBottom:"1rem"},children:[k.jsxs("div",{style:{textAlign:"center"},children:[k.jsx("span",{style:{fontSize:"1rem",color:"#059669",display:"block",marginBottom:"0.5rem"},children:"✅ פריטים שהוחזרו"}),k.jsx("span",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#10b981"},children:N.totalItemsReturned}),k.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block",marginTop:"0.25rem"},children:["מתוך ",N.totalItemsExpected]})]}),k.jsxs("div",{style:{textAlign:"center"},children:[k.jsx("span",{style:{fontSize:"1rem",color:"#059669",display:"block",marginBottom:"0.5rem"},children:"❌ פריטים שלא הוחזרו/פגומים"}),k.jsx("span",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#ef4444"},children:N.totalItemsNotReturned}),k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",display:"block",marginTop:"0.25rem"},children:"אבודים/פגומים/לא הוחזרו"})]})]}),((A=i.returnInspection.summary)==null?void 0:A.managerNotes)&&k.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",marginTop:"1rem"},children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#059669",display:"block",marginBottom:"0.5rem"},children:"הערות מנהל"}),k.jsx("p",{style:{fontSize:"1rem",color:"#1f2937",margin:0},children:i.returnInspection.summary.managerNotes})]})]})})(),k.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"1rem"},children:k.jsxs("button",{onClick:()=>V(i),style:{background:"linear-gradient(to right, #10b981, #059669)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"1rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 2px 4px rgba(16, 185, 129, 0.2)"},children:[k.jsx(WU,{size:16}),"ייצא כ-PDF"]})})]})]})};function hq(){return k.jsxs(k.Fragment,{children:[k.jsx(mk,{}),k.jsxs(IT,{children:[k.jsx(Zs,{path:"/",element:k.jsx(vk,{})}),k.jsx(Zs,{path:"/login",element:k.jsx(yk,{})}),k.jsx(Zs,{path:"/register",element:k.jsx(_k,{})}),k.jsx(Zs,{path:"/manage-users",element:k.jsx(xk,{})}),k.jsx(Zs,{path:"/new-loan",element:k.jsx(dj,{})}),k.jsx(Zs,{path:"/manage-product",element:k.jsx(AU,{})}),k.jsx(Zs,{path:"/catalog",element:k.jsx(EU,{})}),k.jsx(Zs,{path:"/catalog/:id",element:k.jsx(SU,{})}),k.jsx(Zs,{path:"/calendar",element:k.jsx(CV,{})}),k.jsx(Zs,{path:"/history",element:k.jsx(fq,{})})]}),k.jsx(TV,{})]})}MC.createRoot(document.getElementById("root")).render(k.jsx(Ln.StrictMode,{children:k.jsx(gk,{children:k.jsx(ZT,{children:k.jsx(hq,{})})})}));export{ar as _,dq as c,k4 as g};
